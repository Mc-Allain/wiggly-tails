(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{41:function(e,t,a){},42:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a(2),n=a.n(r),c=a(32),l=a.n(c),o=(a(41),a(33)),i=a(9),d=(a(42),a(3)),m=a(4),h=a(6),b=a(5),j=a(7),u=a.n(j),p=a.p+"static/media/wiggly-tails-icon.1d629afe.png",g=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={navs:[{id:1,text:"Login",link:null,items:[{id:2,text:"Customer",link:null},{id:3,text:"Employee",link:null}]},{id:10,text:"Register",link:null,items:[]}]},e.linkItemClasses=function(t){var a=e.props,s=a.activeId,r=a.sourceId,n="nav-link ";return n+=t===s||t===r?"active":10===t?"text-warning":"inactive"},e.dropdownItemClasses=function(t){var a="dropdown-item text-dark ";return a+=t===e.props.activeId?"active-dropdown":"inactive-dropdown"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.switchActiveId;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark fixed-top",children:[Object(s.jsxs)("a",{href:"/wiggly-tails",className:"navbar-brand py-0",children:[Object(s.jsx)("img",{src:p,alt:"",className:"mr-2"}),"Veterinary Clinic"]}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#main-navbar","aria-controls":"main-navbar","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"main-navbar",children:Object(s.jsx)("ul",{className:"navbar-nav ml-auto",children:this.state.navs.map((function(a){return a.items.length>0?Object(s.jsxs)("li",{className:"nav-item dropdown mr-1",children:[Object(s.jsx)("a",{className:"dropdown-toggle "+e.linkItemClasses(a.id),id:"dropdown"+a.id,href:"/","data-toggle":"dropdown",children:a.text}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdown"+a.id,children:a.items.map((function(a){return Object(s.jsx)("a",{className:e.dropdownItemClasses(a.id),href:a.link,onClick:function(){return t(a.id)},children:a.text},a.id)}))})]},a.id):Object(s.jsx)("li",{className:"nav-item mr-1",children:10===a.id?Object(s.jsx)("a",{className:e.linkItemClasses(a.id),"data-toggle":"modal","data-target":"#registerModal",children:a.text}):Object(s.jsx)("a",{href:a.link,className:e.linkItemClasses(a.id),children:a.text})},a.id)}))})})]})})}}]),a}(r.Component),x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA7MAAAIVCAMAAAFD9WiMAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA2UExURefm5gAAALGwsC8vL0BAQHx8fKSjo9bV1V9fXyAgILy8vIqJiQ8PD09OTm9ubpeXl8jHxwAAAHL8gLgAAAASdFJOU///////////////////////AOK/vxIAAAAJcEhZcwAAFxEAABcRAcom8z8AABv0SURBVHhe7d2JlqI4GEBhURz31vd/2vm3bBDUquq2tvudKQkhhKyAaDsrAAAAAAA+0TAMEXq/bSzfQo5qBz54OP/J69EWq9VZ/m6jvBw3EtA1ddnLi+5lx5WVtOf+pC9r3XCHpNzZf76bvt4inCsyrK6xTSMrnl6SSeBo4UglL7LLPd7M0tqS2P5Wozf9RV70uLJYR2aWQIpohkG3Wsn0uBqzOmuCnPQu3xyJdJGbV9a0TSXuoC+WYyEr8+NaxWdJuyKFVcX+PKyvG1uTF+krixuG0aI0dtOrb6SyF435oMj1aX/jmFH058vvrQUAAAAAAAAAAADgE6z187o3fmI3Tf6OD/z0I1TdT3e9bFer00aW9gnvLeVmH5zbir4M/ml3xNjn6Ba9Ol1lb/20PSe9Iw6bUsXnyDdfk1CUKV42GrA/W1hsFYiwlNo+AL9jPVws7TDs5MU/LvfPSb1akaWXTuI3tqqbvXM0nAMWqbYpsMS+U2D76Z+seYWchCJLaYUh2sATp4CGq4AtnhCH3UjpzsPBBpiU2SItZJsk33iRv71t8RXdVf8isPMU0sga+DDL4sFXHv42K/gbSq9fKwAAAAAAAAAAAAAAAAAAAPgpjsMwbOwnpv7Cl0E/wH7s6Z9bWyX1WP+2to9yf2lt5VUD52E86NemV8P5ZN+dHYatfjF2p8tUYAmPmt7Kp5Gb4bAdTp58vPiXbtMOnljiyu7n2HKr8vT2tp2Ow1ny0Ki03QIR8mK9l34v2rOSv8hSX3S5tl9XE0ePjw3x22q5tmeL12Yb/AvxGtKAZWmBsnR5LG3zdqutBHYWk6Ml4GF99U1p2zt43yoJeAU0bL+i598Xl4V2ZW20QqTa+uGttrGHRScH254jfG25th4vL55QAxqhrznxuzW19Xa9SVi6byNl13/mYN/w3+iGisQdNLEXSTtbQzaaZdRHvP/EnCWOIgv9fvzlbbVNgUjwFVTN9k/K9FUqutMu9MGuY+GvV9byG9IPTwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4C/TnhO3HYf33cT/Na35m1X49WX/39t/Wdoyf2130otpqJfXHgf9tbX383PHC2uqxPLAdTrpYrf1nrrUhrrq46e+BJ3v7sfDKNlfmkhttHG623A97ea1qe8w/wnuNg6mIs8Oc49hjyiwVZrWri/EObW3TT43L8qAR5+FiPxVs8f4D4L4i26x8KbXMhry/Rh3j1813utR4j/YkG637OAybfYqUaP2TVtPfPbc9JcHGA+dh82fYW4Jhf9ZZ925RSA/YT2CnhtSfM9dDCP157NWfWMnFthd5tYid7a8t781jG+W/+Nnj0rfaZlp0/8Fle1EasMSWm5bhT462gLzaD2mXX6V+B2t1yzN1V/pxbvshcy+kD8qIt9S6tBdN5Ktpf331PKTxcuIykpXE9mprAftJ/RQvSw9rA/nAT5veQ6p6trFhpXX6A+a+XA82bW2tlMA7zFY10uNl/2h2jQoasqFSaus/on+ntlIOy9YzkYVN1TwfbNN7WeYpkDKyX+z3stvUmR7AC5NCvnVSWwsp+9H3qra2RV4e1tbbWf4rtdXAh3RrawX04likn5cruZI5UO0vr/bj9omlSbW1rHXz49ramocjZnIpeLu2tpZxLPNKKpleSYIdW2ZR+bV+OyeX/eqCWZr0I+12wtOYp2qry/jfNcirnw3KVevtmtpKnj4vdGFnqWrdAiksS/1fbHhIF9e8vxVTmkGDObHOVlkIi5Dw49qKm0adNWQ11UDK53OVQvyT4tj19uvIpfH/Kcnf9mX+fwVWOxtg+rebXFo/Tk+R9r/5+BJsMvklWH3kLNJluUYYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwCcahnWE8J2th2LnUb+6a4dhG6FvT7o2OvIsnWuB79y1H+6ZH9m1Wi3rW7r2Z7jbtRs9TYt9rF9iPVf/EOubWI/VdGovIt5zrppPoiI0eoLhWpUoooYq2c5juusREr4tnCJyGH1djrS6RdTRo4pUNtm22noaiTh6KNUr7V1VNLXEUXaKKDsPWlysv1jVkFJ+66IUIx3rfSqls+VqONlCa6bL6zBcLGJlO2gr3zSgDaHLTOod1bPtna7VVrSAdZUfXwJ+/L3GWUjjrDXl0Od6PamyziJKc7aADSILSQ2ju7Oqa71yciRhB5Gll2yMg8r+3iKapQVsDFhIU1ul83FfLXetFsonX8RIf9iqkOEXISfV1cWkzNHaatJks4TTrpUMr7Yu5Lh2/HqnFK7y9VYtJwzX69pERqRlLP3gHdLUMVRdG2NGJ72HNDJCISLkbGZjVpWi5rRVw7ySdG2SGiU3bW6lcpK5beMknVr/kCeN1C9CTb2UjvyY32retXX6NNhKB+TtdU94lF4i6s5s17JtnO5to56QQ3X2DCkDSWxLUQpSRa7tVBIRsTCRZYx+U29+oeqEnJR+q2iU9up5K2cZmeGxkzS2sBNPtF5im7O4OvnKU13bFKwkq9kmOwXm3Ttda32gpU4b3961qSApUnMcrzKoI6I+SUWWsqjZphe717WT61A5Lbc7advJYt5MU+ntVXUWzTFlXxnvmrl0Weml2C5jy1ZnZHu6mEy7tjqZxMYql/d1bTnB5oiSTRxPmihuLz7NctfKhMwnW1MqIKF6p2iguoJ9nqK6r9CxHct8wo7M67uPlEy2LVy1JIEVttzNJyUbCVm3fXjW5vGjZwxdSlOlW4Vc7CqDT7LctXYds6uMpNGFXjH1buE8yDzVJFGhquGHs91O/JlUazhYtEwXaxOtvgY0w0ipeWiUNJbctvjxdaPup+VIGUrgrH24u/g5ZdhYj8r5wOeIbJedq+u6XQo0v42W2g7/F7rWRpg0S0qlFyNtC6lRzlI32o5SIYt4tTtdm69jeUZ5I1/TTt41qTFUurfQ61BFO07lU5S3irSPvEZUHOtWl8izkz6U14jaxSX97GnigD6ilB8qVpxHSSH/Vtfa2BS7KlW0xa7OMlW73A7+cr0Lqk+Tb0G6MkKYkDNDfoubfKPmkktDPoNA6XlrjHefEWVxF49rn0t8PVbGSfGRrLVhxnbCamMd9p/9JuIpVy3+Jl2UAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC/3DAMEcJ3Jv1oNuuI+N09+4Mqb93qLjnGA7/RD6q89WmSYmz5Ha0/WvbvXPmJXJWrhGzWfufKjfRsVqqyiyA9+zNUVTkPw04W9OzPUFVlOwx6g1xX7ihNtbnFitpuJOIYK+J4kfWtDgh3kuGxj3BjLTmNp1jpmh1LnA7z7KSYhzqjqxRpvHp4oWdPevB88292WvDJ0UTbs+vNcPCcb5J8LNW0erclswpWKdRVih/3pa/X9qy2WInR87OJ9Vus5ohjrKb1faxuYj2TrJ2uVM1f7njKsfTPpb3+SNw24qQbTWpVycxVB8nZm1LqaHfNTJpczQoqcSmw1hUlazJe1ejbVidfLRG5JQ4lB7tzUedYfzE5coS0X5o5q6U9b629PEJD41ZHq0dogsNWJ4StWquPW23rg0ck2uPj9o80p671etY61vcVHmfjxI4vbRQ9q008brVffC74IfcSvdizmuemrcZWzyyWS+6aUCWSskWBNHar+1j72EZtGD12FMs6dm8nNAl4nBZ/Exl8huq4EcwxErBRLu3qwy6NPqmjnZBzSp8M0ng+B2R7e57LCa1lej0rKfwMqy3jcbItZplGeRPKVp+skUjmY0w7P2lWWWdj5CL7+iGkOoMlT/eMlRyjx0yBvY9UnfwWtYrSlP0l4Jco7X6P0+JbQI4b14rXyoXTU4z1XIopW6RstsyXjGjPck40aQDUuxrJue7pTs/K+E6nW20bC1SZSNA2S1Om86efF6Y92evZXMYq4ziYHHbS6PmgEvABYWcTC+kp3AO+RRokItJQFzl13qsKvVQ+rE4WC5RlPlWl0Z5EkrZnUzXFpIFlMqe2UJ2erSsfYZkhOXfJ2voiN601prw+07PZtIJidjrO20oiCUW3SWnb2zApo0VUOaaJLSe61NkysCP0UlKQzIsiAV1Id9iqKlPFRZJYhGpNmqDuSr0KRVB1e7aMkUhcd5LMG+vZKh8vnrRf0zVP9myuTVswkSPKSaRKMx3hkUp6s0z9SF7nPB0QryElCJNTaTU/qmKu7bYm1vUWpK5SbuTp4NYd0gju9ax0fdkcmcfC5Z5NzZ0GnqQ6V2f6hZ5tSl3nkqKyHFFqUKWpjy+HUhpRT4KUPBam2u2FrHjSKWUwylosamlTYut2v1CufLX/ItbYtSpPy3nPPmoaWbG2sWwyPS3YTWmZSemOoGGldLb+8Z6VYica0YwniYtFpb5qvYocNkJJxFiJComx/hm1y3xd+Fs2f49jwWwySn3SeOTf6llvep87cepo2jjo5vEqw0CWEZELl6KyHHGvZ+1931bPMh7xuGenb65eQQ4boSRiuhvinFltu9mM0ND0Yjxhg8BSfKRnc59U7LmBb+j0rGyLbk85Vrk0B1E54l7PlhiPWOhZW/088xJEzPzEVk4qzU46lbV+5Uq9QM+cegatGiJuG2WR2jFnXh9DblGiSfuDX/vWAt2enb4X+2jPVgfxiOpdQU4+y/nl5iWIGGmt9nFDdZsz2clXH9dFZqg2RDVDY/jI4ChdFvnUd3DpXc/iIeRkbx3R7dnUj2nvEjPPMEfc6dkSIW2kEVKvfKVP73pmOb/cvAQpZjoHpfxRWemaZidfldYtN7h9s4Yox8oZpvfVkio/o5Qo6wzp7frdVJHKdq9n83uvHNMc1+WIp3pWQpZVk8TDcvHJR/kcVaFCipFlfuikhZSJ5V1td1IWCtEHEpvavW3/1OHS/nbJy7vnpyPSIzGM7GbXQrIsl3VvJj2yxQg7oaScZazZIZvzosu7aC4RyG1e5eeq1Is9K+PLj6t3UpaV3GvEOUevC+koZaDnwCtV5Q45RgJnba/dxcst63oH5PfDFmE9r81tzaq1siux9I4usq3PUelYj9ebLt3jMOQTs8TYyV/7OuK0j/UAcn6Ls563ZcpLF6MPFS2SLmNeNuNKYnTQ6MEj0Ud7Vk+4unEzyGnKs5IYG5mHQetmUZrK2kfuMVNWL1WVO+QYm5vO7mltOqk0dXxNxM1neh4gPCLo2dtFm8faMEYH1ccqx9duNHuJi87wnje6KnM92NaUc6yYnHO6ApbMqromOeJOz5ZCpAjrRnMuyX0GmK/Ws6tdNNw5zibeSDI45VXX0+ZdmiSpgvks7lJ0uUvSp1da4dyzKTOZ8/IaUbGftEvpjDS8/BBprTwJsNUIu+jaXc74wz0bQ1XCJSuvkUWl5Lt4RLJpziG/Vzoh1CTuU4b9eyy9M4M0zexZXL4cfwP1o3TUZu+jRWcaf1VyDY4QJjq9KJ09uXJ/Wb1rya92TPNUb5rifi33pt5yR/CL2tq7Q6F3dNwv1fTd5tm+IVaushpO33n74q2l98qb7d7uj7nKNvL7werBjb+PMBHzZVVvXWf3CL/ezr7SuW8axr6uff/r51/FTb9yO1ZfqQcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDLDOoYKwC+PJuz61gB8JnWNh8nLpNrqkUyZ38h6/ltrOBr6M5ZcainrcUwZz/B7r/LKYKfwnqeOfu1+JzNE/S43h8sRmbtLuKYs59lo+3+qTPGep45+7X4nG3n487GyjDcYp05+0lGbXfmLFq9ObtaXS32HGvM2U/CdRYd/Tm72lt0umW2Febsy3GdRcfCnN1adOosW5mluZ4t3m2O5e1vuPnETzopmhzmY2Md9+jmfI3Ye26XSO3O+e6+f8XyysdK1hx2I1n026g51lkrZ6HZQR41U3M4SWGR3v4t27Bgd2qactpYufq7OuP9rCwzlq6ukkVoU1TVOqwjo13dJPNnZw8K6Zrm0hJ6iWNr1vb09nFNfpC7czZFNyvuaHGNfWxyEdloxvM8hzG2mF16FlZsHvRMO2FVniFPz9nOYa+9Npof69Kbs4+aqXM4i3/bnJ0XZtKYccGelaZ6zthnqTpzdnpEnX7eTJV2QDwspOg01603Z+d5nX/RV34W5qyf+2NlPmdvFjMc4kyZrqjpfKt0/XBKFzp/gxwXEeODdSxPrPfnugd98zlOoLutn33/2FpfvAfPp9zbdSxl7t9lzudsXPNSsXZ21vdj1/WPKZXqv1prcT1ZfZCHzeQROZvV8XTw4qy3ynIcLShsQ5eW+rxPbW2FEVVn+ClLX1OqayR6MNQtzWzOavUvntEu6rSxY6RPCONimR+IqEkhrUhNIVc7j8pl9OnqWXmMi0NOqlKNrR+uP2e9QfNQsrUqjQ/Z5jR6sqi8h+wzpu5xPqXypLNJdK57rObn2+a66lGXWJvz7UsfZlqFHs7ZmGNVLWQgxeCq6++DpC1LDKT6IA+bydeWp82z72fHQ3vL7fWoBrFlJOqaxTWt7aUpSzKbs22l4gQmM7YqhHd33UQPC+m9Ud7PqKPP2LqTfGY3yfxu5RBrP15vzvpQqsa/rZY03kmToeaddOe07XvFime5NMO8UJPB6n28+A2DNvupp66zPhpmXR/3CKX+Poungz0mfDnI42ayUk3vDyvPztmZaa/6nJ3UzCdtewM7ZUnmc7bthTgj9M5hSydlNSmkr86KE7fBsZY6adpofkcSKz9d23DH9TbumZproEXkxvW+LgMiPBqAfqQ0hG1l6cxoPTDrPTuVNLdbtdmFvvHUddZq0DmAD79c4aWro+eWD/JEM/lgX77S9Uv9DMu4zCw/y0wnkE2H+1cn2282Zye97DWdZNQOrC5LkQu5NO287LESbTa7D/Yi3Lli/CTetDPt4x6Lys1vjTi/SV2+0O3W1+3o4zPnEhev3qPLeLYZa8WDUeB3UYf+djv6gznrF8rOrJ8c2M5qvZt0S5YP8kQzxaVZn0139Ut93/q/7SXauuxpEbOy3L81MZZiNmenNzvLkQuFt0J6h6UUPiA6LeGnyFhZnJwW/cam+q46c/Ywe3Ju0XnM2tqSSKN2p3TNruRcvPFVfi6RxJDrW5yz5WFieaaT9a9YzZxdOlVM5+xkBldsQz6IrS2JNOWx8Tj/EOhNc/baabSyZz+jd8/ZaeWXI9tj3iuk9VDvNq0tpa8tmNXwZ/IR+OCmwtLkPrG1JSnVrZ2v437rrV317NHvekzzWd3dOXuvX+LpsonnmqE/aJs5uzyE/8Gczbun565merLsl3qu/ehjvGz9olX27J+yXjtnJ4UcT20hra69Z79vmLN33pn9JMsjsNKmsbX8CcREzJT0OL46GXSPVH+hIE9biztEhlMPinqr5m11g98ftP9+zj5oJneshnMzbZ+bs//ZjsNYF8liyp79jF45Z73V7hTSeujZ62y04tTS04wfZnkEVto0tjYbAA0fhO3Ve/FIu/RZYXpIYiPsI+fMPAlOaQb0B60XKVb+yZy930y1fPaqcu6faSb8cjUZrhZX9vz0Ofu4kIud3puzsfJLvWPO2oS4+7ix+zTHnyUsHMm7IjL1lJ3HEW8Qn8+nw/XP4u0A8KaYPkoRk+fGttYZXb5/HuCPm2kq3uKXK21/qk3YfcXkIbvnVPb89DlrZ+W7hfTCdN6k+bksVmKnX3JBXfCOOevNdu9zvV6mO79nXTpSM34s/Kbh3mGZtCNichqIx7axlr4qMTtXeG1KyT2v2bCJCuYB/riZZnyXMm6fmrO2zySRj/MS+elztlkJbSG9M+aftHkhSyn9Fqp+B/HrvGPOxnWw92lHmFxxVMyPxSM148fH7uK3pJ5jeaQyxJdnYs2lIsVqjphMWq9tXXKfnJMLspe5rvXDZpqZdkb/7mDC9mkTxXuNUhTLqOkP9eo5e7+Qfvs8/Qa0nW1ErApv/QdPTX+098zZ/oert2157Of9Ua4x5TONlMvkGannmKdBzJ5DO30kUYQ6tu1X4/yIZdrHzCuVKEWKCBGH3VQDQveb3SF4RB2j37Hz2GqAd5tpVzXTpn247dO+ena6cEVv+Z17NdbTm/mqKJ9+nfVD3S9kNNelai5N5c0aEcojzu3x1odZAX6sd83Z8iXc4bDfbvMXJsqJNE0Iffq7sUa++IhMudjKsNG9Lymz+gi5T88XTTI/3U75qDjbg1o/ohw9timvqNhIAs9u63GRwOR66YdT8an/tS258oMJrX6Uf9+OUvWomXz9oDXcpxo2N9PRjNKKl/Ni3dOnRWctsu1x8NuKUhTLvC6ZeeGczf15p5DpGYTQXvROPHf+XU9MbqHp9tFNswL8WO+bs3a5mKn/VUC6VQxy8uzN2Urzo3Gq/ceWZpamMi/Pn+b6VsZ2kMkxn7OzVPrBca+NyrhxOvRyoLjfTHlKZ5NravPpbcTNlVOD0a9VWaAUxRK0JROvnLNPFFJMElmH90qZ/ulS5dx5eIiZ2ykuMeN4mvaYuPmF6rDv39zdrnGGPFxOC3NxJ0k0xXAYT/9NZmDHcbuJ8myv/dRrz2+z7xS3OP6xgm0u8U8Je1Nb3E52wTiM2yi+JZvnfK+ZdlIiv+qMC588y1G0MOPs22KN3eniZcmfbn1BzxVy7TdV4z760OZs58sW0nI+fKS377YNfiEbNY8fY/vU/sJz5nvq39cDd/jbrAdPgoRdL9/02Q4e8zMhF1K8gU/Zx5dZv//lMvt3+VMQLrNYsO7800B/4NlO2c4/notnUkzZ9zvNnyLFB3Jv+Ywbv4vdh43l+dU1Pbad3PFqVPmtK/0pK0v14a9u/W722GCffyxrd00Pke8+MMTv5u+dZma/HBfxEyMX2Q/xD3WmnvqNXPxi1/xdjjB2h8z6ElfW5PCVP2P5LuY/klD/W04AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPBjrFb/A3Twc8wVcMbxAAAAAElFTkSuQmCC",O=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{id:"index-carousel",className:"carousel slide","data-ride":"carousel",children:[Object(s.jsxs)("ul",{className:"carousel-indicators",children:[Object(s.jsx)("li",{"data-target":"#index-carousel","data-slide-to":"0",className:"active"}),Object(s.jsx)("li",{"data-target":"#index-carousel","data-slide-to":"1"}),Object(s.jsx)("li",{"data-target":"#index-carousel","data-slide-to":"2"}),Object(s.jsx)("li",{"data-target":"#index-carousel","data-slide-to":"3"})]}),Object(s.jsxs)("div",{className:"carousel-inner",children:[Object(s.jsxs)("div",{className:"carousel-item bg-dark active",children:[Object(s.jsx)("img",{className:"d-block w-100",src:x,alt:"consultation"}),Object(s.jsxs)("div",{className:"carousel-caption d-none d-md-block bg-dark-45",children:[Object(s.jsx)("h5",{children:"Consultation"}),Object(s.jsx)("p",{children:"Please suggest a Caption"})]})]}),Object(s.jsxs)("div",{className:"carousel-item",children:[Object(s.jsx)("img",{className:"d-block w-100",src:x,alt:"treatment_vaccination"}),Object(s.jsxs)("div",{className:"carousel-caption d-none d-md-block bg-dark-45",children:[Object(s.jsx)("h5",{children:"Treatment and Vaccination"}),Object(s.jsx)("p",{children:"Please suggest a Caption"})]})]}),Object(s.jsxs)("div",{className:"carousel-item",children:[Object(s.jsx)("img",{className:"d-block w-100",src:x,alt:"confinement"}),Object(s.jsxs)("div",{className:"carousel-caption d-none d-md-block bg-dark-45",children:[Object(s.jsx)("h5",{children:"Confinement"}),Object(s.jsx)("p",{children:"Please suggest a Caption"})]})]}),Object(s.jsxs)("div",{className:"carousel-item",children:[Object(s.jsx)("img",{className:"d-block w-100",src:x,alt:"grooming"}),Object(s.jsxs)("div",{className:"carousel-caption d-none d-md-block bg-dark-45",children:[Object(s.jsx)("h5",{children:"Grooming"}),Object(s.jsx)("p",{children:"Please suggest a Caption"})]})]})]}),Object(s.jsxs)("a",{className:"carousel-control-prev",href:"#index-carousel",role:"button","data-slide":"prev",children:[Object(s.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(s.jsxs)("a",{className:"carousel-control-next",href:"#index-carousel",role:"button","data-slide":"next",children:[Object(s.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"sr-only",children:"Next"})]})]})})}}]),a}(r.Component),f=a(8),N=a(1),v=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{emailAddress:"",email:"@yahoo.com",userPassword:""},errors:{emailAddress:"Please input your Email Address",userPassword:"Please input your Password"},submitError:!1,loginError:!1},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors);switch(s){case"emailAddress":n.emailAddress=0===r.length?"Please input your Email Address":"";break;case"userPassword":n.userPassword=0===r.length?"Please input your Password":""}e.setState({errors:n})},e.onSubmit=function(t){t.preventDefault();var a=e.props.records,s=Object(N.a)({},e.state.errors),r=Object(N.a)({},e.state.record);if(e.validForm({errors:s})){var n=!1,c=!1;e.setState({submitError:n,loginError:c});var l=a.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(r.emailAddress+r.email).toLowerCase()&&e.userPassword===r.userPassword}));if(l.length>0)e.props.history.replace("/wiggly-tails/customer",{verified:!0,id:l[0].id});else n=!0,c=!0,r.userPassword="",s.userPassword="Please input your Password";e.setState({record:r,errors:s,submitError:n,loginError:c})}else{e.setState({submitError:!0})}},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderLoginError=function(){if(e.state.loginError)return Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{className:"lh-0 my-1",children:"Incorrect Email Address or Password"})]})},e.onReset=function(t){t.preventDefault();var a=Object(N.a)({},e.state.record);a.emailAddress="",a.email="@yahoo.com",a.userPassword="";var s=Object(N.a)({},e.state.errors);s.emailAddress="Please input your Email Address",s.userPassword="Please input your Password";e.setState({record:a,errors:s,submitError:!1,loginError:!1})},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0&&e.state.submitError?"border border-danger":""},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors;return this.props.connected?Object(s.jsxs)("form",{className:"form-light p-5 mt-4",noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset,children:[Object(s.jsx)("h2",{className:"font-weight-normal text-center",children:"Customer Login"}),Object(s.jsx)("h5",{className:"font-weight-light text-center mb-4",children:"Please input your credentials."})," ",this.renderLoginError(),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Email Address"}),Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"w-sm-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),Object(s.jsxs)("select",{className:"input-group-text",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress)]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Password"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.userPassword),type:"password",name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[Object(s.jsxs)("button",{type:"submit",className:"btn btn-primary w-49",children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Login"})]}),Object(s.jsxs)("button",{type:"reset",className:"btn btn-danger w-49",children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})]}):this.props.connectionFailed?Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h1",{className:"display-5 text-danger",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:this.props.getData,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center",children:"Please wait..."})]})}}]),a}(r.Component),C=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",empLastName:"",empPassword:""},errors:{id:"Please input your Id",empLastName:"Please input your Last Name",empPassword:"Please input your Password"},submitError:!1,loginError:!1},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"id"===s&&(r=r.toUpperCase()),"empLastName"===s&&(r=e.toAbsProperCase(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors);switch(s){case"id":n.id=0===r.length?"Please input your Id":6!==r.length?"Must be at exact 6 characters":"";break;case"empLastName":n.empLastName=0===r.length?"Please input your Last Name":r.length<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empPassword":n.empPassword=0===r.length?"Please input your Password":""}e.setState({errors:n})},e.onSubmit=function(t){t.preventDefault();var a=e.props.records,s=Object(N.a)({},e.state.errors),r=Object(N.a)({},e.state.record);if(e.validForm({errors:s})){var n=!1,c=!1;if(a.filter((function(e){return e.id===r.id&&e.empLastName===r.empLastName&&e.empPassword===r.empPassword})).length>0)e.props.history.replace("/wiggly-tails/admin",{verified:!0});else n=!0,c=!0,r.empPassword="",s.empPassword="Please input your Password";e.setState({record:r,errors:s,submitError:n,loginError:c})}else{e.setState({submitError:!0})}},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderLoginError=function(){if(e.state.loginError)return Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{className:"lh-0 my-1",children:"Incorrect Id, Last Name or Password"})]})},e.onReset=function(t){t.preventDefault();var a=Object(N.a)({},e.state.record);a.id="",a.empLastName="",a.empPassword="";var s=Object(N.a)({},e.state.errors);s.id="Please input your Id",s.empLastName="Please input your Last Name",s.empPassword="Please input your Password";e.setState({record:a,errors:s,submitError:!1,loginError:!1})},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0&&e.state.submitError?"border border-danger":""},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors;return this.props.connected?Object(s.jsxs)("form",{className:"form-light p-5 mt-4",noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset,children:[Object(s.jsx)("h2",{className:"font-weight-normal text-center",children:"Employee Login"}),Object(s.jsx)("h5",{className:"font-weight-light text-center mb-4",children:"Please input your credentials."})," ",this.renderLoginError(),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.id),type:"text",name:"id",value:t.id,maxLength:"6",onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.id)]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Last Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.empLastName),type:"text",name:"empLastName",value:t.empLastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.empLastName)]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Password"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.empPassword),type:"password",name:"empPassword",value:t.empPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.empPassword)]}),Object(s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[Object(s.jsxs)("button",{type:"submit",className:"btn btn-primary w-49",children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Login"})]}),Object(s.jsxs)("button",{type:"reset",className:"btn btn-danger w-49",children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})]}):this.props.connectionFailed?Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h1",{className:"display-5 text-danger",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:this.props.getData,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center",children:"Please wait..."})]})}}]),a}(r.Component),y=a(11),A=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",lastName:"",firstName:"",middleName:"",homeAddress:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:""},confirmUserPassword:"",errors:{lastName:" ",firstName:" ",middleName:"",homeAddressErrors:{lotBlock:"",street:" ",subdivision:" ",barangay:" ",municipality:" ",province:""},birthdate:" ",mobileNumber:" ",emailAddress:" ",userPassword:" ",confirmUserPassword:" "},records:[],connected:!1,connectionFailed:!1,submitError:!1,registered:!1},e.onGenerateId=function(){var t=Object(N.a)({},e.state.record),a=e.generateCharacters(6);t.id=a,e.setState({record:t})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(f.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"mobileNumber"!==s&&"emailAddress"!==s&&"userPassword"!==s&&(r="lastName"===s?e.toProperCase(r):e.toAbsProperCase(r)),"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors),c=Object(N.a)({},e.state.record),l=e.state.confirmUserPassword,o=e.removeSpaces(r).length;switch(s){case"lastName":n.lastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"firstName":n.firstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"middleName":n.middleName=o>24?"Must be at maximum of 24 characters":"";break;case"birthdate":n.birthdate=0===r.length?" ":"";break;case"mobileNumber":n.mobileNumber=0===r.length?" ":Object(y.isNumeric)(r)?r.length<10?"Must be at exact 10 numbers":"":"Please input a valid value";break;case"emailAddress":n.emailAddress=0===r.length?" ":r.length<8||r.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(r)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"email":n.emailAddress=e.emailAddressExists()?"Already in use":"";break;case"userPassword":n.userPassword=0===r.length?" ":r.length<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmUserPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmUserPassword":n.confirmUserPassword=0===r.length?" ":r===c.userPassword?r.length<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.emailAddressExists=function(){var t=e.state,a=t.record;return t.records.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(a.emailAddress+a.email).toLowerCase()})).length>0},e.isValidEmail=function(e){return new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/).test(e)},e.onChangeHomeAddress=function(t){var a=t.target,s=a.name,r=a.value;r=e.toProperCase(r),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{homeAddress:Object(N.a)(Object(N.a)({},e.record.homeAddress),{},Object(f.a)({},s,r))})})}),(function(){return e.onCheckHomeAddressErrors(t)}))},e.onCheckHomeAddressErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors.homeAddressErrors),c=e.removeSpaces(r).length;switch(s){case"lotBlock":n.lotBlock=r.length>12?"Lot/Block must be at maximum of 12 characters":"";break;case"street":n.street=0===c?" ":c<2||r.length>24?"Street must be at between 2 and 24 characters":"";break;case"subdivision":n.subdivision=0===c?" ":c<2||r.length>24?"Subdivision must be at between 2 and 24 characters":"";break;case"barangay":n.barangay=0===c?" ":c<2||r.length>24?"Barangay must be at between 2 and 24 characters":"";break;case"municipality":n.municipality=0===c?" ":c<2||r.length>24?"Municipality must be at between 2 and 24 characters":"";break;case"province":n.province=r.length>24?"Province must be at maximum of 24 characters":""}e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{errors:Object(N.a)(Object(N.a)({},e.errors),{},{homeAddressErrors:n})})}))},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.getCustomersData,s=Object(N.a)({},e.state.record);s.lastName=e.removeLastSpace(s.lastName),s.firstName=e.removeLastSpace(s.firstName),s.middleName=e.removeLastSpace(s.middleName),s.homeAddress.lotBlock=e.removeLastSpace(s.homeAddress.lotBlock),s.homeAddress.street=e.removeLastSpace(s.homeAddress.street),s.homeAddress.subdivision=e.removeLastSpace(s.homeAddress.subdivision),s.homeAddress.barangay=e.removeLastSpace(s.homeAddress.barangay),s.homeAddress.municipality=e.removeLastSpace(s.homeAddress.municipality),s.homeAddress.province=e.removeLastSpace(s.homeAddress.province),s.homeAddress.street+=" St.",s.homeAddress.barangay="Brgy. "+s.homeAddress.barangay,s.homeAddress.municipality+=" City";var r=[];r.push("+63"+s.mobileNumber.substring(0,3)),r.push(s.mobileNumber.substring(3,6)),r.push(s.mobileNumber.substring(6,10)),s.mobileNumber=r.join("-"),e.props.onRegister(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertCustomer.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();var t=!0;e.setState({submitError:!1,registered:t}),t=!1,setTimeout((function(){return e.setState({registered:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),Object.values(t.homeAddressErrors).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(t){e.isObject(t)?Object.values(t).forEach((function(t){e.isObject(t)||t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})):t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.isObject=function(e){return e instanceof Object},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderHomeAddressErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&" "!==e&&a.push(Object(s.jsxs)("small",{className:"text-danger ml-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),e]}))})),[a]}},e.onReset=function(){var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.record.homeAddress),s=Object(N.a)({},e.state.errors),r=Object(N.a)({},e.state.errors.homeAddressErrors);a.lotBlock="",a.street="",a.subdivision="",a.barangay="",a.municipality="",a.province="",t.id=e.generateCharacters(6),t.lastName="",t.firstName="",t.middleName="",t.homeAddress=a,t.birthdate="",t.mobileNumber="",t.emailAddress="",t.email="@yahoo.com",t.userPassword="",r.lotBlock="",r.street=" ",r.subdivision=" ",r.barangay=" ",r.municipality=" ",r.province="",s.lastName=" ",s.firstName=" ",s.middleName="",s.homeAddressErrors=r,s.birthdate=" ",s.mobileNumber=" ",s.emailAddress=" ",s.userPassword=" ",s.confirmUserPassword=" ",e.setState({record:t,confirmUserPassword:"",errors:s,submitError:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.retryCustomersData=function(){e.getCustomersData();e.setState({connected:!1,connectionFailed:!1})},e.getCustomersData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.removeMultipleSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "===e.charAt(a)?0!==a&&" "!==e.charAt(a-1)&&(t+=e.charAt(a)):t+=e.charAt(a);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId(),this.getCustomersData()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmUserPassword,c=e.registered,l=t.homeAddress,o=a.homeAddressErrors;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"registerModal",tabIndex:"-1",role:"dialog","aria-labelledby":"registerModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"registerModalTitle",children:"Register"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Successfully registered."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.lastName),type:"text",name:"lastName",value:t.lastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.lastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.firstName),type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.firstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.middleName),type:"text",name:"middleName",value:t.middleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.middleName)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Home Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"row mx-0",children:[Object(s.jsx)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(o.lotBlock),type:"text",name:"lotBlock",value:l.lotBlock,onChange:this.onChangeHomeAddress,placeholder:"Lot/Block (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(o.street),type:"text",name:"street",value:l.street,onChange:this.onChangeHomeAddress,placeholder:"Street",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"St."})})]}),Object(s.jsx)("div",{className:"col-lg-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(o.subdivision),type:"text",name:"subdivision",value:l.subdivision,onChange:this.onChangeHomeAddress,placeholder:"Subdivision",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("div",{className:"input-group-prepend",children:Object(s.jsx)("span",{className:"input-group-text",children:"Brgy."})}),Object(s.jsx)("input",{className:this.inputFieldClasses(o.barangay),type:"text",name:"barangay",value:l.barangay,onChange:this.onChangeHomeAddress,placeholder:"Barangay",noValidate:!0})]}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(o.municipality),type:"text",name:"municipality",value:l.municipality,onChange:this.onChangeHomeAddress,placeholder:"Municipality",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"City"})})]}),Object(s.jsx)("div",{className:"col-lg-4 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(o.province),type:"text",name:"province",value:l.province,onChange:this.onChangeHomeAddress,placeholder:"Province (Optional)",noValidate:!0})})]})," ",this.renderHomeAddressErrors(o)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Mobile Number",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("span",{className:"input-group-text",children:"+63"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.mobileNumber),type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0})]}),this.renderRecordErrors(a.mobileNumber)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Email Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"w-sm-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),Object(s.jsxs)("select",{className:"input-group-text",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress),Object(s.jsx)("div",{children:Object(s.jsxs)("small",{className:"text-success ml-2",children:[Object(s.jsx)("i",{className:"fa fa-info-circle mr-1"}),Object(s.jsx)("span",{children:"Valid Symbols:\xa0"}),Object(s.jsx)("span",{children:"!#$%^&*.?_-"})]})})]}):this.state.connectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later...",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.retryCustomersData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.userPassword),type:"password",name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmUserPassword),type:"password",name:"confirmUserPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmUserPassword)]})]}),c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Successfully registered."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null})})]})})})})}}]),a}(r.Component),w=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"bg-dark text-light w-100 fixed-bottom",children:Object(s.jsx)("p",{className:"m-0 p-0 text-right small my-1 mr-3",children:"Copyright \xa9 2020"})})}}]),a}(r.Component),S=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={activeId:2,customers:[],customerConnected:!1,customerConnectionFailed:!1,employees:[],employeeConnected:!1,employeeConnectionFailed:!1},e.componentDidMount=function(){e.getCustomersData(),e.getEmployeesData()},e.retryCustomersData=function(){e.getCustomersData(),e.onRegister()},e.retryEmployeesData=function(){e.getEmployeesData();e.setState({employeeConnected:!1,employeeConnectionFailed:!1})},e.onRegister=function(){e.setState({customerConnected:!1,customerConnectionFailed:!1})},e.switchActiveId=function(t){var a=t;e.setState({activeId:a})},e.getCustomersData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({customers:a,customerConnected:!0})})).catch((function(t){console.log(t);e.setState({customerConnectionFailed:!0})}))},e.getEmployeesData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({employees:a,employeeConnected:!0})})).catch((function(t){console.log(t);e.setState({employeeConnectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(g,{activeId:this.state.activeId,sourceId:1,switchActiveId:this.switchActiveId}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"h-full row bg-warning justify-content-center text-dark",children:[Object(s.jsx)("div",{className:"col-lg-7 d-lg-inline d-none align-self-center",children:Object(s.jsx)(O,{})}),Object(s.jsx)("div",{className:"col-lg-5 bg-light",children:Object(s.jsx)("div",{className:"row h-full justify-content-center align-items-center",children:Object(s.jsx)("div",{className:"col-sm-10 col-md-8 col-lg-12",children:2===this.state.activeId?Object(s.jsx)(v,{history:this.props.history,records:this.state.customers,connected:this.state.customerConnected,connectionFailed:this.state.customerConnectionFailed,getData:this.retryCustomersData}):Object(s.jsx)(C,{history:this.props.history,records:this.state.employees,connected:this.state.employeeConnected,connectionFailed:this.state.employeeConnectionFailed,getData:this.retryEmployeesData})})})})]})}),Object(s.jsx)(A,{getCustomersData:this.getCustomersData,onRegister:this.onRegister}),Object(s.jsx)(w,{})]})}}]),a}(r.Component),k=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={navs:[{id:0,text:"Account",link:"/wiggly-tails/customer",items:[]},{id:1,text:"Transactions",link:"/wiggly-tails/customer/view-transactions",items:[]},{id:2,text:"Pets",link:"/wiggly-tails/customer/manage-pets",items:[]},{id:3,text:"About us",link:"/wiggly-tails/customer/about-us",items:[]},{id:10,text:"Sign out",link:"/wiggly-tails",items:[]}]},e.onClickLink=function(t){var a=e.props.history,s=t.link;a.replace(s,{verified:!0,id:a.location.state.id})},e.onClickBrand=function(){var t=e.props.history;t.replace("/wiggly-tails/customer",{verified:!0,id:t.location.state.id})},e.onClickSignOut=function(t){var a=e.props.history,s=t.link;a.replace(s)},e.linkItemClasses=function(t){var a=e.props,s=a.activeId,r=a.sourceId,n="nav-link ";return n+=t===s||t===r?"active":10===t?"text-danger":"inactive"},e.dropdownItemClasses=function(t){var a="dropdown-item ";return a+=7===t?"text-danger ":"text-dark ",a+=t===e.props.activeId?"active-dropdown":"inactive-dropdown"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark fixed-top",children:[Object(s.jsxs)("a",{onClick:this.onClickBrand,className:"navbar-brand py-0",children:[Object(s.jsx)("img",{src:p,alt:"",className:"mr-2"}),"Veterinary Clinic"]}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#customer-navbar","aria-controls":"customer-navbar","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"customer-navbar",children:Object(s.jsx)("ul",{className:"navbar-nav ml-auto",children:this.state.navs.map((function(t){return t.items.length>0?Object(s.jsxs)("li",{className:"nav-item dropdown mr-1",children:[Object(s.jsx)("a",{className:"dropdown-toggle "+e.linkItemClasses(t.id),id:"dropdown"+t.id,href:t.link,"data-toggle":"dropdown",children:t.text}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdown"+t.id,children:t.items.map((function(t){return 7===t.id?Object(s.jsx)("a",{className:e.dropdownItemClasses(t.id),"data-toggle":"modal","data-target":"#manageEmployeesModal",children:t.text},t.id):Object(s.jsx)("a",{className:e.dropdownItemClasses(t.id),onClick:function(){return e.onClickLink(t)},children:t.text},t.id)}))})]},t.id):Object(s.jsx)("li",{className:"nav-item mr-1",children:10===t.id?Object(s.jsx)("a",{onClick:function(){return e.onClickSignOut(t)},className:e.linkItemClasses(t.id),children:t.text}):Object(s.jsx)("a",{onClick:function(){return e.onClickLink(t)},className:e.linkItemClasses(t.id),children:t.text})},t.id)}))})})]})})}}]),a}(r.Component),P=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",lastName:"",firstName:"",middleName:"",homeAddress:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:""},confirmUserPassword:"",errors:{lastName:"",firstName:"",middleName:"",homeAddressErrors:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",userPassword:"",confirmUserPassword:" "},records:[],connected:!1,connectionFailed:!1,submitError:!1,updated:!1,passwordState:{inputType:"password",buttonText:"Show"}},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(f.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"mobileNumber"!==s&&"emailAddress"!==s&&"userPassword"!==s&&(r="lastName"===s?e.toProperCase(r):e.toAbsProperCase(r)),"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors),c=Object(N.a)({},e.state.record),l=e.state.confirmUserPassword,o=e.removeSpaces(r).length;switch(s){case"lastName":n.lastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"firstName":n.firstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"middleName":n.middleName=o>24?"Must be at maximum of 24 characters":"";break;case"birthdate":n.birthdate=0===r.length?" ":"";break;case"mobileNumber":n.mobileNumber=0===r.length?" ":Object(y.isNumeric)(r)?r.length<10?"Must be at exact 10 numbers":"":"Please input a valid value";break;case"emailAddress":n.emailAddress=0===r.length?" ":r.length<8||r.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(r)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"email":n.emailAddress=e.emailAddressExists()?"Already in use":"";break;case"userPassword":n.userPassword=0===r.length?" ":r.length<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmUserPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmUserPassword":n.confirmUserPassword=0===r.length?" ":r===c.userPassword?r.length<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.emailAddressExists=function(){var t=e.state,a=t.record,s=t.records,r=e.props.customer;return s.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(a.emailAddress+a.email).toLowerCase()&&(e.emailAddress+e.email).toLowerCase()!==(r.emailAddress+r.email).toLowerCase()})).length>0},e.isValidEmail=function(e){return new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/).test(e)},e.onChangeHomeAddress=function(t){var a=t.target,s=a.name,r=a.value;r=e.toProperCase(r),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{homeAddress:Object(N.a)(Object(N.a)({},e.record.homeAddress),{},Object(f.a)({},s,r))})})}),(function(){return e.onCheckHomeAddressErrors(t)}))},e.onCheckHomeAddressErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors.homeAddressErrors),c=e.removeSpaces(r).length;switch(s){case"lotBlock":n.lotBlock=r.length>12?"Lot/Block must be at maximum of 12 characters":"";break;case"street":n.street=0===c?" ":c<2||r.length>24?"Street must be at between 2 and 24 characters":"";break;case"subdivision":n.subdivision=0===c?" ":c<2||r.length>24?"Subdivision must be at between 2 and 24 characters":"";break;case"barangay":n.barangay=0===c?" ":c<2||r.length>24?"Barangay must be at between 2 and 24 characters":"";break;case"municipality":n.municipality=0===c?" ":c<2||r.length>24?"Municipality must be at between 2 and 24 characters":"";break;case"province":n.province=r.length>24?"Province must be at maximum of 24 characters":""}e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{errors:Object(N.a)(Object(N.a)({},e.errors),{},{homeAddressErrors:n})})}))},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.lastName=e.removeLastSpace(s.lastName),s.firstName=e.removeLastSpace(s.firstName),s.middleName=e.removeLastSpace(s.middleName),s.homeAddress.lotBlock=e.removeLastSpace(s.homeAddress.lotBlock),s.homeAddress.street=e.removeLastSpace(s.homeAddress.street),s.homeAddress.subdivision=e.removeLastSpace(s.homeAddress.subdivision),s.homeAddress.barangay=e.removeLastSpace(s.homeAddress.barangay),s.homeAddress.municipality=e.removeLastSpace(s.homeAddress.municipality),s.homeAddress.province=e.removeLastSpace(s.homeAddress.province),s.homeAddress.street+=" St.",s.homeAddress.barangay="Brgy. "+s.homeAddress.barangay,s.homeAddress.municipality+=" City";var r=[];r.push("+63"+s.mobileNumber.substring(0,3)),r.push(s.mobileNumber.substring(3,6)),r.push(s.mobileNumber.substring(6,10)),s.mobileNumber=r.join("-"),e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updateCustomer.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){var t=Object(N.a)({},e.state.record);t.homeAddress.street=t.homeAddress.street.substring(0,t.homeAddress.street.length-4),t.homeAddress.barangay=t.homeAddress.barangay.substring(6,t.homeAddress.barangay.length),t.homeAddress.municipality=t.homeAddress.municipality.substring(0,t.homeAddress.municipality.length-5);var a=Object(N.a)({},e.state.errors);a.confirmUserPassword=" ",e.setState({record:t,errors:a,confirmUserPassword:"",submitError:!1,updated:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),Object.values(t.homeAddressErrors).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(t){e.isObject(t)?Object.values(t).forEach((function(t){e.isObject(t)||t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})):t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.isObject=function(e){return e instanceof Object},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderHomeAddressErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&" "!==e&&a.push(Object(s.jsxs)("small",{className:"text-danger ml-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),e]}))})),[a]}},e.onReset=function(){var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.record.homeAddress),s=Object(N.a)({},e.state.errors),r=Object(N.a)({},e.state.errors.homeAddressErrors),n=e.props.customer,c=e.state.passwordState;c.buttonText="Show",c.inputType="password",a.lotBlock=n.lotBlock,a.street=n.street.substring(0,n.street.length-4),a.subdivision=n.subdivision,a.barangay=n.barangay.substring(6,n.barangay.length),a.municipality=n.municipality.substring(0,n.municipality.length-5),a.province=n.province,t.lastName=n.lastName,t.firstName=n.firstName,t.middleName=n.middleName,t.homeAddress=a,t.birthdate=n.birthdate;var l=n.mobileNumber.split("-");l=(l=l.join("")).substring(3,l.length),t.mobileNumber=l,t.emailAddress=n.emailAddress,t.email=n.email,t.userPassword=n.userPassword,r.lotBlock="",r.street="",r.subdivision="",r.barangay="",r.municipality="",r.province="",s.lastName="",s.firstName="",s.middleName="",s.homeAddressErrors=r,s.birthdate="",s.mobileNumber="",s.emailAddress="",s.userPassword="",s.confirmUserPassword=" ",e.setState({record:t,confirmUserPassword:"",errors:s,passwordState:c,submitError:!1,updated:!1})},e.onTogglePassword=function(t){t.preventDefault();var a=Object(N.a)({},e.state.passwordState);"password"===a.inputType?(a.inputType="text",a.buttonText="Hide"):(a.inputType="password",a.buttonText="Show"),e.setState({passwordState:a})},e.defaultButtons=function(){return e.props.connected&&e.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null},e.retryCustomersData=function(){e.getCustomersData();e.setState({connected:!1,connectionFailed:!1})},e.getCustomersData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.removeMultipleSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "===e.charAt(a)?0!==a&&" "!==e.charAt(a-1)&&(t+=e.charAt(a)):t+=e.charAt(a);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getCustomersData();var e=this.props.customer,t=Object(N.a)({},this.state.record);t.id=e.id,t.lastName=e.lastName,t.firstName=e.firstName,t.middleName=e.middleName,t.homeAddress.lotBlock=e.lotBlock,t.homeAddress.street=e.street.substring(0,e.street.length-4),t.homeAddress.subdivision=e.subdivision,t.homeAddress.barangay=e.barangay.substring(6,e.barangay.length),t.homeAddress.municipality=e.municipality.substring(0,e.municipality.length-5),t.homeAddress.province=e.province,t.birthdate=e.birthdate;var a=e.mobileNumber.split("-");a=(a=a.join("")).substring(3,a.length),t.mobileNumber=a,t.emailAddress=e.emailAddress,t.email=e.email,t.userPassword=e.userPassword,this.setState({record:t})}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmUserPassword,c=e.passwordState,l=e.updated,o=e.deleteState,i=this.state.record.homeAddress,d=a.homeAddressErrors,m=this.props.connected;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"updateAccountInfoModal",tabIndex:"-1",role:"dialog","aria-labelledby":"updateAccountInfoModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"updateAccountInfoModalTitle",children:"View Customer"}),m?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[l?m?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.lastName),type:"text",name:"lastName",value:t.lastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.lastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.firstName),type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.firstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.middleName),type:"text",name:"middleName",value:t.middleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.middleName)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Home Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"row mx-0",children:[Object(s.jsx)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(d.lotBlock),type:"text",name:"lotBlock",value:i.lotBlock,onChange:this.onChangeHomeAddress,placeholder:"Lot/Block (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(d.street),type:"text",name:"street",value:i.street,onChange:this.onChangeHomeAddress,placeholder:"Street",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"St."})})]}),Object(s.jsx)("div",{className:"col-lg-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(d.subdivision),type:"text",name:"subdivision",value:i.subdivision,onChange:this.onChangeHomeAddress,placeholder:"Subdivision",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("div",{className:"input-group-prepend",children:Object(s.jsx)("span",{className:"input-group-text",children:"Brgy."})}),Object(s.jsx)("input",{className:this.inputFieldClasses(d.barangay),type:"text",name:"barangay",value:i.barangay,onChange:this.onChangeHomeAddress,placeholder:"Barangay",noValidate:!0})]}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(d.municipality),type:"text",name:"municipality",value:i.municipality,onChange:this.onChangeHomeAddress,placeholder:"Municipality",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"City"})})]}),Object(s.jsx)("div",{className:"col-lg-4 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(d.province),type:"text",name:"province",value:i.province,onChange:this.onChangeHomeAddress,placeholder:"Province (Optional)",noValidate:!0})})]})," ",this.renderHomeAddressErrors(d)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Mobile Number",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("span",{className:"input-group-text",children:"+63"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.mobileNumber),type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0})]}),this.renderRecordErrors(a.mobileNumber)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Email Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"w-sm-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),Object(s.jsxs)("select",{className:"input-group-text",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress),Object(s.jsx)("div",{children:Object(s.jsxs)("small",{className:"text-success ml-2",children:[Object(s.jsx)("i",{className:"fa fa-info-circle mr-1"}),Object(s.jsx)("span",{children:"Valid Symbols:\xa0"}),Object(s.jsx)("span",{children:"!#$%^&*.?_-"})]})})]}):this.state.connectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later...",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.retryCustomersData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"zi-10 "+this.inputFieldClasses(a.userPassword),type:c.inputType,name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePassword,children:c.buttonText})})]})," ",this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmUserPassword),type:"password",name:"confirmUserPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmUserPassword)]})]}),l?m?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:o?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),F=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e.onBackToLogin=function(){e.props.history.replace("/",{verified:!0})},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center",children:Object(s.jsxs)("div",{className:"col-10 col-md-8 col-lg-6 form-light",children:[Object(s.jsxs)("div",{className:"alert alert-warning text-warning text-center my-3 mx-1 py-4",children:[Object(s.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(s.jsx)("i",{className:"fa fa-exclamation fa-lg"}),Object(s.jsx)("span",{className:"ml-2",children:Object(s.jsx)("h2",{className:"font-weight-normal",children:"Forbidden Access"})})]}),Object(s.jsx)("h5",{className:"font-weight-light",children:"Please login your Customer account first."})]}),Object(s.jsx)("div",{className:"text-center mb-3",children:Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:this.onBackToLogin,children:"Back to Login"})})]})})})}}]),a}(r.Component),R=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",lastName:"",firstName:"",middleName:"",lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:"",birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:""},connected:!1,connectionFailed:!1},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){var t=e.props.history.location.state.id;e.searchData(t),e.onSubmitForm()},e.onClickLink=function(t){var a=e.props.history;a.replace(t,{verified:!0,id:a.location.state.id})},e.componentDidMount=function(){var t=e.state.record;try{e.onRefresh()}catch(a){t.id=""}},e.renderContent=function(){var t=e.props.history,a=e.state,r=a.record,c=a.connected,l=a.connectionFailed;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(k,{activeId:0,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center pt-5 pt-md-3 pt-xl-0",children:Object(s.jsx)("div",{className:"col-11 col-sm-10 col-md-8 col-lg-6 form-light my-5",children:Object(s.jsxs)("div",{className:"row mx-2 mt-4",children:[c?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"col-4 col-sm-3 d-flex justify-content-center align-items-center p-0",children:Object(s.jsx)("div",{className:"square-100px bg-warning\r d-flex justify-content-center align-items-center",children:Object(s.jsx)("h4",{className:"m-0",children:r.id})})}),Object(s.jsxs)("div",{className:"col-8 col-sm-9 py-3 pr-1",children:[Object(s.jsx)("h2",{className:"mb-0",children:r.lastName}),Object(s.jsx)("h5",{className:"pl-3 pb-2 bottom-border-light font-weight-light",children:r.firstName+" "+r.middleName})]}),Object(s.jsxs)("div",{className:"col-12 py-3 pl-md-5 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-1",children:"Home Address"}),Object(s.jsx)("h6",{className:"pl-3 pb-2 bottom-border-light font-weight-light",children:r.lotBlock+" "+r.street+", "+r.subdivision+", "+r.barangay+", "+r.municipality+", "+r.province})]}),Object(s.jsxs)("div",{className:"col-12 py-3 pl-md-5 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-1",children:"Birthdate"}),Object(s.jsx)("h6",{className:"pl-3 pb-2 bottom-border-light font-weight-light",children:e.formatDate(r.birthdate)})]}),Object(s.jsxs)("div",{className:"col-12 col-md-5 col-lg-6 col-xl-5 py-3 pl-md-5 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-1",children:"Mobile Number"}),Object(s.jsx)("h6",{className:"pl-3 pb-2 bottom-border-light font-weight-light",children:r.mobileNumber})]}),Object(s.jsxs)("div",{className:"col-12 col-md-7 col-lg-6 col-xl-7 py-3 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-1",children:"Email Address"}),Object(s.jsx)("h6",{className:"pl-3 pb-2 bottom-border-light font-weight-light",children:r.emailAddress+""+r.email})]})]}):l?Object(s.jsxs)("div",{className:"col-12 text-center mt-3",children:[Object(s.jsx)("h3",{className:"text-danger mb-0",children:"Database Connection Failed"}),Object(s.jsx)("h5",{className:"font-weight-normal text-danger mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)("div",{className:"col-12 text-center mt-3",children:[Object(s.jsx)("h3",{className:"mb-0",children:"Loading Data"}),Object(s.jsx)("h5",{className:"font-weight-normal",children:"Please wait..."})]}),Object(s.jsxs)("div",{className:"d-flex justify-content-end w-100 my-3",children:[Object(s.jsxs)("button",{className:"btn btn-warning w-auto mr-1",onClick:function(){return e.onClickLink("/wiggly-tails/customer/view-transactions")},children:[Object(s.jsx)("i",{className:"fa fa-exchange-alt"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Transactions"})]}),Object(s.jsxs)("button",{className:"btn btn-secondary w-auto mr-1",onClick:function(){return e.onClickLink("/wiggly-tails/customer/manage-pets")},children:[Object(s.jsx)("i",{className:"fa fa-cat"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Pets"})]}),c?Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1","data-toggle":"modal","data-target":"#updateAccountInfoModal",children:[Object(s.jsx)("i",{className:"fa fa-user-edit fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update Info"})]}):null]})]})})})}),r.id.length>0?Object(s.jsx)(P,{customer:r,onRefresh:e.onRefresh,connected:c,connectionFailed:l,onSubmitForm:e.onSubmitForm}):null,Object(s.jsx)(w,{})]})},e.searchData=function(t){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewAccountInfo.php?search="+t).then((function(t){var a=t.data;a=a[0],e.setState({record:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(F,{history:e})})}}]),a}(r.Component),E=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",transType:"",transDate:"",petId:"",petName:"",customerId:"",customerLastName:"",customerFirstName:"",customerMiddleName:"",customerName:"",petWeight:"",remarks:"",empId:"",empLastName:"",empFirstName:"",empMiddleName:"",checkUp:{findings:"",treatment:"",admissionDate:"",releasedDate:"",addInfo:""},groom:{activity:""}},checkUpConnected:!1,checkUpConnectionFailed:!1,groomConnected:!1,groomConnectionFailed:!1,connected:!1},e.componentDidMount=function(){var t=e.props.transaction;"C"===t.transType?e.getCheckUpData(t.id):"G"===t.transType&&e.getGroomData(t.id);var a=Object(N.a)({},e.state.record),s=Object(N.a)({},e.state.record.checkUp),r=Object(N.a)({},e.state.record.groom);a.id=t.id,a.transType=t.transType,a.transDate=t.transDate,a.petId=t.petId,a.petName=t.petName,a.customerId=t.customerId,a.customerLastName=t.lastName,a.customerFirstName=t.firstName,a.customerMiddleName=t.middleName,a.customerName=t.lastName+", "+t.firstName+" "+t.middleName,a.petWeight=t.petWeight,a.remarks=t.remarks,a.empId=t.empId,a.empLastName=t.empLastName,a.empFirstName=t.empFirstName,a.empMiddleName=t.empMiddleName,a.checkUp=s,a.groom=r,e.setState({record:a})},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}))},e.onChangeCheckUp=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{checkUp:Object(N.a)(Object(N.a)({},e.record.checkUp),{},Object(f.a)({},s,r))})})}))},e.onChangeGroom=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{groom:Object(N.a)(Object(N.a)({},e.record.groom),{},Object(f.a)({},s,r))})})}))},e.onViewAdmission=function(t){var a=e.state.record,s=e.props.history;s.push(t,Object(N.a)(Object(N.a)({},s.location.state),{},{transId:a.id,petName:a.petName,transDate:a.transDate}))},e.checkUpForm=function(){var t=e.state.record.checkUp;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:e.state.checkUpConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Findings"}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"findings",value:t.findings,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Treatment"}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"treatment",value:t.treatment,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admission Date"}),Object(s.jsx)("input",{className:"form-control",type:"date",name:"admissionDate",value:t.admissionDate,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Released Date"}),Object(s.jsx)("input",{className:"form-control",type:"date",name:"releasedDate",value:t.releasedDate,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Additional Information"}),Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"addInfo",value:t.addInfo,rows:"2",noValidate:!0,disabled:!0})]})]}):e.state.checkUpConnectionFailed?Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-0",children:"Database Connection Failed"}),Object(s.jsx)("h5",{className:"font-weight-normal text-danger mb-3",children:"Please try again later..."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.retryCheckUpData,children:"Retry"})]}):Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"font-weight-normal mb-0",children:"Loading Data"}),Object(s.jsx)("h5",{className:"font-weight-normal",children:"Please wait..."})]})})})},e.groomForm=function(){var t=e.state.record.groom;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:e.state.groomConnected?Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Activity"}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"activity",value:t.activity,noValidate:!0,disabled:!0})]})}):e.state.groomConnectionFailed?Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-0",children:"Database Connection Failed"}),Object(s.jsx)("h5",{className:"font-weight-normal text-danger mb-3",children:"Please try again later..."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.retryGroomData,children:"Retry"})]}):Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"font-weight-normal mb-0",children:"Loading Data"}),Object(s.jsx)("h5",{className:"font-weight-normal",children:"Please wait..."})]})})})},e.retryCheckUpData=function(){e.getCheckUpData();e.setState({checkUpConnected:!1,checkUpConnectionFailed:!1,connected:!1})},e.getCheckUpData=function(t){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionCheckUp.php?id="+t).then((function(t){var a=t.data;a=a[0],e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{checkUp:a}),checkUpConnected:true,connected:true})}))})).catch((function(t){console.log(t);e.setState({checkUpConnectionFailed:!0})}))},e.retryGroomData=function(){e.getGroomData();e.setState({groomConnected:!1,groomConnectionFailed:!1,connected:!1})},e.getGroomData=function(t){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionGroom.php?id="+t).then((function(t){var a=t.data;a=a[0],e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{groom:a}),groomConnected:true,connected:true})}))})).catch((function(t){console.log(t);e.setState({groomConnectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state.record,a=this.props.transaction;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewTransactionModal-"+a.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewTransactionModalTitle-"+a.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewTransactionModalTitle-"+a.id,children:"View Transaction"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Transaction Date"}),Object(s.jsx)("input",{className:"form-control",type:"date",name:"transDate",value:t.transDate,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Transaction Type"}),Object(s.jsx)("input",{className:"zi-10 form-control",name:"transType",value:"C"===t.transType?"Check-up":"Groom",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Employee Id"}),Object(s.jsx)("div",{className:"input-group",children:Object(s.jsx)("input",{className:"zi-10 form-control",name:"empId",value:t.empId+" | "+t.empLastName+", "+t.empFirstName+" "+t.empMiddleName,noValidate:!0,disabled:!0})})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Customer Id"}),Object(s.jsx)("div",{className:"input-group",children:Object(s.jsx)("input",{className:"zi-10 form-control",name:"customerId",value:t.customerId+" | "+t.customerLastName+", "+t.customerFirstName+" "+t.customerMiddleName,noValidate:!0,disabled:!0})})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Pet Id"}),Object(s.jsx)("div",{className:"input-group",children:Object(s.jsx)("input",{className:"zi-10 form-control",name:"petId",value:t.petId+" | "+t.petName,noValidate:!0,disabled:!0})})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Pet Weight"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"petWeight",value:t.petWeight,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"Kilogram"})})]})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Remarks"}),Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"remarks",value:t.remarks,onChange:this.onChangeRecord,rows:"2",noValidate:!0,disabled:!0})]}),"C"===t.transType?this.checkUpForm():"G"===t.transType?this.groomForm():null]})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:"C"===t.transType&&this.state.connected?Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1","data-dismiss":"modal",onClick:function(){return e.onViewAdmission("/wiggly-tails/customer/view-admission")},children:[Object(s.jsx)("i",{className:"fa fa-hand-holding-medical fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Admissions"})]}):null})})]})})})})}}]),a}(r.Component),I=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).onClickPage=function(t){var a=e.props.recordsPerPage*(t-1),s=t;e.props.setPage(a,s)},e.onClickPagePrev=function(){var t=e.props.activePage;1!==t&&t--,e.onClickPage(t)},e.onClickPageNext=function(t){var a=e.props.activePage;a!==t&&a++,e.onClickPage(a)},e.renderPagination=function(t){for(var a=[],r=Math.ceil(t/e.props.recordsPerPage),n=e.props.activePage>2?e.props.activePage+1>=r?r>5?r-4:1:e.props.activePage-2:1,c=r<=n+4?r:n+4,l=function(){var t=o;a.push(Object(s.jsx)("button",{className:e.getPageClasses(t),onClick:function(){return e.onClickPage(t)},children:t},t))},o=n;o<=c;o++)l();return Object(s.jsx)("div",{className:"btn-toolbar justify-content-end mb-4",role:"toolbar",children:Object(s.jsxs)("div",{className:"btn-group",role:"group",children:[Object(s.jsxs)("button",{className:e.getPrevPageClasses(),onClick:function(){return e.onClickPagePrev()},children:[Object(s.jsx)("i",{className:"fa fa-long-arrow-alt-left"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Prev"})]}),e.renderBackPage(n,1),[a],e.renderContinuePage(c,r),Object(s.jsxs)("button",{className:e.getNextPageClasses(r),onClick:function(){return e.onClickPageNext(r)},children:[Object(s.jsx)("i",{className:"fa fa-long-arrow-alt-right"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Next"})]})]})})},e.renderBackPage=function(t,a){if(t>a){var r=t-1;return Object(s.jsx)("button",{className:e.getPageClasses(r),onClick:function(){return e.onClickPage(r)},children:"..."},r)}},e.renderContinuePage=function(t,a){if(t<a){var r=t+1;return Object(s.jsx)("button",{className:e.getPageClasses(r),onClick:function(){return e.onClickPage(r)},children:"..."},r)}},e.getPageClasses=function(t){var a="btn pagination-nav ";return a+=t===e.props.activePage?"btn-outline-primary-active":"btn-outline-primary"},e.getPrevPageClasses=function(){var t="btn ";return t+=1===e.props.activePage?"pagination-disabled":"btn-outline-primary pagination-nav"},e.getNextPageClasses=function(t){var a="btn ";return a+=e.props.activePage===t?"pagination-disabled":"btn-outline-primary pagination-nav"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.totalRecords;return this.renderPagination(e)}}]),a}(r.Component),V=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:e.formatDate(t[o].transDate)}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[o].lastName+", "+t[o].firstName+" "+t[o].middleName}),Object(s.jsx)("td",{children:t[o].petName}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[o].petWeight}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[o].empLastName+", "+t[o].empFirstName+" "+t[o].empMiddleName}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewTransactionModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e.formatTransType=function(e){return"C"===e?"Check-up":"Groom"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.transactions,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.history,i=e.connected,d=this.state,m=d.recordsPerPage,h=d.recordStartIndex,b=d.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-warning mr-2 ml-auto",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Transaction Date"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell",children:"Customer Name"}),Object(s.jsx)("th",{children:"Pet Name"}),Object(s.jsx)("th",{className:"w-110px d-none d-lg-table-cell",children:"Pet Weight"}),Object(s.jsx)("th",{className:"w-285px d-none d-md-table-cell",children:"Served by"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(I,{setPage:this.setPage,recordsPerPage:m,recordStartIndex:h,activePage:b,totalRecords:t.length}):null,t.map((function(e){return Object(s.jsx)(E,{transaction:e,onRefresh:a,history:o},e.id)}))]})}}]),a}(r.Component),D=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={transactions:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(k,{activeId:1,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"View Transactions"}),Object(s.jsx)(V,{transactions:e.state.transactions,onRefresh:e.onRefresh,onSearch:e.onSearch,history:t,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.transactions.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h1",{className:"display-5 text-danger",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center",children:"Please wait..."})]})})]})})}),Object(s.jsx)(w,{})]})},e.getData=function(){var t=e.props.history;u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewAccountTransactions.php?id="+t.location.state.id).then((function(t){var a=t.data;e.setState({transactions:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){var a=e.props.history;u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchAccountTransaction.php?id="+a.location.state.id+"&search="+t).then((function(t){var a=t.data;e.setState({transactions:a})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(F,{history:e})})}}]),a}(r.Component),T=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={record:{id:"",transId:"",title:"",content:""}},e.componentDidMount=function(){var t=e.props.admission,a=Object(N.a)({},e.state.record);a.id=t.id,a.transId=t.transId,a.title=t.title,a.content=t.content,e.setState({record:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.record,t=this.props.admission;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewAdmissionModal-"+t.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewAdmissionModalTitle-"+t.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewAdmissionModalTitle-"+t.id,children:"View Admission"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"title",value:e.title,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("textarea",{className:"form-control zi-10",type:"text",name:"content",value:e.content,rows:"7",noValidate:!0,disabled:!0})]})]})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100"})})]})})})})}}]),a}(r.Component),M=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[o].title}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[o].content}),Object(s.jsx)("td",{className:"d-table-cell d-md-none",children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewAdmissionModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.admission,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.history,i=e.connected,d=this.state,m=d.recordsPerPage,h=d.recordStartIndex,b=d.activePage,j=o.location.state;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-warning mr-2 ml-auto",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsxs)("thead",{className:"thead-dark text-light",children:[Object(s.jsx)("tr",{children:Object(s.jsx)("th",{colSpan:"3",children:Object(s.jsxs)("div",{className:"row align-items-center",children:[Object(s.jsx)("div",{className:"col-12 col-md-6 text-center mb-2 pb-2\r m-md-0 p-md-0 bottom-border-dark border-md-0",children:"Pet Name: "+j.petName}),Object(s.jsx)("div",{className:"col-12 col-md-6 text-center",children:"Transaction Date: "+j.transDate})]})})}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Title"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Content"}),Object(s.jsx)("th",{className:"d-table-cell d-md-none w-100px",children:"Action"})]})]}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(I,{setPage:this.setPage,recordsPerPage:m,recordStartIndex:h,activePage:b,totalRecords:t.length}):null,t.map((function(e){return Object(s.jsx)(T,{admission:e,onRefresh:a},e.id)}))]})}}]),a}(r.Component),L=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={admission:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(k,{activeId:1,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"View Admission"}),Object(s.jsx)(M,{admission:e.state.admission,history:t,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.admission.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h1",{className:"display-5 text-danger",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center",children:"Please wait..."})]})})]})})}),Object(s.jsx)(w,{})]})},e.getData=function(){var t=e.props.history;u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionAdmission.php?id="+t.location.state.transId).then((function(t){var a=t.data;e.setState({admission:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){var a=e.props.history;u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchTransactionAdmission.php?id="+a.location.state.admissionId+"&search="+t).then((function(t){var a=t.data;e.setState({admission:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(F,{history:e})})}}]),a}(r.Component),U=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",petName:"",birthdate:"",ownerId:"",petClass:"",lastVisit:"",pcciRegNo:""},errors:{petName:" ",birthdate:" ",petClass:" ",pcciRegNo:""},submitError:!1,petClasses:["Alpaca","Ant","Bear","Bird","Cat","Chicken","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Frog","Gecko","Gerbil","Giraffe","Goat","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Iguana","Jaguar","Lizard","Mantis","Monkey","Newt","Octopus","Pig","Panda","Quill","Rabbit","Rat","Salamander","Sheep","Snake","Spider","Tortoise","Turtle","Whale"],added:!1},e.onGenerateId=function(){var t=Object(N.a)({},e.state.record),a=e.generateCharacters(6);t.id=a,t.ownerId=e.props.ownerId,e.setState({record:t})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(f.a)({},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"ownerId":n.ownerId=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length>6?"Must be at exact 6 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.petName=e.removeLastSpace(s.petName),e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertPet.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();var t=!0;e.setState({submitError:!1,added:t}),t=!1,setTimeout((function(){return e.setState({added:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){e.onGenerateId();var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.errors);t.id=e.generateCharacters(6),t.petName="",t.birthdate="",t.petClass="",t.pcciRegNo="",a.petName="Pet Name is required",a.birthdate="Birthdate is required",a.petClass="Pet Class is required",a.pcciRegNo="",e.setState({record:t,errors:a,submitError:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.petClasses,c=e.added;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addPetModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addPetModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addPetModalTitle",children:"Add Pet"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,placeholder:"Please click 'Generate'",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.petName),type:"text",name:"petName",value:t.petName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Owner Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"ownerId",value:t.ownerId,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(a.petClass),name:"petClass",value:t.petClass,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(a.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.pcciRegNo),type:"text",name:"pcciRegNo",value:t.pcciRegNo,onChange:this.onChangeRecord,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.pcciRegNo)]})]}),c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsxs)("div",{className:"d-flex justify-content-end w-100",children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})]})})})})}}]),a}(r.Component),W=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",petName:"",birthdate:"",ownerId:"",petClass:"",lastVisit:"",pcciRegNo:""},errors:{petName:"",birthdate:"",petClass:"",pcciRegNo:""},submitError:!1,updated:!1,petClasses:["Alpaca","Ant","Bear","Bird","Cat","Chicken","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Frog","Gecko","Gerbil","Giraffe","Goat","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Iguana","Jaguar","Lizard","Mantis","Monkey","Newt","Octopus","Pig","Panda","Quill","Rabbit","Rat","Salamander","Sheep","Snake","Spider","Tortoise","Turtle","Whale"],deleteState:!1},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(f.a)({},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"ownerId":n.ownerId=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length>6?"Must be at exact 6 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.petName=e.removeLastSpace(s.petName),e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updatePet.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){var t=!0;e.setState({submitError:!1,updated:t}),t=!1,setTimeout((function(){return e.setState({updated:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.errors),s=e.props.pet;t.petName=s.petName,t.birthdate=s.birthdate,t.petClass=s.petClass,t.pcciRegNo=s.pcciRegNo,a.petName="",a.birthdate="",a.petClass="",a.pcciRegNo="",e.setState({record:t,errors:a,submitError:!1})},e.defaultButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]})},e.onToggleDelete=function(){var t=!e.state.deleteState;e.setState({deleteState:t})},e.deleteButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1","data-dismiss":"modal",onClick:e.onDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Confirm Delete"})]}),Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-arrow-left"}),Object(s.jsx)("span",{className:"ml-1",children:"Cancel Delete"})]})]})},e.onDelete=function(){var t=e.state.record,a=e.props.onRefresh;e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/deletePet.php",t).then(a)},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.getCustomersData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a})})).catch((function(e){return console.log(e)}))},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getCustomersData();var e=this.props.pet,t=Object(N.a)({},this.state.record);t.id=e.id,t.petName=e.petName,t.birthdate=e.birthdate,t.ownerId=e.ownerId,t.petClass=e.petClass,t.lastVisit=e.lastVisit,t.pcciRegNo=e.pcciRegNo,this.setState({record:t})}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.petClasses,c=e.updated,l=e.deleteState,o=this.props,i=o.pet,d=o.connected;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewPetModal"+i.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewPetModalTitle"+i.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewPetModalTitle"+i.id,children:"View Pet"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[c?d?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.petName),type:"text",name:"petName",value:t.petName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Owner Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"ownerId",value:t.ownerId,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(a.petClass),name:"petClass",value:t.petClass,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(a.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.pcciRegNo),type:"text",name:"pcciRegNo",value:t.pcciRegNo,onChange:this.onChangeRecord,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.pcciRegNo)]})]}),c?d?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:l?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),B=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:t[o].ownerLastName+", "+t[o].ownerFirstName+" "+t[o].ownerMiddleName}),Object(s.jsx)("td",{children:t[o].petName}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:e.formatDate(t[o].birthdate)}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[o].petClass}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:null===t[o].lastVisit?"Not visiting yet":e.formatDate(t[o].lastVisit)}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewPetModal"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.pets,a=e.ownerId,r=e.onRefresh,c=e.onSearch,l=e.searchValue,o=e.onClear,i=e.connected,d=e.connectionFailed,m=e.onSubmitForm,h=this.state,b=h.recordsPerPage,j=h.recordStartIndex,u=h.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addPetModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-xl-inline d-lg-none d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:r,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-xl-inline d-lg-none d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:c,value:l}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:o,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Owner Name"}),Object(s.jsx)("th",{children:"Pet Name"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell",children:"Birthdate"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Pet Class"}),Object(s.jsx)("th",{className:"d-none d-sm-table-cell",children:"Last Visit"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(I,{setPage:this.setPage,recordsPerPage:b,recordStartIndex:j,activePage:u,totalRecords:t.length}):null,Object(s.jsx)(U,{onRefresh:r,ownerId:a,onSubmitForm:m}),t.map((function(e){return Object(s.jsx)(W,{pet:e,onRefresh:r,connected:i,connectionFailed:d,onSubmitForm:m},e.id)}))]})}}]),a}(r.Component),G=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={pets:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(k,{activeId:2,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Pets"}),Object(s.jsx)(B,{pets:e.state.pets,ownerId:t.location.state.id,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.pets.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h1",{className:"display-5 text-danger",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center",children:"Please wait..."})]})})]})})}),Object(s.jsx)(w,{})]})},e.getData=function(){var t=e.props.history;u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewAccountPets.php?id="+t.location.state.id).then((function(t){var a=t.data;e.setState({pets:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){var a=e.props.history;u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchAccountPet.php?id="+a.location.state.id+"&search="+t).then((function(t){var a=t.data;e.setState({pets:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(F,{history:e})})}}]),a}(r.Component),z=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={},e.onClickLink=function(t){e.props.history.push(t,{verified:!0})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(k,{activeId:3,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center pt-5 pt-md-3 pt-xl-0",children:Object(s.jsx)("div",{className:"col-11 col-sm-10 col-md-8 col-lg-6 form-light my-5 my-md-0 mt-md-5",children:Object(s.jsxs)("div",{className:"row mx-2 mt-4",children:[Object(s.jsxs)("div",{className:"col-12 pr-1",children:[Object(s.jsx)("h2",{className:"mb-3",children:"About us"}),Object(s.jsxs)("h5",{className:"px-2 text-center font-weight-light",children:["Roma Ador Dionisio-Pajarillo's (DVM)",Object(s.jsx)("br",{}),"Veterinary Clinic - Wiggly Tails"]}),Object(s.jsx)("h6",{className:"px-3 font-weight-light",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo qui quaerat maxime, dolores nemo soluta reiciendis deleniti possimus illum temporibus, odio maiores velit inventore architecto! Aut est maxime quam doloribus!"}),Object(s.jsx)("h6",{className:"px-3 text-center pb-3 bottom-border-light font-weight-light",children:Object(s.jsx)("b",{children:"Open on Monday to Saturday at 8:00am to 5:00pm"})})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-3",children:"Offers"}),Object(s.jsx)("h6",{className:"pl-3 bottom-border-light font-weight-light",children:Object(s.jsxs)("ul",{className:"row",children:[Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Consultation"}),Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Treatment"}),Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Vaccination"}),Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Confinement"}),Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Grooming"})]})})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-3",children:"Clinic Address"}),Object(s.jsx)("h6",{className:"pl-3 pb-3 bottom-border-light font-weight-light",children:"Brgy. Sta Cruz, Zaragoza, Nueva Ecija"})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-3",children:"Contact Information"}),Object(s.jsx)("h6",{className:"pl-3 bottom-border-light font-weight-light",children:Object(s.jsx)("ul",{className:"list-unstyled",children:Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Mobile Number: "}),"+63923-119-0591"]})})})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-3",children:"Developers"}),Object(s.jsx)("h6",{className:"pl-3 font-weight-light",children:Object(s.jsxs)("ul",{className:"list-unstyled",children:[Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Main Developer: "}),"Casindad, Mc Allain Sanchez (BSIT Student)"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Database Source: "}),"Dr. Roma's Veterinary Clinic (Owner)"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Interviewer: "}),"Dela Torre, Emmanuel (BSIT Student)"]}),Object(s.jsxs)("li",{className:"d-block d-md-flex",children:[Object(s.jsx)("b",{className:"mr-2",children:"Others: "}),Object(s.jsxs)("ul",{className:"list-unstyled",children:[Object(s.jsx)("li",{children:"Enriquez, Ryan (BSIT Student)"}),Object(s.jsx)("li",{children:"Flores, Jaizen Ann Noble (BSIT Student)"}),Object(s.jsx)("li",{children:"Ruiz, Jehiele Jeff (BSIT Student)"})]})]})]})})]})]})})})}),Object(s.jsx)(w,{})]})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(F,{history:e})})}}]),a}(r.Component),q=a(35),H=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{adminId:"",adminPassword:""},errors:{adminId:"Please input your Admin Id",adminPassword:"Please input your Admin Password"},records:[],connected:!1,connectionFailed:!1,submitError:!1,loginError:!1},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"adminId"===s&&(r=r.toUpperCase()),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors);switch(s){case"adminId":n.adminId=0===r.length?"Please input your Admin Id":6!==r.length?"Must be at exact 6 characters":"";break;case"adminPassword":n.adminPassword=0===r.length?"Please input your Admin Password":r.length>24?"Must be at maximum of 24 characters":""}e.setState({errors:n})},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors),a=Object(q.a)(e.state.records),s=Object(N.a)({},e.state.record);if(e.validForm({errors:t})){var r=!1,n=!1,c=a.filter((function(e){return e.id===s.adminId&&e.empPassword===s.adminPassword}));if(c.length>0)document.getElementById("btnClose").click(),e.props.history.replace("/wiggly-tails/admin/manage-employees",{verified:!0,id:c[0].id,empType:c[0].empType});else r=!0,n=!0,s.adminPassword="",t.adminPassword="Please input your Admin Password";e.setState({record:s,errors:t,submitError:r,loginError:n})}else{e.setState({submitError:!0})}},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.onReset=function(){var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.errors);t.adminId="",t.adminPassword="",a.adminId="Please input your Admin Id",a.adminPassword="Please input your Admin Password",e.setState({record:t,errors:a,submitError:!1,loginError:!1})},e.renderLoginError=function(){if(e.state.loginError)return Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{className:"lh-0 my-1",children:"Incorrect Admin Id or Admin Password"})]})},e.renderModal=function(){var t=e.state,a=t.record,r=t.errors;return Object(s.jsx)("div",{className:"modal fade",id:"manageEmployeesModal",tabIndex:"-1",role:"dialog","aria-labelledby":"manageEmployeesModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"manageEmployeesModalTitle",children:"Manage Employees"}),Object(s.jsx)("button",{id:"btnClose",className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:e.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[e.renderLoginError(),e.state.connected?Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admin Id"}),Object(s.jsx)("input",{className:e.inputFieldClasses(r.adminId),type:"text",name:"adminId",value:a.adminId,maxLength:"6",onChange:e.onChangeRecord,noValidate:!0}),e.renderRecordErrors(r.adminId)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admin Password"}),Object(s.jsx)("input",{className:e.inputFieldClasses(r.adminPassword),type:"password",name:"adminPassword",value:a.adminPassword,onChange:e.onChangeRecord,noValidate:!0}),e.renderRecordErrors(r.adminPassword)]})]}):e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h3",{className:"text-danger mb-0",children:"Database Connection Failed"}),Object(s.jsx)("h5",{className:"font-weight-normal text-danger mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h3",{className:"text-center mb-0",children:"Loading Records"}),Object(s.jsx)("h5",{className:"font-weight-normal text-center",children:"Please wait..."})]})]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:e.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null})})]})})})},e.componentDidMount=function(){e.getData()},e.onRefresh=function(){e.getData();e.setState({connected:!1,connectionFailed:!1})},e.getData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewAdmins.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)(n.a.Fragment,{children:this.renderModal()})}}]),a}(r.Component),J=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={navs:[{id:0,text:"Home",link:"/wiggly-tails/admin",items:[]},{id:3,text:"Manage",link:null,items:[{id:4,text:"Transactions",link:"/wiggly-tails/admin/manage-transactions"},{id:5,text:"Customers",link:"/wiggly-tails/admin/manage-customers"},{id:6,text:"Pets",link:"/wiggly-tails/admin/manage-pets"},{id:7,text:"Employees",link:"/wiggly-tails/admin/manage-employees"}]},{id:10,text:"Sign out",link:"/wiggly-tails",items:[]}]},e.onClickLink=function(t){var a=e.props.history,s=t.link;a.replace(s,{verified:!0})},e.onClickBrand=function(){e.props.history.replace("/wiggly-tails/admin",{verified:!0})},e.onClickSignOut=function(t){var a=e.props.history,s=t.link;a.replace(s)},e.linkItemClasses=function(t){var a=e.props,s=a.activeId,r=a.sourceId,n="nav-link ";return n+=t===s||t===r?"active":10===t?"text-danger":"inactive"},e.dropdownItemClasses=function(t){var a="dropdown-item ";return a+=7===t?"text-danger ":"text-dark ",a+=t===e.props.activeId?"active-dropdown":"inactive-dropdown"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.activeId,r=t.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark fixed-top",children:[Object(s.jsxs)("a",{onClick:this.onClickBrand,className:"navbar-brand py-0",children:[Object(s.jsx)("img",{src:p,alt:"",className:"mr-2"}),"Veterinary Clinic"]}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#admin-navbar","aria-controls":"admin-navbar","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"admin-navbar",children:Object(s.jsx)("ul",{className:"navbar-nav ml-auto",children:this.state.navs.map((function(t){return t.items.length>0?Object(s.jsxs)("li",{className:"nav-item dropdown mr-1",children:[Object(s.jsx)("a",{className:"dropdown-toggle "+e.linkItemClasses(t.id),id:"dropdown"+t.id,href:t.link,"data-toggle":"dropdown",children:t.text}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdown"+t.id,children:t.items.map((function(t){return 7===t.id&&t.id!==a?Object(s.jsx)("a",{className:e.dropdownItemClasses(t.id),"data-toggle":"modal","data-target":"#manageEmployeesModal",children:t.text},t.id):Object(s.jsx)("a",{className:e.dropdownItemClasses(t.id),onClick:function(){return e.onClickLink(t)},children:t.text},t.id)}))})]},t.id):Object(s.jsx)("li",{className:"nav-item mr-1",children:10===t.id?Object(s.jsx)("a",{onClick:function(){return e.onClickSignOut(t)},className:e.linkItemClasses(t.id),children:t.text}):Object(s.jsx)("a",{onClick:function(){return e.onClickLink(t)},className:e.linkItemClasses(t.id),children:t.text})},t.id)}))})})]}),Object(s.jsx)(H,{history:r})]})}}]),a}(r.Component),Z=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e.onBackToLogin=function(){e.props.history.replace("/",{verified:!0})},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center",children:Object(s.jsxs)("div",{className:"col-10 col-md-8 col-lg-6 form-light",children:[Object(s.jsxs)("div",{className:"alert alert-warning text-warning text-center my-3 mx-1 py-4",children:[Object(s.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(s.jsx)("i",{className:"fa fa-exclamation fa-lg"}),Object(s.jsx)("span",{className:"ml-2",children:Object(s.jsx)("h2",{className:"font-weight-normal",children:"Forbidden Access"})})]}),Object(s.jsx)("h5",{className:"font-weight-light",children:"Please login your Employee account first."})]}),Object(s.jsx)("div",{className:"text-center mb-3",children:Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:this.onBackToLogin,children:"Back to Login"})})]})})})}}]),a}(r.Component),X=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={},e.onClickLink=function(t){e.props.history.replace(t,{verified:!0})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(J,{activeId:0,history:t}),Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)("div",{className:"row min-h-full align-items-center mx-1 py-5",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"row mt-5 mb-3",children:[Object(s.jsx)("div",{className:"col-lg-3 col-sm-6 text-center p-2",children:Object(s.jsxs)("div",{className:"custom-card-light max-h-90 min-h-24 p-3",children:[Object(s.jsx)("h3",{className:"font-weight-normal mt-3",children:"Transactions"}),Object(s.jsx)("img",{src:x,alt:"transactions",className:"card-img d-none d-md-inline my-4"}),Object(s.jsxs)("div",{className:"p-3 mt-2",children:[Object(s.jsx)("h5",{children:"Please suggest a Header"}),Object(s.jsx)("p",{children:"and Description"})]}),Object(s.jsxs)("button",{className:"btn btn-warning border w-75 mt-3",onClick:function(){return e.onClickLink("/wiggly-tails/admin/manage-transactions")},children:[Object(s.jsx)("i",{className:"fa fa-exchange-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Manage"})]})]})}),Object(s.jsx)("div",{className:"col-lg-3 col-sm-6 text-center p-2",children:Object(s.jsxs)("div",{className:"custom-card-light max-h-90 min-h-24 p-3",children:[Object(s.jsx)("h3",{className:"font-weight-normal mt-3",children:"Customers"}),Object(s.jsx)("img",{src:x,alt:"customers",className:"card-img d-none d-md-inline my-4"}),Object(s.jsxs)("div",{className:"p-3 mt-2",children:[Object(s.jsx)("h5",{children:"Please suggest a Header"}),Object(s.jsx)("p",{children:"and Description"})]}),Object(s.jsxs)("button",{className:"btn btn-primary border w-75 mt-3",onClick:function(){return e.onClickLink("/wiggly-tails/admin/manage-customers")},children:[Object(s.jsx)("i",{className:"fa fa-users"}),Object(s.jsx)("span",{className:"ml-1",children:"Manage"})]})]})}),Object(s.jsx)("div",{className:"col-lg-3 col-sm-6 text-center p-2",children:Object(s.jsxs)("div",{className:"custom-card-light max-h-90 min-h-24 p-3",children:[Object(s.jsx)("h3",{className:"font-weight-normal mt-3",children:"Pets"}),Object(s.jsx)("img",{src:x,alt:"pets",className:"card-img d-none d-md-inline my-4"}),Object(s.jsxs)("div",{className:"p-3 mt-2",children:[Object(s.jsx)("h5",{children:"Please suggest a Header"}),Object(s.jsx)("p",{children:"and Description"})]}),Object(s.jsxs)("button",{className:"btn btn-secondary border w-75 mt-3",onClick:function(){return e.onClickLink("/wiggly-tails/admin/manage-pets")},children:[Object(s.jsx)("i",{className:"fa fa-cat"}),Object(s.jsx)("span",{className:"ml-1",children:"Manage"})]})]})}),Object(s.jsx)("div",{className:"col-lg-3 col-sm-6 text-center p-2",children:Object(s.jsxs)("div",{className:"custom-card-light max-h-90 min-h-24 p-3",children:[Object(s.jsx)("h3",{className:"font-weight-normal mt-3",children:"Employees"}),Object(s.jsx)("img",{src:x,alt:"employees",className:"card-img d-none d-md-inline my-4"}),Object(s.jsxs)("div",{className:"p-3 mt-2",children:[Object(s.jsx)("h5",{children:"Please suggest a Header"}),Object(s.jsx)("p",{children:"and Description"})]}),Object(s.jsxs)("button",{className:"btn btn-danger border w-75 mt-3","data-toggle":"modal","data-target":"#manageEmployeesModal",children:[Object(s.jsx)("i",{className:"fa fa-user-md"}),Object(s.jsx)("span",{className:"ml-1",children:"Manage"})]})]})})]})})}),Object(s.jsx)(H,{history:t})]}),Object(s.jsx)(w,{})]})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(Z,{history:e})})}}]),a}(r.Component),K=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",transType:"",transDate:"",petId:"",customerId:"",petWeight:"",remarks:"",empId:"",checkUp:{findings:"",treatment:"",admissionDate:"",releasedDate:"",addInfo:""},groom:{activity:""}},errors:{transType:" ",petId:" ",customerId:" ",petWeight:" ",remarks:"",empId:" ",checkUpErrors:{findings:" ",treatment:" ",addInfo:""},groomErrors:{activity:" "}},submitError:!1,added:!1,customers:[],customerConnected:!1,customerConnectionFailed:!1,pets:[],petConnected:!1,petConnectionFailed:!1,employees:[],employeeConnected:!1,employeeConnectionFailed:!1,customer:{search:!1,searchValue:""},pet:{search:!1,searchValue:""},employee:{search:!1,searchValue:""}},e.onGenerateId=function(){var t=Object(N.a)({},e.state.record),a=e.generateCharacters(6);t.id=a,t.transDate=e.getCurrentDate(),e.setState({record:t})},e.getCurrentDate=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;if("remarks"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)})),"transType"===s){var n=Object(N.a)({},e.state.record.checkUp),c=Object(N.a)({},e.state.errors.checkUpErrors);n.findings="",n.treatment="",n.admissionDate="",n.releasedDate="",n.addInfo="",c.findings=" ",c.treatment=" ",c.admissionDate="",c.releasedDate="",c.addInfo="";var l=Object(N.a)({},e.state.record.groom),o=Object(N.a)({},e.state.errors.groomErrors);l.activity="",o.activity="",e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{checkUp:n,groom:l}),errors:Object(N.a)(Object(N.a)({},e.errors),{},{checkUpErrors:c,groomErrors:o})})}))}},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors);switch(s){case"transType":n.transType=0===r.length?" ":"";break;case"empId":n.empId=0===r.length?" ":"";break;case"customerId":n.customerId=0===r.length?" ":"";break;case"petId":n.petId=0===r.length?" ":"";break;case"petWeight":n.petWeight=0===r.length?" ":Object(y.isNumeric)(r)?r.length>6?"Must be at maximum of 6 numbers":"":"Please input a valid value";break;case"remarks":n.remarks=r.length>128?"Must be at maximum of 128 characters":""}e.setState({errors:n})},e.onChangeCheckUp=function(t){var a=t.target,s=a.name,r=a.value;"admissionDate"!==s&&"releasedDate"!==s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{checkUp:Object(N.a)(Object(N.a)({},e.record.checkUp),{},Object(f.a)({},s,r))})})}),(function(){return e.onCheckCheckUpErrors(t)}))},e.onCheckCheckUpErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors.checkUpErrors),c=e.removeSpaces(r).length;switch(s){case"findings":n.findings=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"treatment":n.treatment=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"addInfo":n.addInfo=r.length>128?"Must be at maximum of 128 characters":""}e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{errors:Object(N.a)(Object(N.a)({},e.errors),{},{checkUpErrors:n})})}))},e.onChangeGroom=function(t){var a=t.target,s=a.name,r=a.value;"activity"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{groom:Object(N.a)(Object(N.a)({},e.record.groom),{},Object(f.a)({},s,r))})})}),(function(){return e.onCheckGroomErrors(t)}))},e.onCheckGroomErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors.groomErrors),c=e.removeSpaces(r).length;switch(s){case"activity":n.activity=0===c?" ":c<2||r.length>32?"Must be at between 2 and 32 characters":0===c?" ":""}e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{errors:Object(N.a)(Object(N.a)({},e.errors),{},{groomErrors:n})})}))},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.remarks=e.removeLastSpace(s.remarks),s.checkUp.findings=e.removeLastSpace(s.checkUp.findings),s.checkUp.treatment=e.removeLastSpace(s.checkUp.treatment),s.checkUp.addInfo=e.removeLastSpace(s.checkUp.addInfo),s.groom.activity=e.removeLastSpace(s.groom.activity),e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertTransaction.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();e.setState({submitError:!1,added:!0})},e.validForm=function(t){var a=t.errors,s=e.state.record,r=!0;return Object.values(a).forEach((function(e){e.length>0&&(r=!1)})),"C"===s.transType?Object.values(a.checkUpErrors).forEach((function(e){e.length>0&&(r=!1)})):"G"===s.transType&&Object.values(a.groomErrors).forEach((function(e){e.length>0&&(r=!1)})),r},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.record.checkUp),s=Object(N.a)({},e.state.record.groom),r=Object(N.a)({},e.state.errors),n=Object(N.a)({},e.state.errors.checkUp),c=Object(N.a)({},e.state.errors.groom),l=e.generateCharacters(6);s.activity="",a.findings="",a.treatment="",a.admissionDate=e.getCurrentDate(),a.releasedDate="",a.addInfo="",t.id=l,t.transType="",t.transDate=e.getCurrentDate(),t.petId="",t.customerId="",t.petWeight="",t.remarks="",t.empId="",t.checkUp=a,t.groom=s,c.activity=" ",n.findings=" ",n.treatment=" ",n.addInfo="",r.transType=" ",r.petId=" ",r.customerId=" ",r.remarks="",r.empId=" ",r.checkUpErrors=n,r.groomErrors=c,e.setState({record:t,errors:r,submitError:!1,added:!1})},e.onToggleCustomerSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.customer);a.search=!a.search,a.searchValue="",e.setState({customer:a})},e.onClearCustomerSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.customer);a.searchValue="",e.setState({customer:a})},e.onChangeCustomerSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{customer:Object(N.a)(Object(N.a)({},e.customer),{},Object(f.a)({},s,r))})}))},e.onTogglePetSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.pet);a.search=!a.search,a.searchValue="",e.setState({pet:a})},e.onClearPetSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.pet);a.searchValue="",e.setState({pet:a})},e.onChangePetSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{pet:Object(N.a)(Object(N.a)({},e.pet),{},Object(f.a)({},s,r))})}))},e.onToggleEmployeeSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.employee);a.search=!a.search,a.searchValue="",e.setState({employee:a})},e.onClearEmployeeSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.employee);a.searchValue="",e.setState({employee:a})},e.onChangeEmployeeSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{employee:Object(N.a)(Object(N.a)({},e.employee),{},Object(f.a)({},s,r))})}))},e.checkUpForm=function(){var t=e.state.record.checkUp,a=e.state.errors.checkUpErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsxs)("div",{className:"row mt-3",children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Findings",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.findings),type:"text",name:"findings",value:t.findings,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(a.findings)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Treatment",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.treatment),type:"text",name:"treatment",value:t.treatment,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(a.treatment)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admission Date"}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"admissionDate",value:t.admissionDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Released Date"}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"releasedDate",value:t.releasedDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Additional Information"}),Object(s.jsx)("textarea",{className:e.inputFieldClasses(a.addInfo),type:"text",name:"addInfo",value:t.addInfo,onChange:e.onChangeCheckUp,rows:"2",noValidate:!0}),e.renderRecordErrors(a.addInfo)]})]})})},e.groomForm=function(){var t=e.state.record.groom,a=e.state.errors.groomErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Activity",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.activity),type:"text",name:"activity",value:t.activity,onChange:e.onChangeGroom,noValidate:!0}),e.renderRecordErrors(a.activity)]})})})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.retryCustomersData=function(){e.getCustomersData();e.setState({customerConnected:!1,customerConnectionFailed:!1})},e.getCustomersData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({customers:a,customerConnected:!0})})).catch((function(t){console.log(t);e.setState({customerConnectionFailed:!0})}))},e.retryPetsData=function(){e.getPetsData();e.setState({petConnected:!1,petConnectionFailed:!1})},e.getPetsData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php").then((function(t){var a=t.data;e.setState({pets:a,petConnected:!0})})).catch((function(t){console.log(t);e.setState({petConnectionFailed:!0})}))},e.retryEmployeesData=function(){e.getEmployeesData();e.setState({employeeConnected:!1,employeeConnectionFailed:!1})},e.getEmployeesData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({employees:a,employeeConnected:!0})})).catch((function(t){console.log(t);e.setState({employeeConnectionFailed:!0})}))},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId(),this.getCustomersData(),this.getPetsData(),this.getEmployeesData()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.customers,c=e.customer,l=e.pets,o=e.pet,i=e.employees,d=e.employee,m=e.added;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addTransactionModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addTransactionModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addTransactionModalTitle",children:"Add Transaction"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[m?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Date",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"transDate",value:t.transDate,onChange:this.onChangeRecord,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(a.transType),name:"transType",value:t.transType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),Object(s.jsx)("option",{value:"C",children:"Check-up"}),Object(s.jsx)("option",{value:"G",children:"Groom"})]}),this.renderRecordErrors(a.transType)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Employee Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.empId),name:"empId",value:t.empId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),i.length>0?i.filter((function(e){return(e.empLastName+", "+e.empFirstName+" "+e.empMiddleName).toLowerCase().match(d.searchValue.toLowerCase())||""===d.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.empLastName+", "+e.empFirstName+" "+e.empMiddleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleEmployeeSearch,children:"Search"})})]}),d.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:d.searchValue,onChange:this.onChangeEmployeeSearch,placeholder:"Search by Employee Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearEmployeeSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.empId)]}):this.state.employeeConnectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later...",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.retryEmployeesData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Customer Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.customerConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.customerId),name:"customerId",value:t.customerId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(c.searchValue.toLowerCase())||""===c.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleCustomerSearch,children:"Search"})})]}),c.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:c.searchValue,onChange:this.onChangeCustomerSearch,placeholder:"Search by Customer Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearCustomerSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.customerId)]}):this.state.customerConnectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later...",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.retryCustomersData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.petConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.petId),name:"petId",value:t.petId,onChange:this.onChangeRecord,noValidate:!0,children:[l.filter((function(e){return e.petName.toLowerCase().match(o.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===o.searchValue&&e.ownerId===t.customerId})).length>0||o.searchValue.length>0?Object(s.jsx)("option",{value:"",children:"Choose one"}):t.customerId.length>0?Object(s.jsx)("option",{value:"",children:"No pet found"}):Object(s.jsx)("option",{value:"",children:"Customer Id is required"}),l.length>0?l.filter((function(e){return e.petName.toLowerCase().match(o.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===o.searchValue&&e.ownerId===t.customerId})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.petName},e.id)})):null]}),l.filter((function(e){return e.petName.match(o.searchValue)&&e.ownerId===t.customerId||""===o.searchValue&&e.ownerId===t.customerId})).length>0||o.searchValue.length>0?Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePetSearch,children:"Search"})}):null]}),o.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:o.searchValue,onChange:this.onChangePetSearch,placeholder:"Search by Pet Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearPetSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.petId)]}):this.state.petConnectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later...",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.retryPetsData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Weight",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(a.petWeight),type:"text",name:"petWeight",value:t.petWeight,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"Kilogram"})})]}),this.renderRecordErrors(a.petWeight)]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Remarks"}),Object(s.jsx)("textarea",{className:this.inputFieldClasses(a.remarks),type:"text",name:"remarks",value:t.remarks,onChange:this.onChangeRecord,rows:"2",noValidate:!0}),this.renderRecordErrors(a.remarks)]}),"C"===t.transType?this.checkUpForm():"G"===t.transType?this.groomForm():null]}),m?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:this.state.customerConnected&&this.state.petConnected&&this.state.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null})})]})})})})}}]),a}(r.Component),Y=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",transType:"",transDate:"",petId:"",petName:"",customerId:"",customerName:"",petWeight:"",remarks:"",empId:"",checkUp:{findings:"",treatment:"",admissionDate:"",releasedDate:"",addInfo:""},groom:{activity:""}},errors:{transType:"",petId:"",customerId:"",petWeight:"",remarks:"",empId:"",checkUpErrors:{findings:"",treatment:"",addInfo:""},groomErrors:{activity:""}},submitError:!1,updated:!1,customers:[],customerConnected:!1,customerConnectionFailed:!1,pets:[],petConnected:!1,petConnectionFailed:!1,employees:[],employeeConnected:!1,employeeConnectionFailed:!1,checkUpConnected:!1,checkUpConnectionFailed:!1,groomConnected:!1,groomConnectionFailed:!1,connected:!1,customer:{search:!1,searchValue:""},pet:{search:!1,searchValue:""},employee:{search:!1,searchValue:""}},e.componentDidMount=function(){var t=e.props.transaction;"C"===t.transType?e.getCheckUpData(t.id):"G"===t.transType&&e.getGroomData(t.id),e.getCustomersData(),e.getPetsData(),e.getEmployeesData();var a=Object(N.a)({},e.state.record),s=Object(N.a)({},e.state.record.checkUp),r=Object(N.a)({},e.state.record.groom);a.id=t.id,a.transType=t.transType,a.transDate=t.transDate,a.petId=t.petId,a.petName=t.petName,a.customerId=t.customerId,a.customerName=t.lastName+", "+t.firstName+" "+t.middleName,a.petWeight=t.petWeight,a.remarks=t.remarks,a.empId=t.empId,a.checkUp=s,a.groom=r,e.setState({record:a})},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;if("remarks"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)})),"transType"===s){var n=Object(N.a)({},e.state.record.checkUp),c=Object(N.a)({},e.state.errors.checkUpErrors);n.findings="",n.treatment="",n.admissionDate="",n.releasedDate="",n.addInfo="",c.findings=" ",c.treatment=" ",c.admissionDate="",c.releasedDate="",c.addInfo="";var l=Object(N.a)({},e.state.record.groom),o=Object(N.a)({},e.state.errors.groomErrors);l.activity="",o.activity=" ";e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{checkUp:n,groom:l}),errors:Object(N.a)(Object(N.a)({},e.errors),{},{checkUpErrors:c,groomErrors:o}),checkUpConnected:true,groomConnected:true,connected:true})}))}},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors);switch(s){case"transType":n.transType=0===r.length?" ":"";break;case"empId":n.empId=0===r.length?" ":"";break;case"customerId":n.customerId=0===r.length?" ":"";break;case"petId":n.petId=0===r.length?" ":"";break;case"petWeight":n.petWeight=0===r.length?" ":Object(y.isNumeric)(r)?r.length>6?"Must be at maximum of 6 numbers":"":"Please input a valid value";break;case"remarks":n.remarks=r.length>128?"Must be at maximum of 128 characters":""}e.setState({errors:n})},e.onChangeCheckUp=function(t){var a=t.target,s=a.name,r=a.value;"admissionDate"!==s&&"releasedDate"!==s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{checkUp:Object(N.a)(Object(N.a)({},e.record.checkUp),{},Object(f.a)({},s,r))})})}),(function(){return e.onCheckCheckUpErrors(t)}))},e.onCheckCheckUpErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors.checkUpErrors),c=e.removeSpaces(r).length;switch(s){case"findings":n.findings=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"treatment":n.treatment=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"addInfo":n.addInfo=r.length>128?"Must be at maximum of 128 characters":""}e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{errors:Object(N.a)(Object(N.a)({},e.errors),{},{checkUpErrors:n})})}))},e.onChangeGroom=function(t){var a=t.target,s=a.name,r=a.value;"activity"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{groom:Object(N.a)(Object(N.a)({},e.record.groom),{},Object(f.a)({},s,r))})})}),(function(){return e.onCheckGroomErrors(t)}))},e.onCheckGroomErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors.groomErrors),c=e.removeSpaces(r).length;switch(s){case"activity":n.activity=0===c?" ":c<2||r.length>32?"Must be at between 2 and 32 characters":0===c?" ":""}e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{errors:Object(N.a)(Object(N.a)({},e.errors),{},{groomErrors:n})})}))},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.remarks=e.removeLastSpace(s.remarks),s.checkUp.findings=e.removeLastSpace(s.checkUp.findings),s.checkUp.treatment=e.removeLastSpace(s.checkUp.treatment),s.checkUp.addInfo=e.removeLastSpace(s.checkUp.addInfo),s.groom.activity=e.removeLastSpace(s.groom.activity),e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updateTransaction.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.setState({submitError:!1,updated:!0})},e.validForm=function(t){var a=t.errors,s=e.state.record,r=!0;return Object.values(a).forEach((function(e){e.length>0&&(r=!1)})),"C"===s.transType?Object.values(a.checkUpErrors).forEach((function(e){e.length>0&&(r=!1)})):"G"===s.transType&&Object.values(a.groomErrors).forEach((function(e){e.length>0&&(r=!1)})),r},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=e.props.transaction;e.setState({checkUpConnected:!1,groomConnected:!1,connected:!1}),"C"===t.transType?e.getCheckUpData(t.id):"G"===t.transType&&e.getGroomData(t.id);var a=Object(N.a)({},e.state.record),s=Object(N.a)({},e.state.record.checkUp),r=Object(N.a)({},e.state.record.groom),n=Object(N.a)({},e.state.errors),c=Object(N.a)({},e.state.errors.checkUp),l=Object(N.a)({},e.state.errors.groom);a.id=t.id,a.transType=t.transType,a.transDate=t.transDate,a.petId=t.petId,a.customerId=t.customerId,a.petWeight=t.petWeight,a.remarks=t.remarks,a.empId=t.empId,a.checkUp=s,a.groom=r,l.activity="",c.findings="",c.treatment="",c.addInfo="",n.transType="",n.petId="",n.customerId="",n.remarks="",n.empId="",n.checkUpErrors=c,n.groomErrors=l,e.setState({record:a,errors:n,submitError:!1,updated:!1})},e.onToggleCustomerSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.customer);a.search=!a.search,a.searchValue="",e.setState({customer:a})},e.onClearCustomerSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.customer);a.searchValue="",e.setState({customer:a})},e.onChangeCustomerSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{customer:Object(N.a)(Object(N.a)({},e.customer),{},Object(f.a)({},s,r))})}))},e.onTogglePetSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.pet);a.search=!a.search,a.searchValue="",e.setState({pet:a})},e.onClearPetSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.pet);a.searchValue="",e.setState({pet:a})},e.onChangePetSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{pet:Object(N.a)(Object(N.a)({},e.pet),{},Object(f.a)({},s,r))})}))},e.onToggleEmployeeSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.employee);a.search=!a.search,a.searchValue="",e.setState({employee:a})},e.onClearEmployeeSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.employee);a.searchValue="",e.setState({employee:a})},e.onChangeEmployeeSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{employee:Object(N.a)(Object(N.a)({},e.employee),{},Object(f.a)({},s,r))})}))},e.onViewAdmission=function(t){var a=e.state.record,s=e.props.history;s.push(t,Object(N.a)(Object(N.a)({},s.location.state),{},{transId:a.id,customerName:a.customerName,petName:a.petName,transDate:a.transDate}))},e.checkUpForm=function(){var t=e.state.record.checkUp,a=e.state.errors.checkUpErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:e.state.checkUpConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Findings",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.findings),type:"text",name:"findings",value:t.findings,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(a.findings)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Treatment",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.treatment),type:"text",name:"treatment",value:t.treatment,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(a.treatment)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admission Date"}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"admissionDate",value:t.admissionDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Released Date"}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"releasedDate",value:t.releasedDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Additional Information"}),Object(s.jsx)("textarea",{className:e.inputFieldClasses(a.addInfo),type:"text",name:"addInfo",value:t.addInfo,onChange:e.onChangeCheckUp,rows:"2",noValidate:!0}),e.renderRecordErrors(a.addInfo)]})]}):e.state.checkUpConnectionFailed?Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-0",children:"Database Connection Failed"}),Object(s.jsx)("h5",{className:"font-weight-normal text-danger mb-3",children:"Please try again later..."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.retryCheckUpData,children:"Retry"})]}):Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"font-weight-normal mb-0",children:"Loading Data"}),Object(s.jsx)("h5",{className:"font-weight-normal",children:"Please wait..."})]})})})},e.groomForm=function(){var t=e.state.record.groom,a=e.state.errors.groomErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:e.state.groomConnected?Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Activity",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.activity),type:"text",name:"activity",value:t.activity,onChange:e.onChangeGroom,noValidate:!0}),e.renderRecordErrors(a.activity)]})}):e.state.groomConnectionFailed?Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-0",children:"Database Connection Failed"}),Object(s.jsx)("h5",{className:"font-weight-normal text-danger mb-3",children:"Please try again later..."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.retryGroomData,children:"Retry"})]}):Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"font-weight-normal mb-0",children:"Loading Data"}),Object(s.jsx)("h5",{className:"font-weight-normal",children:"Please wait..."})]})})})},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.retryCustomersData=function(){e.getCustomersData();e.setState({customerConnected:!1,customerConnectionFailed:!1})},e.getCustomersData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({customers:a,customerConnected:!0})})).catch((function(t){console.log(t);e.setState({customerConnectionFailed:!0})}))},e.retryPetsData=function(){e.getPetsData();e.setState({petConnected:!1,petConnectionFailed:!1})},e.getPetsData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php").then((function(t){var a=t.data;e.setState({pets:a,petConnected:!0})})).catch((function(t){console.log(t);e.setState({petConnectionFailed:!0})}))},e.retryEmployeesData=function(){e.getEmployeesData();e.setState({employeeConnected:!1,employeeConnectionFailed:!1})},e.getEmployeesData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({employees:a,employeeConnected:!0})})).catch((function(t){console.log(t);e.setState({employeeConnectionFailed:!0})}))},e.retryCheckUpData=function(){e.getCheckUpData();e.setState({checkUpConnected:!1,checkUpConnectionFailed:!1,connected:!1})},e.getCheckUpData=function(t){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionCheckUp.php?id="+t).then((function(t){var a=t.data;a=a[0],e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{checkUp:a}),checkUpConnected:true,connected:true})}))})).catch((function(t){console.log(t);e.setState({checkUpConnectionFailed:!0})}))},e.retryGroomData=function(){e.getGroomData();e.setState({groomConnected:!1,groomConnectionFailed:!1,connected:!1})},e.getGroomData=function(t){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionGroom.php?id="+t).then((function(t){var a=t.data;a=a[0],e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{groom:a}),groomConnected:true,connected:true})}))})).catch((function(t){console.log(t);e.setState({groomConnectionFailed:!0})}))},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.record,r=t.errors,c=t.customers,l=t.customer,o=t.pets,i=t.pet,d=t.employees,m=t.employee,h=t.updated,b=this.props,j=b.transaction,u=b.connected,p=b.connectionFailed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewTransactionModal-"+j.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewTransactionModalTitle-"+j.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewTransactionModalTitle-"+j.id,children:"View Transaction"}),u||p?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[h?u?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Date",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"transDate",value:a.transDate,onChange:this.onChangeRecord,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(r.transType),name:"transType",value:a.transType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),Object(s.jsx)("option",{value:"C",children:"Check-up"}),Object(s.jsx)("option",{value:"G",children:"Groom"})]}),this.renderRecordErrors(r.transType)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Employee Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(r.empId),name:"empId",value:a.empId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),d.length>0?d.filter((function(e){return(e.empLastName+", "+e.empFirstName+" "+e.empMiddleName).toLowerCase().match(m.searchValue.toLowerCase())||""===m.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.empLastName+", "+e.empFirstName+" "+e.empMiddleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleEmployeeSearch,children:"Search"})})]}),m.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:m.searchValue,onChange:this.onChangeEmployeeSearch,placeholder:"Search by Employee Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearEmployeeSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(r.empId)]}):this.state.employeeConnectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later...",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.retryEmployeesData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Customer Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.customerConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(r.customerId),name:"customerId",value:a.customerId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(l.searchValue.toLowerCase())||""===l.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleCustomerSearch,children:"Search"})})]}),l.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:l.searchValue,onChange:this.onChangeCustomerSearch,placeholder:"Search by Customer Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearCustomerSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(r.customerId)]}):this.state.customerConnectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later...",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.retryCustomersData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.petConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(r.petId),name:"petId",value:a.petId,onChange:this.onChangeRecord,noValidate:!0,children:[o.filter((function(e){return e.petName.toLowerCase().match(i.searchValue.toLowerCase())&&e.ownerId===a.customerId||""===i.searchValue&&e.ownerId===a.customerId})).length>0||i.searchValue.length>0?Object(s.jsx)("option",{value:"",children:"Choose one"}):a.customerId.length>0?Object(s.jsx)("option",{value:"",children:"No pet found"}):Object(s.jsx)("option",{value:"",children:"Customer Id is required"}),o.length>0?o.filter((function(e){return e.petName.toLowerCase().match(i.searchValue.toLowerCase())&&e.ownerId===a.customerId||""===i.searchValue&&e.ownerId===a.customerId})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.petName},e.id)})):null]}),o.filter((function(e){return e.petName.match(i.searchValue)&&e.ownerId===a.customerId||""===i.searchValue&&e.ownerId===a.customerId})).length>0||i.searchValue.length>0?Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePetSearch,children:"Search"})}):null]}),i.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:i.searchValue,onChange:this.onChangePetSearch,placeholder:"Search by Pet Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearPetSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(r.petId)]}):this.state.petConnectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later...",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.retryPetsData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Weight",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(r.petWeight),type:"text",name:"petWeight",value:a.petWeight,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"Kilogram"})})]}),this.renderRecordErrors(r.petWeight)]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Remarks"}),Object(s.jsx)("textarea",{className:this.inputFieldClasses(r.remarks),type:"text",name:"remarks",value:a.remarks,onChange:this.onChangeRecord,rows:"2",noValidate:!0}),this.renderRecordErrors(r.remarks)]}),"C"===a.transType?this.checkUpForm():"G"===a.transType?this.groomForm():null]}),h?u?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:u&&this.state.connected&&this.state.customerConnected&&this.state.petConnected&&this.state.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:["C"===a.transType?Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1","data-dismiss":"modal",onClick:function(){return e.onViewAdmission("/wiggly-tails/admin/manage-admission")},children:[Object(s.jsx)("i",{className:"fa fa-hand-holding-medical fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Admissions"})]}):null,Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Reset"})]})]}):null})})]})})})})}}]),a}(r.Component),Q=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:e.formatDate(t[o].transDate)}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[o].lastName+", "+t[o].firstName+" "+t[o].middleName}),Object(s.jsx)("td",{children:t[o].petName}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[o].petWeight}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[o].empLastName+", "+t[o].empFirstName+" "+t[o].empMiddleName}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewTransactionModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e.formatTransType=function(e){return"C"===e?"Check-up":"Groom"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.transactions,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.history,i=e.connected,d=e.connectionFailed,m=e.onSubmitForm,h=this.state,b=h.recordsPerPage,j=h.recordStartIndex,u=h.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addTransactionModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Transaction Date"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell",children:"Customer Name"}),Object(s.jsx)("th",{children:"Pet Name"}),Object(s.jsx)("th",{className:"w-110px d-none d-lg-table-cell",children:"Pet Weight"}),Object(s.jsx)("th",{className:"w-285px d-none d-md-table-cell",children:"Served by"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(I,{setPage:this.setPage,recordsPerPage:b,recordStartIndex:j,activePage:u,totalRecords:t.length}):null,Object(s.jsx)(K,{onRefresh:a,customerId:"",onSubmitForm:m}),t.map((function(e){return Object(s.jsx)(Y,{transaction:e,onRefresh:a,history:o,connected:i,connectionFailed:d,onSubmitForm:m},e.id)}))]})}}]),a}(r.Component),$=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={transactions:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(J,{sourceId:3,activeId:4,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Transactions"}),Object(s.jsx)(Q,{transactions:e.state.transactions,onRefresh:e.onRefresh,onSearch:e.onSearch,history:t,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.transactions.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h1",{className:"display-5 text-danger",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center",children:"Please wait..."})]})})]})})}),Object(s.jsx)(w,{})]})},e.getData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactions.php").then((function(t){var a=t.data;e.setState({transactions:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchTransaction.php?search="+t).then((function(t){var a=t.data;e.setState({transactions:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(Z,{history:e})})}}]),a}(r.Component),_=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",transId:"",title:"",content:""},errors:{title:" ",content:" "},submitError:!1,added:!1},e.componentDidMount=function(){e.onGenerateId()},e.onGenerateId=function(){var t=e.props.history,a=Object(N.a)({},e.state.record),s=e.generateCharacters(6);a.id=s,a.transId=t.location.state.transId,e.setState({record:a})},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="title"===s?e.toAbsProperCase(r):e.toSentenceCase(r),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"title":n.title=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"content":n.content=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.title=e.removeLastSpace(s.title),s.content=e.removeLastSpace(s.content),e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertAdmission.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();e.setState({submitError:!1,added:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=e.props.history,a=Object(N.a)({},e.state.record),s=Object(N.a)({},e.state.errors);a.id=e.generateCharacters(6),a.transId=t.location.state.transId,a.title="",a.content="",s.title=" ",s.content=" ",e.setState({record:a,errors:s,submitError:!1,added:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.added;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addAdmissionModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addAdmissionModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addAdmissionModalTitle",children:"Add Admission"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[r?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Title",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.title),type:"text",name:"title",value:t.title,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.title)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Content",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("textarea",{className:this.inputFieldClasses(a.content),type:"text",name:"content",value:t.content,rows:"7",onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.content)]})]}),r?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsxs)("div",{className:"d-flex justify-content-end w-100",children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})]})})})})}}]),a}(r.Component),ee=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",transId:"",title:"",content:""},errors:{title:"",content:""},submitError:!1,updated:!1},e.componentDidMount=function(){var t=e.props.admission,a=Object(N.a)({},e.state.record);a.id=t.id,a.transId=t.transId,a.title=t.title,a.content=t.content,e.setState({record:a})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(f.a)({},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="title"===s?e.toAbsProperCase(r):e.toSentenceCase(r),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"title":n.title=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"content":n.content=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.title=e.removeLastSpace(s.title),s.content=e.removeLastSpace(s.content),e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updateAdmission.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.setState({submitError:!1,updated:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=e.props.admission,a=Object(N.a)({},e.state.record),s=Object(N.a)({},e.state.errors);a.id=t.id,a.transId=t.transId,a.title=t.title,a.content=t.content,s.title="",s.content="",e.setState({record:a,errors:s,submitError:!1,updated:!1})},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.updated,c=this.props,l=c.admission,o=c.connected,i=c.connectionFailed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewAdmissionModal-"+l.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewAdmissionModalTitle-"+l.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewAdmissionModalTitle-"+l.id,children:"View Admission"}),o||i?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[r?o?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Title",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.title),type:"text",name:"title",value:t.title,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.title)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Content",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("textarea",{className:this.inputFieldClasses(a.content),type:"text",name:"content",value:t.content,rows:"7",onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.content)]})]}),r?o?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:this.props.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null})})]})})})})}}]),a}(r.Component),te=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[o].title}),Object(s.jsx)("td",{children:t[o].content}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewAdmissionModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.admission,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.history,i=e.connected,d=e.connectionFailed,m=e.onSubmitForm,h=this.state,b=h.recordsPerPage,j=h.recordStartIndex,u=h.activePage,p=o.location.state;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addAdmissionModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2 ml-auto",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsxs)("thead",{className:"thead-dark text-light",children:[Object(s.jsx)("tr",{children:Object(s.jsx)("th",{colSpan:"3",children:Object(s.jsxs)("div",{className:"row align-items-center",children:[Object(s.jsx)("div",{className:"col-12 col-md-4 text-center mb-2 pb-2\r m-md-0 p-md-0 bottom-border-dark border-md-0",children:"Customer Name: "+p.customerName}),Object(s.jsx)("div",{className:"col-12 col-md-4 text-center mb-2 pb-2\r m-md-0 p-md-0 bottom-border-dark border-md-0",children:"Pet Name: "+p.petName}),Object(s.jsx)("div",{className:"col-12 col-md-4 text-center",children:"Transaction Date: "+p.transDate})]})})}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Title"}),Object(s.jsx)("th",{children:"Content"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})]}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(I,{setPage:this.setPage,recordsPerPage:b,recordStartIndex:j,activePage:u,totalRecords:t.length}):null,Object(s.jsx)(_,{history:o,onSubmitForm:m}),t.map((function(e){return Object(s.jsx)(ee,{admission:e,onRefresh:a,connected:i,connectionFailed:d,onSubmitForm:m},e.id)}))]})}}]),a}(r.Component),ae=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={admission:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(J,{sourceId:3,activeId:4,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Admission"}),Object(s.jsx)(te,{admission:e.state.admission,history:t,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.admission.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h1",{className:"display-5 text-danger",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center",children:"Please wait..."})]})})]})})}),Object(s.jsx)(w,{})]})},e.getData=function(){var t=e.props.history;u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionAdmission.php?id="+t.location.state.transId).then((function(t){var a=t.data;e.setState({admission:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){var a=e.props.history;u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchTransactionAdmission.php?id="+a.location.state.admissionId+"&search="+t).then((function(t){var a=t.data;e.setState({admission:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(Z,{history:e})})}}]),a}(r.Component),se=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",lastName:"",firstName:"",middleName:"",homeAddress:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:""},confirmUserPassword:"",errors:{lastName:" ",firstName:" ",middleName:"",homeAddressErrors:{lotBlock:"",street:" ",subdivision:" ",barangay:" ",municipality:" ",province:""},birthdate:" ",mobileNumber:" ",emailAddress:" ",userPassword:" ",confirmUserPassword:" "},records:[],connected:!1,connectionFailed:!1,submitError:!1,added:!1},e.onGenerateId=function(){var t=Object(N.a)({},e.state.record),a=e.generateCharacters(6);t.id=a,e.setState({record:t})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(f.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"mobileNumber"!==s&&"emailAddress"!==s&&"userPassword"!==s&&(r="lastName"===s?e.toProperCase(r):e.toAbsProperCase(r)),"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors),c=Object(N.a)({},e.state.record),l=e.state.confirmUserPassword,o=e.removeSpaces(r).length;switch(s){case"lastName":n.lastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"firstName":n.firstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"middleName":n.middleName=o>24?"Must be at maximum of 24 characters":"";break;case"birthdate":n.birthdate=0===r.length?" ":"";break;case"mobileNumber":n.mobileNumber=0===r.length?" ":Object(y.isNumeric)(r)?r.length<10?"Must be at exact 10 numbers":"":"Please input a valid value";break;case"emailAddress":n.emailAddress=0===r.length?" ":r.length<8||r.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(r)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"email":n.emailAddress=e.emailAddressExists()?"Already in use":"";break;case"userPassword":n.userPassword=0===r.length?" ":r.length<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmUserPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmUserPassword":n.confirmUserPassword=0===r.length?" ":r===c.userPassword?r.length<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.emailAddressExists=function(){var t=e.state,a=t.record;return t.records.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(a.emailAddress+a.email).toLowerCase()})).length>0},e.isValidEmail=function(e){return new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/).test(e)},e.onChangeHomeAddress=function(t){var a=t.target,s=a.name,r=a.value;r=e.toProperCase(r),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{homeAddress:Object(N.a)(Object(N.a)({},e.record.homeAddress),{},Object(f.a)({},s,r))})})}),(function(){return e.onCheckHomeAddressErrors(t)}))},e.onCheckHomeAddressErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors.homeAddressErrors),c=e.removeSpaces(r).length;switch(s){case"lotBlock":n.lotBlock=r.length>12?"Lot/Block must be at maximum of 12 characters":"";break;case"street":n.street=0===c?" ":c<2||r.length>24?"Street must be at between 2 and 24 characters":"";break;case"subdivision":n.subdivision=0===c?" ":c<2||r.length>24?"Subdivision must be at between 2 and 24 characters":"";break;case"barangay":n.barangay=0===c?" ":c<2||r.length>24?"Barangay must be at between 2 and 24 characters":"";break;case"municipality":n.municipality=0===c?" ":c<2||r.length>24?"Municipality must be at between 2 and 24 characters":"";break;case"province":n.province=r.length>24?"Province must be at maximum of 24 characters":""}e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{errors:Object(N.a)(Object(N.a)({},e.errors),{},{homeAddressErrors:n})})}))},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.lastName=e.removeLastSpace(s.lastName),s.firstName=e.removeLastSpace(s.firstName),s.middleName=e.removeLastSpace(s.middleName),s.homeAddress.lotBlock=e.removeLastSpace(s.homeAddress.lotBlock),s.homeAddress.street=e.removeLastSpace(s.homeAddress.street),s.homeAddress.subdivision=e.removeLastSpace(s.homeAddress.subdivision),s.homeAddress.barangay=e.removeLastSpace(s.homeAddress.barangay),s.homeAddress.municipality=e.removeLastSpace(s.homeAddress.municipality),s.homeAddress.province=e.removeLastSpace(s.homeAddress.province),s.homeAddress.street+=" St.",s.homeAddress.barangay="Brgy. "+s.homeAddress.barangay,s.homeAddress.municipality+=" City";var r=[];r.push("+63"+s.mobileNumber.substring(0,3)),r.push(s.mobileNumber.substring(3,6)),r.push(s.mobileNumber.substring(6,10)),s.mobileNumber=r.join("-"),e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertCustomer.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();var t=!0;e.setState({submitError:!1,added:t}),t=!1,setTimeout((function(){return e.setState({added:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),Object.values(t.homeAddressErrors).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(t){e.isObject(t)?Object.values(t).forEach((function(t){e.isObject(t)||t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})):t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.isObject=function(e){return e instanceof Object},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderHomeAddressErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&" "!==e&&a.push(Object(s.jsxs)("small",{className:"text-danger ml-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),e]}))})),[a]}},e.onReset=function(){var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.record.homeAddress),s=Object(N.a)({},e.state.errors),r=Object(N.a)({},e.state.errors.homeAddressErrors);a.lotBlock="",a.street="",a.subdivision="",a.barangay="",a.municipality="",a.province="",t.id=e.generateCharacters(6),t.lastName="",t.firstName="",t.middleName="",t.homeAddress=a,t.birthdate="",t.mobileNumber="",t.emailAddress="",t.email="@yahoo.com",t.userPassword="",r.lotBlock="",r.street=" ",r.subdivision=" ",r.barangay=" ",r.municipality=" ",r.province="",s.lastName=" ",s.firstName=" ",s.middleName="",s.homeAddressErrors=r,s.birthdate=" ",s.mobileNumber=" ",s.emailAddress=" ",s.userPassword=" ",s.confirmUserPassword=" ",e.setState({record:t,confirmUserPassword:"",errors:s,submitError:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.retryCustomersData=function(){e.getCustomersData();e.setState({connected:!1,connectionFailed:!1})},e.getCustomersData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.removeMultipleSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "===e.charAt(a)?0!==a&&" "!==e.charAt(a-1)&&(t+=e.charAt(a)):t+=e.charAt(a);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId(),this.getCustomersData()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmUserPassword,c=e.added,l=t.homeAddress,o=a.homeAddressErrors;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addCustomerModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addCustomerModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addCustomerModalTitle",children:"Add Customer"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.lastName),type:"text",name:"lastName",value:t.lastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.lastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.firstName),type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.firstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.middleName),type:"text",name:"middleName",value:t.middleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.middleName)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Home Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"row mx-0",children:[Object(s.jsx)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(o.lotBlock),type:"text",name:"lotBlock",value:l.lotBlock,onChange:this.onChangeHomeAddress,placeholder:"Lot/Block (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(o.street),type:"text",name:"street",value:l.street,onChange:this.onChangeHomeAddress,placeholder:"Street",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"St."})})]}),Object(s.jsx)("div",{className:"col-lg-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(o.subdivision),type:"text",name:"subdivision",value:l.subdivision,onChange:this.onChangeHomeAddress,placeholder:"Subdivision",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("div",{className:"input-group-prepend",children:Object(s.jsx)("span",{className:"input-group-text",children:"Brgy."})}),Object(s.jsx)("input",{className:this.inputFieldClasses(o.barangay),type:"text",name:"barangay",value:l.barangay,onChange:this.onChangeHomeAddress,placeholder:"Barangay",noValidate:!0})]}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(o.municipality),type:"text",name:"municipality",value:l.municipality,onChange:this.onChangeHomeAddress,placeholder:"Municipality",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"City"})})]}),Object(s.jsx)("div",{className:"col-lg-4 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(o.province),type:"text",name:"province",value:l.province,onChange:this.onChangeHomeAddress,placeholder:"Province (Optional)",noValidate:!0})})]})," ",this.renderHomeAddressErrors(o)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Mobile Number",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("span",{className:"input-group-text",children:"+63"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.mobileNumber),type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0})]}),this.renderRecordErrors(a.mobileNumber)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Email Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"w-sm-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),Object(s.jsxs)("select",{className:"input-group-text",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress),Object(s.jsx)("div",{children:Object(s.jsxs)("small",{className:"text-success ml-2",children:[Object(s.jsx)("i",{className:"fa fa-info-circle mr-1"}),Object(s.jsx)("span",{children:"Valid Symbols:\xa0"}),Object(s.jsx)("span",{children:"!#$%^&*.?_-"})]})})]}):this.state.connectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later...",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.retryCustomersData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.userPassword),type:"password",name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmUserPassword),type:"password",name:"confirmUserPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmUserPassword)]})]}),c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null})})]})})})})}}]),a}(r.Component),re=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",lastName:"",firstName:"",middleName:"",homeAddress:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:""},confirmUserPassword:"",errors:{lastName:"",firstName:"",middleName:"",homeAddressErrors:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",userPassword:"",confirmUserPassword:" "},records:[],connected:!1,connectionFailed:!1,submitError:!1,updated:!1,passwordState:{inputType:"password",buttonText:"Show"},deleteState:!1},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(f.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"mobileNumber"!==s&&"emailAddress"!==s&&"userPassword"!==s&&(r="lastName"===s?e.toProperCase(r):e.toAbsProperCase(r)),"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors),c=Object(N.a)({},e.state.record),l=e.state.confirmUserPassword,o=e.removeSpaces(r).length;switch(s){case"lastName":n.lastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"firstName":n.firstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"middleName":n.middleName=o>24?"Must be at maximum of 24 characters":"";break;case"birthdate":n.birthdate=0===r.length?" ":"";break;case"mobileNumber":n.mobileNumber=0===r.length?" ":Object(y.isNumeric)(r)?r.length<10?"Must be at exact 10 numbers":"":"Please input a valid value";break;case"emailAddress":n.emailAddress=0===r.length?" ":r.length<8||r.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(r)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"email":n.emailAddress=e.emailAddressExists()?"Already in use":"";break;case"userPassword":n.userPassword=0===r.length?" ":r.length<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmUserPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmUserPassword":n.confirmUserPassword=0===r.length?" ":r===c.userPassword?r.length<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.emailAddressExists=function(){var t=e.state,a=t.record,s=t.records,r=e.props.customer;return s.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(a.emailAddress+a.email).toLowerCase()&&(e.emailAddress+e.email).toLowerCase()!==(r.emailAddress+r.email).toLowerCase()})).length>0},e.isValidEmail=function(e){return new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/).test(e)},e.onChangeHomeAddress=function(t){var a=t.target,s=a.name,r=a.value;r=e.toProperCase(r),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{homeAddress:Object(N.a)(Object(N.a)({},e.record.homeAddress),{},Object(f.a)({},s,r))})})}),(function(){return e.onCheckHomeAddressErrors(t)}))},e.onCheckHomeAddressErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors.homeAddressErrors),c=e.removeSpaces(r).length;switch(s){case"lotBlock":n.lotBlock=r.length>12?"Lot/Block must be at maximum of 12 characters":"";break;case"street":n.street=0===c?" ":c<2||r.length>24?"Street must be at between 2 and 24 characters":"";break;case"subdivision":n.subdivision=0===c?" ":c<2||r.length>24?"Subdivision must be at between 2 and 24 characters":"";break;case"barangay":n.barangay=0===c?" ":c<2||r.length>24?"Barangay must be at between 2 and 24 characters":"";break;case"municipality":n.municipality=0===c?" ":c<2||r.length>24?"Municipality must be at between 2 and 24 characters":"";break;case"province":n.province=r.length>24?"Province must be at maximum of 24 characters":""}e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{errors:Object(N.a)(Object(N.a)({},e.errors),{},{homeAddressErrors:n})})}))},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.lastName=e.removeLastSpace(s.lastName),s.firstName=e.removeLastSpace(s.firstName),s.middleName=e.removeLastSpace(s.middleName),s.homeAddress.lotBlock=e.removeLastSpace(s.homeAddress.lotBlock),s.homeAddress.street=e.removeLastSpace(s.homeAddress.street),s.homeAddress.subdivision=e.removeLastSpace(s.homeAddress.subdivision),s.homeAddress.barangay=e.removeLastSpace(s.homeAddress.barangay),s.homeAddress.municipality=e.removeLastSpace(s.homeAddress.municipality),s.homeAddress.province=e.removeLastSpace(s.homeAddress.province),s.homeAddress.street+=" St.",s.homeAddress.barangay="Brgy. "+s.homeAddress.barangay,s.homeAddress.municipality+=" City";var r=[];r.push("+63"+s.mobileNumber.substring(0,3)),r.push(s.mobileNumber.substring(3,6)),r.push(s.mobileNumber.substring(6,10)),s.mobileNumber=r.join("-"),e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updateCustomer.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){var t=Object(N.a)({},e.state.record);t.homeAddress.street=t.homeAddress.street.substring(0,t.homeAddress.street.length-4),t.homeAddress.barangay=t.homeAddress.barangay.substring(6,t.homeAddress.barangay.length),t.homeAddress.municipality=t.homeAddress.municipality.substring(0,t.homeAddress.municipality.length-5);var a=Object(N.a)({},e.state.errors);a.confirmUserPassword=" ",e.setState({record:t,errors:a,confirmUserPassword:"",submitError:!1,updated:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),Object.values(t.homeAddressErrors).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(t){e.isObject(t)?Object.values(t).forEach((function(t){e.isObject(t)||t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})):t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.isObject=function(e){return e instanceof Object},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderHomeAddressErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&" "!==e&&a.push(Object(s.jsxs)("small",{className:"text-danger ml-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),e]}))})),[a]}},e.onReset=function(){var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.record.homeAddress),s=Object(N.a)({},e.state.errors),r=Object(N.a)({},e.state.errors.homeAddressErrors),n=e.props.customer,c=e.state.passwordState;c.buttonText="Show",c.inputType="password",a.lotBlock=n.lotBlock,a.street=n.street.substring(0,n.street.length-4),a.subdivision=n.subdivision,a.barangay=n.barangay.substring(6,n.barangay.length),a.municipality=n.municipality.substring(0,n.municipality.length-5),a.province=n.province,t.lastName=n.lastName,t.firstName=n.firstName,t.middleName=n.middleName,t.homeAddress=a,t.birthdate=n.birthdate;var l=n.mobileNumber.split("-");l=(l=l.join("")).substring(3,l.length),t.mobileNumber=l,t.emailAddress=n.emailAddress,t.email=n.email,t.userPassword=n.userPassword,r.lotBlock="",r.street="",r.subdivision="",r.barangay="",r.municipality="",r.province="",s.lastName="",s.firstName="",s.middleName="",s.homeAddressErrors=r,s.birthdate="",s.mobileNumber="",s.emailAddress="",s.userPassword="",s.confirmUserPassword=" ",e.setState({record:t,confirmUserPassword:"",errors:s,passwordState:c,submitError:!1,updated:!1})},e.onTogglePassword=function(t){t.preventDefault();var a=Object(N.a)({},e.state.passwordState);"password"===a.inputType?(a.inputType="text",a.buttonText="Hide"):(a.inputType="password",a.buttonText="Show"),e.setState({passwordState:a})},e.defaultButtons=function(){return e.props.connected&&e.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]}):null},e.onToggleDelete=function(){var t=!e.state.deleteState;e.setState({deleteState:t})},e.deleteButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1","data-dismiss":"modal",onClick:e.onDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Confirm Delete"})]}),Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-arrow-left"}),Object(s.jsx)("span",{className:"ml-1",children:"Cancel Delete"})]})]})},e.onDelete=function(){var t=e.state.record,a=e.props.onRefresh;e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/deleteCustomer.php",t).then(a)},e.retryCustomersData=function(){e.getCustomersData();e.setState({connected:!1,connectionFailed:!1})},e.getCustomersData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.removeMultipleSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "===e.charAt(a)?0!==a&&" "!==e.charAt(a-1)&&(t+=e.charAt(a)):t+=e.charAt(a);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getCustomersData();var e=this.props.customer,t=Object(N.a)({},this.state.record);t.id=e.id,t.lastName=e.lastName,t.firstName=e.firstName,t.middleName=e.middleName,t.homeAddress.lotBlock=e.lotBlock,t.homeAddress.street=e.street.substring(0,e.street.length-4),t.homeAddress.subdivision=e.subdivision,t.homeAddress.barangay=e.barangay.substring(6,e.barangay.length),t.homeAddress.municipality=e.municipality.substring(0,e.municipality.length-5),t.homeAddress.province=e.province,t.birthdate=e.birthdate;var a=e.mobileNumber.split("-");a=(a=a.join("")).substring(3,a.length),t.mobileNumber=a,t.emailAddress=e.emailAddress,t.email=e.email,t.userPassword=e.userPassword,this.setState({record:t})}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmUserPassword,c=e.passwordState,l=e.updated,o=e.deleteState,i=this.state.record.homeAddress,d=a.homeAddressErrors,m=this.props,h=m.customer,b=m.connected;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewCustomerModal-"+h.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewCustomerrModalTitle-"+h.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewCustomerModalTitle-"+h.id,children:"View Customer"}),b?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[l?b?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.lastName),type:"text",name:"lastName",value:t.lastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.lastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.firstName),type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.firstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.middleName),type:"text",name:"middleName",value:t.middleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.middleName)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Home Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"row mx-0",children:[Object(s.jsx)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(d.lotBlock),type:"text",name:"lotBlock",value:i.lotBlock,onChange:this.onChangeHomeAddress,placeholder:"Lot/Block (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(d.street),type:"text",name:"street",value:i.street,onChange:this.onChangeHomeAddress,placeholder:"Street",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"St."})})]}),Object(s.jsx)("div",{className:"col-lg-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(d.subdivision),type:"text",name:"subdivision",value:i.subdivision,onChange:this.onChangeHomeAddress,placeholder:"Subdivision",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("div",{className:"input-group-prepend",children:Object(s.jsx)("span",{className:"input-group-text",children:"Brgy."})}),Object(s.jsx)("input",{className:this.inputFieldClasses(d.barangay),type:"text",name:"barangay",value:i.barangay,onChange:this.onChangeHomeAddress,placeholder:"Barangay",noValidate:!0})]}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(d.municipality),type:"text",name:"municipality",value:i.municipality,onChange:this.onChangeHomeAddress,placeholder:"Municipality",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"City"})})]}),Object(s.jsx)("div",{className:"col-lg-4 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(d.province),type:"text",name:"province",value:i.province,onChange:this.onChangeHomeAddress,placeholder:"Province (Optional)",noValidate:!0})})]})," ",this.renderHomeAddressErrors(d)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Mobile Number",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("span",{className:"input-group-text",children:"+63"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.mobileNumber),type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0})]}),this.renderRecordErrors(a.mobileNumber)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Email Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"w-sm-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),Object(s.jsxs)("select",{className:"input-group-text",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress),Object(s.jsx)("div",{children:Object(s.jsxs)("small",{className:"text-success ml-2",children:[Object(s.jsx)("i",{className:"fa fa-info-circle mr-1"}),Object(s.jsx)("span",{children:"Valid Symbols:\xa0"}),Object(s.jsx)("span",{children:"!#$%^&*.?_-"})]})})]}):this.state.connectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later...",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.retryCustomersData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"zi-10 "+this.inputFieldClasses(a.userPassword),type:c.inputType,name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePassword,children:c.buttonText})})]})," ",this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmUserPassword),type:"password",name:"confirmUserPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmUserPassword)]})]}),l?b?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:o?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),ne=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",transType:"",transDate:"",petId:"",customerId:"",petWeight:"",remarks:"",empId:"",checkUp:{findings:"",treatment:"",admissionDate:"",releasedDate:"",addInfo:""},groom:{activity:""}},errors:{transType:" ",petId:" ",customerId:" ",petWeight:" ",remarks:"",empId:" ",checkUpErrors:{findings:" ",treatment:" ",addInfo:""},groomErrors:{activity:" "}},submitError:!1,pets:[],petConnected:!1,petConnectionFailed:!1,employees:[],employeeConnected:!1,employeeConnectionFailed:!1,pet:{search:!1,searchValue:""},employee:{search:!1,searchValue:""}},e.onGenerateId=function(){var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.errors),s=e.props.customer,r=e.generateCharacters(6);t.id=r,t.customerId=s.id,a.customerId="",t.transDate=e.getCurrentDate(),e.setState({record:t,errors:a})},e.getCurrentDate=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;if("remarks"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)})),"transType"===s){var n=Object(N.a)({},e.state.record.checkUp),c=Object(N.a)({},e.state.errors.checkUpErrors);n.findings="",n.treatment="",n.admissionDate="",n.releasedDate="",n.addInfo="",c.findings=" ",c.treatment=" ",c.admissionDate="",c.releasedDate="",c.addInfo="";var l=Object(N.a)({},e.state.record.groom),o=Object(N.a)({},e.state.errors.groomErrors);l.activity="",o.activity="",e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{checkUp:n,groom:l}),errors:Object(N.a)(Object(N.a)({},e.errors),{},{checkUpErrors:c,groomErrors:o})})}))}},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors);switch(s){case"transType":n.transType=0===r.length?" ":"";break;case"empId":n.empId=0===r.length?" ":"";break;case"customerId":n.customerId=0===r.length?" ":"";break;case"petId":n.petId=0===r.length?" ":"";break;case"petWeight":n.petWeight=0===r.length?" ":Object(y.isNumeric)(r)?r.length>6?"Must be at maximum of 6 numbers":"":"Please input a valid value";break;case"remarks":n.remarks=r.length>128?"Must be at maximum of 128 characters":""}e.setState({errors:n})},e.onChangeCheckUp=function(t){var a=t.target,s=a.name,r=a.value;"admissionDate"!==s&&"releasedDate"!==s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{checkUp:Object(N.a)(Object(N.a)({},e.record.checkUp),{},Object(f.a)({},s,r))})})}),(function(){return e.onCheckCheckUpErrors(t)}))},e.onCheckCheckUpErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors.checkUpErrors),c=e.removeSpaces(r).length;switch(s){case"findings":n.findings=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"treatment":n.treatment=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"addInfo":n.addInfo=r.length>128?"Must be at maximum of 128 characters":""}e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{errors:Object(N.a)(Object(N.a)({},e.errors),{},{checkUpErrors:n})})}))},e.onChangeGroom=function(t){var a=t.target,s=a.name,r=a.value;"activity"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},{groom:Object(N.a)(Object(N.a)({},e.record.groom),{},Object(f.a)({},s,r))})})}),(function(){return e.onCheckGroomErrors(t)}))},e.onCheckGroomErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors.groomErrors),c=e.removeSpaces(r).length;switch(s){case"activity":n.activity=0===c?" ":c<2||r.length>32?"Must be at between 2 and 32 characters":0===c?" ":""}e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{errors:Object(N.a)(Object(N.a)({},e.errors),{},{groomErrors:n})})}))},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.remarks=e.removeLastSpace(s.remarks),s.checkUp.findings=e.removeLastSpace(s.checkUp.findings),s.checkUp.treatment=e.removeLastSpace(s.checkUp.treatment),s.checkUp.addInfo=e.removeLastSpace(s.checkUp.addInfo),s.groom.activity=e.removeLastSpace(s.groom.activity),e.props.onSubmitForm(!1),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertTransaction.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();e.setState({submitError:!1,added:!0})},e.validForm=function(t){var a=t.errors,s=e.state.record,r=!0;return Object.values(a).forEach((function(e){e.length>0&&(r=!1)})),"C"===s.transType?Object.values(a.checkUpErrors).forEach((function(e){e.length>0&&(r=!1)})):"G"===s.transType&&Object.values(a.groomErrors).forEach((function(e){e.length>0&&(r=!1)})),r},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.record.checkUp),s=Object(N.a)({},e.state.record.groom),r=Object(N.a)({},e.state.errors),n=Object(N.a)({},e.state.errors.checkUp),c=Object(N.a)({},e.state.errors.groom),l=e.generateCharacters(6);s.activity="",a.findings="",a.treatment="",a.admissionDate=e.getCurrentDate(),a.releasedDate="",a.addInfo="",t.id=l,t.transType="",t.transDate=e.getCurrentDate(),t.petId="",t.petWeight="",t.remarks="",t.empId="",t.checkUp=a,t.groom=s,c.activity=" ",n.findings=" ",n.treatment=" ",n.addInfo="",r.transType=" ",r.petId=" ",r.customerId=" ",r.remarks="",r.empId=" ",r.checkUpErrors=n,r.groomErrors=c,e.setState({record:t,errors:r,submitError:!1})},e.onTogglePetSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.pet);a.search=!a.search,a.searchValue="",e.setState({pet:a})},e.onClearPetSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.pet);a.searchValue="",e.setState({pet:a})},e.onChangePetSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{pet:Object(N.a)(Object(N.a)({},e.pet),{},Object(f.a)({},s,r))})}))},e.onToggleEmployeeSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.employee);a.search=!a.search,a.searchValue="",e.setState({employee:a})},e.onClearEmployeeSearch=function(t){t.preventDefault();var a=Object(N.a)({},e.state.employee);a.searchValue="",e.setState({employee:a})},e.onChangeEmployeeSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{employee:Object(N.a)(Object(N.a)({},e.employee),{},Object(f.a)({},s,r))})}))},e.checkUpForm=function(){var t=e.state.record.checkUp,a=e.state.errors.checkUpErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsxs)("div",{className:"row mt-3",children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Findings",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.findings),type:"text",name:"findings",value:t.findings,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(a.findings)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Treatment",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.treatment),type:"text",name:"treatment",value:t.treatment,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(a.treatment)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admission Date"}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"admissionDate",value:t.admissionDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Released Date"}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"releasedDate",value:t.releasedDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Additional Information"}),Object(s.jsx)("textarea",{className:e.inputFieldClasses(a.addInfo),type:"text",name:"addInfo",value:t.addInfo,onChange:e.onChangeCheckUp,rows:"2",noValidate:!0}),e.renderRecordErrors(a.addInfo)]})]})})},e.groomForm=function(){var t=e.state.record.groom,a=e.state.errors.groomErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Activity",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.activity),type:"text",name:"activity",value:t.activity,onChange:e.onChangeGroom,noValidate:!0}),e.renderRecordErrors(a.activity)]})})})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.getPetsData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php").then((function(t){var a=t.data;e.setState({pets:a,petConnected:!0})})).catch((function(t){console.log(t);e.setState({petConnectionFailed:!0})}))},e.getEmployeesData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({employees:a,employeeConnected:!0})})).catch((function(t){console.log(t);e.setState({employeeConnectionFailed:!0})}))},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId(),this.getPetsData(),this.getEmployeesData()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.pets,c=e.pet,l=e.employees,o=e.employee,i=e.added,d=this.props,m=d.customer,h=d.connected,b=d.connectionFailed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addTransactionModal-"+m.id,tabIndex:"-1",role:"dialog","aria-labelledby":"addTransactionModalTitle-"+m.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addTransactionModalTitle-"+m.id,children:"Add Transaction for "+m.id+" | "+m.lastName+", "+m.firstName+" "+m.middleName}),h||b?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[i?h?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Date",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"transDate",value:t.transDate,onChange:this.onChangeRecord,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(a.transType),name:"transType",value:t.transType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),Object(s.jsx)("option",{value:"C",children:"Check-up"}),Object(s.jsx)("option",{value:"G",children:"Groom"})]}),this.renderRecordErrors(a.transType)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Employee Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.empId),name:"empId",value:t.empId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),l.length>0?l.filter((function(e){return(e.empLastName+", "+e.empFirstName+" "+e.empMiddleName).toLowerCase().match(o.searchValue.toLowerCase())||""===o.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.empLastName+", "+e.empFirstName+" "+e.empMiddleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleEmployeeSearch,children:"Search"})})]}),o.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:o.searchValue,onChange:this.onChangeEmployeeSearch,placeholder:"Search by Employee Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearEmployeeSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.empId)]}):this.state.employeeConnectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Customer Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:"form-control",name:"customerId",value:t.customerId,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.petConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.petId),name:"petId",value:t.petId,onChange:this.onChangeRecord,noValidate:!0,children:[r.filter((function(e){return e.petName.toLowerCase().match(c.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===c.searchValue&&e.ownerId===t.customerId})).length>0||c.searchValue.length>0?Object(s.jsx)("option",{value:"",children:"Choose one"}):t.customerId.length>0?Object(s.jsx)("option",{value:"",children:"No pet found"}):Object(s.jsx)("option",{value:"",children:"Customer Id is required"}),r.length>0?r.filter((function(e){return e.petName.toLowerCase().match(c.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===c.searchValue&&e.ownerId===t.customerId})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.petName},e.id)})):null]}),r.filter((function(e){return e.petName.match(c.searchValue)&&e.ownerId===t.customerId||""===c.searchValue&&e.ownerId===t.customerId})).length>0||c.searchValue.length>0?Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePetSearch,children:"Search"})}):null]}),c.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:c.searchValue,onChange:this.onChangePetSearch,placeholder:"Search by Pet Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearPetSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.petId)]}):this.state.customerConnectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Weight",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(a.petWeight),type:"text",name:"petWeight",value:t.petWeight,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"Kilogram"})})]}),this.renderRecordErrors(a.petWeight)]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Remarks"}),Object(s.jsx)("textarea",{className:this.inputFieldClasses(a.remarks),type:"text",name:"remarks",value:t.remarks,onChange:this.onChangeRecord,rows:"2",noValidate:!0}),this.renderRecordErrors(a.remarks)]}),"C"===t.transType?this.checkUpForm():"G"===t.transType?this.groomForm():null]}),i?h?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:h&&this.state.petConnected&&this.state.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null})})]})})})})}}]),a}(r.Component),ce=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[o].lastName+", "+t[o].firstName+" "+t[o].middleName}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[o].emailAddress+t[o].email}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[o].mobileNumber}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:t[o].noOfPets}),Object(s.jsxs)("td",{children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewCustomerModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"View"})]}),Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm","data-toggle":"modal","data-target":"#addTransactionModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-pencil-alt"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Transact"})]})]})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.customers,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.connected,i=e.connectionFailed,d=e.onSubmitForm,m=this.state,h=m.recordsPerPage,b=m.recordStartIndex,j=m.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addCustomerModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{className:"min-w-170px",children:"Name"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Email Address"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell w-155px",children:"Mobile Number"}),Object(s.jsx)("th",{className:"d-none d-sm-table-cell w-30px",children:"Pets"}),Object(s.jsx)("th",{className:"w-190px min-w-95px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&o?this.renderItems(t):null})]}),t.length>0&&o?Object(s.jsx)(I,{setPage:this.setPage,recordsPerPage:h,recordStartIndex:b,activePage:j,totalRecords:t.length}):null,Object(s.jsx)(se,{onRefresh:a,onSubmitForm:d}),t.map((function(e){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(re,{customer:e,onRefresh:a,connected:o,connectionFailed:i,onSubmitForm:d}),Object(s.jsx)(ne,{customer:e,connected:o,connectionFailed:i,onSubmitForm:d})]},e.id)}))]})}}]),a}(r.Component),le=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={customers:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(J,{sourceId:3,activeId:5,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5",children:[Object(s.jsx)("h3",{children:"Manage Customers"}),Object(s.jsx)(ce,{customers:e.state.customers,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.customers.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h1",{className:"display-5 text-danger",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center",children:"Please wait..."})]})})]})})}),Object(s.jsx)(w,{})]})},e.getData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({customers:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchCustomer.php?search="+t).then((function(t){var a=t.data;e.setState({customers:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(Z,{history:e})})}}]),a}(r.Component),oe=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",petName:"",birthdate:"",ownerId:"",petClass:"",lastVisit:"",pcciRegNo:""},records:[],connected:!1,errors:{petName:" ",birthdate:" ",ownerId:" ",petClass:" ",pcciRegNo:""},submitError:!1,added:!1,petClasses:["Alpaca","Ant","Bear","Bird","Cat","Chicken","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Frog","Gecko","Gerbil","Giraffe","Goat","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Iguana","Jaguar","Lizard","Mantis","Monkey","Newt","Octopus","Pig","Panda","Quill","Rabbit","Rat","Salamander","Sheep","Snake","Spider","Tortoise","Turtle","Whale"],search:!1,searchValue:""},e.onGenerateId=function(){var t=Object(N.a)({},e.state.record),a=e.generateCharacters(6);t.id=a,e.setState({record:t})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(f.a)({},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"ownerId":n.ownerId=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length>6?"Must be at exact 6 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.petName=e.removeLastSpace(s.petName),e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertPet.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();var t=!0;e.setState({submitError:!1,added:t}),t=!1,setTimeout((function(){return e.setState({added:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){e.onGenerateId();var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.errors);t.id=e.generateCharacters(6),t.petName="",t.birthdate="",t.ownerId="",t.petClass="",t.pcciRegNo="",a.petName="Pet Name is required",a.birthdate="Birthdate is required",a.ownerId="Owner Id is required",a.petClass="Pet Class is required",a.pcciRegNo="";e.setState({record:t,errors:a,searchValue:"",submitError:!1})},e.onToggleSearch=function(t){t.preventDefault();var a=!e.state.search;e.setState({search:a,searchValue:""})},e.onClearSearch=function(t){t.preventDefault();e.setState({searchValue:""})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.retryCustomersData=function(){e.getCustomersData();e.setState({connected:!1,connectionFailed:!1})},e.getCustomersData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId(),this.getCustomersData()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.records,r=e.errors,c=e.petClasses,l=e.search,o=e.searchValue,i=e.added;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addPetModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addPetModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addPetModalTitle",children:"Add Pet"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[i?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.petName),type:"text",name:"petName",value:t.petName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Owner Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(r.ownerId),name:"ownerId",value:t.ownerId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),a.length>0?a.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(o.toLowerCase())||""===o})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleSearch,children:"Search"})})]}),l?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:o,onChange:this.onChangeState,placeholder:"Search by Owner Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(r.ownerId)]}):this.state.connectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later...",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.retryCustomersData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(r.petClass),name:"petClass",value:t.petClass,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(r.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.pcciRegNo),type:"text",name:"pcciRegNo",value:t.pcciRegNo,onChange:this.onChangeRecord,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(r.pcciRegNo)]})]}),i?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null})})]})})})})}}]),a}(r.Component),ie=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",petName:"",birthdate:"",ownerId:"",petClass:"",lastVisit:"",pcciRegNo:""},records:[],connected:!1,connectionFailed:!1,errors:{petName:"",birthdate:"",ownerId:"",petClass:"",pcciRegNo:""},submitError:!1,updated:!1,petClasses:["Alpaca","Ant","Bear","Bird","Cat","Chicken","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Frog","Gecko","Gerbil","Giraffe","Goat","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Iguana","Jaguar","Lizard","Mantis","Monkey","Newt","Octopus","Pig","Panda","Quill","Rabbit","Rat","Salamander","Sheep","Snake","Spider","Tortoise","Turtle","Whale"],search:!1,searchValue:"",deleteState:!1},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(f.a)({},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"ownerId":n.ownerId=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length>6?"Must be at exact 6 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.petName=e.removeLastSpace(s.petName),e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updatePet.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.setState({submitError:!1,updated:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.errors),s=e.props.pet;t.petName=s.petName,t.birthdate=s.birthdate,t.ownerId=s.ownerId,t.petClass=s.petClass,t.pcciRegNo=s.pcciRegNo,a.petName="",a.birthdate="",a.ownerId="",a.petClass="",a.pcciRegNo="";e.setState({record:t,errors:a,searchValue:"",submitError:!1,updated:!1})},e.onToggleSearch=function(t){t.preventDefault();var a=!e.state.search;e.setState({search:a})},e.onClearSearch=function(t){t.preventDefault();e.setState({searchValue:""})},e.defaultButtons=function(){return e.props.connected&&e.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]}):null},e.onToggleDelete=function(){var t=!e.state.deleteState;e.setState({deleteState:t})},e.deleteButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1","data-dismiss":"modal",onClick:e.onDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Confirm Delete"})]}),Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-arrow-left"}),Object(s.jsx)("span",{className:"ml-1",children:"Cancel Delete"})]})]})},e.onDelete=function(){var t=e.state.record,a=e.props.onRefresh;e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/deletePet.php",t).then(a)},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.retryCustomersData=function(){e.getCustomersData();e.setState({connected:!1,connectionFailed:!1})},e.getCustomersData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getCustomersData();var e=this.props.pet,t=Object(N.a)({},this.state.record);t.id=e.id,t.petName=e.petName,t.birthdate=e.birthdate,t.ownerId=e.ownerId,t.petClass=e.petClass,t.lastVisit=e.lastVisit,t.pcciRegNo=e.pcciRegNo,this.setState({record:t})}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.records,r=e.errors,c=e.petClasses,l=e.search,o=e.searchValue,i=e.updated,d=e.deleteState,m=this.props,h=m.pet,b=m.connected,j=m.connectionFailed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewPetModal-"+h.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewPetModalTitle-"+h.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewPetModalTitle-"+h.id,children:"View Pet"}),b||j?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[i?b?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,placeholder:"Please click 'Generate'",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.petName),type:"text",name:"petName",value:t.petName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Owner Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(r.ownerId),name:"ownerId",value:t.ownerId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),a.length>0?a.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(o.toLowerCase())||""===o})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleSearch,children:"Search"})})]}),l?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:o,onChange:this.onChangeState,placeholder:"Search by Owner Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(r.ownerId)]}):this.state.connectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later...",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.retryCustomersData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(r.petClass),name:"petClass",value:t.petClass,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(r.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.pcciRegNo),type:"text",name:"pcciRegNo",value:t.pcciRegNo,onChange:this.onChangeRecord,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(r.pcciRegNo)]})]}),i?b?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:d?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),de=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:t[o].ownerLastName+", "+t[o].ownerFirstName+" "+t[o].ownerMiddleName}),Object(s.jsx)("td",{children:t[o].petName}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:e.formatDate(t[o].birthdate)}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[o].petClass}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:null===t[o].lastVisit?"Not visiting yet":e.formatDate(t[o].lastVisit)}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewPetModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.pets,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.connected,i=e.connectionFailed,d=e.onSubmitForm,m=this.state,h=m.recordsPerPage,b=m.recordStartIndex,j=m.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addPetModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-xl-inline d-lg-none d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-xl-inline d-lg-none d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Owner Name"}),Object(s.jsx)("th",{children:"Pet Name"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell",children:"Birthdate"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Pet Class"}),Object(s.jsx)("th",{className:"d-none d-sm-table-cell",children:"Last Visit"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&o?this.renderItems(t):null})]}),t.length>0&&o?Object(s.jsx)(I,{setPage:this.setPage,recordsPerPage:h,recordStartIndex:b,activePage:j,totalRecords:t.length}):null,Object(s.jsx)(oe,{onRefresh:a,onSubmitForm:d}),t.map((function(e){return Object(s.jsx)(ie,{pet:e,onRefresh:a,connected:o,connectionFailed:i,onSubmitForm:d},e.id)}))]})}}]),a}(r.Component),me=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={pets:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(J,{sourceId:3,activeId:6,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Pets"}),Object(s.jsx)(de,{pets:e.state.pets,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.pets.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h1",{className:"display-5 text-danger",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center",children:"Please wait..."})]})})]})})}),Object(s.jsx)(w,{})]})},e.getData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php").then((function(t){var a=t.data;e.setState({pets:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchPet.php?search="+t).then((function(t){var a=t.data;e.setState({pets:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(Z,{history:e})})}}]),a}(r.Component),he=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",empLastName:"",empFirstName:"",empMiddleName:"",empType:"",empPassword:""},confirmEmpPassword:"",errors:{empLastName:" ",empFirstName:" ",empMiddleName:"",empType:" ",empPassword:" ",confirmEmpPassword:" "},empTypes:["Admin","Groomer","Veterinarian"],submitError:!1,added:!1},e.onGenerateId=function(){var t=Object(N.a)({},e.state.record),a=e.generateCharacters(6);t.id=a,e.setState({record:t})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(f.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"empLastName"===s&&(r=e.toProperCase(r)),"empFirstName"!==s&&"empMiddleName"!==s||(r=e.toAbsProperCase(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors),c=Object(N.a)({},e.state.record),l=e.state.confirmEmpPassword,o=e.removeSpaces(r).length;switch(s){case"empLastName":n.empLastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empFirstName":n.empFirstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empMiddleName":n.empMiddleName=r.length>24?"Must be at maximum of 24 characters":"";break;case"empType":n.empType=0===o?" ":"";break;case"empPassword":n.empPassword=0===o?" ":o<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmEmpPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmEmpPassword":n.confirmEmpPassword=0===o?" ":r===c.empPassword?o<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.empLastName=e.removeLastSpace(s.empLastName),s.empFirstName=e.removeLastSpace(s.empFirstName),s.empMiddleName=e.removeLastSpace(s.empMiddleName),e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertEmployee.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();e.setState({submitError:!1,added:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:e})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.errors);t.id=e.generateCharacters(6),t.empLastName="",t.empFirstName="",t.empMiddleName="",t.empType="",t.empPassword="",a.empLastName=" ",a.empFirstName=" ",a.empMiddleName="",a.empType="",a.empPassword=" ",a.confirmEmpPassword=" ",e.setState({record:t,confirmEmpPassword:"",errors:a,submitError:!1,added:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId()}},{key:"render",value:function(){var e=this,t=this.state,a=t.record,r=t.errors,c=t.confirmEmpPassword,l=t.added,o=t.empTypes;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addEmployeeModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addEmployeeModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addEmployeeModalTitle",children:"Add Employee"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[l?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:a.id,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empLastName),type:"text",name:"empLastName",value:a.empLastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.empLastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empFirstName),type:"text",name:"empFirstName",value:a.empFirstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.empFirstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empMiddleName),type:"text",name:"empMiddleName",value:a.empMiddleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(r.empMiddleName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Employee Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(r.empType),name:"empType",value:a.empType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),o.length>0?o.filter((function(t){return"Admin"!==t&&"Admin"===e.props.empType||"Master Admin"===e.props.empType})).map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(r.empType)]}),Object(s.jsx)("div",{className:"form-group col-lg-6"}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empPassword),type:"password",name:"empPassword",value:a.empPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.empPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.confirmEmpPassword),type:"password",name:"confirmEmpPassword",value:c,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(r.confirmEmpPassword)]})]}),l?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsxs)("div",{className:"d-flex justify-content-end w-100",children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})]})})})})}}]),a}(r.Component),be=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",empLastName:"",empFirstName:"",empMiddleName:"",empType:"",empPassword:""},confirmEmpPassword:"",errors:{empLastName:"",empFirstName:"",empMiddleName:"",empType:"",empPassword:"",confirmEmpPassword:" "},empTypes:["Admin","Groomer","Veterinarian"],submitError:!1,updated:!1,passwordState:{inputType:"password",buttonText:"Show"},deleteState:!1},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(f.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"empLastName"===s&&(r=e.toProperCase(r)),"empFirstName"!==s&&"empMiddleName"!==s||(r=e.toAbsProperCase(r)),e.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{record:Object(N.a)(Object(N.a)({},e.record),{},Object(f.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(N.a)({},e.state.errors),c=Object(N.a)({},e.state.record),l=e.state.confirmEmpPassword,o=e.removeSpaces(r).length;switch(s){case"empLastName":n.empLastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empFirstName":n.empFirstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empMiddleName":n.empMiddleName=r.length>24?"Must be at maximum of 24 characters":"";break;case"empType":n.empType=0===o?" ":"";break;case"empPassword":n.empPassword=0===o?" ":o<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmEmpPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmEmpPassword":n.confirmEmpPassword=0===o?" ":r===c.empPassword?o<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.onSubmit=function(){var t=Object(N.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(N.a)({},e.state.record);s.empLastName=e.removeLastSpace(s.empLastName),s.empFirstName=e.removeLastSpace(s.empFirstName),s.empMiddleName=e.removeLastSpace(s.empMiddleName),e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updateEmployee.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){var t=Object(N.a)({},e.state.errors);t.confirmEmpPassword=" ",e.setState({errors:t,confirmEmpPassword:"",submitError:!1,updated:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:e})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(N.a)({},e.state.record),a=Object(N.a)({},e.state.errors),s=e.props.employee;t.empLastName=s.empLastName,t.empFirstName=s.empFirstName,t.empMiddleName=s.empMiddleName,t.empType=s.empType,t.empPassword=s.empPassword,a.empLastName="",a.empFirstName="",a.empMiddleName="",a.empType="",a.empPassword="",a.confirmEmpPassword=" ",e.setState({record:t,confirmEmpPassword:"",errors:a,submitError:!1,updated:!1})},e.onTogglePassword=function(t){t.preventDefault();var a=Object(N.a)({},e.state.passwordState);"password"===a.inputType?(a.inputType="text",a.buttonText="Hide"):(a.inputType="password",a.buttonText="Show"),e.setState({passwordState:a})},e.defaultButtons=function(){return e.props.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]}):null},e.onToggleDelete=function(){var t=!e.state.deleteState;e.setState({deleteState:t})},e.deleteButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1","data-dismiss":"modal",onClick:e.onDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Confirm Delete"})]}),Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-arrow-left"}),Object(s.jsx)("span",{className:"ml-1",children:"Cancel Delete"})]})]})},e.onDelete=function(){var t=e.state.record,a=e.props.onRefresh;e.props.onSubmitForm(),u.a.post("http://localhost/reactPhpCrud/veterinaryClinic/deleteEmployee.php",t).then(a)},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.employee,t=Object(N.a)({},this.state.record);t.id=e.id,t.empLastName=e.empLastName,t.empFirstName=e.empFirstName,t.empMiddleName=e.empMiddleName,t.empType=e.empType,t.empPassword=e.empPassword,this.setState({record:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.record,r=t.errors,c=t.confirmEmpPassword,l=t.updated,o=t.empTypes,i=t.passwordState,d=t.deleteState,m=this.props,h=m.employee,b=m.empType,j=m.connected,u=m.connectionFailed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewEmployeeModal-"+h.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewEmployeeModalTitle-"+h.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewEmployeeModalTitle-"+h.id,children:"View Employee"}),j||u?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[l?j?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:a.id,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empLastName),type:"text",name:"empLastName",value:a.empLastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.empLastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empFirstName),type:"text",name:"empFirstName",value:a.empFirstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.empFirstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empMiddleName),type:"text",name:"empMiddleName",value:a.empMiddleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(r.empMiddleName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Employee Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),a.empType===b?Object(s.jsx)("input",{className:this.inputFieldClasses(r.empType),name:"empType",value:a.empType,onChange:this.onChangeRecord,noValidate:!0,disabled:!0}):Object(s.jsxs)("select",{className:this.inputFieldClasses(r.empType),name:"empType",value:a.empType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),o.length>0?o.filter((function(t){return"Admin"!==t&&"Admin"===e.props.empType||"Master Admin"===e.props.empType})).map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(r.empType)]}),Object(s.jsx)("div",{className:"form-group col-lg-6"}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"zi-10 "+this.inputFieldClasses(r.empPassword),type:i.inputType,name:"empPassword",value:a.empPassword,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePassword,children:i.buttonText})})]}),this.renderRecordErrors(r.empPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.confirmEmpPassword),type:"password",name:"confirmEmpPassword",value:c,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(r.confirmEmpPassword)]})]}),l?j?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:d?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),je=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=e.props,l=c.empType,o=c.id,i=[],d=t.length<=n+r?t.length:n+r,m=e.state.recordStartIndex;m<d;m++)i.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[m].empLastName+", "+t[m].empFirstName+" "+t[m].empMiddleName}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:t[m].empType}),Object(s.jsx)("td",{children:"Admin"===l&&("Master Admin"===t[m].empType||"Admin"===t[m].empType&&t[m].id!==o)?Object(s.jsxs)("button",{className:"btn btn-outline-secondary btn-sm mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]}):Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewEmployeeModal-"+t[m].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[m].id));return[i]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.employees,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.empType,i=e.connected,d=e.connectionFailed,m=e.onSubmitForm,h=this.state,b=h.recordsPerPage,j=h.recordStartIndex,u=h.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addEmployeeModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Employee Name"}),Object(s.jsx)("th",{className:"d-none d-sm-table-cell",children:"Employee Type"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(I,{setPage:this.setPage,recordsPerPage:b,recordStartIndex:j,activePage:u,totalRecords:t.length}):null,Object(s.jsx)(he,{onRefresh:a,empType:o,onSubmitForm:m}),t.map((function(e){return Object(s.jsx)(be,{employee:e,onRefresh:a,empType:o,connected:i,connectionFailed:d,onSubmitForm:m},e.id)}))]})}}]),a}(r.Component),ue=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={employees:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.onBackToHome=function(){e.props.history.replace("/admin",{verified:!0})},e.renderForbidden=function(){return Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center",children:Object(s.jsxs)("div",{className:"col-10 col-md-8 col-lg-6 form-light",children:[Object(s.jsxs)("div",{className:"alert alert-warning text-warning text-center my-3 mx-1 py-4",children:[Object(s.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(s.jsx)("i",{className:"fa fa-exclamation fa-lg"}),Object(s.jsx)("span",{className:"ml-2",children:Object(s.jsx)("h2",{className:"font-weight-normal",children:"Forbidden Access"})})]}),Object(s.jsx)("h5",{className:"font-weight-light",children:"Please login the Master account first."})]}),Object(s.jsx)("div",{className:"text-center mb-3",children:Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onBackToHome,children:"Back to Home"})})]})})})},e.renderContent=function(){var t=e.props.history.location.state;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(J,{sourceId:3,activeId:7,history:e.props.history}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Employees"}),Object(s.jsx)(je,{employees:e.state.employees,empType:t.empType,id:t.id,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.employees.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h1",{className:"display-5 text-danger",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-danger mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center",children:"Please wait..."})]})})]})})}),Object(s.jsx)(w,{})]})},e.getData=function(){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({employees:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){u.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchEmployee.php?search="+t).then((function(t){var a=t.data;e.setState({employees:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():this.renderForbidden()})}}]),a}(r.Component);var pe=function(){return Object(s.jsx)(o.a,{children:Object(s.jsxs)(i.c,{children:[Object(s.jsx)(i.a,{exact:!0,path:"/wiggly-tails",component:S}),Object(s.jsx)(i.a,{exact:!0,path:"/wiggly-tails/customer",component:R}),Object(s.jsx)(i.a,{path:"/wiggly-tails/customer/view-transactions",component:D}),Object(s.jsx)(i.a,{path:"/wiggly-tails/customer/view-admission",component:L}),Object(s.jsx)(i.a,{path:"/wiggly-tails/customer/manage-pets",component:G}),Object(s.jsx)(i.a,{path:"/wiggly-tails/customer/about-us",component:z}),Object(s.jsx)(i.a,{exact:!0,path:"/wiggly-tails/admin",component:X}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-transactions",component:$}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-admission",component:ae}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-customers",component:le}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-pets",component:me}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-employees",component:ue})]})})};a(64),a(65),a(66),a(67),a(68),a(69);l.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(pe,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.c411c127.chunk.js.map