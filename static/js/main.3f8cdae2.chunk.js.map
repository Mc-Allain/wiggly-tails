{"version":3,"sources":["img/wiggly-tails-icon.png","components/Index/Navbar.js","img/no-image.png","components/Index/IndexCarousel.js","components/Index/Forms/CustomerLoginForm.js","components/Index/Forms/EmployeeLoginForm.js","components/Index/Forms/RegisterModal.js","components/Footer.js","components/Index/Index.js","components/Customer/CustomerNavbar.js","components/Customer/UpdateAccountInfoModal.js","components/Customer/Forbidden.js","components/Customer/Customer.js","components/Customer/Transactions/ViewTransactionModal.js","components/TablePagination.js","components/Customer/Transactions/TransactionsTable.js","components/Customer/Transactions/ViewTransactions.js","components/Customer/Admission/ViewAdmissionModal.js","components/Customer/Admission/AdmissionTable.js","components/Customer/Admission/ViewAdmission.js","components/Customer/Pets/AddPetModal.js","components/Customer/Pets/ViewPetModal.js","components/Customer/Pets/PetsTable.js","components/Customer/Pets/ManagePets.js","components/Customer/AboutUs.js","components/Admin/Employees/ManageEmployeesModal.js","components/Admin/AdminNavbar.js","components/Admin/Forbidden.js","components/Admin/Admin.js","components/Admin/Transactions/AddTransactionModal.js","components/Admin/Transactions/ViewTransactionModal.js","components/Admin/Transactions/TransactionsTable.js","components/Admin/Transactions/ManageTransactions.js","components/Admin/Admission/AddAdmissionModal.js","components/Admin/Admission/ViewAdmissionModal.js","components/Admin/Admission/AdmissionTable.js","components/Admin/Admission/ManageAdmission.js","components/Admin/Customers/AddCustomerModal.js","components/Admin/Customers/ViewCustomerModal.js","components/Admin/Customers/InitiateTransactionModal.js","components/Admin/Customers/CustomersTable.js","components/Admin/Customers/ManageCustomers.js","components/Admin/Pets/AddPetModal.js","components/Admin/Pets/ViewPetModal.js","components/Admin/Pets/PetsTable.js","components/Admin/Pets/ManagePets.js","components/Admin/Employees/AddEmployeeModal.js","components/Admin/Employees/ViewEmployeeModal.js","components/Admin/Employees/EmployeesTable.js","components/Admin/Employees/ManageEmployees.js","App.js","index.js"],"names":["Navbar","state","navs","id","text","link","items","linkItemClasses","props","activeId","sourceId","classes","dropdownItemClasses","switchActiveId","this","Fragment","className","href","src","wiggy_tails_icon","alt","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","map","nav","length","aria-labelledby","item","onClick","Component","IndexCarousel","data-ride","data-slide-to","noImage","role","data-slide","aria-hidden","CustomerLoginForm","record","emailAddress","email","userPassword","errors","submitError","loginError","onChangeRecord","e","target","name","value","removeSpaces","setState","currentState","onCheckRecordErrors","onSubmit","preventDefault","records","validForm","result","filter","row","toLowerCase","history","replace","verified","valid","Object","values","forEach","renderRecordErrors","errorMsg","renderLoginError","onReset","inputFieldClasses","i","charAt","connected","noValidate","onChange","connectionFailed","getData","EmployeeLoginForm","empLastName","empPassword","toUpperCase","toAbsProperCase","propervalue","isCapital","maxLength","RegisterModal","lastName","firstName","middleName","homeAddress","lotBlock","street","subdivision","barangay","municipality","province","birthdate","mobileNumber","confirmUserPassword","homeAddressErrors","registered","onGenerateId","generateCharacters","onChangeState","toProperCase","properLength","isNumeric","isValidEmail","emailAddressExists","RegExp","test","onChangeHomeAddress","onCheckHomeAddressErrors","getCustomersData","removeLastSpace","mbNo","push","substring","join","onRegister","axios","post","then","postSubmit","setTimeout","renderErrors","errorItems","isObject","data","renderHomeAddressErrors","characters","charactersLength","Math","floor","random","retryCustomersData","get","res","catch","error","console","log","removeMultipleSpaces","tabIndex","data-dismiss","disabled","placeholder","Footer","EmployeeLogin","customers","customerConnected","customerConnectionFailed","employees","employeeConnected","employeeConnectionFailed","componentDidMount","getEmployeesData","retryEmployeesData","CustomerNavbar","onClickLink","location","onClickBrand","onClickSignOut","UpdateAccountInfoModal","updated","passwordState","inputType","buttonText","customer","onRefresh","onSubmitForm","split","onTogglePassword","defaultButtons","deleteState","deleteButtons","Forbidden","onBackToLogin","Customer","searchData","renderContent","formatDate","searchValue","dateValue","day","Date","getDate","month","getMonth","getFullYear","ViewTransactionModal","transType","transDate","petId","petName","customerId","customerLastName","customerFirstName","customerMiddleName","customerName","petWeight","remarks","empId","empFirstName","empMiddleName","checkUp","findings","treatment","admissionDate","releasedDate","addInfo","groom","activity","checkUpConnected","checkUpConnectionFailed","groomConnected","groomConnectionFailed","transaction","getCheckUpData","getGroomData","onChangeCheckUp","onChangeGroom","onViewAdmission","transId","checkUpForm","rows","retryCheckUpData","groomForm","retryGroomData","TablePagination","onClickPage","page","recordStartIndex","recordsPerPage","activePage","setPage","onClickPagePrev","onClickPageNext","noOfPages","renderPagination","totalRecords","pages","ceil","indexPage","stopPage","getPageClasses","getPrevPageClasses","renderBackPage","renderContinuePage","getNextPageClasses","pageLowerLimit","pageNo","pageUpperLimit","TransactionsTable","renderItems","transactions","recordStopIndex","formatTransType","onSearch","onClear","ViewTransactions","ViewAdmissionModal","title","content","admission","AdmissionTable","colSpan","ViewAdmission","admissionId","AddPetModal","ownerId","petClass","lastVisit","pcciRegNo","petClasses","added","ViewPetModal","pet","onToggleDelete","onDelete","PetsTable","pets","ownerLastName","ownerFirstName","ownerMiddleName","ManagePets","AboutUs","ManageEmployeesModal","adminId","adminPassword","document","getElementById","click","empType","renderModal","AdminNavbar","Admin","AddTransactionModal","checkUpErrors","groomErrors","petConnected","petConnectionFailed","search","employee","getCurrentDate","dateObj","toSentenceCase","onCheckCheckUpErrors","onCheckGroomErrors","onToggleCustomerSearch","onClearCustomerSearch","onChangeCustomerSearch","onTogglePetSearch","onClearPetSearch","onChangePetSearch","onToggleEmployeeSearch","onClearEmployeeSearch","onChangeEmployeeSearch","retryPetsData","getPetsData","match","ManageTransactions","AddAdmissionModal","ManageAdmission","AddCustomerModal","petErrors","onChangePet","onCheckPetErrors","ViewCustomerModal","InitiateTransactionModal","CustomersTable","noOfPets","ManageCustomers","onToggleSearch","onClearSearch","AddEmployeeModal","confirmEmpPassword","empTypes","ViewEmployeeModal","EmployeesTable","ManageEmployees","onBackToHome","renderForbidden","App","exact","path","component","Index","CustomerManagePets","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3f8cdae2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/wiggly-tails-icon.1d629afe.png\";","import React, { Component } from 'react';\r\nimport wiggy_tails_icon from '../../img/wiggly-tails-icon.png';\r\n\r\nclass Navbar extends Component {\r\n    state = {\r\n        navs:\r\n        [\r\n            {\r\n                id: 1,\r\n                text: \"Login\",\r\n                link: null,\r\n                items: \r\n                [\r\n                    {\r\n                        id: 2,\r\n                        text: \"Customer\",\r\n                        link: null\r\n                    },\r\n                    {\r\n                        id: 3,\r\n                        text: \"Employee\",\r\n                        link: null\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                id: 10,\r\n                text: \"Register\",\r\n                link: null,\r\n                items: []\r\n            }\r\n        ]\r\n    }\r\n\r\n    render() { \r\n        const { switchActiveId } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <nav className=\"navbar navbar-expand-sm navbar-dark bg-dark fixed-top\">\r\n                    <a href=\"/wiggly-tails\" className=\"navbar-brand py-0\">\r\n                        <img src={wiggy_tails_icon} alt=\"\" className=\"mr-2\" />Veterinary Clinic\r\n                    </a>\r\n\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                    data-target=\"#main-navbar\" aria-controls=\"main-navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"main-navbar\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {\r\n                                this.state.navs.map(nav =>\r\n                                    nav.items.length > 0 ?\r\n                                    <li key={nav.id} className=\"nav-item dropdown mr-1\">\r\n                                        <a className={\"dropdown-toggle \" + this.linkItemClasses(nav.id)} id={\"dropdown\" + nav.id}\r\n                                        href=\"/\" data-toggle=\"dropdown\">{nav.text}</a>\r\n                                        <div className=\"dropdown-menu\" aria-labelledby={\"dropdown\" + nav.id}>\r\n                                            {\r\n                                                nav.items.map(item =>\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    href={item.link} onClick={() => switchActiveId(item.id)}>{item.text}</a>\r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </li> :\r\n                                    <li key={nav.id} className=\"nav-item mr-1\">\r\n                                        {\r\n                                            nav.id === 10 ?\r\n                                            <a className={this.linkItemClasses(nav.id)}\r\n                                            data-toggle=\"modal\" data-target=\"#registerModal\">\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            <a href={nav.link} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a>\r\n                                        }\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    linkItemClasses = id => {\r\n        const { activeId, sourceId } = this.props;\r\n\r\n        let classes = \"nav-link \";\r\n        classes+= id === activeId ? \"active\" :\r\n        id === sourceId ? \"active\" : \r\n        id === 10 ?  \"text-warning\" : \"inactive\"\r\n        return classes;\r\n    }\r\n\r\n    dropdownItemClasses = id => {\r\n        const { activeId } = this.props;\r\n\r\n        let classes = \"dropdown-item text-dark \"\r\n        classes+= id === activeId ? \"active-dropdown\" : \"inactive-dropdown\"\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default Navbar;","export default \"data:image/png;base64,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\"","import React, { Component } from 'react';\r\n\r\nimport noImage from '../../img/no-image.png';\r\n// import consultation from '../../img/employees.jpg';\r\n// import treatmentVaccination from '../../img/treatment-vaccination.jpg';\r\n// import confinement from '../../img/confinement.jpg';\r\n// import grooming from '../../img/grooming.jpg';\r\n\r\nclass IndexCarousel extends Component {\r\n    state = {  }\r\n    render() { \r\n        return (\r\n            <React.Fragment>\r\n                <div id=\"index-carousel\" className=\"carousel slide\" data-ride='carousel'>\r\n                    <ul className=\"carousel-indicators\">\r\n                        <li data-target=\"#index-carousel\" data-slide-to='0' className=\"active\"></li>\r\n                        <li data-target=\"#index-carousel\" data-slide-to='1'></li>\r\n                        <li data-target=\"#index-carousel\" data-slide-to='2'></li>\r\n                        <li data-target=\"#index-carousel\" data-slide-to='3'></li>\r\n                    </ul>\r\n                    \r\n                    <div className=\"carousel-inner\">\r\n                        <div className=\"carousel-item bg-dark active\">\r\n                            <img className=\"d-block w-100\" src={noImage} alt=\"consultation\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-45\">\r\n                                <h5>Consultation</h5>\r\n                                <p>Please suggest a Caption</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img className=\"d-block w-100\" src={noImage} alt=\"treatment_vaccination\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-45\">\r\n                                <h5>Treatment and Vaccination</h5>\r\n                                <p>Please suggest a Caption</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img className=\"d-block w-100\" src={noImage} alt=\"confinement\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-45\">\r\n                                <h5>Confinement</h5>\r\n                                <p>Please suggest a Caption</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img className=\"d-block w-100\" src={noImage} alt=\"grooming\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-45\">\r\n                                <h5>Grooming</h5>\r\n                                <p>Please suggest a Caption</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <a className=\"carousel-control-prev\" href=\"#index-carousel\" role=\"button\" data-slide=\"prev\">\r\n                        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Previous</span>\r\n                    </a>\r\n                    <a className=\"carousel-control-next\" href=\"#index-carousel\" role=\"button\" data-slide=\"next\">\r\n                        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Next</span>\r\n                    </a>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default IndexCarousel;","import React, { Component } from 'react';\r\n\r\nclass CustomerLoginForm extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        errors:\r\n        {\r\n            emailAddress: 'Please input your Email Address',\r\n            userPassword: 'Please input your Password'\r\n        },\r\n        submitError: false,\r\n        loginError: false\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"emailAddress\") {\r\n            value = this.removeSpaces(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'emailAddress':\r\n                errors.emailAddress=  value.length === 0 ? \"Please input your Email Address\" : \"\"\r\n                break;\r\n            \r\n            case 'userPassword':\r\n                errors.userPassword= value.length === 0 ? \"Please input your Password\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const { records } = this.props;\r\n        const errors  = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n\r\n        if(this.validForm({ errors })) {\r\n            let submitError = false;\r\n            let loginError = false;\r\n\r\n            this.setState({ submitError, loginError });\r\n\r\n            const result = records.filter(row => \r\n                (row.emailAddress + row.email).toLowerCase() === (record.emailAddress + record.email).toLowerCase() &&\r\n                row.userPassword === record.userPassword\r\n            )\r\n\r\n            if(result.length > 0) {\r\n                const { history } = this.props;\r\n                history.replace('/wiggly-tails/customer', {verified: true, id: result[0].id});\r\n            }\r\n            else {\r\n                submitError = true;\r\n                loginError = true;\r\n                record.userPassword = '';\r\n                errors.userPassword = 'Please input your Password';\r\n            }\r\n\r\n            this.setState({ record, errors, submitError, loginError });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0) {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderLoginError = () => {\r\n        if(this.state.loginError) {\r\n            return(\r\n                <div className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                    <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                    <span className=\"lh-0 my-1\">Incorrect Email Address or Password</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    onReset = e => {\r\n        e.preventDefault();\r\n        const record = {...this.state.record};\r\n        record.emailAddress = '';\r\n        record.email = '@yahoo.com';\r\n        record.userPassword = '';\r\n\r\n        const errors = {...this.state.errors};\r\n        errors.emailAddress = 'Please input your Email Address';\r\n        errors.userPassword = 'Please input your Password';\r\n\r\n        const submitError = false;\r\n        const loginError = false;\r\n\r\n        this.setState({ record, errors, submitError, loginError });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors } = this.state;\r\n        return (\r\n            this.props.connected ?\r\n            <form className=\"form-light p-5 mt-4\" noValidate\r\n            onSubmit={this.onSubmit} onReset={this.onReset}>\r\n                <h2 className=\"font-weight-normal text-center\">Customer Login</h2>\r\n                <h5 className=\"font-weight-light text-center mb-4\">\r\n                    Please input your credentials.\r\n                </h5> { this.renderLoginError() }\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Email Address</label>\r\n                    <div className=\"input-group d-block d-sm-flex px-0\">\r\n                        <input className={\"w-sm-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                        <div className=\"input-group-append justify-content-end\">\r\n                            <span className=\"input-group-text\">@</span>\r\n                            <select className=\"input-group-text\"\r\n                            name=\"email\" value={record.email}\r\n                            onChange={this.onChangeRecord} noValidate>\r\n                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                <option value=\"@outlook.com\">outlook.com</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    { this.renderRecordErrors(errors.emailAddress) }\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Password</label>\r\n                    <input className={this.inputFieldClasses(errors.userPassword)}\r\n                        type=\"password\" name=\"userPassword\" value={record.userPassword}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    { this.renderRecordErrors(errors.userPassword) }\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-between align-items-center mt-4\">\r\n                    <button type=\"submit\" className=\"btn btn-primary w-49\">\r\n                        <i className=\"fa fa-sign-in-alt\"></i>\r\n                        <span className=\"ml-1\">Login</span>\r\n                    </button>\r\n                    <button type=\"reset\" className=\"btn btn-danger w-49\">\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                </div>\r\n            </form> :\r\n            this.props.connectionFailed ?\r\n            <div className=\"text-center\">\r\n                <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                onClick={this.props.getData}>Retry</button>\r\n            </div> :\r\n            <React.Fragment>\r\n                <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 && this.state.submitError ? \"border border-danger\" : \"\"\r\n        return classes;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default CustomerLoginForm;","import React, { Component } from 'react';\r\n\r\nclass EmployeeLoginForm extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            empLastName: '',\r\n            empPassword: ''\r\n        },\r\n        errors:\r\n        {\r\n            id: 'Please input your Id',\r\n            empLastName: 'Please input your Last Name',\r\n            empPassword: 'Please input your Password'\r\n        },\r\n        submitError: false,\r\n        loginError: false\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if (name === \"id\") {\r\n            value = value.toUpperCase();\r\n        }\r\n\r\n        if (name === \"empLastName\") {\r\n            value = this.toAbsProperCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = { ...this.state.errors };\r\n\r\n        switch (name) {\r\n            case 'id':\r\n                errors.id = value.length === 0 ? \"Please input your Id\" :\r\n                    value.length !== 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empLastName':\r\n                errors.empLastName = value.length === 0 ? \"Please input your Last Name\" :\r\n                    value.length < 2 || value.length > 24 ?\r\n                        \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empPassword':\r\n                errors.empPassword = value.length === 0 ? \"Please input your Password\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const { records } = this.props;\r\n        const errors = { ...this.state.errors };\r\n        const record = { ...this.state.record };\r\n\r\n        if (this.validForm({ errors })) {\r\n            let submitError = false;\r\n            let loginError = false;\r\n\r\n            const result = records.filter(row =>\r\n                row.id === record.id &&\r\n                row.empLastName === record.empLastName &&\r\n                row.empPassword === record.empPassword\r\n            )\r\n\r\n            if (result.length > 0) {\r\n                const { history } = this.props;\r\n                history.replace('/wiggly-tails/admin', { verified: true });\r\n            }\r\n            else {\r\n                submitError = true;\r\n                loginError = true;\r\n                record.empPassword = '';\r\n                errors.empPassword = 'Please input your Password';\r\n            }\r\n\r\n            this.setState({ record, errors, submitError, loginError });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n\r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if (this.state.submitError) {\r\n            if (errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return (\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    renderLoginError = () => {\r\n        if (this.state.loginError) {\r\n            return (\r\n                <div className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                    <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                    <span className=\"lh-0 my-1\">Incorrect Id, Last Name or Password</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    onReset = e => {\r\n        e.preventDefault();\r\n        const record = { ...this.state.record };\r\n        record.id = '';\r\n        record.empLastName = '';\r\n        record.empPassword = '';\r\n\r\n        const errors = { ...this.state.errors };\r\n        errors.id = 'Please input your Id';\r\n        errors.empLastName = 'Please input your Last Name';\r\n        errors.empPassword = 'Please input your Password';\r\n\r\n        const submitError = false;\r\n        const loginError = false;\r\n\r\n        this.setState({ record, errors, submitError, loginError });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors } = this.state;\r\n        return (\r\n            this.props.connected ?\r\n            <form className=\"form-light p-5 mt-4\" noValidate\r\n                onSubmit={this.onSubmit} onReset={this.onReset}>\r\n                <h2 className=\"font-weight-normal text-center\">Employee Login</h2>\r\n                <h5 className=\"font-weight-light text-center mb-4\">\r\n                    Please input your credentials.\r\n                </h5> { this.renderLoginError()}\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Id</label>\r\n                    <input className={this.inputFieldClasses(errors.id)}\r\n                        type=\"text\" name=\"id\" value={record.id} maxLength=\"6\"\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    {this.renderRecordErrors(errors.id)}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Last Name</label>\r\n                    <input className={this.inputFieldClasses(errors.empLastName)}\r\n                        type=\"text\" name=\"empLastName\" value={record.empLastName}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    {this.renderRecordErrors(errors.empLastName)}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Password</label>\r\n                    <input className={this.inputFieldClasses(errors.empPassword)}\r\n                        type=\"password\" name=\"empPassword\" value={record.empPassword}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    {this.renderRecordErrors(errors.empPassword)}\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-between align-items-center mt-4\">\r\n                    <button type=\"submit\" className=\"btn btn-primary w-49\">\r\n                        <i className=\"fa fa-sign-in-alt\"></i>\r\n                        <span className=\"ml-1\">Login</span>\r\n                    </button>\r\n                    <button type=\"reset\" className=\"btn btn-danger w-49\">\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                </div>\r\n            </form> :\r\n            this.props.connectionFailed ?\r\n            <div className=\"text-center\">\r\n                <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                onClick={this.props.getData}>Retry</button>\r\n            </div> :\r\n            <React.Fragment>\r\n                <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes += errorMsg.length > 0 && this.state.submitError ? \"border border-danger\" : \"\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for (var i = 0; i < value.length; i++) {\r\n            if (value.charAt(i) === \" \") {\r\n                if (i !== 0 && value.charAt(i - 1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if (i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }\r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n\r\nexport default EmployeeLoginForm;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass RegisterModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: ' ',\r\n            firstName: ' ',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: ' ',\r\n                subdivision: ' ',\r\n                barangay: ' ',\r\n                municipality: ' ',\r\n                province: ''\r\n            },\r\n            birthdate: ' ',\r\n            mobileNumber: ' ',\r\n            emailAddress: ' ',\r\n            userPassword: ' ',\r\n            confirmUserPassword: ' ',\r\n        },\r\n        records: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        submitError: false,\r\n        registered: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n        this.getCustomersData();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record, records } = this.state;\r\n\r\n        const result = records.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() === (record.emailAddress + record.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n\r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  properLength === 0 ? \" \" :\r\n                                                properLength < 2  || value.length > 24 ?\r\n                                                \"Subdivision must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { getCustomersData } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n\r\n            record.homeAddress.street += \" St.\";\r\n            record.homeAddress.barangay = \"Brgy. \" + record.homeAddress.barangay;\r\n            record.homeAddress.municipality += \" City\";\r\n\r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            this.props.onRegister();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertCustomer.php', record)\r\n            .then(getCustomersData, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        this.onReset();\r\n        let registered = true;\r\n        const submitError = false;\r\n        this.setState({ submitError, registered });\r\n        registered = false;\r\n        setTimeout(() => this.setState({ registered }), 5000);\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0  && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const confirmUserPassword = '';\r\n        const submitError = false;\r\n\r\n        homeAddress.lotBlock = '';\r\n        homeAddress.street = '';\r\n        homeAddress.subdivision = '';\r\n        homeAddress.barangay = '';\r\n        homeAddress.municipality = '';\r\n        homeAddress.province = '';\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.lastName = '';\r\n        record.firstName = '';\r\n        record.middleName = ''\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = '';\r\n        record.mobileNumber = '';\r\n        record.emailAddress = '';\r\n        record.email = '@yahoo.com';\r\n        record.userPassword = '';\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = ' ';\r\n        homeAddressErrors.subdivision = ' ';\r\n        homeAddressErrors.barangay = ' ';\r\n        homeAddressErrors.municipality = ' ';\r\n        homeAddressErrors.province = '';\r\n\r\n        errors.lastName = ' ';\r\n        errors.firstName = ' ';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ' ';\r\n        errors.mobileNumber = ' ';\r\n        errors.emailAddress = ' ';\r\n        errors.userPassword = ' ';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, submitError });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, registered } = this.state;\r\n        const { homeAddress } = record;\r\n        const { homeAddressErrors } = errors;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"registerModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"registerModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"registerModalTitle\">Register</h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    registered ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Successfully registered.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                            <div className=\"input-group-append\">\r\n                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                onClick={this.onGenerateId}>\r\n                                                    Generate\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.lastName)}\r\n                                        type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.firstName)}\r\n                                        type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        <input className={this.inputFieldClasses(errors.middleName)}\r\n                                        type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                        onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Street\" noValidate />\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Subdivision\" noValidate />\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Barangay\" noValidate />\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Municipality\" noValidate />\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Province (Optional)\" noValidate />\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                            type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    <input className={\"w-sm-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                    type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                    onChange={this.onChangeRecord} noValidate />\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        <select className=\"input-group-text\"\r\n                                                        name=\"email\" value={record.email}\r\n                                                        onChange={this.onChangeRecord} noValidate>\r\n                                                            <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                            <option value=\"@gmail.com\">gmail.com</option>\r\n                                                            <option value=\"@outlook.com\">outlook.com</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.state.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.userPassword)}\r\n                                        type=\"password\" name=\"userPassword\" value={record.userPassword}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                        type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                        onChange={this.onChangeState} noValidate />\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    registered ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Successfully registered.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        this.state.connected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const connected = true;\r\n            this.setState({ records, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n \r\nexport default RegisterModal;","import React, { Component } from 'react';\r\n\r\nclass Footer extends Component {\r\n    state = {  }\r\n    render() { \r\n        return (\r\n            <div className=\"bg-dark text-light w-100 fixed-bottom\">\r\n                <p className=\"m-0 p-0 text-right small my-1 mr-3\">Copyright &copy; 2020</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Footer;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport Navbar from './Navbar.js';\r\nimport IndexCarousel from './IndexCarousel.js';\r\nimport CustomerLoginForm from './Forms/CustomerLoginForm.js';\r\nimport EmployeeLoginForm from './Forms/EmployeeLoginForm.js';\r\nimport RegisterModal from './Forms/RegisterModal.js';\r\nimport Footer from '../Footer.js';\r\n\r\nclass EmployeeLogin extends Component {\r\n    state = {\r\n        activeId: 2,\r\n        customers: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false,\r\n        employees: [],\r\n        employeeConnected: false,\r\n        employeeConnectionFailed: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.getCustomersData();\r\n        this.getEmployeesData();\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        this.onRegister();\r\n    }\r\n\r\n    retryEmployeesData = () => {\r\n        this.getEmployeesData();\r\n        const employeeConnected = false;\r\n        const employeeConnectionFailed = false;\r\n        this.setState({ employeeConnected, employeeConnectionFailed })\r\n    }\r\n\r\n    onRegister = () => {\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    switchActiveId = id => {\r\n        const activeId = id;\r\n        this.setState({ activeId });\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <React.Fragment>\r\n                <Navbar activeId={this.state.activeId} sourceId={1} switchActiveId={this.switchActiveId}/>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"h-full row bg-warning justify-content-center text-dark\">\r\n                        <div className=\"col-lg-7 d-lg-inline d-none align-self-center\">\r\n                            <IndexCarousel />\r\n                        </div>\r\n                        <div className=\"col-lg-5 bg-light\">\r\n                            <div className=\"row h-full justify-content-center align-items-center\">\r\n                                <div className=\"col-sm-10 col-md-8 col-lg-12\">\r\n                                    {\r\n                                        this.state.activeId === 2 ?\r\n                                        <CustomerLoginForm history={this.props.history}\r\n                                        records={ this.state.customers }\r\n                                        connected={this.state.customerConnected}\r\n                                        connectionFailed={this.state.customerConnectionFailed}\r\n                                        getData={this.retryCustomersData} /> :\r\n                                        <EmployeeLoginForm history={this.props.history} \r\n                                        records={ this.state.employees }\r\n                                        connected={this.state.employeeConnected}\r\n                                        connectionFailed={this.state.employeeConnectionFailed}\r\n                                        getData={this.retryEmployeesData} />\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <RegisterModal getCustomersData={this.getCustomersData} onRegister={this.onRegister} />\r\n                <Footer />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const customerConnected = true;\r\n            this.setState({ customers, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed })\r\n        });\r\n    }\r\n\r\n    getEmployeesData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n            .then(res => {\r\n                const employees = res.data;\r\n                const employeeConnected = true;\r\n                this.setState({ employees, employeeConnected });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                const employeeConnectionFailed = true;\r\n                this.setState({ employeeConnectionFailed })\r\n            });\r\n    }\r\n}\r\n \r\nexport default EmployeeLogin;","import React, { Component } from 'react';\r\nimport wiggy_tails_icon from '../../img/wiggly-tails-icon.png';\r\n\r\nclass CustomerNavbar extends Component {\r\n    state = {\r\n        navs:\r\n        [\r\n            {\r\n                id: 0,\r\n                text: \"Account\",\r\n                link: \"/wiggly-tails/customer\",\r\n                items: []\r\n            },\r\n            {\r\n                id: 1,\r\n                text: \"Transactions\",\r\n                link: \"/wiggly-tails/customer/view-transactions\",\r\n                items: [],\r\n            },\r\n            {\r\n                id: 2,\r\n                text: \"Pets\",\r\n                link: \"/wiggly-tails/customer/manage-pets\",\r\n                items: [],\r\n            },\r\n            {\r\n                id: 3,\r\n                text: \"About us\",\r\n                link: \"/wiggly-tails/customer/about-us\",\r\n                items: [],\r\n            },\r\n            {\r\n                id: 10,\r\n                text: \"Sign out\",\r\n                link: \"/wiggly-tails\",\r\n                items: []\r\n            }\r\n        ]\r\n    }\r\n\r\n    onClickLink = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link, {verified: true, id: history.location.state.id});\r\n    }\r\n\r\n    onClickBrand = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails/customer\";\r\n        history.replace(link, {verified: true, id: history.location.state.id});\r\n    }\r\n\r\n    onClickSignOut = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link);\r\n    }\r\n\r\n\r\n    render() { \r\n        return (\r\n            <React.Fragment>\r\n                <nav className=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\r\n                    <a onClick={this.onClickBrand} className=\"navbar-brand py-0\">\r\n                        <img src={wiggy_tails_icon} alt=\"\" className=\"mr-2\" />Veterinary Clinic\r\n                    </a>\r\n\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                    data-target=\"#customer-navbar\" aria-controls=\"customer-navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"customer-navbar\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {\r\n                                this.state.navs.map(nav =>\r\n                                    nav.items.length > 0 ?\r\n                                    <li key={nav.id} className=\"nav-item dropdown mr-1\">\r\n                                        <a className={\"dropdown-toggle \" + this.linkItemClasses(nav.id)} id={\"dropdown\" + nav.id}\r\n                                        href={nav.link} data-toggle=\"dropdown\">{nav.text}</a>\r\n                                        <div className=\"dropdown-menu\" aria-labelledby={\"dropdown\" + nav.id}>\r\n                                            {\r\n                                                nav.items.map(item =>\r\n                                                    item.id === 7 ?\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    data-toggle=\"modal\" data-target=\"#manageEmployeesModal\">\r\n                                                        {item.text}</a> :\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    onClick={() => this.onClickLink(item)}>{item.text}</a>\r\n                                                    \r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </li> :\r\n                                    <li key={nav.id} className=\"nav-item mr-1\">\r\n                                        {\r\n                                            nav.id === 10 ?\r\n                                            <a onClick={() => this.onClickSignOut(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            <a onClick={() => this.onClickLink(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a>\r\n                                        }\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    linkItemClasses = id => {\r\n        const { activeId, sourceId } = this.props;\r\n\r\n        let classes = \"nav-link \";\r\n        classes+= id === activeId ? \"active\" :\r\n        id === sourceId ? \"active\" : \r\n        id === 10  ? \"text-danger\" : \"inactive\"\r\n        return classes;\r\n    }\r\n\r\n    dropdownItemClasses = id => {\r\n        const { activeId } = this.props;\r\n\r\n        let classes = \"dropdown-item \"\r\n        classes+= id === 7 ? \"text-danger \" : \"text-dark \"\r\n        classes+= id === activeId ? \"active-dropdown\" : \"inactive-dropdown\"\r\n\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default CustomerNavbar;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass UpdateAccountInfoModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            userPassword: '',\r\n            confirmUserPassword: ' ',\r\n        },\r\n        records: [], \r\n        connected: false,\r\n        connectionFailed: false,\r\n        submitError: false,\r\n        updated: false,\r\n        passwordState:\r\n        {\r\n            inputType: 'password',\r\n            buttonText: 'Show'\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getCustomersData();\r\n\r\n        const { customer } = this.props;\r\n        const record = {...this.state.record};\r\n        record.id = customer.id;\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName;\r\n        record.homeAddress.lotBlock = customer.lotBlock;\r\n        record.homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        record.homeAddress.subdivision = customer.subdivision;\r\n        record.homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        record.homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        record.homeAddress.province = customer.province;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record, records } = this.state;\r\n        const { customer } = this.props;\r\n\r\n        const result = records.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() === (record.emailAddress + record.email).toLowerCase() &&\r\n            (row.emailAddress + row.email).toLowerCase() !== (customer.emailAddress + customer.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n    \r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  properLength === 0 ? \" \" :\r\n                                                properLength < 2  || value.length > 24 ?\r\n                                                \"Subdivision must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n\r\n            record.homeAddress.street += \" St.\";\r\n            record.homeAddress.barangay = \"Brgy. \" + record.homeAddress.barangay;\r\n            record.homeAddress.municipality += \" City\";\r\n            \r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            this.props.onSubmitForm();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateCustomer.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const record = {...this.state.record};\r\n        record.homeAddress.street = record.homeAddress.street.substring(0, record.homeAddress.street.length - 4);\r\n        record.homeAddress.barangay = record.homeAddress.barangay.substring(6, record.homeAddress.barangay.length);\r\n        record.homeAddress.municipality =   record.homeAddress.municipality\r\n                                            .substring(0, record.homeAddress.municipality.length - 5);\r\n\r\n        let updated = true;\r\n        const submitError = false;\r\n        const confirmUserPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmUserPassword = ' '\r\n        this.setState({ record, errors, confirmUserPassword, submitError, updated });\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0 && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const { customer } = this.props;\r\n\r\n        const confirmUserPassword = '';\r\n        const submitError = false;\r\n        const updated = false;\r\n\r\n        const { passwordState } = this.state;\r\n\r\n        passwordState.buttonText = \"Show\";\r\n        passwordState.inputType = \"password\";\r\n\r\n        homeAddress.lotBlock = customer.lotBlock;\r\n        homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        homeAddress.subdivision = customer.subdivision;\r\n        homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        homeAddress.province = customer.province;\r\n\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = '';\r\n        homeAddressErrors.subdivision = '';\r\n        homeAddressErrors.barangay = '';\r\n        homeAddressErrors.municipality = '';\r\n        homeAddressErrors.province = '';\r\n\r\n        errors.lastName = '';\r\n        errors.firstName = '';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ''\r\n        errors.mobileNumber = '';\r\n        errors.emailAddress = '';\r\n        errors.userPassword = '';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, passwordState, submitError, updated });\r\n    }\r\n\r\n    onTogglePassword = e => {\r\n        e.preventDefault();\r\n        const passwordState = {...this.state.passwordState};\r\n        if(passwordState.inputType === 'password') {\r\n            passwordState.inputType = 'text';\r\n            passwordState.buttonText = 'Hide';\r\n        }\r\n        else {\r\n            passwordState.inputType = 'password';\r\n            passwordState.buttonText = 'Show';\r\n        }\r\n        this.setState({ passwordState });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, passwordState, updated, deleteState } = this.state;\r\n        const { homeAddress } = this.state.record;\r\n        const { homeAddressErrors } = errors;\r\n        const { connected } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"updateAccountInfoModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"updateAccountInfoModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"updateAccountInfoModalTitle\">View Customer</h5>\r\n                                {\r\n                                    connected ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.lastName)}\r\n                                        type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.firstName)}\r\n                                        type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        <input className={this.inputFieldClasses(errors.middleName)}\r\n                                        type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                        onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Street\" noValidate />\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Subdivision\" noValidate />\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Barangay\" noValidate />\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Municipality\" noValidate />\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Province (Optional)\" noValidate />\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                            type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    <input className={\"w-sm-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                    type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                    onChange={this.onChangeRecord} noValidate />\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        <select className=\"input-group-text\"\r\n                                                        name=\"email\" value={record.email}\r\n                                                        onChange={this.onChangeRecord} noValidate>\r\n                                                            <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                            <option value=\"@gmail.com\">gmail.com</option>\r\n                                                            <option value=\"@outlook.com\">outlook.com</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.state.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className={\"zi-10 \" + this.inputFieldClasses(errors.userPassword)}\r\n                                            type={passwordState.inputType} name=\"userPassword\" value={record.userPassword}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                            <div className=\"input-group-append\">\r\n                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                onClick={this.onTogglePassword}>\r\n                                                    {passwordState.buttonText}\r\n                                                </button>\r\n                                            </div>\r\n                                        </div> { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                        type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                        onChange={this.onChangeState} noValidate />\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            this.props.connected && this.state.connected ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onReset}>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n            </React.Fragment> : null\r\n        )\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const connected = true;\r\n            this.setState({ records, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n \r\nexport default UpdateAccountInfoModal;","import React, { Component } from 'react';\r\n\r\nclass Forbidden extends Component {\r\n    state = {  }\r\n\r\n    onBackToLogin = () => {\r\n        const { history } = this.props;\r\n        const link = \"/\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row min-h-full justify-content-center align-items-center\">\r\n                    <div className=\"col-10 col-md-8 col-lg-6 form-light\">\r\n                        <div className=\"alert alert-warning text-warning text-center my-3 mx-1 py-4\">\r\n                            <div className=\"d-flex justify-content-center align-items-center\">\r\n                                <i className=\"fa fa-exclamation fa-lg\"></i>\r\n                                <span className=\"ml-2\">\r\n                                    <h2 className=\"font-weight-normal\">Forbidden Access</h2>\r\n                                </span>\r\n                            </div>\r\n                            <h5 className=\"font-weight-light\">\r\n                                Please login your Customer account first.\r\n                            </h5>\r\n                        </div>\r\n                        <div className=\"text-center mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                onClick={this.onBackToLogin}>\r\n                                Back to Login\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Forbidden;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from './CustomerNavbar.js';\r\nimport UpdateAccountInfoModal from './UpdateAccountInfoModal.js';\r\nimport Footer from '../Footer.js';\r\nimport Forbidden from './Forbidden.js';\r\n\r\nclass Customer extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            lotBlock: '',\r\n            street: '',\r\n            subdivision: '',\r\n            barangay: '',\r\n            municipality: '',\r\n            province: '',\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        connected: false,\r\n        connectionFailed: false,\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        const { history } = this.props;\r\n        const { id } = history.location.state;\r\n        this.searchData(id);\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onClickLink = link => {\r\n        const { history } = this.props;\r\n        history.replace(link, {verified: true, id: history.location.state.id});\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { record } = this.state;\r\n        try{this.onRefresh();}\r\n        catch(error) { record.id = ''; }\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        const { record, connected, connectionFailed } = this.state;\r\n        return(\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={0} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row min-h-full justify-content-center align-items-center pt-5 pt-md-3 pt-xl-0\">\r\n                        <div className=\"col-11 col-sm-10 col-md-8 col-lg-6 form-light my-5\">\r\n                            <div className=\"row mx-2 mt-4\">\r\n                                {\r\n                                    connected ?\r\n                                    <React.Fragment>\r\n                                        <div className=\"col-4 col-sm-3 d-flex justify-content-center align-items-center p-0\">\r\n                                            <div className=\"square-100px bg-warning\r\n                                            d-flex justify-content-center align-items-center\">\r\n                                                <h4 className=\"m-0\">{record.id}</h4>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-8 col-sm-9 py-3 pr-1\">\r\n                                            <h2 className=\"mb-0\">{record.lastName}</h2>\r\n                                            <h5 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {record.firstName + \" \" + record.middleName}</h5>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 py-3 pl-md-5 pr-1\">\r\n                                            <h5 className=\"font-weight-normal mb-1\">Home Address</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {\r\n                                                    record.lotBlock + \" \" + record.street + \", \" + record.subdivision + \", \" +\r\n                                                    record.barangay + \", \" + record.municipality + \", \" + record.province \r\n                                                }\r\n                                            </h6>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 py-3 pl-md-5 pr-1\">\r\n                                            <h5 className=\"font-weight-normal mb-1\">Birthdate</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {this.formatDate(record.birthdate)}\r\n                                            </h6>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 col-md-5 col-lg-6 col-xl-5 py-3 pl-md-5 pr-1\">\r\n                                            <h5 className=\"font-weight-normal mb-1\">Mobile Number</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {record.mobileNumber}\r\n                                            </h6>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 col-md-7 col-lg-6 col-xl-7 py-3 pr-1\">\r\n                                            <h5 className=\"font-weight-normal mb-1\">Email Address</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {record.emailAddress  + \"\" + record.email}\r\n                                            </h6>\r\n                                        </div>\r\n                                    </React.Fragment> :\r\n                                    connectionFailed ?\r\n                                    <div className=\"col-12 text-center mt-3\">\r\n                                        <h3 className=\"text-danger mb-0\">Database Connection Failed</h3>\r\n                                        <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h5>\r\n                                        <button type=\"button\" className=\"btn btn-primary\" onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <div className=\"col-12 text-center mt-3\">\r\n                                        <h3 className=\"mb-0\">Loading Data</h3>\r\n                                        <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                                    </div>\r\n                                }\r\n\r\n                                <div className=\"d-flex justify-content-end w-100 my-3\">\r\n                                    <button className=\"btn btn-warning w-auto mr-1\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/customer/view-transactions\")}>\r\n                                            <i className=\"fa fa-exchange-alt\"></i>\r\n                                            <span className=\"d-none d-sm-inline ml-1\">Transactions</span>\r\n                                        </button>\r\n                                    <button className=\"btn btn-secondary w-auto mr-1\"\r\n                                    onClick={() => this.onClickLink(\"/wiggly-tails/customer/manage-pets\")}>\r\n                                        <i className=\"fa fa-cat\"></i>\r\n                                        <span className=\"d-none d-sm-inline ml-1\">Pets</span>\r\n                                    </button>\r\n                                    {\r\n                                        connected ?\r\n                                        <button className=\"btn btn-primary w-auto mr-1\"\r\n                                        data-toggle=\"modal\" data-target=\"#updateAccountInfoModal\">\r\n                                            <i className=\"fa fa-user-edit fa-sm\"></i>\r\n                                            <span className=\"ml-1\">Update Info</span>\r\n                                        </button> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    record.id.length > 0 ?\r\n                    <UpdateAccountInfoModal customer={record} onRefresh={this.onRefresh}\r\n                    connected={connected} connectionFailed={connectionFailed} onSubmitForm={this.onSubmitForm} /> : null\r\n                }\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAccountInfo.php?search='+searchValue)\r\n        .then(res => {\r\n            let record = res.data;\r\n            const connected = true;\r\n            record = record[0];\r\n            this.setState({ record, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default Customer;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            petName: '',\r\n            customerId: '',\r\n            customerLastName: '',\r\n            customerFirstName: '',\r\n            customerMiddleName: '',\r\n            customerName: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        checkUpConnected: false,\r\n        checkUpConnectionFailed: false,\r\n        groomConnected: false,\r\n        groomConnectionFailed: false,\r\n        connected: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { transaction } = this.props;\r\n        if(transaction.transType === 'C') {\r\n            this.getCheckUpData(transaction.id);\r\n        }\r\n        else if(transaction.transType === 'G') {\r\n            this.getGroomData(transaction.id);\r\n        }\r\n\r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n\r\n        record.id = transaction.id;\r\n        record.transType = transaction.transType;\r\n        record.transDate = transaction.transDate;\r\n        record.petId = transaction.petId;\r\n        record.petName = transaction.petName;\r\n        record.customerId = transaction.customerId;\r\n        record.customerLastName = transaction.lastName;\r\n        record.customerFirstName = transaction.firstName;\r\n        record.customerMiddleName = transaction.middleName;\r\n        record.customerName = transaction.lastName + \", \" + transaction.firstName + \" \" + transaction.middleName;\r\n        record.petWeight = transaction.petWeight;\r\n        record.remarks = transaction.remarks;\r\n        record.empId = transaction.empId;\r\n        record.empLastName = transaction.empLastName;\r\n        record.empFirstName = transaction.empFirstName;\r\n        record.empMiddleName = transaction.empMiddleName;\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record } = this.state;\r\n        const { transaction } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewTransactionModal-\" + transaction.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewTransactionModalTitle-\" + transaction.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewTransactionModalTitle-\" + transaction.id}>\r\n                                    View Transaction\r\n                                </h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Transaction Date</label>\r\n                                        <input className=\"form-control\"\r\n                                        type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                        noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Transaction Type</label>\r\n                                        <input className=\"zi-10 form-control\"\r\n                                            name=\"transType\"\r\n                                            value={ record.transType === 'C' ? \"Check-up\" : \"Groom\" }\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Employee Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"zi-10 form-control\"\r\n                                            name=\"empId\" value={record.empId + \" | \" +\r\n                                            record.empLastName + \", \" + record.empFirstName + \" \" +\r\n                                            record.empMiddleName}\r\n                                            noValidate disabled />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Customer Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"zi-10 form-control\"\r\n                                                name=\"customerId\" value={record.customerId + \" | \" +\r\n                                                record.customerLastName + \", \" + record.customerFirstName + \" \" +\r\n                                                record.customerMiddleName}\r\n                                                noValidate disabled />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Pet Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"zi-10 form-control\"\r\n                                                    name=\"petId\" value={record.petId + \" | \" + record.petName}\r\n                                                    noValidate disabled />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Pet Weight</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control\"\r\n                                            type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                            noValidate disabled />\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">Remarks</label>\r\n                                        <textarea className=\"form-control\"\r\n                                        type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                        onChange={this.onChangeRecord} rows=\"2\" noValidate disabled />\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        record.transType === 'C' && this.state.connected ?\r\n                                        <button className=\"btn btn-success w-auto mr-1\" data-dismiss=\"modal\"\r\n                                        onClick={() => this.onViewAdmission(\"/wiggly-tails/customer/view-admission\")}>\r\n                                            <i className=\"fa fa-hand-holding-medical fa-sm\"></i>\r\n                                            <span className=\"ml-1\">Admissions</span>\r\n                                        </button> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    onViewAdmission = link => {\r\n        const { record } = this.state;\r\n        const { history } = this.props;\r\n        history.push(link, {\r\n            ...history.location.state,\r\n            transId: record.id,\r\n            petName: record.petName,\r\n            transDate: record.transDate\r\n        });\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { checkUp } = this.state.record;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.checkUpConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Findings</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Treatment</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Admission Date</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Released Date</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate} \r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">Additional Information</label>\r\n                                <textarea className=\"form-control\"\r\n                                type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                                rows=\"2\" noValidate disabled />\r\n                            </div>\r\n                        </React.Fragment> :\r\n                        this.state.checkUpConnectionFailed ?\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal text-danger mb-0\">Database Connection Failed</h3>\r\n                            <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later...</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryCheckUpData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal mb-0\">Loading Data</h3>\r\n                            <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { groom } = this.state.record;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.groomConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">Activity</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"text\" name=\"activity\" value={groom.activity} noValidate disabled/>\r\n                            </div>\r\n                        </React.Fragment> :\r\n                        this.state.groomConnectionFailed ?\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal text-danger mb-0\">Database Connection Failed</h3>\r\n                            <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later...</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryGroomData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal mb-0\">Loading Data</h3>\r\n                            <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    retryCheckUpData = () => {\r\n        this.getCheckUpData();\r\n        const checkUpConnected = false;\r\n        const checkUpConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ checkUpConnected, checkUpConnectionFailed, connected })\r\n    }\r\n\r\n    getCheckUpData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionCheckUp.php?id='+id)\r\n        .then(res => {\r\n            let checkUp = res.data;\r\n            const checkUpConnected = true;\r\n            const connected = true;\r\n            checkUp = checkUp[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp\r\n                }, checkUpConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const checkUpConnectionFailed = true;\r\n            this.setState({ checkUpConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryGroomData = () => {\r\n        this.getGroomData();\r\n        const groomConnected = false;\r\n        const groomConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ groomConnected, groomConnectionFailed, connected })\r\n    }\r\n\r\n    getGroomData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionGroom.php?id='+id)\r\n        .then(res => {\r\n            let groom = res.data;\r\n            const groomConnected = true;\r\n            const connected = true;\r\n            groom = groom[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    groom\r\n                }, groomConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const groomConnectionFailed = true;\r\n            this.setState({ groomConnectionFailed });\r\n        });\r\n    }\r\n}\r\n \r\nexport default ViewTransactionModal;","import React, { Component } from 'react';\r\n\r\nclass TablePagination extends Component {\r\n    onClickPage = page => {\r\n        const recordStartIndex = this.props.recordsPerPage * (page-1);\r\n        const activePage = page;\r\n        this.props.setPage(recordStartIndex, activePage);\r\n    }\r\n\r\n    onClickPagePrev = () => {\r\n        let page = this.props.activePage;\r\n        if(page !== 1) page--;\r\n        this.onClickPage(page);\r\n    }\r\n\r\n    onClickPageNext = noOfPages => {\r\n        let page = this.props.activePage;\r\n        if(page !== noOfPages) page++;\r\n        this.onClickPage(page);\r\n    }\r\n\r\n    renderPagination = (totalRecords) => {\r\n        let pages = [];   \r\n        const noOfPages = Math.ceil(totalRecords / this.props.recordsPerPage);\r\n        const indexPage = this.props.activePage > 2 ? \r\n        this.props.activePage + 1 >= noOfPages ? \r\n        noOfPages > 5 ? noOfPages - 4 : 1 : this.props.activePage - 2 : 1\r\n        const stopPage = noOfPages <= indexPage + 4 ? noOfPages : indexPage + 4\r\n\r\n        for(var i = indexPage; i <= stopPage; i++){\r\n            const page = i;\r\n            pages.push(\r\n                <button key={page} className={this.getPageClasses(page)}\r\n                onClick={() => this.onClickPage(page)}>{page}</button>\r\n            )\r\n        }\r\n\r\n        return(\r\n            <div className=\"btn-toolbar justify-content-end mb-4\" role=\"toolbar\">\r\n                <div className=\"btn-group\" role=\"group\">\r\n                    <button className={this.getPrevPageClasses()}\r\n                    onClick={() => this.onClickPagePrev()}>\r\n                        <i className=\"fa fa-long-arrow-alt-left\"></i>\r\n                        <span className=\"d-none d-sm-inline ml-1\">Prev</span>\r\n                    </button>\r\n                    { this.renderBackPage(indexPage, 1) }\r\n                    { [pages] }\r\n                    { this.renderContinuePage(stopPage, noOfPages) }\r\n                    <button className={this.getNextPageClasses(noOfPages)}\r\n                    onClick={() => this.onClickPageNext(noOfPages)}>\r\n                        <i className=\"fa fa-long-arrow-alt-right\"></i>\r\n                        <span className=\"d-none d-sm-inline ml-1\">Next</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderBackPage = (indexPage, pageLowerLimit) => {\r\n        if(indexPage > pageLowerLimit) {\r\n            const pageNo = indexPage - 1;\r\n            return (\r\n                <button key={pageNo} className={this.getPageClasses(pageNo)}\r\n                onClick={() => this.onClickPage(pageNo)}>...</button>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderContinuePage = (stopPage, pageUpperLimit) => {\r\n        if(stopPage < pageUpperLimit) {\r\n            const pageNo = stopPage + 1;\r\n            return (\r\n                <button key={pageNo} className={this.getPageClasses(pageNo)}\r\n                onClick={() => this.onClickPage(pageNo)}>...</button>\r\n            );\r\n        }\r\n    }\r\n\r\n    getPageClasses = page => {\r\n        let classes = \"btn pagination-nav \";\r\n        classes+= page === this.props.activePage ? \"btn-outline-primary-active\" : \"btn-outline-primary\"\r\n        return classes;\r\n    }\r\n\r\n    getPrevPageClasses = () => {\r\n        let classes = \"btn \";\r\n        classes+= this.props.activePage === 1 ? \"pagination-disabled\" : \"btn-outline-primary pagination-nav\"\r\n        return classes;\r\n    }\r\n\r\n    getNextPageClasses = noOfPages => {\r\n        let classes = \"btn \";\r\n        classes+= this.props.activePage === noOfPages ? \"pagination-disabled\" : \"btn-outline-primary pagination-nav\"\r\n        return classes;\r\n    }\r\n\r\n    render() { \r\n        const { totalRecords } = this.props;\r\n        return (this.renderPagination(totalRecords));\r\n    }\r\n}\r\n \r\nexport default TablePagination;","import React, { Component } from 'react';\r\n\r\nimport ViewTransactionModal from './ViewTransactionModal.js';\r\nimport TablePagination from '../../TablePagination';\r\n\r\n\r\nclass TransactionsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (transactions) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = transactions.length <= recordStartIndex + recordsPerPage ?\r\n        transactions.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={transactions[i].id} className=\"table-row\">\r\n                    <td>{this.formatDate(transactions[i].transDate)}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].lastName + \", \" + transactions[i].firstName + \" \" + transactions[i].middleName}</td>\r\n                    <td>{transactions[i].petName}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].petWeight}</td>\r\n                    <td className=\"d-none d-md-table-cell\">\r\n                        {transactions[i].empLastName + \", \" + transactions[i].empFirstName + \" \" + transactions[i].empMiddleName}\r\n                    </td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewTransactionModal-\" + transactions[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { transactions, onRefresh, onSearch, searchValue, onClear, history, connected } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-warning mr-2 ml-auto\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Transaction Date</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Customer Name</th>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"w-110px d-none d-lg-table-cell\">Pet Weight</th>\r\n                            <th className=\"w-285px d-none d-md-table-cell\">Served by</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            transactions.length > 0 && connected ?\r\n                            this.renderItems(transactions) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    transactions.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={transactions.length} /> : null\r\n                }\r\n                {\r\n                    transactions.map(transaction => <ViewTransactionModal key={transaction.id}\r\n                    transaction={transaction} onRefresh={onRefresh} history={history} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {\r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n\r\n    formatTransType = transType => {\r\n        return transType === 'C' ? \"Check-up\" : \"Groom\"\r\n    }\r\n}\r\n \r\nexport default TransactionsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from '../CustomerNavbar.js';\r\nimport TransactionsTable from './TransactionsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ViewTransactions extends Component {\r\n    state = {\r\n        transactions: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={1} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>View Transactions</h3>\r\n                            <TransactionsTable transactions={this.state.transactions}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch} history={history}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.transactions.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAccountTransactions.php?id='+\r\n        history.location.state.id)\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            const connected = true;\r\n            this.setState({ transactions, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchAccountTransaction.php?id='+\r\n        history.location.state.id+\"&search=\"+searchValue)\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            this.setState({ transactions });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n\r\nexport default ViewTransactions;","import React, { Component } from 'react';\r\n\r\nclass ViewAdmissionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transId: '',\r\n            title: '',\r\n            content: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { admission } = this.props;\r\n        const record = {...this.state.record};\r\n\r\n        record.id = admission.id;\r\n        record.transId = admission.transId;\r\n        record.title = admission.title;\r\n        record.content = admission.content;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    render() {\r\n        const { record } = this.state;\r\n        const { admission } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewAdmissionModal-\" + admission.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewAdmissionModalTitle-\" + admission.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewAdmissionModalTitle-\" + admission.id}>\r\n                                    View Admission\r\n                                </h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"title\" value={record.title}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <textarea className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"content\" value={record.content} rows=\"7\"\r\n                                            noValidate disabled />\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default ViewAdmissionModal;","import React, { Component } from 'react';\r\n\r\nimport ViewAdmissionModal from './ViewAdmissionModal.js';\r\nimport TablePagination from '../../TablePagination';\r\n\r\nclass AdmissionTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (admission) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = admission.length <= recordStartIndex + recordsPerPage ?\r\n        admission.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={admission[i].id} className=\"table-row\">\r\n                    <td>{admission[i].title}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{admission[i].content}</td>\r\n                    <td className=\"d-table-cell d-md-none\">\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewAdmissionModal-\" + admission[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { admission, onRefresh, onSearch, searchValue, onClear, history, connected } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { state } = history.location;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-warning mr-2 ml-auto\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th colSpan=\"3\">\r\n                                <div className=\"row align-items-center\">\r\n                                    <div className=\"col-12 col-md-6 text-center mb-2 pb-2\r\n                                    m-md-0 p-md-0 bottom-border-dark border-md-0\">\r\n                                        {\"Pet Name: \" + state.petName}\r\n                                    </div>\r\n                                    <div className=\"col-12 col-md-6 text-center\">\r\n                                        {\"Transaction Date: \" + state.transDate}\r\n                                    </div>\r\n                                </div>\r\n                            </th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>Title</th>\r\n                            <th className=\"d-none d-md-table-cell\">Content</th>\r\n                            <th className=\"d-table-cell d-md-none w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            admission.length > 0 && connected ?\r\n                            this.renderItems(admission) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    admission.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={admission.length} /> : null\r\n                }\r\n                {\r\n                    admission.map(admission => <ViewAdmissionModal key={admission.id}\r\n                    admission={admission} onRefresh={onRefresh} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default AdmissionTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from '../CustomerNavbar.js';\r\nimport AdmissionTable from './AdmissionTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ViewAdmission extends Component {\r\n    state = {\r\n        admission: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={1} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>View Admission</h3>\r\n                            <AdmissionTable admission={this.state.admission} history={history}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.admission.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionAdmission.php?id='+\r\n        history.location.state.transId)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchTransactionAdmission.php?id='+\r\n        history.location.state.admissionId+\"&search=\"+searchValue)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default ViewAdmission;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: ' ',\r\n            birthdate: ' ',\r\n            petClass: ' ',\r\n            pcciRegNo: ''\r\n        },\r\n        submitError: false,\r\n        petClasses:\r\n        [ 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Iguana', 'Jaguar', 'Lizard', 'Mantis', 'Monkey', 'Newt', 'Octopus', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake','Spider', 'Tortoise', 'Turtle', 'Whale'],\r\n        added: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        record.ownerId = this.props.ownerId;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n        \r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length > 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertPet.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        this.onReset();\r\n        let added = true;\r\n        const submitError = false;\r\n        this.setState({ submitError, added });\r\n        added = false;\r\n        setTimeout(() => this.setState({ added }), 5000);\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        this.onGenerateId();\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        const submitError = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.petName = '';\r\n        record.birthdate = '';\r\n        record.petClass = '';\r\n        record.pcciRegNo = '';\r\n\r\n        errors.petName = 'Pet Name is required';\r\n        errors.birthdate = 'Birthdate is required';\r\n        errors.petClass = 'Pet Class is required';\r\n        errors.pcciRegNo = '';\r\n\r\n        this.setState({ record, errors, submitError});\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, added } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addPetModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"addPetModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addPetModalTitle\">Add Pet</h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    added ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            placeholder=\"Please click 'Generate'\"\r\n                                            noValidate disabled />\r\n                                            <div className=\"input-group-append\">\r\n                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                onClick={this.onGenerateId}>\r\n                                                    Generate\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.petName)}\r\n                                        type=\"text\" name=\"petName\" value={record.petName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                        type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"ownerId\" value={record.ownerId}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <select className={this.inputFieldClasses(errors.petClass)}\r\n                                        name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                        noValidate>\r\n                                            <option value=''>Choose one</option>\r\n                                            {\r\n                                                petClasses.length > 0 ?\r\n                                                petClasses.map(value =>\r\n                                                    <option key={value} value={value}>{value}</option>\r\n                                                ) : null\r\n                                            }\r\n                                        </select>\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                        type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                        onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                        placeholder=\"(Optional)\" noValidate />\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    added ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    <button className=\"btn btn-primary w-auto mr-1\"\r\n                                    onClick={this.onSubmit}>\r\n                                        <i className=\"fa fa-sign-in-alt\"></i>\r\n                                        <span className=\"ml-1\">Submit</span>\r\n                                    </button>\r\n                                    <button className=\"btn btn-danger w-auto\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-eraser\"></i>\r\n                                        <span className=\"ml-1\">Reset</span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddPetModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: '',\r\n            birthdate: '',\r\n            petClass: '',\r\n            pcciRegNo: ''\r\n        },\r\n        submitError: false,\r\n        updated: false,\r\n        petClasses:\r\n        [ 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Iguana', 'Jaguar', 'Lizard', 'Mantis', 'Monkey', 'Newt', 'Octopus', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake','Spider', 'Tortoise', 'Turtle', 'Whale'],\r\n        deleteState: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getCustomersData();\r\n\r\n        const { pet } = this.props;\r\n        const record = {...this.state.record};\r\n        \r\n        record.id = pet.id;\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.ownerId = pet.ownerId;\r\n        record.petClass = pet.petClass;\r\n        record.lastVisit = pet.lastVisit;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length > 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updatePet.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        let updated = true;\r\n        const submitError = false;\r\n        this.setState({ submitError, updated });\r\n        \r\n        updated = false;\r\n        setTimeout(() => this.setState({ updated }), 5000);\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        const submitError = false;\r\n\r\n        const { pet } = this.props;\r\n\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.petClass = pet.petClass;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        errors.petName = '';\r\n        errors.birthdate = '';\r\n        errors.petClass = '';\r\n        errors.pcciRegNo = '';\r\n\r\n        this.setState({ record, errors, submitError});\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, updated, deleteState } = this.state;\r\n        const { pet, connected } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewPetModal\"+ pet.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewPetModalTitle\" + pet.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewPetModalTitle\" + pet.id}>View Pet</h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.petName)}\r\n                                        type=\"text\" name=\"petName\" value={record.petName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                        type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"ownerId\" value={record.ownerId}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <select className={this.inputFieldClasses(errors.petClass)}\r\n                                        name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                        noValidate>\r\n                                            <option value=''>Choose one</option>\r\n                                            {\r\n                                                petClasses.length > 0 ?\r\n                                                petClasses.map(value =>\r\n                                                    <option key={value} value={value}>{value}</option>\r\n                                                ) : null\r\n                                            }\r\n                                        </select>\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                        type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                        onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                        placeholder=\"(Optional)\" noValidate />\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onReset}>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                data-dismiss=\"modal\" onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n\r\n        this.props.onSubmitForm();\r\n\r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deletePet.php', record)\r\n        .then(onRefresh);\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            this.setState({ records });\r\n        })\r\n        .catch(error => console.log(error));\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewPetModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination.js';\r\nimport AddPetModal from './AddPetModal.js';\r\nimport ViewPetModal from './ViewPetModal.js';\r\n\r\nclass PetsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (pets) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = pets.length <= recordStartIndex + recordsPerPage ?\r\n        pets.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={pets[i].id}>\r\n                    <td>{pets[i].ownerLastName + \", \" + pets[i].ownerFirstName + \" \" + pets[i].ownerMiddleName}</td>\r\n                    <td>{pets[i].petName}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{this.formatDate(pets[i].birthdate)}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{pets[i].petClass}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">\r\n                        {\r\n                            pets[i].lastVisit === null ?\r\n                            \"Not visiting yet\" :\r\n                            this.formatDate(pets[i].lastVisit)\r\n                        }\r\n                    </td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewPetModal\" + pets[i].id}>\r\n                            <i className=\"fa fa-eye\"></i><span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { pets, ownerId, onRefresh, onSearch, searchValue, onClear, connected, connectionFailed, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                        data-toggle=\"modal\" data-target=\"#addPetModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-xl-inline d-lg-none d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-xl-inline d-lg-none d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Owner Name</th>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Birthdate</th>\r\n                            <th className=\"d-none d-md-table-cell\">Pet Class</th>\r\n                            <th className=\"d-none d-sm-table-cell\">Last Visit</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            pets.length > 0 && connected ?\r\n                            this.renderItems(pets) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    pets.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={pets.length} /> : null\r\n                }\r\n                <AddPetModal onRefresh={onRefresh} ownerId={ownerId} onSubmitForm={onSubmitForm} />\r\n                { pets.map(pet => <ViewPetModal key={pet.id} pet={pet} onRefresh={onRefresh}\r\n                connected={connected} connectionFailed={connectionFailed} onSubmitForm={onSubmitForm} /> ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default PetsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from '../CustomerNavbar.js';\r\nimport PetsTable from './PetsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManagePets extends Component {\r\n    state = {\r\n        pets: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {        \r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={2} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Pets</h3>\r\n                            <PetsTable pets={this.state.pets} ownerId={history.location.state.id}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} connectionFailed={this.state.connectionFailed}\r\n                            onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.pets.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAccountPets.php?id='+\r\n        history.location.state.id)\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchAccountPet.php?id='+\r\n        history.location.state.id+'&search='+searchValue)\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManagePets;","import React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from './CustomerNavbar.js';\r\nimport Footer from '../Footer.js';\r\nimport Forbidden from './Forbidden.js';\r\n\r\nclass AboutUs extends Component {\r\n    state = { }\r\n\r\n    onClickLink = link => {\r\n        const { history } = this.props;\r\n        history.push(link, {verified: true});\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return(\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={3} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row min-h-full justify-content-center align-items-center pt-5 pt-md-3 pt-xl-0\">\r\n                        <div className=\"col-11 col-sm-10 col-md-8 col-lg-6 form-light my-5 my-md-0 mt-md-5\">\r\n                            <div className=\"row mx-2 mt-4\">\r\n                                <div className=\"col-12 pr-1\">\r\n                                    <h2 className=\"mb-3\">About us</h2>\r\n                                    <h5 className=\"px-2 text-center font-weight-light\">\r\n                                        Roma Ador Dionisio-Pajarillo's (DVM)\r\n                                        <br />Veterinary Clinic - Wiggly Tails\r\n                                    </h5>\r\n                                    <h6 className=\"px-3 font-weight-light\">\r\n                                        Lorem ipsum dolor sit amet consectetur adipisicing elit.\r\n                                        Quo qui quaerat maxime, dolores nemo soluta reiciendis deleniti\r\n                                        possimus illum temporibus, odio maiores velit inventore architecto!\r\n                                        Aut est maxime quam doloribus!\r\n                                    </h6>\r\n                                    <h6 className=\"px-3 text-center pb-3 bottom-border-light font-weight-light\">\r\n                                        <b>Open on Monday to Saturday at 8:00am to 5:00pm</b>\r\n                                    </h6>\r\n                                </div>\r\n\r\n                                <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                    <h5 className=\"font-weight-normal mb-3\">Offers</h5>\r\n                                    <h6 className=\"pl-3 bottom-border-light font-weight-light\">\r\n                                        <ul className=\"row\">\r\n                                            <li className=\"col-sm-4 px-0\">Consultation</li>\r\n                                            <li className=\"col-sm-4 px-0\">Treatment</li>\r\n                                            <li className=\"col-sm-4 px-0\">Vaccination</li>\r\n                                            <li className=\"col-sm-4 px-0\">Confinement</li>\r\n                                            <li className=\"col-sm-4 px-0\">Grooming</li>\r\n                                        </ul>\r\n                                    </h6>\r\n                                </div>\r\n\r\n                                <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                    <h5 className=\"font-weight-normal mb-3\">Clinic Address</h5>\r\n                                    <h6 className=\"pl-3 pb-3 bottom-border-light font-weight-light\">\r\n                                        Brgy. Sta Cruz, Zaragoza, Nueva Ecija\r\n                                    </h6>\r\n                                </div>\r\n\r\n                                <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                    <h5 className=\"font-weight-normal mb-3\">Contact Information</h5>\r\n                                    <h6 className=\"pl-3 bottom-border-light font-weight-light\">\r\n                                        <ul className=\"list-unstyled\">\r\n                                            <li><b>Mobile Number: </b>+63923-119-0591</li>\r\n                                        </ul>\r\n                                    </h6>\r\n                                </div>\r\n\r\n                                <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                    <h5 className=\"font-weight-normal mb-3\">Developers</h5>\r\n                                    <h6 className=\"pl-3 font-weight-light\">\r\n                                        <ul className=\"list-unstyled\">\r\n                                            <li><b>Main Developer: </b>Casindad, Mc Allain Sanchez (BSIT Student)</li>\r\n                                            <li><b>Database Source: </b>Dr. Roma's Veterinary Clinic (Owner)</li>\r\n                                            <li><b>Interviewer: </b>Dela Torre, Emmanuel (BSIT Student)</li>\r\n                                            <li className=\"d-block d-md-flex\">\r\n                                                <b className=\"mr-2\">Others: </b>\r\n                                                <ul className=\"list-unstyled\">\r\n                                                    <li>Enriquez, Ryan (BSIT Student)</li>\r\n                                                    <li>Flores, Jaizen Ann Noble (BSIT Student)</li>\r\n                                                    <li>Ruiz, Jehiele Jeff (BSIT Student)</li>\r\n                                                </ul>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </h6>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AboutUs;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ManageEmployeesModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            adminId: '',\r\n            adminPassword: ''\r\n        },\r\n        errors:\r\n        {\r\n            adminId: 'Please input your Admin Id',\r\n            adminPassword: 'Please input your Admin Password'\r\n        },\r\n        records: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        submitError: false,\r\n        loginError: false\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"adminId\") {\r\n            value = value.toUpperCase();\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'adminId':\r\n                errors.adminId=    value.length === 0 ? \"Please input your Admin Id\" :\r\n                                    value.length !== 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            case 'adminPassword':\r\n                errors.adminPassword=  value.length === 0 ? \"Please input your Admin Password\" : \r\n                                        value.length > 24 ? \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n        const records = [...this.state.records];\r\n        const record = {...this.state.record};\r\n\r\n        if(this.validForm({ errors })) {\r\n            let submitError = false;\r\n            let loginError = false;\r\n\r\n            const result = records.filter(row => \r\n                row.id === record.adminId &&\r\n                row.empPassword === record.adminPassword\r\n            )\r\n\r\n            if(result.length > 0) {\r\n                const btnClose = document.getElementById(\"btnClose\");\r\n                btnClose.click();\r\n                \r\n                const { history } = this.props;\r\n                history.replace('/wiggly-tails/admin/manage-employees',\r\n                {verified: true, id: result[0].id, empType: result[0].empType});\r\n            }\r\n            else {\r\n                submitError = true;\r\n                loginError = true;\r\n                record.adminPassword = '';\r\n                errors.adminPassword = 'Please input your Admin Password';\r\n            }\r\n\r\n            this.setState({ record, errors, submitError, loginError });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const submitError = false;\r\n        const loginError = false;\r\n\r\n        record.adminId = '';\r\n        record.adminPassword = '';\r\n\r\n        errors.adminId = 'Please input your Admin Id';\r\n        errors.adminPassword = 'Please input your Admin Password';\r\n\r\n        this.setState({ record, errors, submitError, loginError});\r\n    }\r\n\r\n    renderLoginError = () => {\r\n        if(this.state.loginError) {\r\n            return(\r\n                <div className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                    <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                    <span className=\"lh-0 my-1\">Incorrect Admin Id or Admin Password</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    renderModal = () => {\r\n        const { record, errors } = this.state;\r\n        return(\r\n            <div className=\"modal fade\" id=\"manageEmployeesModal\" tabIndex=\"-1\" role=\"dialog\"\r\n            aria-labelledby=\"manageEmployeesModalTitle\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h5 className=\"modal-title\" id=\"manageEmployeesModalTitle\">Manage Employees</h5>\r\n                            <button id=\"btnClose\" className=\"btn btn-light text-danger p-1\"\r\n                            data-dismiss=\"modal\" onClick={this.onReset}>\r\n                                <i className=\"fa fa-window-close fa-lg\"></i>\r\n                            </button>\r\n                        </div>\r\n                        \r\n                        <div className=\"modal-body\">\r\n                            { this.renderLoginError() }\r\n                            {\r\n                                this.state.connected ?\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Admin Id</label>\r\n                                        <input className={this.inputFieldClasses(errors.adminId)}\r\n                                        type=\"text\" name=\"adminId\" value={record.adminId} maxLength=\"6\"\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.adminId) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Admin Password</label>\r\n                                        <input className={this.inputFieldClasses(errors.adminPassword)}\r\n                                        type=\"password\" name=\"adminPassword\" value={record.adminPassword}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.adminPassword) }\r\n                                    </div>\r\n                                </form> :\r\n                                this.state.connectionFailed ?\r\n                                <div className=\"text-center\">\r\n                                    <h3 className=\"text-danger mb-0\">Database Connection Failed</h3>\r\n                                    <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h5>\r\n                                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.onRefresh}>Retry</button>\r\n                                </div> :\r\n                                <React.Fragment>\r\n                                    <h3 className=\"text-center mb-0\">Loading Records</h3>\r\n                                    <h5 className=\"font-weight-normal text-center\">Please wait...</h5>\r\n                                </React.Fragment>\r\n                                \r\n                            }\r\n                        </div>\r\n\r\n                        <div className=\"modal-footer\">\r\n                            <div className=\"d-flex justify-content-end w-100\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    <React.Fragment>\r\n                                        <button className=\"btn btn-primary w-auto mr-1\"\r\n                                        onClick={this.onSubmit}>\r\n                                            <i className=\"fa fa-sign-in-alt\"></i>\r\n                                            <span className=\"ml-1\">Submit</span>\r\n                                        </button>\r\n                                        <button className=\"btn btn-danger w-auto\"\r\n                                        onClick={this.onReset}>\r\n                                            <i className=\"fa fa-eraser\"></i>\r\n                                            <span className=\"ml-1\">Reset</span>\r\n                                        </button>\r\n                                    </React.Fragment> : null\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                {  this.renderModal() }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.getData();\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAdmins.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const connected = true;\r\n            this.setState({ records, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default ManageEmployeesModal;","import React, { Component } from 'react';\r\n\r\nimport wiggy_tails_icon from '../../img/wiggly-tails-icon.png';\r\nimport ManageEmployeesModal from './Employees/ManageEmployeesModal.js';\r\n\r\nclass AdminNavbar extends Component {\r\n    state = {\r\n        navs:\r\n        [\r\n            {\r\n                id: 0,\r\n                text: \"Home\",\r\n                link: \"/wiggly-tails/admin\",\r\n                items: []\r\n            },\r\n            {\r\n                id: 3,\r\n                text: \"Manage\",\r\n                link: null,\r\n                items:\r\n                [\r\n                    {\r\n                        id: 4,\r\n                        text: \"Transactions\",\r\n                        link: \"/wiggly-tails/admin/manage-transactions\"\r\n                    },\r\n                    {\r\n                        id: 5,\r\n                        text: \"Customers\",\r\n                        link: \"/wiggly-tails/admin/manage-customers\"\r\n                    },\r\n                    {\r\n                        id: 6,\r\n                        text: \"Pets\",\r\n                        link: \"/wiggly-tails/admin/manage-pets\"\r\n                    },\r\n                    {\r\n                        id: 7,\r\n                        text: \"Employees\",\r\n                        link: \"/wiggly-tails/admin/manage-employees\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                id: 10,\r\n                text: \"Sign out\",\r\n                link: \"/wiggly-tails\",\r\n                items: []\r\n            }\r\n        ]\r\n    }\r\n\r\n    onClickLink = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    onClickBrand = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails/admin\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    onClickSignOut = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link);\r\n    }\r\n\r\n    render() { \r\n        const { activeId, history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <nav className=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\r\n                    <a onClick={this.onClickBrand} className=\"navbar-brand py-0\">\r\n                        <img src={wiggy_tails_icon} alt=\"\" className=\"mr-2\" />Veterinary Clinic\r\n                    </a>\r\n\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                    data-target=\"#admin-navbar\" aria-controls=\"admin-navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"admin-navbar\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {\r\n                                this.state.navs.map(nav =>\r\n                                    nav.items.length > 0 ?\r\n                                    <li key={nav.id} className=\"nav-item dropdown mr-1\">\r\n                                        <a className={\"dropdown-toggle \" + this.linkItemClasses(nav.id)} id={\"dropdown\" + nav.id}\r\n                                        href={nav.link} data-toggle=\"dropdown\">{nav.text}</a>\r\n                                        <div className=\"dropdown-menu\" aria-labelledby={\"dropdown\" + nav.id}>\r\n                                            {\r\n                                                nav.items.map(item =>\r\n                                                    item.id === 7 && item.id !== activeId ?\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    data-toggle=\"modal\" data-target=\"#manageEmployeesModal\">\r\n                                                        {item.text}</a> :\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    onClick={() => this.onClickLink(item)}>{item.text}</a>\r\n                                                    \r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </li> :\r\n                                    <li key={nav.id} className=\"nav-item mr-1\">\r\n                                        {\r\n                                            nav.id === 10 ?\r\n                                            <a onClick={() => this.onClickSignOut(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            <a onClick={() => this.onClickLink(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a>\r\n                                        }\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n\r\n                <ManageEmployeesModal history={history} />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    linkItemClasses = id => {\r\n        const { activeId, sourceId } = this.props;\r\n\r\n        let classes = \"nav-link \";\r\n        classes+= id === activeId ? \"active\" :\r\n        id === sourceId ? \"active\" : \r\n        id === 10  ? \"text-danger\" : \"inactive\"\r\n        return classes;\r\n    }\r\n\r\n    dropdownItemClasses = id => {\r\n        const { activeId } = this.props;\r\n\r\n        let classes = \"dropdown-item \"\r\n        classes+= id === 7 ? \"text-danger \" : \"text-dark \"\r\n        classes+= id === activeId ? \"active-dropdown\" : \"inactive-dropdown\"\r\n\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default AdminNavbar;","import React, { Component } from 'react';\r\n\r\nclass Forbidden extends Component {\r\n    state = {  }\r\n\r\n    onBackToLogin = () => {\r\n        const { history } = this.props;\r\n        const link = \"/\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row min-h-full justify-content-center align-items-center\">\r\n                    <div className=\"col-10 col-md-8 col-lg-6 form-light\">\r\n                        <div className=\"alert alert-warning text-warning text-center my-3 mx-1 py-4\">\r\n                            <div className=\"d-flex justify-content-center align-items-center\">\r\n                                <i className=\"fa fa-exclamation fa-lg\"></i>\r\n                                <span className=\"ml-2\">\r\n                                    <h2 className=\"font-weight-normal\">Forbidden Access</h2>\r\n                                </span>\r\n                            </div>\r\n                            <h5 className=\"font-weight-light\">\r\n                                Please login your Employee account first.\r\n                            </h5>\r\n                        </div>\r\n                        <div className=\"text-center mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                onClick={this.onBackToLogin}>\r\n                                Back to Login\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Forbidden;","import React, { Component } from 'react';\r\n\r\nimport AdminNavbar from './AdminNavbar.js';\r\nimport ManageEmployeesModal from './Employees/ManageEmployeesModal.js';\r\nimport Footer from '../Footer.js';\r\nimport Forbidden from './Forbidden.js';\r\n\r\nimport noImage from '../../img/no-image.png';\r\n\r\nclass Admin extends Component {\r\n    state = { }\r\n\r\n    onClickLink = link => {\r\n        const { history } = this.props;\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return(\r\n            <React.Fragment>\r\n                <AdminNavbar activeId={0} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row min-h-full align-items-center mx-1 py-5\">\r\n                        <div className=\"col\">\r\n                            <div className=\"row mt-5 mb-3\">\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"font-weight-normal mt-3\">\r\n                                            Transactions</h3>\r\n                                        <img src={noImage} alt=\"transactions\"\r\n                                        className=\"card-img d-none d-md-inline my-4\" />\r\n                                        \r\n                                        <div className=\"p-3 mt-2\">\r\n                                            <h5>Please suggest a Header</h5>\r\n                                            <p>and Description</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-warning border w-75 mt-3\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/admin/manage-transactions\")}>\r\n                                            <i className=\"fa fa-exchange-alt\"></i>\r\n                                            <span className=\"ml-1\">Manage</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"font-weight-normal mt-3\">\r\n                                            Customers</h3>\r\n                                        <img src={noImage} alt=\"customers\"\r\n                                        className=\"card-img d-none d-md-inline my-4\" />\r\n                                        \r\n                                        <div className=\"p-3 mt-2\">\r\n                                            <h5>Please suggest a Header</h5>\r\n                                            <p>and Description</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-primary border w-75 mt-3\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/admin/manage-customers\")}>\r\n                                            <i className=\"fa fa-users\"></i>\r\n                                            <span className=\"ml-1\">Manage</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"font-weight-normal mt-3\">\r\n                                            Pets</h3>\r\n                                        <img src={noImage} alt=\"pets\"\r\n                                        className=\"card-img d-none d-md-inline my-4\" />\r\n\r\n                                        <div className=\"p-3 mt-2\">\r\n                                            <h5>Please suggest a Header</h5>\r\n                                            <p>and Description</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-secondary border w-75 mt-3\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/admin/manage-pets\")}>\r\n                                            <i className=\"fa fa-cat\"></i>\r\n                                            <span className=\"ml-1\">Manage</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"font-weight-normal mt-3\">\r\n                                            Employees</h3>\r\n                                        <img src={noImage} alt=\"employees\"\r\n                                        className=\"card-img d-none d-md-inline my-4\" />\r\n\r\n                                        <div className=\"p-3 mt-2\">\r\n                                            <h5>Please suggest a Header</h5>\r\n                                            <p>and Description</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-danger border w-75 mt-3\"\r\n                                        data-toggle=\"modal\" data-target=\"#manageEmployeesModal\">\r\n                                            <i className=\"fa fa-user-md\"></i>\r\n                                            <span className=\"ml-1\">Manage</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <ManageEmployeesModal history={history} />\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Admin;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            customerId: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        errors:\r\n        {\r\n            transType: ' ',\r\n            petId: ' ',\r\n            customerId: ' ',\r\n            petWeight: ' ',\r\n            remarks: '',\r\n            empId: ' ',\r\n            checkUpErrors:\r\n            {\r\n                findings: ' ',\r\n                treatment: ' ',\r\n                addInfo: ''\r\n            },\r\n            groomErrors:\r\n            {\r\n                activity: ' '\r\n            }\r\n        },\r\n        submitError: false,\r\n        added: false,\r\n        customers: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false,\r\n        pets: [],\r\n        petConnected: false,\r\n        petConnectionFailed: false,\r\n        employees: [],\r\n        employeeConnected: false,\r\n        employeeConnectionFailed: false,\r\n        customer:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        pet:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        employee:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n        this.getCustomersData();\r\n        this.getPetsData();\r\n        this.getEmployeesData();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        record.transDate = this.getCurrentDate();\r\n        this.setState({ record });\r\n    }\r\n\r\n    getCurrentDate = () => {\r\n        const dateObj = new Date(); \r\n        const currentDate = dateObj.getFullYear() + \"-\" + (dateObj.getMonth()+1) + \"-\" + dateObj.getDate();\r\n        return currentDate;\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"remarks\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n\r\n        if(name === 'transType') {\r\n            const checkUp = {...this.state.record.checkUp};\r\n            const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n\r\n            checkUp.findings = '';\r\n            checkUp.treatment = '';\r\n            checkUp.admissionDate = '';\r\n            checkUp.releasedDate = '';\r\n            checkUp.addInfo = ''\r\n\r\n            checkUpErrors.findings = ' ';\r\n            checkUpErrors.treatment = ' ';\r\n            checkUpErrors.admissionDate = '';\r\n            checkUpErrors.releasedDate = '';\r\n            checkUpErrors.addInfo = ''\r\n\r\n            const groom = {...this.state.record.groom};\r\n            const groomErrors = {...this.state.errors.groomErrors};\r\n\r\n            groom.activity = '';\r\n            \r\n            groomErrors.activity = '';\r\n\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp,\r\n                    groom\r\n                },\r\n                errors: {\r\n                    ...currentState.errors,\r\n                    checkUpErrors,\r\n                    groomErrors\r\n                }\r\n            }))\r\n        }\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'transType':\r\n                errors.transType=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'empId':\r\n                errors.empId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'customerId':\r\n                errors.customerId=  value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petId':\r\n                errors.petId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petWeight':\r\n                errors.petWeight=   value.length === 0 ? \" \" :\r\n                                    !isNumeric(value) ? \"Please input a valid value\" :\r\n                                    value.length > 6 ? \"Must be at maximum of 6 numbers\" : \"\"\r\n                break;\r\n\r\n            case 'remarks':\r\n            errors.remarks= value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n            break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"admissionDate\" && name !== \"releasedDate\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckCheckUpErrors(e))\r\n    }\r\n\r\n    onCheckCheckUpErrors = e => {\r\n        const { name, value } = e.target;\r\n        const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'findings':\r\n                checkUpErrors.findings= properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 128 ?\r\n                                        \"Must be at between 2 and 128 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            case 'treatment':\r\n                checkUpErrors.treatment=    properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 128 ?\r\n                                            \"Must be at between 2 and 128 characters\" :\r\n                                            properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'addInfo':\r\n                checkUpErrors.addInfo=  value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                checkUpErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"activity\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckGroomErrors(e))\r\n    }\r\n\r\n    onCheckGroomErrors = e => {\r\n        const { name, value } = e.target;\r\n        const groomErrors = {...this.state.errors.groomErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'activity':\r\n                groomErrors.activity=   properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 32 ?\r\n                                        \"Must be at between 2 and 32 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                groomErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.remarks = this.removeLastSpace(record.remarks);\r\n            record.checkUp.findings = this.removeLastSpace(record.checkUp.findings);\r\n            record.checkUp.treatment = this.removeLastSpace(record.checkUp.treatment);\r\n            record.checkUp.addInfo = this.removeLastSpace(record.checkUp.addInfo);\r\n            record.groom.activity = this.removeLastSpace(record.groom.activity);\r\n\r\n            this.props.onSubmitForm();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertTransaction.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        this.onReset();\r\n        let added = true;\r\n        const submitError = false;\r\n        this.setState({ submitError, added });\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        const { record } = this.state;\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        if(record.transType === 'C') {\r\n            Object.values(errors.checkUpErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n        else if(record.transType === 'G') {\r\n            Object.values(errors.groomErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {        \r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n        const errors = {...this.state.errors};\r\n        const checkUpErrors = {...this.state.errors.checkUp};\r\n        const groomErrors = {...this.state.errors.groom};\r\n        const submitError = false;\r\n        const added = false;\r\n\r\n        const id = this.generateCharacters(6);\r\n        groom.activity = '';\r\n        checkUp.findings = '';\r\n        checkUp.treatment = '';\r\n        checkUp.admissionDate = this.getCurrentDate();\r\n        checkUp.releasedDate = '';\r\n        checkUp.addInfo = '';\r\n\r\n        record.id = id;\r\n        record.transType = '';\r\n        record.transDate = this.getCurrentDate();\r\n        record.petId = ''\r\n        record.customerId = '';\r\n        record.petWeight = '';\r\n        record.remarks = '';\r\n        record.empId = '';\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        groomErrors.activity = ' ';\r\n        checkUpErrors.findings = ' ';\r\n        checkUpErrors.treatment = ' ';\r\n        checkUpErrors.addInfo = '';\r\n\r\n        errors.transType = ' ';\r\n        errors.petId = ' '\r\n        errors.customerId = ' ';\r\n        errors.remarks = '';\r\n        errors.empId = ' ';\r\n        errors.checkUpErrors = checkUpErrors;\r\n        errors.groomErrors = groomErrors;\r\n\r\n        this.setState({ record, errors, submitError, added });\r\n    }\r\n\r\n    onToggleCustomerSearch = e => {\r\n        e.preventDefault();\r\n        const customer = {...this.state.customer};\r\n        customer.search = !customer.search;\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onClearCustomerSearch = e => {\r\n        e.preventDefault();\r\n        const customer = {...this.state.customer};\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onChangeCustomerSearch = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            customer: {\r\n                ...currentState.customer,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onTogglePetSearch = e => {\r\n        e.preventDefault();\r\n        const pet = {...this.state.pet};\r\n        pet.search = !pet.search;\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onClearPetSearch = e => {\r\n        e.preventDefault();\r\n        const pet = {...this.state.pet};\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onChangePetSearch = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            pet: {\r\n                ...currentState.pet,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onToggleEmployeeSearch = e => {\r\n        e.preventDefault();\r\n        const employee = {...this.state.employee};\r\n        employee.search = !employee.search;\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onClearEmployeeSearch = e => {\r\n        e.preventDefault();\r\n        const employee = {...this.state.employee};\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onChangeEmployeeSearch = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            employee: {\r\n                ...currentState.employee,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, customers, customer, pets, pet, employees, employee, added } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addTransactionModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"addTransactionModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addTransactionModalTitle\">Add Transaction</h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    added ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Date\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className=\"form-control border border-success\"\r\n                                        type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <select className={this.inputFieldClasses(errors.transType)}\r\n                                        name=\"transType\" value={record.transType} onChange={this.onChangeRecord}\r\n                                        noValidate>\r\n                                            <option value=''>Choose one</option>\r\n                                            <option value='C'>Check-up</option>\r\n                                            <option value='G'>Groom</option>\r\n                                        </select>\r\n                                        { this.renderRecordErrors(errors.transType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.employeeConnected ?\r\n                                                <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    <select className={\"zi-10 \" + this.inputFieldClasses(errors.empId)}\r\n                                                    name=\"empId\" value={record.empId} onChange={this.onChangeRecord}\r\n                                                    noValidate>\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            employees.length > 0 ?\r\n                                                            employees.filter(row =>\r\n                                                                (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                employee.searchValue === ''\r\n                                                            ).map(row =>\r\n                                                                <option key={row.id} value={row.id}>\r\n                                                                    {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                </option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onToggleEmployeeSearch}>\r\n                                                            Search\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                                {\r\n                                                    employee.search ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={employee.searchValue} onChange={this.onChangeEmployeeSearch}\r\n                                                        placeholder=\"Search by Employee Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearEmployeeSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.empId) }\r\n                                            </React.Fragment> :\r\n                                            this.state.employeeConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryEmployeesData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Customer Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.customerConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    <select className={\"zi-10 \" + this.inputFieldClasses(errors.customerId)}\r\n                                                    name=\"customerId\" value={record.customerId} onChange={this.onChangeRecord}\r\n                                                    noValidate>\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            customers.length > 0 ?\r\n                                                            customers.filter(row =>\r\n                                                                (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                customer.searchValue === ''\r\n                                                            ).map(row =>\r\n                                                                <option key={row.id} value={row.id}>\r\n                                                                    {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                </option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onToggleCustomerSearch}>\r\n                                                            Search\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                                {\r\n                                                    customer.search ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={customer.searchValue} onChange={this.onChangeCustomerSearch}\r\n                                                        placeholder=\"Search by Customer Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearCustomerSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.customerId) }\r\n                                            </React.Fragment> :\r\n                                            this.state.customerConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.petConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    <select className={\"zi-10 \" + this.inputFieldClasses(errors.petId)}\r\n                                                    name=\"petId\" value={record.petId} onChange={this.onChangeRecord}\r\n                                                    noValidate>\r\n                                                        {\r\n                                                            pets.filter(row =>\r\n                                                                (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                            ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                            <option value=''>Choose one</option> :\r\n                                                            record.customerId.length > 0 ?\r\n                                                            <option value=''>No pet found</option> :\r\n                                                            <option value=''>Customer Id is required</option>\r\n                                                        }\r\n                                                        {\r\n                                                            pets.length > 0 ?\r\n                                                            pets.filter(row =>\r\n                                                                (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                            ).map(row =>\r\n                                                                <option key={row.id} value={row.id}>\r\n                                                                    {row.id + \" | \" + row.petName}\r\n                                                                </option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                    {\r\n                                                        pets.filter(row =>\r\n                                                            (row.petName.match(pet.searchValue) && row.ownerId === record.customerId) ||\r\n                                                            (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                        ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onTogglePetSearch}>\r\n                                                                Search\r\n                                                            </button>\r\n                                                        </div> : null\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    pet.search ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={pet.searchValue} onChange={this.onChangePetSearch}\r\n                                                        placeholder=\"Search by Pet Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearPetSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.petId) }\r\n                                            </React.Fragment> :\r\n                                            this.state.petConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryPetsData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Weight<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className={this.inputFieldClasses(errors.petWeight)}\r\n                                            type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>{ this.renderRecordErrors(errors.petWeight) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Remarks\r\n                                        </label>\r\n                                        <textarea className={this.inputFieldClasses(errors.remarks)}\r\n                                        type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                        onChange={this.onChangeRecord} rows=\"2\" noValidate />\r\n                                        { this.renderRecordErrors(errors.remarks) }\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                                {\r\n                                    added ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        this.state.customerConnected && this.state.petConnected && this.state.employeeConnected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { checkUp } = this.state.record;\r\n        const { checkUpErrors } = this.state.errors;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Findings<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        <input className={this.inputFieldClasses(checkUpErrors.findings)}\r\n                        type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                        onChange={this.onChangeCheckUp} noValidate />\r\n                        { this.renderRecordErrors(checkUpErrors.findings) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Treatment<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        <input className={this.inputFieldClasses(checkUpErrors.treatment)}\r\n                        type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                        onChange={this.onChangeCheckUp} noValidate />\r\n                        { this.renderRecordErrors(checkUpErrors.treatment) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Admission Date\r\n                        </label>\r\n                        <input className=\"form-control border border-success\"\r\n                        type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                        onChange={this.onChangeCheckUp} noValidate />\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Released Date\r\n                        </label>\r\n                        <input className=\"form-control border border-success\"\r\n                        type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate}\r\n                        onChange={this.onChangeCheckUp} noValidate />\r\n                    </div>\r\n\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Additional Information\r\n                        </label>\r\n                        <textarea className={this.inputFieldClasses(checkUpErrors.addInfo)}\r\n                        type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                        onChange={this.onChangeCheckUp} rows=\"2\" noValidate />\r\n                        { this.renderRecordErrors(checkUpErrors.addInfo) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { groom } = this.state.record;\r\n        const { groomErrors } = this.state.errors;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Activity<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        <input className={this.inputFieldClasses(groomErrors.activity)}\r\n                        type=\"text\" name=\"activity\" value={groom.activity}\r\n                        onChange={this.onChangeGroom} noValidate />\r\n                        { this.renderRecordErrors(groomErrors.activity) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const customerConnected = true\r\n            this.setState({ customers, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryPetsData = () => {\r\n        this.getPetsData();\r\n        const petConnected = false;\r\n        const petConnectionFailed = false;\r\n        this.setState({ petConnected, petConnectionFailed })\r\n    }\r\n\r\n    getPetsData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php')\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const petConnected = true\r\n            this.setState({ pets, petConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const petConnectionFailed = true;\r\n            this.setState({ petConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryEmployeesData = () => {\r\n        this.getEmployeesData();\r\n        const employeeConnected = false;\r\n        const employeeConnectionFailed = false;\r\n        this.setState({ employeeConnected, employeeConnectionFailed })\r\n    }\r\n\r\n    getEmployeesData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const employeeConnected = true\r\n            this.setState({ employees, employeeConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const employeeConnectionFailed = true;\r\n            this.setState({ employeeConnectionFailed });\r\n        });\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default AddTransactionModal;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            petName: '',\r\n            customerId: '',\r\n            customerName: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        errors:\r\n        {\r\n            transType: '',\r\n            petId: '',\r\n            customerId: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUpErrors:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                addInfo: ''\r\n            },\r\n            groomErrors:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        submitError: false,\r\n        updated: false,\r\n        customers: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false,\r\n        pets: [],\r\n        petConnected: false,\r\n        petConnectionFailed: false,\r\n        employees: [],\r\n        employeeConnected: false,\r\n        employeeConnectionFailed: false,\r\n        checkUpConnected: false,\r\n        checkUpConnectionFailed: false,\r\n        groomConnected: false,\r\n        groomConnectionFailed: false,\r\n        connected: false,\r\n        customer:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        pet:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        employee:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { transaction } = this.props;\r\n        if(transaction.transType === 'C') {\r\n            this.getCheckUpData(transaction.id);\r\n        }\r\n        else if(transaction.transType === 'G') {\r\n            this.getGroomData(transaction.id);\r\n        }\r\n\r\n        this.getCustomersData();\r\n        this.getPetsData();\r\n        this.getEmployeesData();\r\n\r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n\r\n        record.id = transaction.id;\r\n        record.transType = transaction.transType;\r\n        record.transDate = transaction.transDate;\r\n        record.petId = transaction.petId;\r\n        record.petName = transaction.petName;\r\n        record.customerId = transaction.customerId;\r\n        record.customerName = transaction.lastName + \", \" + transaction.firstName + \" \" + transaction.middleName;\r\n        record.petWeight = transaction.petWeight;\r\n        record.remarks = transaction.remarks;\r\n        record.empId = transaction.empId;\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"remarks\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n\r\n        if(name === 'transType') {\r\n            const checkUp = {...this.state.record.checkUp};\r\n            const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n\r\n            checkUp.findings = '';\r\n            checkUp.treatment = '';\r\n            checkUp.admissionDate = '';\r\n            checkUp.releasedDate = '';\r\n            checkUp.addInfo = ''\r\n\r\n            checkUpErrors.findings = ' ';\r\n            checkUpErrors.treatment = ' ';\r\n            checkUpErrors.admissionDate = '';\r\n            checkUpErrors.releasedDate = '';\r\n            checkUpErrors.addInfo = ''\r\n\r\n            const groom = {...this.state.record.groom};\r\n            const groomErrors = {...this.state.errors.groomErrors};\r\n\r\n            groom.activity = '';\r\n            \r\n            groomErrors.activity = ' ';\r\n\r\n            const checkUpConnected = true;\r\n            const groomConnected = true;\r\n            const connected = true;\r\n\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp,\r\n                    groom\r\n                },\r\n                errors: {\r\n                    ...currentState.errors,\r\n                    checkUpErrors,\r\n                    groomErrors\r\n                }, checkUpConnected, groomConnected, connected\r\n            }))\r\n        }\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'transType':\r\n                errors.transType=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'empId':\r\n                errors.empId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'customerId':\r\n                errors.customerId=  value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petId':\r\n                errors.petId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petWeight':\r\n                errors.petWeight=   value.length === 0 ? \" \" :\r\n                                    !isNumeric(value) ? \"Please input a valid value\" :\r\n                                    value.length > 6 ? \"Must be at maximum of 6 numbers\" : \"\"\r\n                break;\r\n\r\n            case 'remarks':\r\n            errors.remarks= value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n            break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"admissionDate\" && name !== \"releasedDate\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckCheckUpErrors(e))\r\n    }\r\n\r\n    onCheckCheckUpErrors = e => {\r\n        const { name, value } = e.target;\r\n        const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'findings':\r\n                checkUpErrors.findings= properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 128 ?\r\n                                        \"Must be at between 2 and 128 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            case 'treatment':\r\n                checkUpErrors.treatment=    properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 128 ?\r\n                                            \"Must be at between 2 and 128 characters\" :\r\n                                            properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'addInfo':\r\n                checkUpErrors.addInfo=  value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                checkUpErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"activity\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckGroomErrors(e))\r\n    }\r\n\r\n    onCheckGroomErrors = e => {\r\n        const { name, value } = e.target;\r\n        const groomErrors = {...this.state.errors.groomErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'activity':\r\n                groomErrors.activity=   properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 32 ?\r\n                                        \"Must be at between 2 and 32 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                groomErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.remarks = this.removeLastSpace(record.remarks);\r\n            record.checkUp.findings = this.removeLastSpace(record.checkUp.findings);\r\n            record.checkUp.treatment = this.removeLastSpace(record.checkUp.treatment);\r\n            record.checkUp.addInfo = this.removeLastSpace(record.checkUp.addInfo);\r\n            record.groom.activity = this.removeLastSpace(record.groom.activity);\r\n\r\n            this.props.onSubmitForm();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateTransaction.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        let updated = true;\r\n        const submitError = false;\r\n        this.setState({ submitError, updated });\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        const { record } = this.state;\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        if(record.transType === 'C') {\r\n            Object.values(errors.checkUpErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n        else if(record.transType === 'G') {\r\n            Object.values(errors.groomErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {  \r\n        const { transaction } = this.props;\r\n        const checkUpConnected = false;\r\n        const groomConnected = false;\r\n        const connected = false;\r\n\r\n        this.setState({ checkUpConnected, groomConnected, connected })\r\n\r\n        if(transaction.transType === 'C') {\r\n            this.getCheckUpData(transaction.id);\r\n        }\r\n        else if(transaction.transType === 'G') {\r\n            this.getGroomData(transaction.id);\r\n        }      \r\n\r\n        const record = {...this.state.record};\r\n        let checkUp = {...this.state.record.checkUp};\r\n        let groom = {...this.state.record.groom};\r\n        const errors = {...this.state.errors};\r\n        const checkUpErrors = {...this.state.errors.checkUp};\r\n        const groomErrors = {...this.state.errors.groom};\r\n        const submitError = false;\r\n        const updated = false;\r\n\r\n        record.id = transaction.id;\r\n        record.transType = transaction.transType;\r\n        record.transDate = transaction.transDate;\r\n        record.petId = transaction.petId;\r\n        record.customerId = transaction.customerId;\r\n        record.petWeight = transaction.petWeight;\r\n        record.remarks = transaction.remarks;\r\n        record.empId = transaction.empId;\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        groomErrors.activity = '';\r\n        checkUpErrors.findings = '';\r\n        checkUpErrors.treatment = '';\r\n        checkUpErrors.addInfo = '';\r\n\r\n        errors.transType = '';\r\n        errors.petId = ''\r\n        errors.customerId = '';\r\n        errors.remarks = '';\r\n        errors.empId = '';\r\n\r\n        errors.checkUpErrors = checkUpErrors;\r\n        errors.groomErrors = groomErrors;\r\n\r\n        this.setState({ record, errors, submitError, updated });\r\n    }\r\n\r\n    onToggleCustomerSearch = e => {\r\n        e.preventDefault();\r\n        const customer = {...this.state.customer};\r\n        customer.search = !customer.search;\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onClearCustomerSearch = e => {\r\n        e.preventDefault();\r\n        const customer = {...this.state.customer};\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onChangeCustomerSearch = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            customer: {\r\n                ...currentState.customer,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onTogglePetSearch = e => {\r\n        e.preventDefault();\r\n        const pet = {...this.state.pet};\r\n        pet.search = !pet.search;\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onClearPetSearch = e => {\r\n        e.preventDefault();\r\n        const pet = {...this.state.pet};\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onChangePetSearch = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            pet: {\r\n                ...currentState.pet,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onToggleEmployeeSearch = e => {\r\n        e.preventDefault();\r\n        const employee = {...this.state.employee};\r\n        employee.search = !employee.search;\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onClearEmployeeSearch = e => {\r\n        e.preventDefault();\r\n        const employee = {...this.state.employee};\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onChangeEmployeeSearch = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            employee: {\r\n                ...currentState.employee,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, customers, customer, pets, pet, employees, employee, updated } = this.state;\r\n        const { transaction, connected, connectionFailed } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewTransactionModal-\" + transaction.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewTransactionModalTitle-\" + transaction.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewTransactionModalTitle-\" + transaction.id}>\r\n                                    View Transaction\r\n                                </h5>\r\n                                {\r\n                                    connected || connectionFailed ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Date\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className=\"form-control border border-success\"\r\n                                        type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <select className={this.inputFieldClasses(errors.transType)}\r\n                                        name=\"transType\" value={record.transType} onChange={this.onChangeRecord}\r\n                                        noValidate>\r\n                                            <option value=''>Choose one</option>\r\n                                            <option value='C'>Check-up</option>\r\n                                            <option value='G'>Groom</option>\r\n                                        </select>\r\n                                        { this.renderRecordErrors(errors.transType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.employeeConnected ?\r\n                                                <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    <select className={\"zi-10 \" + this.inputFieldClasses(errors.empId)}\r\n                                                    name=\"empId\" value={record.empId} onChange={this.onChangeRecord}\r\n                                                    noValidate>\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            employees.length > 0 ?\r\n                                                            employees.filter(row =>\r\n                                                                (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                employee.searchValue === ''\r\n                                                            ).map(row =>\r\n                                                                <option key={row.id} value={row.id}>\r\n                                                                    {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                </option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onToggleEmployeeSearch}>\r\n                                                            Search\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                                {\r\n                                                    employee.search ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={employee.searchValue} onChange={this.onChangeEmployeeSearch}\r\n                                                        placeholder=\"Search by Employee Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearEmployeeSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.empId) }\r\n                                            </React.Fragment> :\r\n                                            this.state.employeeConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryEmployeesData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Customer Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.customerConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    <select className={\"zi-10 \" + this.inputFieldClasses(errors.customerId)}\r\n                                                    name=\"customerId\" value={record.customerId} onChange={this.onChangeRecord}\r\n                                                    noValidate>\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            customers.length > 0 ?\r\n                                                            customers.filter(row =>\r\n                                                                (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                customer.searchValue === ''\r\n                                                            ).map(row =>\r\n                                                                <option key={row.id} value={row.id}>\r\n                                                                    {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                </option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onToggleCustomerSearch}>\r\n                                                            Search\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                                {\r\n                                                    customer.search ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={customer.searchValue} onChange={this.onChangeCustomerSearch}\r\n                                                        placeholder=\"Search by Customer Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearCustomerSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.customerId) }\r\n                                            </React.Fragment> :\r\n                                            this.state.customerConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.petConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    <select className={\"zi-10 \" + this.inputFieldClasses(errors.petId)}\r\n                                                    name=\"petId\" value={record.petId} onChange={this.onChangeRecord}\r\n                                                    noValidate>\r\n                                                        {\r\n                                                            pets.filter(row =>\r\n                                                                (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                            ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                            <option value=''>Choose one</option> :\r\n                                                            record.customerId.length > 0 ?\r\n                                                            <option value=''>No pet found</option> :\r\n                                                            <option value=''>Customer Id is required</option>\r\n                                                        }\r\n                                                        {\r\n                                                            pets.length > 0 ?\r\n                                                            pets.filter(row =>\r\n                                                                (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                            ).map(row =>\r\n                                                                <option key={row.id} value={row.id}>\r\n                                                                    {row.id + \" | \" + row.petName}\r\n                                                                </option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                    {\r\n                                                        pets.filter(row =>\r\n                                                            (row.petName.match(pet.searchValue) && row.ownerId === record.customerId) ||\r\n                                                            (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                        ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onTogglePetSearch}>\r\n                                                                Search\r\n                                                            </button>\r\n                                                        </div> : null\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    pet.search ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={pet.searchValue} onChange={this.onChangePetSearch}\r\n                                                        placeholder=\"Search by Pet Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearPetSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.petId) }\r\n                                            </React.Fragment> :\r\n                                            this.state.petConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryPetsData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Weight<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className={this.inputFieldClasses(errors.petWeight)}\r\n                                            type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>{ this.renderRecordErrors(errors.petWeight) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Remarks\r\n                                        </label>\r\n                                        <textarea className={this.inputFieldClasses(errors.remarks)}\r\n                                        type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                        onChange={this.onChangeRecord} rows=\"2\" noValidate />\r\n                                        { this.renderRecordErrors(errors.remarks) }\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        connected && this.state.connected && this.state.customerConnected &&\r\n                                        this.state.petConnected && this.state.employeeConnected ?\r\n                                        <React.Fragment>\r\n                                            {\r\n                                                record.transType === 'C' ?\r\n                                                <button className=\"btn btn-success w-auto mr-1\" data-dismiss=\"modal\"\r\n                                                onClick={() => this.onViewAdmission(\"/wiggly-tails/admin/manage-admission\")}>\r\n                                                    <i className=\"fa fa-hand-holding-medical fa-sm\"></i>\r\n                                                    <span className=\"ml-1\">Admissions</span>\r\n                                                </button> : null\r\n                                            }\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"d-none d-sm-inline ml-1\">Update</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto mr-1\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"d-none d-sm-inline ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    onViewAdmission = link => {\r\n        const { record } = this.state;\r\n        const { history } = this.props;\r\n        history.push(link, {\r\n            ...history.location.state,\r\n            transId: record.id,\r\n            customerName: record.customerName,\r\n            petName: record.petName,\r\n            transDate: record.transDate\r\n        });\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { checkUp } = this.state.record;\r\n        const { checkUpErrors } = this.state.errors;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.checkUpConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Findings<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                <input className={this.inputFieldClasses(checkUpErrors.findings)}\r\n                                type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                                onChange={this.onChangeCheckUp} noValidate />\r\n                                { this.renderRecordErrors(checkUpErrors.findings) }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Treatment<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                <input className={this.inputFieldClasses(checkUpErrors.treatment)}\r\n                                type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                                onChange={this.onChangeCheckUp} noValidate />\r\n                                { this.renderRecordErrors(checkUpErrors.treatment) }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Admission Date\r\n                                </label>\r\n                                <input className=\"form-control border border-success\"\r\n                                type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                                onChange={this.onChangeCheckUp} noValidate />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Released Date\r\n                                </label>\r\n                                <input className=\"form-control border border-success\"\r\n                                type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate}\r\n                                onChange={this.onChangeCheckUp} noValidate />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Additional Information\r\n                                </label>\r\n                                <textarea className={this.inputFieldClasses(checkUpErrors.addInfo)}\r\n                                type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                                onChange={this.onChangeCheckUp} rows=\"2\" noValidate />\r\n                                { this.renderRecordErrors(checkUpErrors.addInfo) }\r\n                            </div>\r\n                        </React.Fragment> : \r\n                        this.state.checkUpConnectionFailed ?\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal text-danger mb-0\">Database Connection Failed</h3>\r\n                            <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later...</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryCheckUpData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal mb-0\">Loading Data</h3>\r\n                            <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { groom } = this.state.record;\r\n        const { groomErrors } = this.state.errors;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.groomConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Activity<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                <input className={this.inputFieldClasses(groomErrors.activity)}\r\n                                type=\"text\" name=\"activity\" value={groom.activity}\r\n                                onChange={this.onChangeGroom} noValidate />\r\n                                { this.renderRecordErrors(groomErrors.activity) }\r\n                            </div>\r\n                        </React.Fragment> :\r\n                        this.state.groomConnectionFailed ?\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal text-danger mb-0\">Database Connection Failed</h3>\r\n                            <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later...</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryGroomData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal mb-0\">Loading Data</h3>\r\n                            <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const customerConnected = true\r\n            this.setState({ customers, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryPetsData = () => {\r\n        this.getPetsData();\r\n        const petConnected = false;\r\n        const petConnectionFailed = false;\r\n        this.setState({ petConnected, petConnectionFailed })\r\n    }\r\n\r\n    getPetsData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php')\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const petConnected = true\r\n            this.setState({ pets, petConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const petConnectionFailed = true;\r\n            this.setState({ petConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryEmployeesData = () => {\r\n        this.getEmployeesData();\r\n        const employeeConnected = false;\r\n        const employeeConnectionFailed = false;\r\n        this.setState({ employeeConnected, employeeConnectionFailed })\r\n    }\r\n\r\n    getEmployeesData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const employeeConnected = true\r\n            this.setState({ employees, employeeConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const employeeConnectionFailed = true;\r\n            this.setState({ employeeConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryCheckUpData = () => {\r\n        this.getCheckUpData();\r\n        const checkUpConnected = false;\r\n        const checkUpConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ checkUpConnected, checkUpConnectionFailed, connected })\r\n    }\r\n\r\n    getCheckUpData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionCheckUp.php?id='+id)\r\n        .then(res => {\r\n            let checkUp = res.data;\r\n            const checkUpConnected = true;\r\n            const connected = true;\r\n            checkUp = checkUp[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp\r\n                }, checkUpConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const checkUpConnectionFailed = true;\r\n            this.setState({ checkUpConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryGroomData = () => {\r\n        this.getGroomData();\r\n        const groomConnected = false;\r\n        const groomConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ groomConnected, groomConnectionFailed, connected })\r\n    }\r\n\r\n    getGroomData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionGroom.php?id='+id)\r\n        .then(res => {\r\n            let groom = res.data;\r\n            const groomConnected = true;\r\n            const connected = true;\r\n            groom = groom[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    groom\r\n                }, groomConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const groomConnectionFailed = true;\r\n            this.setState({ groomConnectionFailed });\r\n        });\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default ViewTransactionModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination';\r\nimport AddTransactionModal from './AddTransactionModal.js';\r\nimport ViewTransactionModal from './ViewTransactionModal.js';\r\n\r\nclass TransactionsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (transactions) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = transactions.length <= recordStartIndex + recordsPerPage ?\r\n        transactions.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={transactions[i].id} className=\"table-row\">\r\n                    <td>{this.formatDate(transactions[i].transDate)}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].lastName + \", \" + transactions[i].firstName + \" \" + transactions[i].middleName}</td>\r\n                    <td>{transactions[i].petName}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].petWeight}</td>\r\n                    <td className=\"d-none d-md-table-cell\">\r\n                        {transactions[i].empLastName + \", \" + transactions[i].empFirstName + \" \" + transactions[i].empMiddleName}\r\n                    </td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewTransactionModal-\" + transactions[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { transactions, onRefresh, onSearch, searchValue, onClear, history, connected, connectionFailed, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addTransactionModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue} ></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Transaction Date</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Customer Name</th>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"w-110px d-none d-lg-table-cell\">Pet Weight</th>\r\n                            <th className=\"w-285px d-none d-md-table-cell\">Served by</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            transactions.length > 0 && connected ?\r\n                            this.renderItems(transactions) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    transactions.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={transactions.length} /> : null\r\n                }\r\n                <AddTransactionModal onRefresh={onRefresh} customerId='' onSubmitForm={onSubmitForm} />\r\n                {\r\n                    transactions.map(transaction => <ViewTransactionModal key={transaction.id}\r\n                    transaction={transaction} onRefresh={onRefresh} history={history}\r\n                    connected={connected} connectionFailed={connectionFailed} onSubmitForm={onSubmitForm} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {\r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n\r\n    formatTransType = transType => {\r\n        return transType === 'C' ? \"Check-up\" : \"Groom\"\r\n    }\r\n}\r\n \r\nexport default TransactionsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport TransactionsTable from './TransactionsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManageTransactions extends Component {\r\n    state = {\r\n        transactions: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={3} activeId={4} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Transactions</h3>\r\n                            <TransactionsTable transactions={this.state.transactions}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch} history={history}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} connectionFailed={this.state.connectionFailed}\r\n                            onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.transactions.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactions.php')\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            const connected = true;\r\n            this.setState({ transactions, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchTransaction.php?search='+searchValue)\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            const connected = true;\r\n            this.setState({ transactions, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManageTransactions;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewAdmissionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transId: '',\r\n            title: '',\r\n            content: ''\r\n        },\r\n        errors:\r\n        {\r\n            title: ' ',\r\n            content: ' '\r\n        },\r\n        submitError: false,\r\n        added: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const { history } = this.props;\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        record.transId = history.location.state.transId;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"title\" ?\r\n        this.toAbsProperCase(value) :\r\n        this.toSentenceCase(value)\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'title':\r\n                errors.title=   properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 24 ?\r\n                                \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'content':\r\n                errors.content= properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 128 ?\r\n                                \"Must be at between 2 and 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.title = this.removeLastSpace(record.title);\r\n            record.content = this.removeLastSpace(record.content);\r\n\r\n            this.props.onSubmitForm();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertAdmission.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        this.onReset();\r\n        let added = true;\r\n        const submitError = false;\r\n        this.setState({ submitError, added });\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const { history } = this.props;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        const submitError = false;\r\n        const added = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.transId = history.location.state.transId;\r\n        record.title = '';\r\n        record.content = '';\r\n\r\n        errors.title = ' ';\r\n        errors.content = ' ';\r\n\r\n        this.setState({ record, errors, submitError, added });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, added } = this.state;\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addAdmissionModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"addAdmissionModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addAdmissionModalTitle\">\r\n                                    Add Admission\r\n                                </h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    added ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Title\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.title)}\r\n                                        type=\"text\" name=\"title\" value={record.title}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.title) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Content<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <textarea className={this.inputFieldClasses(errors.content)}\r\n                                        type=\"text\" name=\"content\" value={record.content} rows=\"7\"\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.content) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    added ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    <button className=\"btn btn-primary w-auto mr-1\"\r\n                                    onClick={this.onSubmit}>\r\n                                        <i className=\"fa fa-pen fa-sm\"></i>\r\n                                        <span className=\"ml-1\">Submit</span>\r\n                                    </button>\r\n                                    <button className=\"btn btn-danger w-auto mr-1\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-eraser\"></i>\r\n                                        <span className=\"ml-1\">Reset</span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default ViewAdmissionModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewAdmissionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transId: '',\r\n            title: '',\r\n            content: ''\r\n        },\r\n        errors:\r\n        {\r\n            title: '',\r\n            content: ''\r\n        },\r\n        submitError: false,\r\n        updated: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { admission } = this.props;\r\n        const record = {...this.state.record};\r\n\r\n        record.id = admission.id;\r\n        record.transId = admission.transId;\r\n        record.title = admission.title;\r\n        record.content = admission.content;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"title\" ?\r\n        this.toAbsProperCase(value) :\r\n        this.toSentenceCase(value)\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'title':\r\n                errors.title=   properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 24 ?\r\n                                \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'content':\r\n                errors.content= properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 128 ?\r\n                                \"Must be at between 2 and 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.title = this.removeLastSpace(record.title);\r\n            record.content = this.removeLastSpace(record.content);\r\n\r\n            this.props.onSubmitForm();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateAdmission.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        let updated = true;\r\n        const submitError = false;\r\n        this.setState({ submitError, updated });\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const { admission } = this.props;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        const submitError = false;\r\n        const updated = false;\r\n\r\n        record.id = admission.id;\r\n        record.transId = admission.transId;\r\n        record.title = admission.title;\r\n        record.content = admission.content;\r\n\r\n        errors.title = '';\r\n        errors.content = '';\r\n\r\n        this.setState({ record, errors, submitError, updated });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, updated } = this.state;\r\n        const { admission, connected, connectionFailed } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewAdmissionModal-\" + admission.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewAdmissionModalTitle-\" + admission.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewAdmissionModalTitle-\" + admission.id}>\r\n                                    View Admission\r\n                                </h5>\r\n                                {\r\n                                    connected || connectionFailed ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Title\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.title)}\r\n                                        type=\"text\" name=\"title\" value={record.title}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.title) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Content<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <textarea className={this.inputFieldClasses(errors.content)}\r\n                                        type=\"text\" name=\"content\" value={record.content} rows=\"7\"\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.content) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        this.props.connected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"ml-1\">Update</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto mr-1\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default ViewAdmissionModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination';\r\nimport AddAdmissionModal from './AddAdmissionModal.js';\r\nimport ViewAdmissionModal from './ViewAdmissionModal.js';\r\n\r\nclass AdmissionTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (admission) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = admission.length <= recordStartIndex + recordsPerPage ?\r\n        admission.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={admission[i].id} className=\"table-row\">\r\n                    <td>{admission[i].title}</td>\r\n                    <td>{admission[i].content}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewAdmissionModal-\" + admission[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { admission, onRefresh, onSearch, searchValue, onClear, history, connected, connectionFailed, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { state } = history.location;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addAdmissionModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2 ml-auto\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th colSpan=\"3\">\r\n                                <div className=\"row align-items-center\">\r\n                                    <div className=\"col-12 col-md-4 text-center mb-2 pb-2\r\n                                    m-md-0 p-md-0 bottom-border-dark border-md-0\">\r\n                                        {\"Customer Name: \" + state.customerName}\r\n                                    </div>\r\n                                    <div className=\"col-12 col-md-4 text-center mb-2 pb-2\r\n                                    m-md-0 p-md-0 bottom-border-dark border-md-0\">\r\n                                        {\"Pet Name: \" + state.petName}\r\n                                    </div>\r\n                                    <div className=\"col-12 col-md-4 text-center\">\r\n                                        {\"Transaction Date: \" + state.transDate}\r\n                                    </div>\r\n                                </div>\r\n                            </th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>Title</th>\r\n                            <th>Content</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            admission.length > 0 && connected ?\r\n                            this.renderItems(admission) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    admission.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={admission.length} /> : null\r\n                }\r\n                <AddAdmissionModal history={history} onSubmitForm={onSubmitForm} />\r\n                {\r\n                    admission.map(admission => <ViewAdmissionModal key={admission.id}\r\n                    admission={admission} onRefresh={onRefresh}\r\n                    connected={connected} connectionFailed={connectionFailed}\r\n                    onSubmitForm={onSubmitForm} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default AdmissionTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from '../AdminNavbar.js';\r\nimport AdmissionTable from './AdmissionTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManageAdmission extends Component {\r\n    state = {\r\n        admission: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={3} activeId={4} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Admission</h3>\r\n                            <AdmissionTable admission={this.state.admission} history={history}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch} \r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} connectionFailed={this.state.connectionFailed}\r\n                            onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.admission.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionAdmission.php?id='+\r\n        history.location.state.transId)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchTransactionAdmission.php?id='+\r\n        history.location.state.admissionId+\"&search=\"+searchValue)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default ManageAdmission;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddCustomerModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: '',\r\n            pet:\r\n            {\r\n                petName: '',\r\n                birthdate: '',\r\n                petClass: '',\r\n                lastVisit: '',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: ' ',\r\n            firstName: ' ',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: ' ',\r\n                subdivision: ' ',\r\n                barangay: ' ',\r\n                municipality: ' ',\r\n                province: ''\r\n            },\r\n            birthdate: ' ',\r\n            mobileNumber: ' ',\r\n            emailAddress: ' ',\r\n            userPassword: ' ',\r\n            confirmUserPassword: ' ',\r\n            petErrors:\r\n            {\r\n                petName: ' ',\r\n                birthdate: ' ',\r\n                petClass: ' ',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        records: [],\r\n        petClasses:\r\n        [ 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Iguana', 'Jaguar', 'Lizard', 'Mantis', 'Monkey', 'Newt', 'Octopus', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake','Spider', 'Tortoise', 'Turtle', 'Whale'],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        submitError: false,\r\n        added: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n        this.getCustomersData();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record, records } = this.state;\r\n\r\n        const result = records.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() === (record.emailAddress + record.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n\r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  properLength === 0 ? \" \" :\r\n                                                properLength < 2  || value.length > 24 ?\r\n                                                \"Subdivision must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangePet = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                pet: {\r\n                    ...currentState.record.pet,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckPetErrors(e))\r\n    }\r\n\r\n    onCheckPetErrors = e => {\r\n        const { name, value } = e.target;\r\n        const petErrors = {...this.state.errors.petErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                petErrors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                petErrors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                petErrors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                petErrors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                petErrors\r\n            }\r\n        }), () => console.log(this.state))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n            record.pet.petName = this.removeLastSpace(record.pet.petName);\r\n\r\n            record.homeAddress.street += \" St.\";\r\n            record.homeAddress.barangay = \"Brgy. \" + record.homeAddress.barangay;\r\n            record.homeAddress.municipality += \" City\";\r\n\r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            this.props.onSubmitForm();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertCustomerPet.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        this.onReset();\r\n        let added = true;\r\n        const submitError = false;\r\n        this.setState({ submitError, added });\r\n        added = false;\r\n        setTimeout(() => this.setState({ added }), 5000);\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0  && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n        const pet = {...this.state.record.pet};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const petErrors = {...this.state.errors.petErrors};\r\n\r\n        const confirmUserPassword = '';\r\n        const submitError = false;\r\n\r\n        homeAddress.lotBlock = '';\r\n        homeAddress.street = '';\r\n        homeAddress.subdivision = '';\r\n        homeAddress.barangay = '';\r\n        homeAddress.municipality = '';\r\n        homeAddress.province = '';\r\n        \r\n        pet.petName = '';\r\n        pet.birthdate = '';\r\n        pet.petClass = '';\r\n        pet.pcciRegNo = '';\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.lastName = '';\r\n        record.firstName = '';\r\n        record.middleName = ''\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = '';\r\n        record.mobileNumber = '';\r\n        record.emailAddress = '';\r\n        record.email = '@yahoo.com';\r\n        record.userPassword = '';\r\n        record.pet = pet;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = ' ';\r\n        homeAddressErrors.subdivision = ' ';\r\n        homeAddressErrors.barangay = ' ';\r\n        homeAddressErrors.municipality = ' ';\r\n        homeAddressErrors.province = '';\r\n\r\n        petErrors.petName = ' ';\r\n        petErrors.birthdate = ' ';\r\n        petErrors.petClass = ' ';\r\n\r\n        errors.lastName = ' ';\r\n        errors.firstName = ' ';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ' ';\r\n        errors.mobileNumber = ' ';\r\n        errors.emailAddress = ' ';\r\n        errors.userPassword = ' ';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, submitError });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, petClasses, added } = this.state;\r\n        const { homeAddress, pet } = record;\r\n        const { homeAddressErrors, petErrors } = errors;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addCustomerModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"addCustomerModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addCustomerModalTitle\">Add Customer</h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                            <div className=\"input-group-append\">\r\n                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                onClick={this.onGenerateId}>Generate</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.lastName)}\r\n                                        type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.firstName)}\r\n                                        type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        <input className={this.inputFieldClasses(errors.middleName)}\r\n                                        type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                        onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Street\" noValidate />\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Subdivision\" noValidate />\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Barangay\" noValidate />\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Municipality\" noValidate />\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Province (Optional)\" noValidate />\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                            type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    <input className={\"w-sm-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                    type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                    onChange={this.onChangeRecord} noValidate />\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        <select className=\"input-group-text\"\r\n                                                        name=\"email\" value={record.email}\r\n                                                        onChange={this.onChangeRecord} noValidate>\r\n                                                            <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                            <option value=\"@gmail.com\">gmail.com</option>\r\n                                                            <option value=\"@outlook.com\">outlook.com</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.state.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.userPassword)}\r\n                                        type=\"password\" name=\"userPassword\" value={record.userPassword}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                        type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                        onChange={this.onChangeState} noValidate />\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                                        <div className=\"row mt-3\">\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Name <span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                <input className={this.inputFieldClasses(petErrors.petName)}\r\n                                                type=\"text\" name=\"petName\" value={pet.petName}\r\n                                                onChange={this.onChangePet} noValidate />\r\n                                                { this.renderRecordErrors(petErrors.petName) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                <input className={this.inputFieldClasses(petErrors.birthdate)}\r\n                                                type=\"date\" name=\"birthdate\" value={pet.birthdate}\r\n                                                onChange={this.onChangePet} noValidate />\r\n                                                { this.renderRecordErrors(petErrors.birthdate) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                <select className={this.inputFieldClasses(petErrors.petClass)}\r\n                                                name=\"petClass\" value={pet.petClass} onChange={this.onChangePet}\r\n                                                noValidate>\r\n                                                    <option value=''>Choose one</option>\r\n                                                    {\r\n                                                        petClasses.length > 0 ?\r\n                                                        petClasses.map(value =>\r\n                                                            <option key={value} value={value}>{value}</option>\r\n                                                        ) : null\r\n                                                    }\r\n                                                </select>\r\n                                                { this.renderRecordErrors(petErrors.petClass) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                                <input className={this.inputFieldClasses(petErrors.pcciRegNo)}\r\n                                                type=\"text\" name=\"pcciRegNo\" value={pet.pcciRegNo}\r\n                                                onChange={this.onChangePet} maxLength=\"6\"\r\n                                                placeholder=\"(Optional)\" noValidate />\r\n                                                { this.renderRecordErrors(petErrors.pcciRegNo) }\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        this.state.connected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const connected = true;\r\n            this.setState({ records, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddCustomerModal;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewCustomerModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            userPassword: '',\r\n            confirmUserPassword: ' ',\r\n        },\r\n        records: [], \r\n        connected: false,\r\n        connectionFailed: false,\r\n        submitError: false,\r\n        updated: false,\r\n        passwordState:\r\n        {\r\n            inputType: 'password',\r\n            buttonText: 'Show'\r\n        },\r\n        deleteState: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getCustomersData();\r\n\r\n        const { customer } = this.props;\r\n        const record = {...this.state.record};\r\n        record.id = customer.id;\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName;\r\n        record.homeAddress.lotBlock = customer.lotBlock;\r\n        record.homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        record.homeAddress.subdivision = customer.subdivision;\r\n        record.homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        record.homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        record.homeAddress.province = customer.province;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record, records } = this.state;\r\n        const { customer } = this.props;\r\n\r\n        const result = records.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() === (record.emailAddress + record.email).toLowerCase() &&\r\n            (row.emailAddress + row.email).toLowerCase() !== (customer.emailAddress + customer.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n    \r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  properLength === 0 ? \" \" :\r\n                                                properLength < 2  || value.length > 24 ?\r\n                                                \"Subdivision must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n\r\n            record.homeAddress.street += \" St.\";\r\n            record.homeAddress.barangay = \"Brgy. \" + record.homeAddress.barangay;\r\n            record.homeAddress.municipality += \" City\";\r\n            \r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            this.props.onSubmitForm();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateCustomer.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const record = {...this.state.record};\r\n        record.homeAddress.street = record.homeAddress.street.substring(0, record.homeAddress.street.length - 4);\r\n        record.homeAddress.barangay = record.homeAddress.barangay.substring(6, record.homeAddress.barangay.length);\r\n        record.homeAddress.municipality =   record.homeAddress.municipality\r\n                                            .substring(0, record.homeAddress.municipality.length - 5);\r\n\r\n        let updated = true;\r\n        const submitError = false;\r\n        const confirmUserPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmUserPassword = ' '\r\n        this.setState({ record, errors, confirmUserPassword, submitError, updated });\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0 && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const { customer } = this.props;\r\n\r\n        const confirmUserPassword = '';\r\n        const submitError = false;\r\n        const updated = false;\r\n\r\n        const { passwordState } = this.state;\r\n\r\n        passwordState.buttonText = \"Show\";\r\n        passwordState.inputType = \"password\";\r\n\r\n        homeAddress.lotBlock = customer.lotBlock;\r\n        homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        homeAddress.subdivision = customer.subdivision;\r\n        homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        homeAddress.province = customer.province;\r\n\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = '';\r\n        homeAddressErrors.subdivision = '';\r\n        homeAddressErrors.barangay = '';\r\n        homeAddressErrors.municipality = '';\r\n        homeAddressErrors.province = '';\r\n\r\n        errors.lastName = '';\r\n        errors.firstName = '';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ''\r\n        errors.mobileNumber = '';\r\n        errors.emailAddress = '';\r\n        errors.userPassword = '';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, passwordState, submitError, updated });\r\n    }\r\n\r\n    onTogglePassword = e => {\r\n        e.preventDefault();\r\n        const passwordState = {...this.state.passwordState};\r\n        if(passwordState.inputType === 'password') {\r\n            passwordState.inputType = 'text';\r\n            passwordState.buttonText = 'Hide';\r\n        }\r\n        else {\r\n            passwordState.inputType = 'password';\r\n            passwordState.buttonText = 'Show';\r\n        }\r\n        this.setState({ passwordState });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, passwordState, updated, deleteState } = this.state;\r\n        const { homeAddress } = this.state.record;\r\n        const { homeAddressErrors } = errors;\r\n        const { customer, connected } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewCustomerModal-\" + customer.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewCustomerrModalTitle-\" + customer.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewCustomerModalTitle-\" + customer.id}>View Customer</h5>\r\n                                {\r\n                                    connected ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.lastName)}\r\n                                        type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.firstName)}\r\n                                        type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        <input className={this.inputFieldClasses(errors.middleName)}\r\n                                        type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                        onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Street\" noValidate />\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Subdivision\" noValidate />\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Barangay\" noValidate />\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Municipality\" noValidate />\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                onChange={this.onChangeHomeAddress}\r\n                                                placeholder=\"Province (Optional)\" noValidate />\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                            type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    <input className={\"w-sm-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                    type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                    onChange={this.onChangeRecord} noValidate />\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        <select className=\"input-group-text\"\r\n                                                        name=\"email\" value={record.email}\r\n                                                        onChange={this.onChangeRecord} noValidate>\r\n                                                            <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                            <option value=\"@gmail.com\">gmail.com</option>\r\n                                                            <option value=\"@outlook.com\">outlook.com</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.state.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className={\"zi-10 \" + this.inputFieldClasses(errors.userPassword)}\r\n                                            type={passwordState.inputType} name=\"userPassword\" value={record.userPassword}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                            <div className=\"input-group-append\">\r\n                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                onClick={this.onTogglePassword}>\r\n                                                    {passwordState.buttonText}\r\n                                                </button>\r\n                                            </div>\r\n                                        </div> { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                        type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                        onChange={this.onChangeState} noValidate />\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            this.props.connected && this.state.connected ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onReset}>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> : null\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                data-dismiss=\"modal\" onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n\r\n        this.props.onSubmitForm();\r\n\r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deleteCustomer.php', record)\r\n        .then(onRefresh);\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const connected = true;\r\n            this.setState({ records, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewCustomerModal;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass InitiateTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            customerId: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        errors:\r\n        {\r\n            transType: ' ',\r\n            petId: ' ',\r\n            customerId: ' ',\r\n            petWeight: ' ',\r\n            remarks: '',\r\n            empId: ' ',\r\n            checkUpErrors:\r\n            {\r\n                findings: ' ',\r\n                treatment: ' ',\r\n                addInfo: ''\r\n            },\r\n            groomErrors:\r\n            {\r\n                activity: ' '\r\n            }\r\n        },\r\n        submitError: false,\r\n        pets: [],\r\n        petConnected: false,\r\n        petConnectionFailed: false,\r\n        employees: [],\r\n        employeeConnected: false,\r\n        employeeConnectionFailed: false,\r\n        pet:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        employee:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n        this.getPetsData();\r\n        this.getEmployeesData();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        const { customer } = this.props;\r\n\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n\r\n        record.customerId = customer.id;\r\n        errors.customerId = '';\r\n\r\n        record.transDate = this.getCurrentDate();\r\n        this.setState({ record, errors });\r\n    }\r\n\r\n    getCurrentDate = () => {\r\n        const dateObj = new Date(); \r\n        const currentDate = dateObj.getFullYear() + \"-\" + (dateObj.getMonth()+1) + \"-\" + dateObj.getDate();\r\n        return currentDate;\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"remarks\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n\r\n        if(name === 'transType') {\r\n            const checkUp = {...this.state.record.checkUp};\r\n            const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n\r\n            checkUp.findings = '';\r\n            checkUp.treatment = '';\r\n            checkUp.admissionDate = '';\r\n            checkUp.releasedDate = '';\r\n            checkUp.addInfo = ''\r\n\r\n            checkUpErrors.findings = ' ';\r\n            checkUpErrors.treatment = ' ';\r\n            checkUpErrors.admissionDate = '';\r\n            checkUpErrors.releasedDate = '';\r\n            checkUpErrors.addInfo = ''\r\n\r\n            const groom = {...this.state.record.groom};\r\n            const groomErrors = {...this.state.errors.groomErrors};\r\n\r\n            groom.activity = '';\r\n            \r\n            groomErrors.activity = '';\r\n\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp,\r\n                    groom\r\n                },\r\n                errors: {\r\n                    ...currentState.errors,\r\n                    checkUpErrors,\r\n                    groomErrors\r\n                }\r\n            }))\r\n        }\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'transType':\r\n                errors.transType=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'empId':\r\n                errors.empId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'customerId':\r\n                errors.customerId=  value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petId':\r\n                errors.petId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petWeight':\r\n                errors.petWeight=   value.length === 0 ? \" \" :\r\n                                    !isNumeric(value) ? \"Please input a valid value\" :\r\n                                    value.length > 6 ? \"Must be at maximum of 6 numbers\" : \"\"\r\n                break;\r\n\r\n            case 'remarks':\r\n            errors.remarks= value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n            break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"admissionDate\" && name !== \"releasedDate\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckCheckUpErrors(e))\r\n    }\r\n\r\n    onCheckCheckUpErrors = e => {\r\n        const { name, value } = e.target;\r\n        const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'findings':\r\n                checkUpErrors.findings= properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 128 ?\r\n                                        \"Must be at between 2 and 128 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            case 'treatment':\r\n                checkUpErrors.treatment=    properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 128 ?\r\n                                            \"Must be at between 2 and 128 characters\" :\r\n                                            properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'addInfo':\r\n                checkUpErrors.addInfo=  value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                checkUpErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"activity\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckGroomErrors(e))\r\n    }\r\n\r\n    onCheckGroomErrors = e => {\r\n        const { name, value } = e.target;\r\n        const groomErrors = {...this.state.errors.groomErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'activity':\r\n                groomErrors.activity=   properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 32 ?\r\n                                        \"Must be at between 2 and 32 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                groomErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.remarks = this.removeLastSpace(record.remarks);\r\n            record.checkUp.findings = this.removeLastSpace(record.checkUp.findings);\r\n            record.checkUp.treatment = this.removeLastSpace(record.checkUp.treatment);\r\n            record.checkUp.addInfo = this.removeLastSpace(record.checkUp.addInfo);\r\n            record.groom.activity = this.removeLastSpace(record.groom.activity);\r\n\r\n            this.props.onSubmitForm(false);\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertTransaction.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        this.onReset();\r\n        let added = true;\r\n        const submitError = false;\r\n        this.setState({ submitError, added });\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        const { record } = this.state;\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        if(record.transType === 'C') {\r\n            Object.values(errors.checkUpErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n        else if(record.transType === 'G') {\r\n            Object.values(errors.groomErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {        \r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n        const errors = {...this.state.errors};\r\n        const checkUpErrors = {...this.state.errors.checkUp};\r\n        const groomErrors = {...this.state.errors.groom};\r\n        const submitError = false;\r\n\r\n        const id = this.generateCharacters(6);\r\n        groom.activity = '';\r\n        checkUp.findings = '';\r\n        checkUp.treatment = '';\r\n        checkUp.admissionDate = this.getCurrentDate();\r\n        checkUp.releasedDate = '';\r\n        checkUp.addInfo = '';\r\n\r\n        record.id = id;\r\n        record.transType = '';\r\n        record.transDate = this.getCurrentDate();\r\n        record.petId = ''\r\n        record.petWeight = '';\r\n        record.remarks = '';\r\n        record.empId = '';\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        groomErrors.activity = ' ';\r\n        checkUpErrors.findings = ' ';\r\n        checkUpErrors.treatment = ' ';\r\n        checkUpErrors.addInfo = '';\r\n\r\n        errors.transType = ' ';\r\n        errors.petId = ' '\r\n        errors.customerId = ' ';\r\n        errors.remarks = '';\r\n        errors.empId = ' ';\r\n        errors.checkUpErrors = checkUpErrors;\r\n        errors.groomErrors = groomErrors;\r\n\r\n        this.setState({ record, errors, submitError});\r\n    }\r\n\r\n    onTogglePetSearch = e => {\r\n        e.preventDefault();\r\n        const pet = {...this.state.pet};\r\n        pet.search = !pet.search;\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onClearPetSearch = e => {\r\n        e.preventDefault();\r\n        const pet = {...this.state.pet};\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onChangePetSearch = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            pet: {\r\n                ...currentState.pet,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onToggleEmployeeSearch = e => {\r\n        e.preventDefault();\r\n        const employee = {...this.state.employee};\r\n        employee.search = !employee.search;\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onClearEmployeeSearch = e => {\r\n        e.preventDefault();\r\n        const employee = {...this.state.employee};\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onChangeEmployeeSearch = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            employee: {\r\n                ...currentState.employee,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, pets, pet, employees, employee, added } = this.state;\r\n        const { customer, connected, connectionFailed } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"addTransactionModal-\"+customer.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"addTransactionModalTitle-\"+customer.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"addTransactionModalTitle-\"+customer.id}>\r\n                                    {\"Add Transaction for \" + customer.id + \" | \"\r\n                                    + customer.lastName + \", \" + customer.firstName + \" \" + customer.middleName}\r\n                                </h5>\r\n                                {\r\n                                    connected || connectionFailed ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    added ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-sign-in-alt text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Date\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className=\"form-control border border-success\"\r\n                                        type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <select className={this.inputFieldClasses(errors.transType)}\r\n                                        name=\"transType\" value={record.transType} onChange={this.onChangeRecord}\r\n                                        noValidate>\r\n                                            <option value=''>Choose one</option>\r\n                                            <option value='C'>Check-up</option>\r\n                                            <option value='G'>Groom</option>\r\n                                        </select>\r\n                                        { this.renderRecordErrors(errors.transType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.employeeConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    <select className={\"zi-10 \" + this.inputFieldClasses(errors.empId)}\r\n                                                    name=\"empId\" value={record.empId} onChange={this.onChangeRecord}\r\n                                                    noValidate>\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            employees.length > 0 ?\r\n                                                            employees.filter(row =>\r\n                                                                (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                employee.searchValue === ''\r\n                                                            ).map(row =>\r\n                                                                <option key={row.id} value={row.id}>\r\n                                                                    {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                </option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onToggleEmployeeSearch}>\r\n                                                            Search\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                                {\r\n                                                    employee.search ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={employee.searchValue} onChange={this.onChangeEmployeeSearch}\r\n                                                        placeholder=\"Search by Employee Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearEmployeeSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.empId) }\r\n                                            </React.Fragment> :\r\n                                            this.state.employeeConnectionFailed ?\r\n                                            <input className=\"form-control border border-danger\"\r\n                                            value=\"Connection Failed: Please try again later...\"\r\n                                            noValidate disabled /> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Customer Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className=\"form-control\" name=\"customerId\" value={record.customerId}\r\n                                        noValidate disabled></input>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.petConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    <select className={\"zi-10 \" + this.inputFieldClasses(errors.petId)}\r\n                                                    name=\"petId\" value={record.petId} onChange={this.onChangeRecord}\r\n                                                    noValidate>\r\n                                                        {\r\n                                                            pets.filter(row =>\r\n                                                                (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                            ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                            <option value=''>Choose one</option> :\r\n                                                            record.customerId.length > 0 ?\r\n                                                            <option value=''>No pet found</option> :\r\n                                                            <option value=''>Customer Id is required</option>\r\n                                                        }\r\n                                                        {\r\n                                                            pets.length > 0 ?\r\n                                                            pets.filter(row =>\r\n                                                                (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                            ).map(row =>\r\n                                                                <option key={row.id} value={row.id}>\r\n                                                                    {row.id + \" | \" + row.petName}\r\n                                                                </option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                    {\r\n                                                        pets.filter(row =>\r\n                                                            (row.petName.match(pet.searchValue) && row.ownerId === record.customerId) ||\r\n                                                            (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                        ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onTogglePetSearch}>\r\n                                                                Search\r\n                                                            </button>\r\n                                                        </div> : null\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    pet.search ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={pet.searchValue} onChange={this.onChangePetSearch}\r\n                                                        placeholder=\"Search by Pet Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearPetSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.petId) }\r\n                                            </React.Fragment> :\r\n                                            this.state.customerConnectionFailed ?\r\n                                            <input className=\"form-control border border-danger\"\r\n                                            value=\"Connection Failed: Please try again later...\"\r\n                                            noValidate disabled /> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Weight<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className={this.inputFieldClasses(errors.petWeight)}\r\n                                            type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>{ this.renderRecordErrors(errors.petWeight) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Remarks\r\n                                        </label>\r\n                                        <textarea className={this.inputFieldClasses(errors.remarks)}\r\n                                        type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                        onChange={this.onChangeRecord} rows=\"2\" noValidate />\r\n                                        { this.renderRecordErrors(errors.remarks) }\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                                {\r\n                                    added ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-sign-in-alt text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        connected && this.state.petConnected && this.state.employeeConnected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { checkUp } = this.state.record;\r\n        const { checkUpErrors } = this.state.errors;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Findings<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        <input className={this.inputFieldClasses(checkUpErrors.findings)}\r\n                        type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                        onChange={this.onChangeCheckUp} noValidate />\r\n                        { this.renderRecordErrors(checkUpErrors.findings) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Treatment<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        <input className={this.inputFieldClasses(checkUpErrors.treatment)}\r\n                        type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                        onChange={this.onChangeCheckUp} noValidate />\r\n                        { this.renderRecordErrors(checkUpErrors.treatment) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Admission Date\r\n                        </label>\r\n                        <input className=\"form-control border border-success\"\r\n                        type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                        onChange={this.onChangeCheckUp} noValidate />\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Released Date\r\n                        </label>\r\n                        <input className=\"form-control border border-success\"\r\n                        type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate}\r\n                        onChange={this.onChangeCheckUp} noValidate />\r\n                    </div>\r\n\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Additional Information\r\n                        </label>\r\n                        <textarea className={this.inputFieldClasses(checkUpErrors.addInfo)}\r\n                        type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                        onChange={this.onChangeCheckUp} rows=\"2\" noValidate />\r\n                        { this.renderRecordErrors(checkUpErrors.addInfo) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { groom } = this.state.record;\r\n        const { groomErrors } = this.state.errors;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Activity<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        <input className={this.inputFieldClasses(groomErrors.activity)}\r\n                        type=\"text\" name=\"activity\" value={groom.activity}\r\n                        onChange={this.onChangeGroom} noValidate />\r\n                        { this.renderRecordErrors(groomErrors.activity) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    getPetsData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php')\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const petConnected = true\r\n            this.setState({ pets, petConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const petConnectionFailed = true;\r\n            this.setState({ petConnectionFailed });\r\n        });\r\n    }\r\n\r\n    getEmployeesData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const employeeConnected = true\r\n            this.setState({ employees, employeeConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const employeeConnectionFailed = true;\r\n            this.setState({ employeeConnectionFailed });\r\n        });\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default InitiateTransactionModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination.js';\r\nimport AddCustomerModal from './AddCustomerModal.js';\r\nimport ViewCustomerModal from './ViewCustomerModal.js';\r\nimport InitiateTransactionModal from './InitiateTransactionModal.js'\r\n\r\nclass CustomersTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (customers) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = customers.length <= recordStartIndex + recordsPerPage ?\r\n        customers.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={customers[i].id} className=\"table-row\">\r\n                    <td>{customers[i].lastName + \", \" + customers[i].firstName + \" \" + customers[i].middleName}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{customers[i].emailAddress+customers[i].email}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{customers[i].mobileNumber}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">{customers[i].noOfPets}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewCustomerModal-\" + customers[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"d-none d-sm-inline ml-1\">View</span>\r\n                        </button>\r\n                        <button className=\"btn btn-outline-primary btn-sm\"\r\n                        data-toggle=\"modal\" data-target={\"#addTransactionModal-\" + customers[i].id}>\r\n                            <i className=\"fa fa-pencil-alt\"></i>\r\n                            <span className=\"d-none d-sm-inline ml-1\">Transact</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { customers, onRefresh, onSearch, searchValue, onClear, connected, connectionFailed, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addCustomerModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue} ></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th className=\"min-w-170px\">Name</th>\r\n                            <th className=\"d-none d-md-table-cell\">Email Address</th>\r\n                            <th className=\"d-none d-lg-table-cell w-155px\">Mobile Number</th>\r\n                            <th className=\"d-none d-sm-table-cell w-30px\">Pets</th>\r\n                            <th className=\"w-190px min-w-95px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            customers.length > 0 && connected ?\r\n                            this.renderItems(customers) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    customers.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={customers.length} /> : null\r\n                }\r\n                <AddCustomerModal onRefresh={onRefresh} onSubmitForm={onSubmitForm} />\r\n                { customers.map(customer => \r\n                    <React.Fragment key={customer.id}>\r\n                        <ViewCustomerModal customer={customer} onRefresh={onRefresh}\r\n                        connected={connected} connectionFailed={connectionFailed} onSubmitForm={onSubmitForm} />\r\n                        <InitiateTransactionModal customer={customer}\r\n                        connected={connected} connectionFailed={connectionFailed} onSubmitForm={onSubmitForm} />\r\n                    </React.Fragment>\r\n                ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default CustomersTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport CustomersTable from './CustomersTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManageCustomers extends Component {\r\n    state = {\r\n        customers: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={3} activeId={5} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5\">\r\n                            <h3>Manage Customers</h3>\r\n                            <CustomersTable customers={this.state.customers}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} connectionFailed={this.state.connectionFailed}\r\n                            onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.customers.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const connected = true;\r\n            this.setState({ customers, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchCustomer.php?search='+searchValue)\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const connected = true;\r\n            this.setState({ customers, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManageCustomers;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        records: [],\r\n        connected: false,\r\n        errors:\r\n        {\r\n            petName: ' ',\r\n            birthdate: ' ',\r\n            ownerId: ' ',\r\n            petClass: ' ',\r\n            pcciRegNo: ''\r\n        },\r\n        submitError: false,\r\n        added: false,\r\n        petClasses:\r\n        [ 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Iguana', 'Jaguar', 'Lizard', 'Mantis', 'Monkey', 'Newt', 'Octopus', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake','Spider', 'Tortoise', 'Turtle', 'Whale'],\r\n        search: false,\r\n        searchValue: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n        this.getCustomersData();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertPet.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        this.onReset();\r\n        let added = true;\r\n        const submitError = false;\r\n        this.setState({ submitError, added });\r\n        added = false;\r\n        setTimeout(() => this.setState({ added }), 5000);\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        this.onGenerateId();\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        const submitError = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.petName = '';\r\n        record.birthdate = '';\r\n        record.ownerId = '';\r\n        record.petClass = '';\r\n        record.pcciRegNo = '';\r\n\r\n        errors.petName = 'Pet Name is required';\r\n        errors.birthdate = 'Birthdate is required';\r\n        errors.ownerId = 'Owner Id is required'\r\n        errors.petClass = 'Pet Class is required';\r\n        errors.pcciRegNo = '';\r\n\r\n        const searchValue = '';\r\n\r\n        this.setState({ record, errors, searchValue, submitError });\r\n    }\r\n\r\n    onToggleSearch = e => {\r\n        e.preventDefault();\r\n        const search = !this.state.search;\r\n        const searchValue = '';\r\n        this.setState({ search, searchValue });\r\n    }\r\n\r\n    onClearSearch = e => {\r\n        e.preventDefault();\r\n        const searchValue = '';\r\n        this.setState({ searchValue });\r\n    }\r\n\r\n    render() {\r\n        const { record, records, errors, petClasses, search, searchValue, added } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addPetModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"addPetModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addPetModalTitle\">Add Pet</h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    added ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            noValidate disabled />\r\n                                            <div className=\"input-group-append\">\r\n                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                onClick={this.onGenerateId}>\r\n                                                    Generate\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.petName)}\r\n                                        type=\"text\" name=\"petName\" value={record.petName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                        type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    <select className={\"zi-10 \" + this.inputFieldClasses(errors.ownerId)}\r\n                                                    name=\"ownerId\" value={record.ownerId} onChange={this.onChangeRecord}\r\n                                                    noValidate>\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            records.length > 0 ?\r\n                                                            records.filter(row =>\r\n                                                                (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                searchValue === ''\r\n                                                            ).map(row =>\r\n                                                                <option key={row.id} value={row.id}>\r\n                                                                    {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                </option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onToggleSearch}>\r\n                                                            Search\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                                {\r\n                                                    search ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={searchValue} onChange={this.onChangeState}\r\n                                                        placeholder=\"Search by Owner Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.ownerId) }\r\n                                            </React.Fragment> :\r\n                                            this.state.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <select className={this.inputFieldClasses(errors.petClass)}\r\n                                        name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                        noValidate>\r\n                                            <option value=''>Choose one</option>\r\n                                            {\r\n                                                petClasses.length > 0 ?\r\n                                                petClasses.map(value =>\r\n                                                    <option key={value} value={value}>{value}</option>\r\n                                                ) : null\r\n                                            }\r\n                                        </select>\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                        type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                        onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                        placeholder=\"(Optional)\" noValidate />\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    added ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        this.state.connected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const connected = true;\r\n            this.setState({ records, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddPetModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        records: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        errors:\r\n        {\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            pcciRegNo: ''\r\n        },\r\n        submitError: false,\r\n        updated: false,\r\n        petClasses:\r\n        [ 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Iguana', 'Jaguar', 'Lizard', 'Mantis', 'Monkey', 'Newt', 'Octopus', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake','Spider', 'Tortoise', 'Turtle', 'Whale'],\r\n        search: false,\r\n        searchValue: '',\r\n        deleteState: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getCustomersData();\r\n\r\n        const { pet } = this.props;\r\n        const record = {...this.state.record};\r\n        \r\n        record.id = pet.id;\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.ownerId = pet.ownerId;\r\n        record.petClass = pet.petClass;\r\n        record.lastVisit = pet.lastVisit;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updatePet.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        let updated = true;\r\n        const submitError = false;\r\n        this.setState({ submitError, updated });\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        const submitError = false;\r\n        const updated = false;\r\n\r\n        const { pet } = this.props;\r\n\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.ownerId = pet.ownerId;\r\n        record.petClass = pet.petClass;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        errors.petName = '';\r\n        errors.birthdate = '';\r\n        errors.ownerId = '';\r\n        errors.petClass = '';\r\n        errors.pcciRegNo = '';\r\n\r\n        const searchValue = '';\r\n\r\n        this.setState({ record, errors, searchValue, submitError, updated });\r\n    }\r\n\r\n    onToggleSearch = e => {\r\n        e.preventDefault();\r\n        const search = !this.state.search;\r\n        this.setState({ search });\r\n    }\r\n\r\n    onClearSearch = e => {\r\n        e.preventDefault();\r\n        const searchValue = '';\r\n        this.setState({ searchValue });\r\n    }\r\n\r\n    render() {\r\n        const { record, records, errors, petClasses, search, searchValue, updated, deleteState } = this.state;\r\n        const { pet, connected, connectionFailed } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewPetModal-\" + pet.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewPetModalTitle-\" + pet.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewPetModalTitle-\" + pet.id}>View Pet</h5>\r\n                                {\r\n                                    connected || connectionFailed ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            placeholder=\"Please click 'Generate'\"\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.petName)}\r\n                                        type=\"text\" name=\"petName\" value={record.petName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                        type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.state.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    <select className={\"zi-10 \" + this.inputFieldClasses(errors.ownerId)}\r\n                                                    name=\"ownerId\" value={record.ownerId} onChange={this.onChangeRecord}\r\n                                                    noValidate>\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            records.length > 0 ?\r\n                                                            records.filter(row =>\r\n                                                                (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                searchValue === ''\r\n                                                            ).map(row =>\r\n                                                                <option key={row.id} value={row.id}>\r\n                                                                    {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                </option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onToggleSearch}>\r\n                                                            Search\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                                {\r\n                                                    search ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={searchValue} onChange={this.onChangeState}\r\n                                                        placeholder=\"Search by Owner Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.ownerId) }\r\n                                            </React.Fragment> :\r\n                                            this.state.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <select className={this.inputFieldClasses(errors.petClass)}\r\n                                        name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                        noValidate>\r\n                                            <option value=''>Choose one</option>\r\n                                            {\r\n                                                petClasses.length > 0 ?\r\n                                                petClasses.map(value =>\r\n                                                    <option key={value} value={value}>{value}</option>\r\n                                                ) : null\r\n                                            }\r\n                                        </select>\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                        type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                        onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                        placeholder=\"(Optional)\" noValidate />\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            this.props.connected && this.state.connected ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onReset}>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> : null\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                data-dismiss=\"modal\" onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n\r\n        this.props.onSubmitForm();\r\n        \r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deletePet.php', record)\r\n        .then(onRefresh);\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const connected = true;\r\n            this.setState({ records, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewPetModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination.js';\r\nimport AddPetModal from './AddPetModal.js';\r\nimport ViewPetModal from './ViewPetModal.js';\r\n\r\nclass PetsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (pets) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = pets.length <= recordStartIndex + recordsPerPage ?\r\n        pets.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={pets[i].id}>\r\n                    <td>{pets[i].ownerLastName + \", \" + pets[i].ownerFirstName + \" \" + pets[i].ownerMiddleName}</td>\r\n                    <td>{pets[i].petName}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{this.formatDate(pets[i].birthdate)}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{pets[i].petClass}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">\r\n                        {\r\n                            pets[i].lastVisit === null ?\r\n                            \"Not visiting yet\" :\r\n                            this.formatDate(pets[i].lastVisit)\r\n                        }\r\n                    </td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewPetModal-\" + pets[i].id}>\r\n                            <i className=\"fa fa-eye\"></i><span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { pets, onRefresh, onSearch, searchValue, onClear, connected, connectionFailed, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                        data-toggle=\"modal\" data-target=\"#addPetModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-xl-inline d-lg-none d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-xl-inline d-lg-none d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Owner Name</th>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Birthdate</th>\r\n                            <th className=\"d-none d-md-table-cell\">Pet Class</th>\r\n                            <th className=\"d-none d-sm-table-cell\">Last Visit</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            pets.length > 0 && connected ?\r\n                            this.renderItems(pets) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    pets.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={pets.length} /> : null\r\n                }\r\n                <AddPetModal onRefresh={onRefresh} onSubmitForm={onSubmitForm} />\r\n                { pets.map(pet => <ViewPetModal key={pet.id} pet={pet} onRefresh={onRefresh}\r\n                connected={connected} connectionFailed={connectionFailed} onSubmitForm={onSubmitForm} /> ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default PetsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport PetsTable from './PetsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManagePets extends Component {\r\n    state = {\r\n        pets: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {        \r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar  sourceId={3} activeId={6} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Pets</h3>\r\n                            <PetsTable pets={this.state.pets}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} connectionFailed={this.state.connectionFailed}\r\n                            onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.pets.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php')\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchPet.php?search='+searchValue)\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n \r\nexport default ManagePets;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddEmployeeModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            empType: '',\r\n            empPassword: ''\r\n        },\r\n        confirmEmpPassword: '',\r\n        errors:\r\n        {\r\n            empLastName: ' ',\r\n            empFirstName: ' ',\r\n            empMiddleName: '',\r\n            empType: ' ',\r\n            empPassword: ' ',\r\n            confirmEmpPassword: ' ',\r\n        },\r\n        empTypes: ['Admin', 'Groomer', 'Veterinarian' ],\r\n        submitError: false,\r\n        added: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"empLastName\") {\r\n            value = this.toProperCase(value);\r\n        }\r\n\r\n        if(name === \"empFirstName\" || name === \"empMiddleName\") {\r\n            value = this.toAbsProperCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmEmpPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'empLastName':\r\n                errors.empLastName= properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empFirstName':\r\n                errors.empFirstName=    properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 24 ?\r\n                                        \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empMiddleName':\r\n                errors.empMiddleName=   value.length > 24 ?\r\n                                        \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empType':\r\n                errors.empType= properLength === 0 ?\r\n                                \" \" : \"\"\r\n                break;\r\n\r\n            case 'empPassword':\r\n                errors.empPassword=         properLength === 0 ? \" \" :\r\n                                            properLength < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmEmpPassword=  value === confirmEmpPassword ? \r\n                                            confirmEmpPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmEmpPassword':\r\n                errors.confirmEmpPassword=  properLength === 0 ? \" \" :\r\n                                            value === record.empPassword ?\r\n                                            properLength < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.empLastName = this.removeLastSpace(record.empLastName);\r\n            record.empFirstName = this.removeLastSpace(record.empFirstName);\r\n            record.empMiddleName = this.removeLastSpace(record.empMiddleName);\r\n\r\n            this.props.onSubmitForm();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertEmployee.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        this.onReset();\r\n        let added = true;\r\n        const submitError = false;\r\n        this.setState({ submitError, added });\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(value.length > 0) {\r\n                    errorItems.push (\r\n                        <div key={errorItems.length}\r\n                            className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                            <span>{value}</span>\r\n                        </div>\r\n                    )\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const confirmEmpPassword = '';\r\n        const submitError = false;\r\n        const added = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.empLastName = '';\r\n        record.empFirstName = '';\r\n        record.empMiddleName = ''\r\n        record.empType = '';\r\n        record.empPassword = '';\r\n\r\n        errors.empLastName = ' ';\r\n        errors.empFirstName = ' ';\r\n        errors.empMiddleName = ''\r\n        errors.empType = '';\r\n        errors.empPassword = ' ';\r\n        errors.confirmEmpPassword = ' ';\r\n\r\n        this.setState({ record, confirmEmpPassword, errors, submitError, added });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmEmpPassword, added, empTypes } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addEmployeeModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"addEmployeeModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addEmployeeModalTitle\">Add Employee</h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    added ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                            <div className=\"input-group-append\">\r\n                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                onClick={this.onGenerateId}>\r\n                                                    Generate\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.empLastName)}\r\n                                        type=\"text\" name=\"empLastName\" value={record.empLastName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.empLastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.empFirstName)}\r\n                                        type=\"text\" name=\"empFirstName\" value={record.empFirstName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.empFirstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        <input className={this.inputFieldClasses(errors.empMiddleName)}\r\n                                        type=\"text\" name=\"empMiddleName\" value={record.empMiddleName}\r\n                                        onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        { this.renderRecordErrors(errors.empMiddleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <select className={this.inputFieldClasses(errors.empType)}\r\n                                        name=\"empType\" value={record.empType} onChange={this.onChangeRecord}\r\n                                        noValidate>\r\n                                            <option value=''>Choose one</option>\r\n                                            {\r\n                                                empTypes.length > 0 ?\r\n                                                empTypes.filter( value =>\r\n                                                    (value !== \"Admin\" && this.props.empType === \"Admin\") ||\r\n                                                    this.props.empType === \"Master Admin\"\r\n                                                ).map(value =>\r\n                                                    <option key={value} value={value}>{value}</option>\r\n                                                ) : null\r\n                                            }\r\n                                        </select>\r\n                                        { this.renderRecordErrors(errors.empType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\"></div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.empPassword)}\r\n                                        type=\"password\" name=\"empPassword\" value={record.empPassword}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.empPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.confirmEmpPassword)}\r\n                                        type=\"password\" name=\"confirmEmpPassword\" value={confirmEmpPassword}\r\n                                        onChange={this.onChangeState} noValidate />\r\n                                        { this.renderRecordErrors(errors.confirmEmpPassword) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    added ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully added.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    <button className=\"btn btn-primary w-auto mr-1\"\r\n                                    onClick={this.onSubmit}>\r\n                                        <i className=\"fa fa-sign-in-alt\"></i>\r\n                                        <span className=\"ml-1\">Submit</span>\r\n                                    </button>\r\n                                    <button className=\"btn btn-danger w-auto\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-eraser\"></i>\r\n                                        <span className=\"ml-1\">Reset</span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddEmployeeModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewEmployeeModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            empType: '',\r\n            empPassword: ''\r\n        },\r\n        confirmEmpPassword: '',\r\n        errors:\r\n        {\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            empType: '',\r\n            empPassword: '',\r\n            confirmEmpPassword: ' ',\r\n        },\r\n        empTypes: ['Admin', 'Groomer', 'Veterinarian' ],\r\n        submitError: false,\r\n        updated: false,\r\n        passwordState:\r\n        {\r\n            inputType: 'password',\r\n            buttonText: 'Show'\r\n        },\r\n        deleteState: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { employee } = this.props;\r\n        const record = {...this.state.record};\r\n\r\n        record.id = employee.id;        \r\n        record.empLastName = employee.empLastName;\r\n        record.empFirstName = employee.empFirstName;\r\n        record.empMiddleName = employee.empMiddleName;\r\n        record.empType = employee.empType;\r\n        record.empPassword = employee.empPassword;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"empLastName\") {\r\n            value = this.toProperCase(value);\r\n        }\r\n\r\n        if(name === \"empFirstName\" || name === \"empMiddleName\") {\r\n            value = this.toAbsProperCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmEmpPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'empLastName':\r\n                errors.empLastName= properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empFirstName':\r\n                errors.empFirstName=    properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 24 ?\r\n                                        \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empMiddleName':\r\n                errors.empMiddleName=   value.length > 24 ?\r\n                                        \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empType':\r\n                errors.empType= properLength === 0 ?\r\n                                \" \" : \"\"\r\n                break;\r\n\r\n            case 'empPassword':\r\n                errors.empPassword=         properLength === 0 ? \" \" :\r\n                                            properLength < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmEmpPassword=  value === confirmEmpPassword ? \r\n                                            confirmEmpPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmEmpPassword':\r\n                errors.confirmEmpPassword=  properLength === 0 ? \" \" :\r\n                                            value === record.empPassword ?\r\n                                            properLength < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.empLastName = this.removeLastSpace(record.empLastName);\r\n            record.empFirstName = this.removeLastSpace(record.empFirstName);\r\n            record.empMiddleName = this.removeLastSpace(record.empMiddleName);\r\n\r\n            this.props.onSubmitForm();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateEmployee.php', record)\r\n            .then(onRefresh, this.postSubmit());\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        let updated = true;\r\n        const submitError = false;\r\n        const confirmEmpPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmEmpPassword = ' '\r\n        this.setState({ errors, confirmEmpPassword, submitError, updated });\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(value.length > 0) {\r\n                    errorItems.push (\r\n                        <div key={errorItems.length}\r\n                            className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                            <span>{value}</span>\r\n                        </div>\r\n                    )\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const confirmEmpPassword = '';\r\n        const submitError = false;\r\n        const updated = false;\r\n\r\n        const { employee } = this.props;\r\n        \r\n        record.empLastName = employee.empLastName;\r\n        record.empFirstName = employee.empFirstName;\r\n        record.empMiddleName = employee.empMiddleName;\r\n        record.empType = employee.empType;\r\n        record.empPassword = employee.empPassword;\r\n\r\n        errors.empLastName = '';\r\n        errors.empFirstName = '';\r\n        errors.empMiddleName = ''\r\n        errors.empType = '';\r\n        errors.empPassword = '';\r\n        errors.confirmEmpPassword = ' ';\r\n\r\n        this.setState({ record, confirmEmpPassword, errors, submitError, updated });\r\n    }\r\n\r\n    onTogglePassword = e => {\r\n        e.preventDefault();\r\n        const passwordState = {...this.state.passwordState};\r\n        if(passwordState.inputType === 'password') {\r\n            passwordState.inputType = 'text';\r\n            passwordState.buttonText = 'Hide';\r\n        }\r\n        else {\r\n            passwordState.inputType = 'password';\r\n            passwordState.buttonText = 'Show';\r\n        }\r\n        this.setState({ passwordState });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmEmpPassword, updated, empTypes, passwordState, deleteState } = this.state;\r\n        const { employee, empType, connected, connectionFailed } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewEmployeeModal-\" + employee.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewEmployeeModalTitle-\" + employee.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewEmployeeModalTitle-\" + employee.id}>View Employee</h5>\r\n                                {\r\n                                    connected || connectionFailed ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.empLastName)}\r\n                                        type=\"text\" name=\"empLastName\" value={record.empLastName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.empLastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.empFirstName)}\r\n                                        type=\"text\" name=\"empFirstName\" value={record.empFirstName}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.empFirstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        <input className={this.inputFieldClasses(errors.empMiddleName)}\r\n                                        type=\"text\" name=\"empMiddleName\" value={record.empMiddleName}\r\n                                        onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        { this.renderRecordErrors(errors.empMiddleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            record.empType === empType ?\r\n                                            <input className={this.inputFieldClasses(errors.empType)}\r\n                                            name=\"empType\" value={record.empType} onChange={this.onChangeRecord}\r\n                                            noValidate disabled /> :\r\n                                            <select className={this.inputFieldClasses(errors.empType)}\r\n                                            name=\"empType\" value={record.empType} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    empTypes.length > 0 ?\r\n                                                    empTypes.filter( value =>\r\n                                                        (value !== \"Admin\" && this.props.empType === \"Admin\") ||\r\n                                                        this.props.empType === \"Master Admin\"\r\n                                                    ).map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\"></div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className={\"zi-10 \" + this.inputFieldClasses(errors.empPassword)}\r\n                                            type={passwordState.inputType} name=\"empPassword\" value={record.empPassword}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                            <div className=\"input-group-append\">\r\n                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                onClick={this.onTogglePassword}>\r\n                                                    {passwordState.buttonText}\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.empPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className={this.inputFieldClasses(errors.confirmEmpPassword)}\r\n                                        type=\"password\" name=\"confirmEmpPassword\" value={confirmEmpPassword}\r\n                                        onChange={this.onChangeState} noValidate />\r\n                                        { this.renderRecordErrors(errors.confirmEmpPassword) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    updated ? connected ?\r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record successfully updated.</span>\r\n                                    </div> : \r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n    \r\n    defaultButtons = () => {\r\n        return(\r\n            this.props.connected ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onReset}>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> : null\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                data-dismiss=\"modal\" onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n        \r\n        this.props.onSubmitForm();\r\n\r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deleteEmployee.php', record)\r\n        .then(onRefresh);\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewEmployeeModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination';\r\nimport AddEmployeeModal from './AddEmployeeModal';\r\nimport ViewEmployeeModal from './ViewEmployeeModal';\r\n\r\nclass EmployeesTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (employees) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        const { empType, id } = this.props;\r\n        let items = [];\r\n        const recordStopIndex = employees.length <= recordStartIndex + recordsPerPage ?\r\n        employees.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={employees[i].id} className=\"table-row\">\r\n                    <td>{employees[i].empLastName + \", \" + employees[i].empFirstName + \" \" + employees[i].empMiddleName}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">{employees[i].empType}</td>\r\n                    <td>\r\n                        {\r\n                            empType === 'Admin' && (employees[i].empType === 'Master Admin' ||\r\n                            (employees[i].empType === 'Admin' && employees[i].id !== id)) ?\r\n                            <button className=\"btn btn-outline-secondary btn-sm mr-1\" disabled>\r\n                                <i className=\"fa fa-eye\"></i>\r\n                                <span className=\"ml-1\">View</span>\r\n                            </button> :\r\n                            <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                            data-toggle=\"modal\" data-target={\"#viewEmployeeModal-\" + employees[i].id}>\r\n                                <i className=\"fa fa-eye\"></i>\r\n                                <span className=\"ml-1\">View</span>\r\n                            </button>\r\n                        }\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n    \r\n    render() {\r\n        const { employees, onRefresh, onSearch, searchValue, onClear, empType, connected, connectionFailed, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addEmployeeModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue} ></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Employee Name</th>\r\n                            <th className=\"d-none d-sm-table-cell\">Employee Type</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            employees.length > 0 && connected ?\r\n                            this.renderItems(employees) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    employees.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={employees.length} /> : null\r\n                }\r\n                <AddEmployeeModal onRefresh={onRefresh} empType={empType} onSubmitForm={onSubmitForm} />\r\n                { employees.map(employee => <ViewEmployeeModal key={employee.id}\r\n                employee={employee} onRefresh={onRefresh} empType={empType}\r\n                connected={connected} connectionFailed={connectionFailed} onSubmitForm={onSubmitForm} /> ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default EmployeesTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport EmployeesTable from './EmployeesTable.js';\r\nimport Footer from '../../Footer.js';\r\n\r\nclass ManageEmployees extends Component {\r\n    state = {\r\n        employees: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onBackToHome = () => {\r\n        const { history } = this.props;\r\n        const link = \"/admin\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    renderForbidden = () => {\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row min-h-full justify-content-center align-items-center\">\r\n                    <div className=\"col-10 col-md-8 col-lg-6 form-light\">\r\n                        <div className=\"alert alert-warning text-warning text-center my-3 mx-1 py-4\">\r\n                            <div className=\"d-flex justify-content-center align-items-center\">\r\n                                <i className=\"fa fa-exclamation fa-lg\"></i>\r\n                                <span className=\"ml-2\">\r\n                                    <h2 className=\"font-weight-normal\">Forbidden Access</h2>\r\n                                </span>\r\n                            </div>\r\n                            <h5 className=\"font-weight-light\">\r\n                                Please login the Master account first.\r\n                            </h5>\r\n                        </div>\r\n                        <div className=\"text-center mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                onClick={this.onBackToHome}>\r\n                                Back to Home\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        const { state } = history.location;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={3} activeId={7} history={this.props.history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Employees</h3>\r\n                            <EmployeesTable employees={this.state.employees}\r\n                            empType={state.empType} id={state.id}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} connectionFailed={this.state.connectionFailed}\r\n                            onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.employees.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : this.renderForbidden() }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const connected = true;\r\n            this.setState({ employees, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchEmployee.php?search='+searchValue)\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const connected = true;\r\n            this.setState({ employees, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManageEmployees;","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport React from 'react';\n\nimport './App.css';\n\nimport Index from './components/Index/Index.js';\n\nimport Customer from './components/Customer/Customer.js';\nimport ViewTransactions from './components/Customer/Transactions/ViewTransactions.js';\nimport ViewAdmission from './components/Customer/Admission/ViewAdmission.js';\nimport CustomerManagePets from './components/Customer/Pets/ManagePets.js';\nimport AboutUs from './components/Customer/AboutUs.js';\n\nimport Admin from './components/Admin/Admin.js';\nimport ManageTransactions from './components/Admin/Transactions/ManageTransactions.js';\nimport ManageAdmission from './components/Admin/Admission/ManageAdmission.js';\nimport ManageCustomers from './components/Admin/Customers/ManageCustomers';\nimport ManagePets from './components/Admin/Pets/ManagePets';\nimport ManageEmployees from './components/Admin/Employees/ManageEmployees.js';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/wiggly-tails\" component={Index} />\n\n        <Route exact path=\"/wiggly-tails/customer\" component={Customer} />\n        <Route path=\"/wiggly-tails/customer/view-transactions\" component={ViewTransactions} />\n        <Route path=\"/wiggly-tails/customer/view-admission\" component={ViewAdmission} />\n        <Route path=\"/wiggly-tails/customer/manage-pets\" component={CustomerManagePets} />\n        <Route path=\"/wiggly-tails/customer/about-us\" component={AboutUs} />\n\n        <Route exact path=\"/wiggly-tails/admin\" component={Admin} />\n        <Route path=\"/wiggly-tails/admin/manage-transactions\" component={ManageTransactions} />\n        <Route path=\"/wiggly-tails/admin/manage-admission\" component={ManageAdmission} />\n        <Route path=\"/wiggly-tails/admin/manage-customers\" component={ManageCustomers} />\n        <Route path=\"/wiggly-tails/admin/manage-pets\" component={ManagePets} />\n        <Route path=\"/wiggly-tails/admin/manage-employees\" component={ManageEmployees} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.js';\nimport 'bootstrap-table/dist/bootstrap-table.css';\nimport 'bootstrap-table/dist/bootstrap-table.js'\nimport 'jquery/dist/jquery.js';\nimport 'jquery/dist/jquery.slim.js';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport '@popperjs/core/dist/cjs/popper.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}