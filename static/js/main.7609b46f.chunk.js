(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{41:function(e,t,a){},42:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a(2),n=a.n(r),c=a(32),l=a.n(c),o=(a(41),a(33)),i=a(9),d=(a(42),a(4)),m=a(5),b=a(7),h=a(6),j=a(3),u=a.n(j),p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAAHfZzBgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFxEAABcRAcom8z8AAA8bSURBVEhLrVcLfE5Xtv+SfHncUK+IokIHaVTVsy2Kot4V8kKrrRZ175BKZ1pV3MnQh1f1ajFa1eioQetdr06aKvFKIhGPCEIIeUlIIvL4ki/f45z//a99vhCGjrl31u+3fuecfdZee+21117rv0y1FDysZ/TIYb3muD4NAk5Br0pAzuW98DZ7QA1OfiP0f6CdBaypQM0JxP4Ug76Du841jQsf+jFsGdAd/Gk7j/4vPIvglwbMU7PgyIZl7TIkunngifYBhqpaGh08fJ6Xl5chWZfCQ/rdkYyaGlEGxzF079IBzupDmDAhpNgkFgAXlCXCFzJiYRIrYEvHs92fhm47x/cMmKIiJ5bAloObT7eDbs/GnNlRN12aTaaI8OC7TRJ6Z1pomcnkJj+Ayv3kePJB0JBiQ8JFevUxHNy3Dk5rChxVRwH9FGxVx2lYBrSqJKVACYaHDaYxZxS/PHYEtm5eSauNb+HoP03F8eQdEDk1AfbLqOVpv38Ng158Aa0CHsPLZk840uNQWXr+brujpk8q0ez50Gvy4NQLsHjxn6E7r2HKlNdLXCJ3k59fw0ERdLMwP3sbo3UoPn5l/cwLe+Hn1xg/76W99IBiZ6JMcDekSKg5JgN0bio0WzK6d3uSdqfAXpEEXx8vw86d2xg8dFfI6IEoK0liFCXD3d0NElFzZk5ETWUKvlg6i2eopXETJ5RGWE/dPmDFtpPUnIrWAY/KYbv8p52Hh4cHn3Lgd3wqCrSaUxTU6UcVGTwVRsX69cu5iYvGmJ5FuzP5vATTrh3f3Ha6br+APr26o2lTP6XpKuMBKMCObauNDUHLhQS3xpDKDB6EgR5m5IYMpdB1Hm+MIeQiGlcMh1YEDSWInDqJJ5NHwZsiZDZE7qZeYyKC0aNHFxF43hj6DerT+6k/DBnUEx2D2iDr0h5e3V95UgcAC9l2mCYewa5NnyAgwH+ia8r9Cbjq8+Wy94Dqw+jUsS0+mjsdOVk/oSA3Tjnh77sZBtZE6JaDXISXouoI2QiJb77k4d1LgYGto6Cf5MkfxaULuxHYvg33fQZhw59HeRGtZETAnozM87EY8mIvNHzEl5f3SbRp3VyF04Gfv0PUtJfh6+052aXS9CKcpzmRt4yccGgj880z0K385kKF2aLU+HerOIHWpfBfMr95Q2W8KpU3NRkVt1LgZnIXi3sbt7OGSm9zGgYP6o2hQ56ntRd5lSX86v6vw8hUrrFamWr4tFi4u7BBoNIhdL6E5N3ssJ3GrZtp6N/vWbRs0Yxhy+i7R0a3n2XoplP5Bd4FZlX7OaaGIcq/fXhITG4X7+La8IaNGdGRiTHhw5GfzzxN5brjCpYu+hNMbm6I9PalUgl5LsQn9Rnh1bBh/SnANU6+codtV6E5spB0dBeaN2+G5o+1gNnLG4s6d0J5/fq4YXaH/UoCjiXsgZubynTCbymFdWnVlwsZIvlUmstYzEfBomhUUbiaXNygPiYHtUfSr7vUP4eDi/Ip1+ijjz4QhW6GlgdQm1YtJ+3auR6aVspJJXwWcqEbWL9uNQ+xP7/LsHf3BrRp0+p2CD0UUZsPH+PHhLxwUeqR8JjQfpkcG6MEHpYiI8c2Hzd2WHGrlk3wwYxXeZqMy8pfgAreHLlFSER10d8RPKLXZYrXM2Y9gPr0fvL90sK9aN2qmXJ4165PoalfA3UFlUJXrVJsOYTSvD0iF6Im30t9nu+02mlLhLXCyOBr13xCa5LxytghCHisGcPkOJyVh3jXD9FS4Xjo1VyAdY7ys5SSOvSMZjsGBye8+4c38OnCGYzNI/w+zOuXhF3blxuLfDufwX2M1zKRV/IIPvjjG3DnVXxr0mj531lpEtr2/UKuxlKhJ3G7LZCfHYsFcyNRXsKsIwqquWXtFJYumck03Qgt/Ztg+ttvYsa7E7iL02qxjevmy9Nk6tev+6fQTnISM45u/ATScfwwQ8fG0i1Jghy75y8YN/Yl+pOlh9tc/DHToeMUNOsxvBIxDIsXvAezu3uUae3qubbaTAOcNRQ60yh8AkcPrqWFTBryj09rhUuOrNvTmFBSlEKWcnz26X/L3DLThbTtxiSyFMDXXh2NdX9dTHBBS6yuAvgAri4/joJ8+pnuaPu7Vvh+61LWPaamO6nqDKorjW1fytxXZ/z+vGrlXLw9fQJmz/hPvPl6CHfI+ghIIa2tsExP9tO4kvkrvDzNeO65TrCUETZa6QKb8J1KrNiZCR8vT3Tr1onKmLEkb0oquzf3aUy+8nPb5q+VtZt+WGGkqzoyuu0sWfKjFGrXOK7AdPFsLD9qc2Eti8B55kG+a5dRr54vigrFxxxnlZd/Agd+2rUa0bMiqZDfnHc54xeYvlk1v+LeZKtLklVJl4JMtpIj2weysAnOIETIzjqKJzsEoiWtP7dmiVIoHPP1JxWmx1r4zwYIHeoAPIMvUVE2unTpiJEj+hPRmNGnT09iJHe0IPb4sV4DFLLQaUzSdusl8mWYze7v0UUm05YfWJfrZm47/WrPojX5GDl8APwfbYaWAS3hQ8CV3LoVnG7uyBkfzP/X0fXpDsrPLr5NXaBJxs5WrEtWZva2XU1B1sQIFAzoiZxmTeDPSaVmM6oStsGpXcPZ9P1oznGdc6mjq6HKRb4+PsSk16mQZUCYW8mjghqyhUqKnuuhrABuwekglCWy0h05LAnFMh6tlNyHIkpLWC65usNZwEMo4mleh41bk3LA/3wWKywMrQA3Sy7I2D/N4PVHBQ/JqiqnH1EBnVZr2g1lGf/xaedtykZw8NAr/H5EzfgXaGxE+KgcaT3GRIwShbkypv78G8htePv23iOHPfuZf9MG+1Z/GW3b8sNCXEpfB4eF9x5MdYpZgxQnsqeKR+bpv2Hbhg+xZuWM0gYN6u308jK/Q133Baf/H+rerVvgmR1bP8Nfls2Bt7ePcmctdwgKQCw7DWkidIsLw1aw7Kiadg8L7LQfZQU5hG3rP3S2fbz5Yep4mvx/o759O8d8GD0ZDisXdCZjyeL3lVFuhE3yHD60Dy5djMNLQ3ur7/ZtWyD12EYGnBgbD01hYqnoUnypg8VX6qZuOazGVQ2tSWDkJ2D2+6+Wm83mD2Tdh6LuXZ7440fRbzH1sBwSS8OehMMHYuDFjNqnZ1dUMv9DJ1uPsLjQAGsSSosOYiZLoTuzRz1fbyycH8nOi/804kKpeNU0ioYrAysTaCDLanUC7JYkxP/8Fb5b8yFSk9dh5nuvV9KEUMOS+1DUpDH+PboFpRTlSvJNoQfYIXCB6vJEhIwazBTGzmHvCsbaKZxMWo+Na+bxOrJU1BxVjYGzkgtrJ1CQF4dF86cjKPBxIxyeaINpb7+MnQQO13P3w8maL5U2ZmU0fDw9MHXaOKxYHo2gtq2V/FcrZqJHtw77+e4rdtUln1fGDr6hS8lVwCGJCxM8gA3E4b+pyQMHPMfEdIbVNgFF+b8i/0ocMtK+x+VzOzlHmgjxvMxPRklhPMZFvIiY1Qto+EWcTN2CLZs+x9LPZmLen6djxNABCGjljxsF3BhjGfZjKL6eiEd8fdjddISTECA8bICAPW9lnVDLlv4/lRVLjPB42K0YLMd6Bgf3r1dGjh41UHlAp0zSoTUoKzpCQ2NhEUQkHVDtPFsqcrPiMGJYL6k63Bhrqoyz+1FAh63V8YQNlJETk+6IuEQ2R6Bz9uQeDOz7DMPGhMcDmsHT07zdsJA5atP3i5UBarG6TCOzLsehXbtW5NbIy+HtdZ6BvTrVADp2wSmCY+6ZJ2wnKpNNW11Mb6PG+CfjOt+dbNl0yhm4UcATZZBGfPQ5HeMOP79G4qAI05TJoZV6zUkqJY6xcUEX61xcWDqqmK8/Vt7s1rkDruXRc2xINQFYVsE+nFtn3kMzMhinK3ghPfDF56zwXMdSdgJho1TXhlWrPmG9S8eI0H45pvBQ9psEVNJn3s1iALFSNd/p5fQzsXiqYzuloENQO0KhZbBVUwYEHnbCHyV/r47fYD0DJ5K34tFH/VC/vi+GDesPdzZu3YndrufTswJfCb3CaJ8pQvpXYirpRf+R0xWDOAz8FsUWostNG5ehb+/uymAPYo2Rw/shOZGwljhNswoQvJ+uu1n0ydNuPYc9P36Fv66Zz3DivdDYCxNIauIgtq7StJsmvRlWqvCdwmwuIPjP2E4FGhfiTi2V6fh08WxWIi+wBUb8gU1K+X3nuVgactWU6zTIQdRmv0hOM8YEEoqc2OPMQETYYKntpvDNm5ZTcS53xkm/yaJA2AVMxcPy5D9BcxvWrVCeXbBgFr8JysQYyuo1DCfBpA6B1tn0WAIT9zR4eHuq03g3jGjPRhkH9dS4mHJbNqumLEKMNDVq1GB72S16x0FYbcv8DRYQ7HqnQp3y0PMJiTJ449l0EASnpu5TC69cPp/eLkRG+j6s++4LREVORGO/hupfI/IEsyc2kc+FDIZeyhtPXXYnw4V4GFoWysvOyu3eoQx0kXdoyNAr0IjNiLz/EUgbrBP/6nbGL4/ISUPtNTno0aOTWrguu/EC1L57sNZ3bdwI7zRphLj/8EWZjy8qOH6tf084zu7nxgpx9UoCu6OFmDrlNQwe0BujXxqEto8HZHH+nWTuokeCgtoevFkkNzaHxtYB6LeBuhhIdmbBwQ3ZdQGcRLFcyGrNw42rqbh16gAy1q1EW78maEpjEuvVB61GNd9zmvuhgPGrVXGTDI+CwjPssJ5Sm/Hx8UZ4xEj8fuqbcDeb4zlWT1n1ABoze1akRRaGlkfjxGCDdWkA7MThyEP5gc3ICgzETXYQVVzERnaQNXKVpzfG8ygb8z0ueCQsm79i88+jFJ020ZENp5N3wJGHlMTdOJ36MzdajtmzpnMvpnGGGQ9BZi9z9JzZ0ysMSF5I7+URnlMxlWv0XlV6PHKipqAwdCiuvxqC3Glv4NaqJWyif6EhBfivtyYoD23Z+h3nX2c9lrnXoDnZdChmr6DnorLiKnPhaAtlH9h8PAx1Dgz83dHtW79xOh3SlLAZYefjkA5I4+IaGxZuRHdyI/SMxk0ARViyaJ4ycvz4MH6XcFzCQjZcSi8WY/u2b50dnmifIPrVKv9GIjY1RzVu3HD3mphlpVu3rsXlzGS1KFFtHbbjh43fKiO7du2MH3/cgG9jlt9q0qTxbs6XzvRfaB9Mpv8FcCANv0S/DPUAAAAASUVORK5CYII=",x=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e.onVisitFBPage=function(){window.open("https://www.facebook.com/wigglytailsvetclinic/")},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"aboutUsModal",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"aboutUsModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"aboutUsModalTitle",children:"About us"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsxs)("div",{className:"row mx-2 mt-4",children:[Object(s.jsxs)("div",{className:"col-12 pr-1",children:[Object(s.jsxs)("h5",{className:"px-2 text-center",children:["Dr. Roma Ador Dionisio-Pajarillo's (DVM)",Object(s.jsx)("br",{}),"Veterinary Clinic - Wiggly Tails"]}),Object(s.jsxs)("h6",{className:"px-3 font-weight-normal",children:[Object(s.jsx)("span",{className:"ml-4",children:"Here"})," at Wiggly Tails Veterinary Clinic, we understand the special role of your pet as another part of your family member and it is our commitment to provide quality care to make them comfortable and healthy for a lifetime. Our services and facilities are designed for routine preventive care, early detection and treatment of diseases, emergency and surgical care."]}),Object(s.jsx)("h6",{className:"px-3 text-center pb-3 bottom-border-light",children:Object(s.jsx)("b",{children:"Open from Monday to Saturday at 9:00am to 5:00pm"})})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"mb-3",children:"Offers"}),Object(s.jsx)("h6",{className:"pl-3 bottom-border-light font-weight-normal",children:Object(s.jsxs)("ul",{className:"row",children:[Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Consultation"}),Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Treatment"}),Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Vaccination"}),Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Confinement"}),Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Grooming"})]})})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"mb-3",children:"Clinic Address"}),Object(s.jsx)("h6",{className:"pl-3 font-weight-normal",children:"Santa Rosa - Tarlac Road, Brgy. Sta Cruz, Zaragoza, Nueva Ecija"}),Object(s.jsx)("div",{className:"row justify-content-center align-items-center bottom-border-light mt-3 pb-3",children:Object(s.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3845.67146241087!2d120.8062437152265!3d15.44827345988108!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3396d98621cad99f%3A0x8fe641df89530131!2sWiggly%20Tails%20Veterinary%20Clinic%20and%20Pet%20Supplies!5e0!3m2!1sen!2sph!4v1610805951302!5m2!1sen!2sph",allowfullscreen:"","aria-hidden":"false",tabindex:"0",title:"clinic-address",className:"col-12 border-0 h-400px"})})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"mb-3",children:"Contact Information"}),Object(s.jsx)("h6",{className:"pl-3 bottom-border-light font-weight-normal",children:Object(s.jsxs)("ul",{className:"list-unstyled list-lh-2",children:[Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Mobile Number: "}),"+63923-119-0591"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Gmail: "}),"wigglytailsvetclinic@gmail.com"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Facebook: "}),"@wigglytailsvetclinic",Object(s.jsx)("button",{className:"btn btn-primary btn-sm p-0 px-1 ml-1",onClick:this.onVisitFBPage,children:"Visit"})]})]})})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"mb-3",children:"Developers"}),Object(s.jsx)("h6",{className:"pl-3 bottom-border-light font-weight-normal",children:Object(s.jsxs)("ul",{className:"list-unstyled list-lh-1",children:[Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Main Developer: "}),"Casindad, Mc Allain Sanchez (BSIT Student)"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Database Source: "}),"Dr. Roma Ador Dionisio-Pajarillo (Veterinary Clinic Owner)"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Interviewer: "}),"Dela Torre, Emmanuel (BSIT Student)"]}),Object(s.jsxs)("li",{className:"d-block d-md-flex",children:[Object(s.jsx)("b",{className:"mr-2",children:"Others: "}),Object(s.jsxs)("ul",{className:"list-unstyled list-lh-1",children:[Object(s.jsx)("li",{children:"Enriquez, Ryan Andrew Tonido (BSIT Student)"}),Object(s.jsx)("li",{children:"Flores, Jaizel Ann Noble (BSIT Student)"}),Object(s.jsx)("li",{children:"Ruiz, Jehiele Jeff (BSIT Student)"})]})]})]})})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"mb-3",children:"Libraries and Frameworks"}),Object(s.jsx)("h6",{className:"pl-3 bottom-border-light font-weight-normal",children:Object(s.jsxs)("ul",{className:"list-unstyled list-lh-1",children:[Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Main Language: "}),"ReactJS (Javascript Framework)"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"CSS Library: "}),"Bootstrap"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Database: "}),"PhpMyAdmin (Php)"]}),Object(s.jsxs)("li",{className:"d-block d-md-flex",children:[Object(s.jsx)("b",{className:"mr-2",children:"Others: "}),Object(s.jsxs)("ul",{className:"list-unstyled list-lh-1",children:[Object(s.jsx)("li",{children:"Font Awesome (Font Icons)"}),Object(s.jsx)("li",{children:"Axios (API Connector)"}),Object(s.jsx)("li",{children:"JQuery (Javascript Library)"}),Object(s.jsx)("li",{children:"Developers' Customized CSS"})]})]})]})})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"mb-3",children:"Copyright \xa9 2021: Some Rights Reserved"}),Object(s.jsxs)("h6",{className:"px-3 font-weight-normal",children:[Object(s.jsx)("span",{className:"ml-4",children:"This"})," Website was developed for the purpose of University Project. Most of the content and data that has been put in this website are not originally ours but from the owner of the clinic. Owner was interviewed as a reference and source to meet the expectation of the project's actual function."]})]})]})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsxs)("button",{className:"btn btn-danger w-auto","data-dismiss":"modal",children:[Object(s.jsx)("i",{className:"fa fa-window-close"}),Object(s.jsx)("span",{className:"ml-1",children:"Close"})]})})]})})})})}}]),a}(r.Component),g=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={navs:[{id:1,text:"Login",link:null,items:[{id:2,text:"Customer",link:null},{id:3,text:"Employee",link:null}]},{id:10,text:"Register",link:null,items:[]},{id:11,text:"About us",link:null,items:[]}]},e.linkItemClasses=function(t){var a=e.props,s=a.activeId,r=a.sourceId,n="nav-link ";return n+=10===t||11===t?"btn rounded-pill text-center py-1 my-1 px-3 ":"",n+=t===s||t===r?"active":10===t?"btn-warning text-dark":11===t?"btn-primary text-light":"inactive"},e.dropdownItemClasses=function(t){var a="dropdown-item text-dark ";return a+=t===e.props.activeId?"active-dropdown":"inactive-dropdown"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.switchActiveId;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark fixed-top",children:[Object(s.jsxs)("a",{href:"/wiggly-tails",className:"navbar-brand py-0",children:[Object(s.jsx)("img",{src:p,alt:"",className:"mr-2"}),"Veterinary Clinic"]}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#main-navbar","aria-controls":"main-navbar","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"main-navbar",children:Object(s.jsx)("ul",{className:"navbar-nav ml-auto",children:this.state.navs.map((function(a){return a.items.length>0?Object(s.jsxs)("li",{className:"nav-item dropdown mr-1",children:[Object(s.jsx)("a",{className:"dropdown-toggle "+e.linkItemClasses(a.id),id:"dropdown"+a.id,href:"/","data-toggle":"dropdown",children:a.text}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdown"+a.id,children:a.items.map((function(a){return Object(s.jsx)("a",{className:e.dropdownItemClasses(a.id),href:a.link,onClick:function(){return t(a.id)},children:a.text},a.id)}))})]},a.id):Object(s.jsx)("li",{className:"nav-item mr-1",children:10===a.id?Object(s.jsx)("a",{className:e.linkItemClasses(a.id),"data-toggle":"modal","data-target":"#registrationModal",children:a.text}):11===a.id?Object(s.jsx)("a",{className:e.linkItemClasses(a.id),"data-toggle":"modal","data-target":"#aboutUsModal",children:a.text},a.id):Object(s.jsx)("a",{href:a.link,className:e.linkItemClasses(a.id),children:a.text})},a.id)}))})})]}),Object(s.jsx)(x,{})]})}}]),a}(r.Component),O=a.p+"static/media/consultation.8360a131.png",f=a.p+"static/media/treatment-vaccination.48e2ecb9.png",N=a.p+"static/media/confinement.4f112f92.png",v=a.p+"static/media/grooming.10fefb29.png",y=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{id:"index-carousel",className:"carousel slide","data-ride":"carousel",children:[Object(s.jsxs)("ul",{className:"carousel-indicators",children:[Object(s.jsx)("li",{"data-target":"#index-carousel","data-slide-to":"0",className:"active"}),Object(s.jsx)("li",{"data-target":"#index-carousel","data-slide-to":"1"}),Object(s.jsx)("li",{"data-target":"#index-carousel","data-slide-to":"2"}),Object(s.jsx)("li",{"data-target":"#index-carousel","data-slide-to":"3"})]}),Object(s.jsxs)("div",{className:"carousel-inner",children:[Object(s.jsxs)("div",{className:"carousel-item bg-dark active",children:[Object(s.jsx)("img",{className:"d-block w-100",src:O,alt:"consultation"}),Object(s.jsxs)("div",{className:"carousel-caption d-none d-md-block bg-dark-40 px-1 py-2",children:[Object(s.jsx)("h5",{children:"Consultation"}),Object(s.jsx)("p",{children:"You will find our veterinarians focusing on preventive measures to help how to maintain your pet's in great health."})]})]}),Object(s.jsxs)("div",{className:"carousel-item",children:[Object(s.jsx)("img",{className:"d-block w-100",src:f,alt:"treatment_vaccination"}),Object(s.jsxs)("div",{className:"carousel-caption d-none d-md-block bg-dark-40 px-1 py-2",children:[Object(s.jsx)("h5",{children:"Treatment and Vaccination"}),Object(s.jsx)("p",{children:"Our preventive care plans include vaccinations, parasite prevention plans, and wellness screening."})]})]}),Object(s.jsxs)("div",{className:"carousel-item",children:[Object(s.jsx)("img",{className:"d-block w-100",src:N,alt:"confinement"}),Object(s.jsxs)("div",{className:"carousel-caption d-none d-md-block bg-dark-40 px-1 py-2",children:[Object(s.jsx)("h5",{children:"Confinement"}),Object(s.jsx)("p",{children:"We can accommodate pets that needed to be confined for treatment while recovering from a disease, injury, or elective surgery."})]})]}),Object(s.jsxs)("div",{className:"carousel-item",children:[Object(s.jsx)("img",{className:"d-block w-100",src:v,alt:"grooming"}),Object(s.jsxs)("div",{className:"carousel-caption d-none d-md-block bg-dark-40 px-1 py-2",children:[Object(s.jsx)("h5",{children:"Grooming"}),Object(s.jsx)("p",{children:"By being regularly groomed, they'll be feeling, smelling, and looking their best, and of course, the cuddles from their owners after the grooming session is a win-win."})]})]})]}),Object(s.jsx)("a",{className:"carousel-control-prev text-dark",href:"#index-carousel",role:"button","data-slide":"prev",children:Object(s.jsx)("i",{className:"fa fa-arrow-left fa-lg"})}),Object(s.jsx)("a",{className:"carousel-control-next text-dark",href:"#index-carousel",role:"button","data-slide":"next",children:Object(s.jsx)("i",{className:"fa fa-arrow-right fa-lg"})})]})})}}]),a}(r.Component),C=a(8),w=a(1),S=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{emailAddress:"",email:"@yahoo.com",userPassword:""},errors:{emailAddress:"Please input your Email Address",userPassword:"Please input your Password"},submitError:!1,loginError:!1},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors);switch(s){case"emailAddress":n.emailAddress=0===r.length?"Please input your Email Address":"";break;case"userPassword":n.userPassword=0===r.length?"Please input your Password":""}e.setState({errors:n})},e.onSubmit=function(t){t.preventDefault();var a=e.props.records,s=Object(w.a)({},e.state.errors),r=Object(w.a)({},e.state.record);if(e.validForm({errors:s})){var n=!1,c=!1;e.setState({submitError:n,loginError:c});var l=a.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(r.emailAddress+r.email).toLowerCase()&&e.userPassword===r.userPassword}));if(l.length>0){var o=e.props.history;u.a.post("https://princemc.heliohost.us/veterinaryClinic/customerLogin.php",l[0]),o.replace("/wiggly-tails/customer",{verified:!0,id:l[0].id,fullName:l[0].lastName+", "+l[0].firstName})}else n=!0,c=!0,r.userPassword="",s.userPassword="Please input your Password";e.setState({record:r,errors:s,submitError:n,loginError:c})}else{e.setState({submitError:!0})}},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderLoginError=function(){if(e.state.loginError)return Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{className:"lh-0 my-1",children:"Incorrect Email Address or Password"})]})},e.onReset=function(t){t.preventDefault();var a=Object(w.a)({},e.state.record);a.emailAddress="",a.email="@yahoo.com",a.userPassword="";var s=Object(w.a)({},e.state.errors);s.emailAddress="Please input your Email Address",s.userPassword="Please input your Password";e.setState({record:a,errors:s,submitError:!1,loginError:!1})},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0&&e.state.submitError?"border border-danger":""},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors;return this.props.connected?Object(s.jsxs)("form",{className:"form-light p-5 mt-4",noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset,children:[Object(s.jsx)("h2",{className:"text-center",children:"Customer Login"}),Object(s.jsx)("h5",{className:"font-weight-normal text-center mb-4",children:"Please input your credentials."})," ",this.renderLoginError(),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Email Address"}),Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"w-xs-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),Object(s.jsxs)("select",{className:"input-group-text form-control",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress)]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Password"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.userPassword),type:"password",name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[Object(s.jsxs)("button",{type:"submit",className:"btn btn-primary w-49",children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Login"})]}),Object(s.jsxs)("button",{type:"reset",className:"btn btn-danger w-49",children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})]}):this.props.connectionFailed?Object(s.jsxs)("div",{className:"text-center text-danger",children:[Object(s.jsx)("h1",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:this.props.getData,children:"Retry"})]}):Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h1",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h3",{children:"Please wait..."})]})}}]),a}(r.Component),k=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",empLastName:"",empPassword:""},errors:{id:"Please input your ID",empLastName:"Please input your Last Name",empPassword:"Please input your Password"},submitError:!1,loginError:!1},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"id"===s&&(r=r.toUpperCase()),"empLastName"===s&&(r=e.toAbsProperCase(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors);switch(s){case"id":n.id=0===r.length?"Please input your ID":6!==r.length?"Must be at exact 6 characters":"";break;case"empLastName":n.empLastName=0===r.length?"Please input your Last Name":r.length<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empPassword":n.empPassword=0===r.length?"Please input your Password":""}e.setState({errors:n})},e.onSubmit=function(t){t.preventDefault();var a=e.props.records,s=Object(w.a)({},e.state.errors),r=Object(w.a)({},e.state.record);if(e.validForm({errors:s})){var n=!1,c=!1,l=a.filter((function(e){return e.id===r.id&&e.empLastName===r.empLastName&&e.empPassword===r.empPassword}));if(l.length>0){var o=e.props.history;u.a.post("https://princemc.heliohost.us/veterinaryClinic/employeeLogin.php",l[0]),o.replace("/wiggly-tails/admin",{verified:!0,id:l[0].id,fullName:l[0].empLastName+", "+l[0].empFirstName})}else n=!0,c=!0,r.empPassword="",s.empPassword="Please input your Password";e.setState({record:r,errors:s,submitError:n,loginError:c})}else{e.setState({submitError:!0})}},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderLoginError=function(){if(e.state.loginError)return Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{className:"lh-0 my-1",children:"Incorrect ID, Last Name or Password"})]})},e.onReset=function(t){t.preventDefault();var a=Object(w.a)({},e.state.record);a.id="",a.empLastName="",a.empPassword="";var s=Object(w.a)({},e.state.errors);s.id="Please input your ID",s.empLastName="Please input your Last Name",s.empPassword="Please input your Password";e.setState({record:a,errors:s,submitError:!1,loginError:!1})},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0&&e.state.submitError?"border border-danger":""},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors;return this.props.connected?Object(s.jsxs)("form",{className:"form-light p-5 mt-4",noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset,children:[Object(s.jsx)("h2",{className:"text-center",children:"Employee Login"}),Object(s.jsx)("h5",{className:"font-weight-normal text-center mb-4",children:"Please input your credentials."})," ",this.renderLoginError(),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"ID"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.id),type:"text",name:"id",value:t.id,maxLength:"6",onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.id)]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Last Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.empLastName),type:"text",name:"empLastName",value:t.empLastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.empLastName)]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Password"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.empPassword),type:"password",name:"empPassword",value:t.empPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.empPassword)]}),Object(s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[Object(s.jsxs)("button",{type:"submit",className:"btn btn-primary w-49",children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Login"})]}),Object(s.jsxs)("button",{type:"reset",className:"btn btn-danger w-49",children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})]}):this.props.connectionFailed?Object(s.jsxs)("div",{className:"text-center text-danger",children:[Object(s.jsx)("h1",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:this.props.getData,children:"Retry"})]}):Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h1",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h3",{children:"Please wait..."})]})}}]),a}(r.Component),P=a(11),A=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",lastName:"",firstName:"",middleName:"",homeAddress:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:"",pet:{petName:"",birthdate:"",petClass:"",lastVisit:"",pcciRegNo:""}},confirmUserPassword:"",errors:{lastName:" ",firstName:" ",middleName:"",homeAddressErrors:{lotBlock:"",street:" ",subdivision:"",barangay:" ",municipality:" ",province:""},birthdate:" ",mobileNumber:" ",emailAddress:" ",userPassword:" ",confirmUserPassword:" ",petErrors:{petName:" ",birthdate:" ",petClass:" ",pcciRegNo:""}},petClasses:["Alligator","Alpaca","Ant","Bear","Bird","Bull","Cat","Chicken","Crab","Crocodile","Deer","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Fox","Frog","Gecko","Gerbil","Giraffe","Goat","Gorilla","Grasshopper","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Jaguar","Lion","Lizard","Mantis","Monkey","Mouse","Octopus","Orangutan","Orstrich","Pig","Panda","Quill","Rabbit","Raccoon","Rat","Reindeer","Salamander","Sheep","Snake","Spider","Squirrel","Tiger","Tortoise","Turtle","Wolf","Whale","Zebra"],submitError:!1,submitted:!1,registered:!1,failed:!1},e.onGenerateId=function(){var t=Object(w.a)({},e.state.record),a=e.generateCharacters(6);t.id=a,e.setState({record:t})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(C.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"mobileNumber"!==s&&"emailAddress"!==s&&"userPassword"!==s&&(r="lastName"===s?e.toProperCase(r):e.toAbsProperCase(r)),"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors),c=Object(w.a)({},e.state.record),l=e.state.confirmUserPassword,o=e.removeSpaces(r).length;switch(s){case"lastName":n.lastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"firstName":n.firstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"middleName":n.middleName=o>24?"Must be at maximum of 24 characters":"";break;case"birthdate":n.birthdate=0===r.length?" ":"";break;case"mobileNumber":n.mobileNumber=0===r.length?" ":Object(P.isNumeric)(r)?r.length<10?"Must be at exact 10 numbers":"":"Please input a valid value";break;case"emailAddress":n.emailAddress=0===r.length?" ":r.length<8||r.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(r)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"email":n.emailAddress=0===c.emailAddress.length?" ":c.emailAddress.length<8||c.emailAddress.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(c.emailAddress)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"userPassword":n.userPassword=0===r.length?" ":e.spaceFound(r)?"Password must not have spacing":r.length<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmUserPassword=r===l?l.length<12||e.spaceFound(r)?" ":"":"Passwords do not match";break;case"confirmUserPassword":n.confirmUserPassword=0===r.length?" ":r===c.userPassword?r.length<12||e.spaceFound(r)?" ":"":"Passwords do not match"}e.setState({errors:n})},e.emailAddressExists=function(){var t=e.state.record;return e.props.customers.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(t.emailAddress+t.email).toLowerCase()})).length>0},e.isValidEmail=function(e){return new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/).test(e)},e.onChangeHomeAddress=function(t){var a=t.target,s=a.name,r=a.value;r=e.toProperCase(r),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{homeAddress:Object(w.a)(Object(w.a)({},e.record.homeAddress),{},Object(C.a)({},s,r))})})}),(function(){return e.onCheckHomeAddressErrors(t)}))},e.onCheckHomeAddressErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors.homeAddressErrors),c=e.removeSpaces(r).length;switch(s){case"lotBlock":n.lotBlock=r.length>12?"Lot/Block must be at maximum of 12 characters":"";break;case"street":n.street=0===c?" ":c<2||r.length>24?"Street must be at between 2 and 24 characters":"";break;case"subdivision":n.subdivision=r.length>24?"Subdivision must be at maximum of 24 characters":"";break;case"barangay":n.barangay=0===c?" ":c<2||r.length>24?"Barangay must be at between 2 and 24 characters":"";break;case"municipality":n.municipality=0===c?" ":c<2||r.length>24?"Municipality must be at between 2 and 24 characters":"";break;case"province":n.province=r.length>24?"Province must be at maximum of 24 characters":""}e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{errors:Object(w.a)(Object(w.a)({},e.errors),{},{homeAddressErrors:n})})}))},e.onChangePet=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{pet:Object(w.a)(Object(w.a)({},e.record.pet),{},Object(C.a)({},s,r))})})}),(function(){return e.onCheckPetErrors(t)}))},e.onCheckPetErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors.petErrors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length<6&&0!==r.length?"Must be at exact 6 characters":""}e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{errors:Object(w.a)(Object(w.a)({},e.errors),{},{petErrors:n})})}),(function(){return console.log(e.state)}))},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.getData,s=Object(w.a)({},e.state.record);s.lastName=e.removeLastSpace(s.lastName),s.firstName=e.removeLastSpace(s.firstName),s.middleName=e.removeLastSpace(s.middleName),s.homeAddress.lotBlock=e.removeLastSpace(s.homeAddress.lotBlock),s.homeAddress.street=e.removeLastSpace(s.homeAddress.street),s.homeAddress.subdivision=e.removeLastSpace(s.homeAddress.subdivision),s.homeAddress.barangay=e.removeLastSpace(s.homeAddress.barangay),s.homeAddress.municipality=e.removeLastSpace(s.homeAddress.municipality),s.homeAddress.province=e.removeLastSpace(s.homeAddress.province),s.pet.petName=e.removeLastSpace(s.pet.petName);var r=[];r.push("+63"+s.mobileNumber.substring(0,3)),r.push(s.mobileNumber.substring(3,6)),r.push(s.mobileNumber.substring(6,10)),s.mobileNumber=r.join("-"),e.props.onRegister(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/insertCustomerPet.php",s).then((function(){a(),e.onReset(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=!0;e.setState({submitted:!1,registered:t}),setTimeout((function(){t=!1,e.setState({registered:t})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),Object.values(t.homeAddressErrors).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(t){e.isObject(t)?Object.values(t).forEach((function(t){e.isObject(t)||t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})):t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.isObject=function(e){return e instanceof Object},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderHomeAddressErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&" "!==e&&a.push(Object(s.jsxs)("small",{className:"text-danger ml-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),e]}))})),[a]}},e.onReset=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.record.homeAddress),s=Object(w.a)({},e.state.record.pet),r=Object(w.a)({},e.state.errors),n=Object(w.a)({},e.state.errors.homeAddressErrors),c=Object(w.a)({},e.state.errors.petErrors);a.lotBlock="",a.street="",a.subdivision="",a.barangay="",a.municipality="",a.province="",s.petName="",s.birthdate="",s.petClass="",s.pcciRegNo="",t.id=e.generateCharacters(6),t.lastName="",t.firstName="",t.middleName="",t.homeAddress=a,t.birthdate="",t.mobileNumber="",t.emailAddress="",t.email="@yahoo.com",t.userPassword="",t.pet=s,n.lotBlock="",n.street=" ",n.subdivision="",n.barangay=" ",n.municipality=" ",n.province="",c.petName=" ",c.birthdate=" ",c.petClass=" ",r.lastName=" ",r.firstName=" ",r.middleName="",r.homeAddressErrors=n,r.birthdate=" ",r.mobileNumber=" ",r.emailAddress=" ",r.userPassword=" ",r.confirmUserPassword=" ",e.setState({record:t,confirmUserPassword:"",errors:r,submitError:!1,registered:!1,failed:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.removeMultipleSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "===e.charAt(a)?0!==a&&" "!==e.charAt(a-1)&&(t+=e.charAt(a)):t+=e.charAt(a);return t},e.spaceFound=function(e){return!!e.match(" ")},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmUserPassword,c=e.petClasses,l=e.submitted,o=e.registered,i=e.failed,d=t.homeAddress,m=t.pet,b=a.homeAddressErrors,h=a.petErrors;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"registrationModal",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"registrationModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"registrationModalTitle",children:"Register"}),l?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[l?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Registering an account..."})]}):o?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Account was successfully registered."})]}):i?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"ID"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0}),l?null:Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"lastName",value:t.lastName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.lastName),type:"text",name:"lastName",value:t.lastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.lastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.firstName),type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.firstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"middleName",value:t.middleName,placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.middleName),type:"text",name:"middleName",value:t.middleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.middleName)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Home Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"row mx-0",children:[Object(s.jsx)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"lotBlock",value:d.lotBlock,placeholder:"Lot/Block (Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.lotBlock),type:"text",name:"lotBlock",value:d.lotBlock,onChange:this.onChangeHomeAddress,placeholder:"Lot/Block (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:[l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"street",value:d.street,placeholder:"Street",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.street),type:"text",name:"street",value:d.street,onChange:this.onChangeHomeAddress,placeholder:"Street",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"St."})})]}),Object(s.jsx)("div",{className:"col-lg-6 input-group px-0",children:l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"subdivision",value:d.subdivision,placeholder:"Subdivision (Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.subdivision),type:"text",name:"subdivision",value:d.subdivision,onChange:this.onChangeHomeAddress,placeholder:"Subdivision (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("div",{className:"input-group-prepend",children:Object(s.jsx)("span",{className:"input-group-text",children:"Brgy."})}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"barangay",value:d.barangay,placeholder:"Barangay",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.barangay),type:"text",name:"barangay",value:d.barangay,onChange:this.onChangeHomeAddress,placeholder:"Barangay",noValidate:!0})]}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"municipality",value:d.municipality,placeholder:"Municipality",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.municipality),type:"text",name:"municipality",value:d.municipality,onChange:this.onChangeHomeAddress,placeholder:"Municipality",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"City"})})]}),Object(s.jsx)("div",{className:"col-lg-4 input-group px-0",children:l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"province",value:d.province,placeholder:"Province (Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.province),type:"text",name:"province",value:d.province,onChange:this.onChangeHomeAddress,placeholder:"Province (Optional)",noValidate:!0})})]})," ",this.renderHomeAddressErrors(b)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"date",name:"birthdate",value:t.birthdate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Mobile Number",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("span",{className:"input-group-text",children:"+63"}),l?Object(s.jsx)("input",{className:"form-control",type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.mobileNumber),type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0})]}),this.renderRecordErrors(a.mobileNumber)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Email Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[l?Object(s.jsx)("input",{className:"w-xs-100 form-control",type:"text",name:"emailAddress",value:t.emailAddress,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"w-xs-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),l?Object(s.jsxs)("select",{className:"input-group-text form-control",name:"email",value:t.email,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]}):Object(s.jsxs)("select",{className:"input-group-text form-control",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress),Object(s.jsx)("div",{children:Object(s.jsxs)("small",{className:"text-success ml-2",children:[Object(s.jsx)("i",{className:"fa fa-info-circle mr-1"}),Object(s.jsx)("span",{children:"Valid Symbols:\xa0"}),Object(s.jsx)("span",{children:"!#$%^&*.?_-"})]})})]}):this.props.connectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.getData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"password",name:"userPassword",value:t.userPassword,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.userPassword),type:"password",name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"password",name:"confirmUserPassword",value:r,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmUserPassword),type:"password",name:"confirmUserPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmUserPassword)]}),Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsxs)("div",{className:"row mt-3",children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Name ",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"petName",value:m.petName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(h.petName),type:"text",name:"petName",value:m.petName,onChange:this.onChangePet,noValidate:!0}),this.renderRecordErrors(h.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"date",name:"birthdate",value:m.birthdate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(h.birthdate),type:"date",name:"birthdate",value:m.birthdate,onChange:this.onChangePet,noValidate:!0}),this.renderRecordErrors(h.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsxs)("select",{className:"form-control",name:"petClass",value:m.petClass,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}):Object(s.jsxs)("select",{className:this.inputFieldClasses(h.petClass),name:"petClass",value:m.petClass,onChange:this.onChangePet,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(h.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"pcciRegNo",value:m.pcciRegNo,maxLength:"6",placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(h.pcciRegNo),type:"text",name:"pcciRegNo",value:m.pcciRegNo,onChange:this.onChangePet,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(h.pcciRegNo)]})]})})]}),l?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Registering an account..."})]}):o?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Account was successfully registered."})]}):i?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:this.props.connected&&!l?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})})]})})})})}}]),a}(r.Component),F=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"bg-dark text-light w-100 fixed-bottom",children:Object(s.jsx)("p",{className:"m-0 p-0 text-right small my-1 mr-3",children:"Copyright \xa9 2021: Some Rights Reserved"})})}}]),a}(r.Component),R=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={activeId:2,customers:[],customerConnected:!1,customerConnectionFailed:!1,employees:[],employeeConnected:!1,employeeConnectionFailed:!1},e.componentDidMount=function(){e.getCustomersData(),e.getEmployeesData()},e.retryCustomersData=function(){e.getCustomersData(),e.onRegister()},e.retryEmployeesData=function(){e.getEmployeesData();e.setState({employeeConnected:!1,employeeConnectionFailed:!1})},e.onRegister=function(){e.setState({customerConnected:!1,customerConnectionFailed:!1})},e.switchActiveId=function(t){var a=t;e.setState({activeId:a})},e.getCustomersData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({customers:a,customerConnected:!0})})).catch((function(t){console.log(t);e.setState({customerConnectionFailed:!0})}))},e.getEmployeesData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({employees:a,employeeConnected:!0})})).catch((function(t){console.log(t);e.setState({employeeConnectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(g,{activeId:this.state.activeId,sourceId:1,switchActiveId:this.switchActiveId}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"h-full row bg-warning justify-content-center text-dark",children:[Object(s.jsx)("div",{className:"col-lg-7 d-lg-inline d-none align-self-center",children:Object(s.jsx)(y,{})}),Object(s.jsx)("div",{className:"col-lg-5 bg-light",children:Object(s.jsx)("div",{className:"row h-full justify-content-center align-items-center",children:Object(s.jsx)("div",{className:"col-sm-10 col-md-8 col-lg-12",children:2===this.state.activeId?Object(s.jsx)(S,{history:this.props.history,records:this.state.customers,connected:this.state.customerConnected,connectionFailed:this.state.customerConnectionFailed,getData:this.retryCustomersData}):Object(s.jsx)(k,{history:this.props.history,records:this.state.employees,connected:this.state.employeeConnected,connectionFailed:this.state.employeeConnectionFailed,getData:this.retryEmployeesData})})})})]})}),Object(s.jsx)(A,{customers:this.state.customers,onRegister:this.onRegister,getData:this.retryCustomersData,connected:this.state.customerConnected,connectionFailed:this.state.customerConnectionFailed}),Object(s.jsx)(F,{})]})}}]),a}(r.Component),I=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={record:{id:"",fullName:""},navs:[{id:0,text:"Account",link:"/wiggly-tails/customer",items:[]},{id:1,text:"Transactions",link:"/wiggly-tails/customer/view-transactions",items:[]},{id:2,text:"Pets",link:"/wiggly-tails/customer/manage-pets",items:[]},{id:3,text:"About us",link:null,items:[]},{id:10,text:"Log out",link:"/wiggly-tails",items:[]}]},e.onClickLink=function(t){var a=e.props.history,s=t.link;a.replace(s,Object(w.a)({},a.location.state))},e.onClickBrand=function(){var t=e.props.history;t.replace("/wiggly-tails/customer",Object(w.a)({},t.location.state))},e.onClickSignOut=function(t){var a=e.props.history,s=e.state,r=t.link;u.a.post("https://princemc.heliohost.us/veterinaryClinic/customerLogout.php",s),a.replace(r)},e.componentDidMount=function(){var t=e.props.history,a=e.state;a.id=t.location.state.id,a.fullName=t.location.state.fullName,e.setState({record:a})},e.linkItemClasses=function(t){var a=e.props,s=a.activeId,r=a.sourceId,n="nav-link ";return n+=10===t||3===t?"btn rounded-pill text-center text-light py-1 my-1 px-3 ":"",n+=t===s||t===r?"active":10===t?"btn-danger":3===t?"btn-primary":"inactive"},e.dropdownItemClasses=function(t){var a="dropdown-item ";return a+=7===t?"text-danger ":"text-dark ",a+=t===e.props.activeId?"active-dropdown":"inactive-dropdown"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark fixed-top",children:[Object(s.jsxs)("a",{onClick:this.onClickBrand,className:"navbar-brand py-0",children:[Object(s.jsx)("img",{src:p,alt:"",className:"mr-2"}),"Veterinary Clinic"]}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#customer-navbar","aria-controls":"customer-navbar","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"customer-navbar",children:Object(s.jsx)("ul",{className:"navbar-nav ml-auto",children:this.state.navs.map((function(t){return t.items.length>0?Object(s.jsxs)("li",{className:"nav-item dropdown mr-1",children:[Object(s.jsx)("a",{className:"dropdown-toggle "+e.linkItemClasses(t.id),id:"dropdown"+t.id,href:t.link,"data-toggle":"dropdown",children:t.text}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdown"+t.id,children:t.items.map((function(t){return 7===t.id?Object(s.jsx)("a",{className:e.dropdownItemClasses(t.id),"data-toggle":"modal","data-target":"#manageEmployeesModal",children:t.text},t.id):Object(s.jsx)("a",{className:e.dropdownItemClasses(t.id),onClick:function(){return e.onClickLink(t)},children:t.text},t.id)}))})]},t.id):Object(s.jsx)("li",{className:"nav-item mr-1",children:10===t.id?Object(s.jsx)("a",{onClick:function(){return e.onClickSignOut(t)},className:e.linkItemClasses(t.id),children:t.text}):3===t.id?Object(s.jsx)("a",{className:e.linkItemClasses(t.id),"data-toggle":"modal","data-target":"#aboutUsModal",children:t.text},t.id):Object(s.jsx)("a",{onClick:function(){return e.onClickLink(t)},className:e.linkItemClasses(t.id),children:t.text})},t.id)}))})})]}),Object(s.jsx)(x,{})]})}}]),a}(r.Component),E=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",lastName:"",firstName:"",middleName:"",homeAddress:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:""},confirmUserPassword:"",errors:{lastName:"",firstName:"",middleName:"",homeAddressErrors:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",userPassword:"",confirmUserPassword:" "},passwordState:{inputType:"password",buttonText:"Show"},submitError:!1,submitted:!1,updated:!1,failed:!1},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(C.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"mobileNumber"!==s&&"emailAddress"!==s&&"userPassword"!==s&&(r="lastName"===s?e.toProperCase(r):e.toAbsProperCase(r)),"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors),c=Object(w.a)({},e.state.record),l=e.state.confirmUserPassword,o=e.removeSpaces(r).length;switch(s){case"lastName":n.lastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"firstName":n.firstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"middleName":n.middleName=o>24?"Must be at maximum of 24 characters":"";break;case"birthdate":n.birthdate=0===r.length?" ":"";break;case"mobileNumber":n.mobileNumber=0===r.length?" ":Object(P.isNumeric)(r)?r.length<10?"Must be at exact 10 numbers":"":"Please input a valid value";break;case"emailAddress":n.emailAddress=0===r.length?" ":r.length<8||r.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(r)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"email":n.emailAddress=0===c.emailAddress.length?" ":c.emailAddress.length<8||c.emailAddress.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(c.emailAddress)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"userPassword":n.userPassword=0===r.length?" ":e.spaceFound(r)?"Password must not have spacing":r.length<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmUserPassword=r===l?l.length<12||e.spaceFound(r)?" ":"":"Passwords do not match";break;case"confirmUserPassword":n.confirmUserPassword=0===r.length?" ":r===c.userPassword?r.length<12||e.spaceFound(r)?" ":"":"Passwords do not match"}e.setState({errors:n})},e.emailAddressExists=function(){var t=e.state.record,a=e.props,s=a.customer;return a.records.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(t.emailAddress+t.email).toLowerCase()&&(e.emailAddress+e.email).toLowerCase()!==(s.emailAddress+s.email).toLowerCase()})).length>0},e.isValidEmail=function(e){return new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/).test(e)},e.onChangeHomeAddress=function(t){var a=t.target,s=a.name,r=a.value;r=e.toProperCase(r),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{homeAddress:Object(w.a)(Object(w.a)({},e.record.homeAddress),{},Object(C.a)({},s,r))})})}),(function(){return e.onCheckHomeAddressErrors(t)}))},e.onCheckHomeAddressErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors.homeAddressErrors),c=e.removeSpaces(r).length;switch(s){case"lotBlock":n.lotBlock=r.length>12?"Lot/Block must be at maximum of 12 characters":"";break;case"street":n.street=0===c?" ":c<2||r.length>24?"Street must be at between 2 and 24 characters":"";break;case"subdivision":n.subdivision=r.length>24?"Subdivision must be at maximum of 24 characters":"";break;case"barangay":n.barangay=0===c?" ":c<2||r.length>24?"Barangay must be at between 2 and 24 characters":"";break;case"municipality":n.municipality=0===c?" ":c<2||r.length>24?"Municipality must be at between 2 and 24 characters":"";break;case"province":n.province=r.length>24?"Province must be at maximum of 24 characters":""}e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{errors:Object(w.a)(Object(w.a)({},e.errors),{},{homeAddressErrors:n})})}))},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(w.a)({},e.state.record);s.lastName=e.removeLastSpace(s.lastName),s.firstName=e.removeLastSpace(s.firstName),s.middleName=e.removeLastSpace(s.middleName),s.homeAddress.lotBlock=e.removeLastSpace(s.homeAddress.lotBlock),s.homeAddress.street=e.removeLastSpace(s.homeAddress.street),s.homeAddress.subdivision=e.removeLastSpace(s.homeAddress.subdivision),s.homeAddress.barangay=e.removeLastSpace(s.homeAddress.barangay),s.homeAddress.municipality=e.removeLastSpace(s.homeAddress.municipality),s.homeAddress.province=e.removeLastSpace(s.homeAddress.province);var r=[];r.push("+63"+s.mobileNumber.substring(0,3)),r.push(s.mobileNumber.substring(3,6)),r.push(s.mobileNumber.substring(6,10)),s.mobileNumber=r.join("-"),"text"===e.state.passwordState.inputType&&e.onTogglePassword(),e.props.onSubmitForm(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/updateCustomer.php",s).then((function(){a(),e.props.retryCustomersData(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=Object(w.a)({},e.state.errors);t.confirmUserPassword=" ";var a=!0;e.setState({errors:t,confirmUserPassword:"",submitted:!1,updated:a}),setTimeout((function(){a=!1,e.setState({updated:a})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),Object.values(t.homeAddressErrors).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(t){e.isObject(t)?Object.values(t).forEach((function(t){e.isObject(t)||t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})):t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.isObject=function(e){return e instanceof Object},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderHomeAddressErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&" "!==e&&a.push(Object(s.jsxs)("small",{className:"text-danger ml-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),e]}))})),[a]}},e.onReset=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.record.homeAddress),s=Object(w.a)({},e.state.errors),r=Object(w.a)({},e.state.errors.homeAddressErrors),n=e.props.customer,c=e.state.passwordState;c.buttonText="Show",c.inputType="password",a.lotBlock=n.lotBlock,a.street=n.street.substring(0,n.street.length-4),a.subdivision=n.subdivision,a.barangay=n.barangay.substring(6,n.barangay.length),a.municipality=n.municipality.substring(0,n.municipality.length-5),a.province=n.province,t.lastName=n.lastName,t.firstName=n.firstName,t.middleName=n.middleName,t.homeAddress=a,t.birthdate=n.birthdate;var l=n.mobileNumber.split("-");l=(l=l.join("")).substring(3,l.length),t.mobileNumber=l,t.emailAddress=n.emailAddress,t.email=n.email,t.userPassword=n.userPassword,r.lotBlock="",r.street="",r.subdivision="",r.barangay="",r.municipality="",r.province="",s.lastName="",s.firstName="",s.middleName="",s.homeAddressErrors=r,s.birthdate="",s.mobileNumber="",s.emailAddress="",s.userPassword="",s.confirmUserPassword=" ",e.setState({record:t,confirmUserPassword:"",errors:s,passwordState:c,submitError:!1,updated:!1,failed:!1})},e.onTogglePassword=function(){var t=Object(w.a)({},e.state.passwordState);"password"===t.inputType?(t.inputType="text",t.buttonText="Hide"):(t.inputType="password",t.buttonText="Show"),e.setState({passwordState:t})},e.defaultButtons=function(){return e.props.connected&&!e.state.submitted?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.removeMultipleSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "===e.charAt(a)?0!==a&&" "!==e.charAt(a-1)&&(t+=e.charAt(a)):t+=e.charAt(a);return t},e.spaceFound=function(e){return!!e.match(" ")},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.customer,t=Object(w.a)({},this.state.record);t.id=e.id,t.lastName=e.lastName,t.firstName=e.firstName,t.middleName=e.middleName,t.homeAddress.lotBlock=e.lotBlock,t.homeAddress.street=e.street.substring(0,e.street.length-4),t.homeAddress.subdivision=e.subdivision,t.homeAddress.barangay=e.barangay.substring(6,e.barangay.length),t.homeAddress.municipality=e.municipality.substring(0,e.municipality.length-5),t.homeAddress.province=e.province,t.birthdate=e.birthdate;var a=e.mobileNumber.split("-");a=(a=a.join("")).substring(3,a.length),t.mobileNumber=a,t.emailAddress=e.emailAddress,t.email=e.email,t.userPassword=e.userPassword,this.setState({record:t})}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmUserPassword,c=e.passwordState,l=e.deleteState,o=e.submitted,i=e.updated,d=e.failed,m=this.state.record.homeAddress,b=a.homeAddressErrors;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"updateAccountInfoModal",tabIndex:"-1",role:"dialog","aria-labelledby":"updateAccountInfoModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"updateAccountInfoModalTitle",children:"Account Info"}),o?null:Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[o?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating an Account Info..."})]}):i?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Account Info was successfully updated."})]}):d?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"ID"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),o?Object(s.jsx)("input",{className:"form-control",type:"text",name:"lastName",value:t.lastName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.lastName),type:"text",name:"lastName",value:t.lastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.lastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),o?Object(s.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:t.firstName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.firstName),type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.firstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),o?Object(s.jsx)("input",{className:"form-control",type:"text",name:"middleName",value:t.middleName,placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.middleName),type:"text",name:"middleName",value:t.middleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.middleName)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Home Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"row mx-0",children:[Object(s.jsx)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:o?Object(s.jsx)("input",{className:"form-control",type:"text",name:"lotBlock",value:m.lotBlock,placeholder:"Lot/Block (Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.lotBlock),type:"text",name:"lotBlock",value:m.lotBlock,onChange:this.onChangeHomeAddress,placeholder:"Lot/Block (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:[o?Object(s.jsx)("input",{className:"form-control",type:"text",name:"street",value:m.street,placeholder:"Street",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.street),type:"text",name:"street",value:m.street,onChange:this.onChangeHomeAddress,placeholder:"Street",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"St."})})]}),Object(s.jsx)("div",{className:"col-lg-6 input-group px-0",children:o?Object(s.jsx)("input",{className:"form-control",type:"text",name:"subdivision",value:m.subdivision,placeholder:"Subdivision (Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.subdivision),type:"text",name:"subdivision",value:m.subdivision,onChange:this.onChangeHomeAddress,placeholder:"Subdivision (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("div",{className:"input-group-prepend",children:Object(s.jsx)("span",{className:"input-group-text",children:"Brgy."})}),o?Object(s.jsx)("input",{className:"form-control",type:"text",name:"barangay",value:m.barangay,placeholder:"Barangay",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.barangay),type:"text",name:"barangay",value:m.barangay,onChange:this.onChangeHomeAddress,placeholder:"Barangay",noValidate:!0})]}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[o?Object(s.jsx)("input",{className:"form-control",type:"text",name:"municipality",value:m.municipality,placeholder:"Municipality",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.municipality),type:"text",name:"municipality",value:m.municipality,onChange:this.onChangeHomeAddress,placeholder:"Municipality",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"City"})})]}),Object(s.jsx)("div",{className:"col-lg-4 input-group px-0",children:o?Object(s.jsx)("input",{className:"form-control",type:"text",name:"province",value:m.province,placeholder:"Province (Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.province),type:"text",name:"province",value:m.province,onChange:this.onChangeHomeAddress,placeholder:"Province (Optional)",noValidate:!0})})]})," ",this.renderHomeAddressErrors(b)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),o?Object(s.jsx)("input",{className:"form-control",type:"date",name:"birthdate",value:t.birthdate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Mobile Number",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("span",{className:"input-group-text",children:"+63"}),o?Object(s.jsx)("input",{className:"form-control",type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.mobileNumber),type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0})]}),this.renderRecordErrors(a.mobileNumber)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Email Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[o?Object(s.jsx)("input",{className:"w-xs-100 form-control",type:"text",name:"emailAddress",value:t.emailAddress,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"w-xs-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),o?Object(s.jsxs)("select",{className:"input-group-text form-control",name:"email",value:t.email,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]}):Object(s.jsxs)("select",{className:"input-group-text form-control",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress),Object(s.jsx)("div",{children:Object(s.jsxs)("small",{className:"text-success ml-2",children:[Object(s.jsx)("i",{className:"fa fa-info-circle mr-1"}),Object(s.jsx)("span",{children:"Valid Symbols:\xa0"}),Object(s.jsx)("span",{children:"!#$%^&*.?_-"})]})})]}):this.props.connectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.retryCustomersData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("div",{className:"input-group",children:o?Object(s.jsx)("input",{className:"zi-10 form-control",type:c.inputType,name:"userPassword",value:t.userPassword,noValidate:!0,disabled:!0}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("input",{className:"zi-10 "+this.inputFieldClasses(a.userPassword),type:c.inputType,name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePassword,children:c.buttonText})})]})})," ",this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),o?Object(s.jsx)("input",{className:"form-control",type:"password",name:"confirmUserPassword",value:r,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmUserPassword),type:"password",name:"confirmUserPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmUserPassword)]})]}),o?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating an Account Info..."})]}):i?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Account Info was successfully updated."})]}):d?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:l?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),D=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e.onBackToLogin=function(){e.props.history.replace("/wiggly-tails",{verified:!0})},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center",children:Object(s.jsxs)("div",{className:"col-10 col-md-8 col-lg-6 form-light",children:[Object(s.jsxs)("div",{className:"alert alert-warning text-warning text-center my-3 mx-1 py-4",children:[Object(s.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(s.jsx)("i",{className:"fa fa-exclamation fa-lg"}),Object(s.jsx)("span",{className:"ml-2",children:Object(s.jsx)("h2",{className:"font-weight-normal",children:"Forbidden Access"})})]}),Object(s.jsx)("h5",{className:"font-weight-light",children:"Please login your Customer account first."})]}),Object(s.jsx)("div",{className:"text-center mb-3",children:Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:this.onBackToLogin,children:"Back to Login"})})]})})})}}]),a}(r.Component),V=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",lastName:"",firstName:"",middleName:"",lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:"",birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:""},connected:!1,connectionFailed:!1,records:[],customerConnected:!1,customerConnectionFailed:!1},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){var t=e.props.history.location.state.id;e.searchData(t),e.onSubmitForm()},e.onClickLink=function(t){var a=e.props.history;a.replace(t,Object(w.a)({},a.location.state))},e.componentDidMount=function(){var t=e.state.record;try{e.onRefresh(),e.getCustomersData()}catch(a){t.id=""}},e.renderContent=function(){var t=e.props.history,a=e.state,r=a.record,c=a.connected,l=a.connectionFailed;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(I,{activeId:0,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center pt-5 pt-md-3 pt-xl-0",children:Object(s.jsx)("div",{className:"col-11 col-sm-10 col-md-8 col-lg-6 form-light my-5",children:Object(s.jsxs)("div",{className:"row mx-2 mt-4",children:[c?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"col-4 col-sm-3 d-flex justify-content-center align-items-center p-0",children:Object(s.jsx)("div",{className:"square-100px bg-warning d-flex justify-content-center align-items-center",children:Object(s.jsx)("h4",{className:"m-0",children:r.id})})}),Object(s.jsxs)("div",{className:"col-8 col-sm-9 py-3 pr-1",children:[Object(s.jsx)("h2",{className:"mb-0",children:r.lastName}),Object(s.jsx)("h5",{className:"pl-3 pb-2 bottom-border-light font-weight-normal",children:r.firstName+" "+r.middleName})]}),Object(s.jsxs)("div",{className:"col-12 py-3 pl-md-5 pr-1",children:[Object(s.jsx)("h5",{className:"mb-1",children:"Home Address"}),Object(s.jsx)("h6",{className:"pl-3 pb-2 bottom-border-light font-weight-normal",children:e.formatHomeAddress(r)})]}),Object(s.jsxs)("div",{className:"col-12 py-3 pl-md-5 pr-1",children:[Object(s.jsx)("h5",{className:"mb-1",children:"Birthdate"}),Object(s.jsx)("h6",{className:"pl-3 pb-2 bottom-border-light font-weight-normal",children:e.formatDate(r.birthdate)})]}),Object(s.jsxs)("div",{className:"col-12 col-md-5 col-lg-6 col-xl-5 py-3 pl-md-5 pr-1",children:[Object(s.jsx)("h5",{className:"mb-1",children:"Mobile Number"}),Object(s.jsx)("h6",{className:"pl-3 pb-2 bottom-border-light font-weight-normal",children:r.mobileNumber})]}),Object(s.jsxs)("div",{className:"col-12 col-md-7 col-lg-6 col-xl-7 py-3 pr-1",children:[Object(s.jsx)("h5",{className:"mb-1",children:"Email Address"}),Object(s.jsx)("h6",{className:"pl-3 pb-2 bottom-border-light font-weight-normal",children:r.emailAddress+""+r.email})]})]}):l?Object(s.jsxs)("div",{className:"col-12 text-center text-danger",children:[Object(s.jsx)("h3",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h5",{className:"mb-3",children:"Please try again later"}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h5",{children:"Please wait..."})]}),Object(s.jsxs)("div",{className:"d-flex justify-content-end w-100 my-3",children:[Object(s.jsxs)("button",{className:"btn btn-warning w-auto mr-1",onClick:function(){return e.onClickLink("/wiggly-tails/customer/view-transactions")},children:[Object(s.jsx)("i",{className:"fa fa-exchange-alt"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Transactions"})]}),Object(s.jsxs)("button",{className:"btn btn-secondary w-auto mr-1",onClick:function(){return e.onClickLink("/wiggly-tails/customer/manage-pets")},children:[Object(s.jsx)("i",{className:"fa fa-cat"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Pets"})]}),c?Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1","data-toggle":"modal","data-target":"#updateAccountInfoModal",children:[Object(s.jsx)("i",{className:"fa fa-user-edit fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update Info"})]}):null]})]})})})}),r.id.length>0?Object(s.jsx)(E,{customer:r,onRefresh:e.onRefresh,records:e.state.records,connected:e.state.customerConnected,connectionFailed:e.state.customerConnectionFailed,onSubmitForm:e.onSubmitForm,retryCustomersData:e.retryCustomersData}):null,Object(s.jsx)(F,{})]})},e.searchData=function(t){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewAccountInfo.php?search="+t).then((function(t){var a=t.data;a=a[0],e.setState({record:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.retryCustomersData=function(){e.getCustomersData();e.setState({customerConnected:!1,customerConnectionFailed:!1})},e.getCustomersData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,customerConnected:!0})})).catch((function(t){console.log(t);e.setState({customerConnectionFailed:!0})}))},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e.formatHomeAddress=function(e){var t="";return t+=e.lotBlock.length>0?e.lotBlock+" ":"",t+=e.street.length>0?e.street+", ":"",t+=e.subdivision.length>0?e.subdivision+", ":"",t+=e.barangay.length>0?e.barangay+", ":"",t+=e.municipality.length>0?e.municipality:"",t+=e.province.length>0?", "+e.province:""},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(D,{history:e})})}}]),a}(r.Component),T=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",transType:"",transDate:"",petId:"",petName:"",customerId:"",customerLastName:"",customerFirstName:"",customerMiddleName:"",customerName:"",petWeight:"",remarks:"",empId:"",empLastName:"",empFirstName:"",empMiddleName:"",checkUp:{findings:"",treatment:"",admissionDate:"",releasedDate:"",addInfo:""},groom:{activity:""}},checkUpConnected:!1,checkUpConnectionFailed:!1,groomConnected:!1,groomConnectionFailed:!1,connected:!1},e.componentDidMount=function(){var t=e.props.transaction;"C"===t.transType?e.getCheckUpData(t.id):"G"===t.transType&&e.getGroomData(t.id);var a=Object(w.a)({},e.state.record),s=Object(w.a)({},e.state.record.checkUp),r=Object(w.a)({},e.state.record.groom);a.id=t.id,a.transType=t.transType,a.transDate=t.transDate,a.petId=t.petId,a.petName=t.petName,a.customerId=t.customerId,a.customerLastName=t.lastName,a.customerFirstName=t.firstName,a.customerMiddleName=t.middleName,a.customerName=t.lastName+", "+t.firstName+" "+t.middleName,a.petWeight=t.petWeight,a.remarks=t.remarks,a.empId=t.empId,a.empLastName=t.empLastName,a.empFirstName=t.empFirstName,a.empMiddleName=t.empMiddleName,a.checkUp=s,a.groom=r,e.setState({record:a})},e.onViewAdmission=function(t){var a=e.state.record,s=e.props.history;s.push(t,Object(w.a)(Object(w.a)({},s.location.state),{},{transId:a.id,petName:a.petName,transDate:a.transDate}))},e.checkUpForm=function(){var t=e.state.record.checkUp;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:e.state.checkUpConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Findings"}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"findings",value:t.findings,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Treatment"}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"treatment",value:t.treatment,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admission Date"}),Object(s.jsx)("input",{className:"form-control",type:"date",name:"admissionDate",value:t.admissionDate,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Released Date"}),Object(s.jsx)("input",{className:"form-control",type:"date",name:"releasedDate",value:t.releasedDate,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Additional Information"}),Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"addInfo",value:t.addInfo,rows:"2",noValidate:!0,disabled:!0})]})]}):e.state.checkUpConnectionFailed?Object(s.jsxs)("div",{className:"col-12 text-center text-danger",children:[Object(s.jsx)("h3",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h5",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.retryCheckUpData,children:"Retry"})]}):Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h5",{children:"Please wait..."})]})})})},e.groomForm=function(){var t=e.state.record.groom;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:e.state.groomConnected?Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Activity"}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"activity",value:t.activity,noValidate:!0,disabled:!0})]})}):e.state.groomConnectionFailed?Object(s.jsxs)("div",{className:"col-12 text-center text-danger",children:[Object(s.jsx)("h3",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h5",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.retryGroomData,children:"Retry"})]}):Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h5",{children:"Please wait..."})]})})})},e.retryCheckUpData=function(){e.getCheckUpData(e.state.record.id);e.setState({checkUpConnected:!1,checkUpConnectionFailed:!1,connected:!1})},e.getCheckUpData=function(t){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewTransactionCheckUp.php?id="+t).then((function(t){var a=t.data;a=a[0],e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{checkUp:a}),checkUpConnected:true,connected:true})}))})).catch((function(t){console.log(t);e.setState({checkUpConnectionFailed:!0})}))},e.retryGroomData=function(){e.getGroomData(e.state.record.id);e.setState({groomConnected:!1,groomConnectionFailed:!1,connected:!1})},e.getGroomData=function(t){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewTransactionGroom.php?id="+t).then((function(t){var a=t.data;a=a[0],e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{groom:a}),groomConnected:true,connected:true})}))})).catch((function(t){console.log(t);e.setState({groomConnectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state.record,a=this.props.transaction;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewTransactionModal-"+a.id,tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"viewTransactionModalTitle-"+a.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewTransactionModalTitle-"+a.id,children:"Transaction Info"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Transaction Date"}),Object(s.jsx)("input",{className:"form-control",type:"date",name:"transDate",value:t.transDate,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Transaction Type"}),Object(s.jsx)("input",{className:"zi-10 form-control",name:"transType",value:"C"===t.transType?"Check-up":"Groom",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Served by"}),Object(s.jsx)("div",{className:"input-group",children:Object(s.jsx)("input",{className:"zi-10 form-control",name:"empId",value:t.empFirstName,noValidate:!0,disabled:!0})})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Customer Name"}),Object(s.jsx)("div",{className:"input-group",children:Object(s.jsx)("input",{className:"zi-10 form-control",name:"customerId",value:t.customerLastName+", "+t.customerFirstName+" "+t.customerMiddleName,noValidate:!0,disabled:!0})})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Pet Name"}),Object(s.jsx)("div",{className:"input-group",children:Object(s.jsx)("input",{className:"zi-10 form-control",name:"petId",value:t.petName,noValidate:!0,disabled:!0})})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Pet Weight"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"petWeight",value:t.petWeight,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"Kilogram"})})]})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Remarks"}),Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"remarks",value:t.remarks,onChange:this.onChangeRecord,rows:"2",noValidate:!0,disabled:!0})]}),"C"===t.transType?this.checkUpForm():"G"===t.transType?this.groomForm():null]})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:"C"===t.transType?Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1","data-dismiss":"modal",onClick:function(){return e.onViewAdmission("/wiggly-tails/customer/view-admission")},children:[Object(s.jsx)("i",{className:"fa fa-hand-holding-medical fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Admissions"})]}):null})})]})})})})}}]),a}(r.Component),M=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).onClickPage=function(t){var a=e.props.recordsPerPage*(t-1),s=t;e.props.setPage(a,s)},e.onClickPagePrev=function(){var t=e.props.activePage;1!==t&&t--,e.onClickPage(t)},e.onClickPageNext=function(t){var a=e.props.activePage;a!==t&&a++,e.onClickPage(a)},e.renderPagination=function(t){for(var a=[],r=Math.ceil(t/e.props.recordsPerPage),n=e.props.activePage>2?e.props.activePage+1>=r?r>5?r-4:1:e.props.activePage-2:1,c=r<=n+4?r:n+4,l=function(){var t=o;a.push(Object(s.jsx)("button",{className:e.getPageClasses(t),onClick:function(){return e.onClickPage(t)},children:t},t))},o=n;o<=c;o++)l();return Object(s.jsx)("div",{className:"btn-toolbar justify-content-end",role:"toolbar",children:Object(s.jsxs)("div",{className:"btn-group",role:"group",children:[Object(s.jsxs)("button",{className:e.getPrevPageClasses(),onClick:function(){return e.onClickPagePrev()},children:[Object(s.jsx)("i",{className:"fa fa-long-arrow-alt-left"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Prev"})]}),e.renderBackPage(n,1),[a],e.renderContinuePage(c,r),Object(s.jsxs)("button",{className:e.getNextPageClasses(r),onClick:function(){return e.onClickPageNext(r)},children:[Object(s.jsx)("i",{className:"fa fa-long-arrow-alt-right"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Next"})]})]})})},e.renderBackPage=function(t,a){if(t>a){var r=t-1;return Object(s.jsx)("button",{className:e.getPageClasses(r),onClick:function(){return e.onClickPage(r)},children:"..."},r)}},e.renderContinuePage=function(t,a){if(t<a){var r=t+1;return Object(s.jsx)("button",{className:e.getPageClasses(r),onClick:function(){return e.onClickPage(r)},children:"..."},r)}},e.getPageClasses=function(t){var a="btn pagination-nav ";return a+=t===e.props.activePage?"btn-outline-primary-active":"btn-outline-primary"},e.getPrevPageClasses=function(){var t="btn ";return t+=1===e.props.activePage?"pagination-disabled":"btn-outline-primary pagination-nav"},e.getNextPageClasses=function(t){var a="btn ";return a+=e.props.activePage===t?"pagination-disabled":"btn-outline-primary pagination-nav"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.totalRecords;return this.renderPagination(e)}}]),a}(r.Component),L=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1,customer:{id:"",customerId:"",fullName:""}},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=function(){var a=i;c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:e.formatDate(t[i].transDate)}),Object(s.jsx)("td",{children:t[i].petName}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[i].petWeight}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[i].empLastName+", "+t[i].empFirstName+" "+t[i].empMiddleName}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:e.formatTransType(t[i].transType)}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewTransactionModal-"+t[i].id,onClick:function(){return e.logTransactionView(t[a].id)},children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[i].id))},i=e.state.recordStartIndex;i<l;i++)o();return[c]},e.logTransactionView=function(t){var a=Object(w.a)({},e.state.customer);a.id=t,e.setState({customer:a},(function(){u.a.post("https://princemc.heliohost.us/veterinaryClinic/logTransactionView.php",a)}))},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.componentDidMount=function(){var t=e.props.history,a=Object(w.a)({},e.state.customer);a.customerId=t.location.state.id,a.fullName=t.location.state.fullName,e.setState({customer:a})},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e.formatTransType=function(e){return"C"===e?"Check-up":"Groom"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.transactions,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.history,i=e.connected,d=this.state,m=d.recordsPerPage,b=d.recordStartIndex,h=d.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-warning mr-2 ml-auto",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Transaction Date"}),Object(s.jsx)("th",{children:"Pet Name"}),Object(s.jsx)("th",{className:"w-110px d-none d-lg-table-cell",children:"Pet Weight"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Served by"}),Object(s.jsx)("th",{className:"w-110px d-none d-sm-table-cell",children:"Trans. Type"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(M,{setPage:this.setPage,recordsPerPage:m,recordStartIndex:b,activePage:h,totalRecords:t.length}):null,t.map((function(e){return Object(s.jsx)(T,{transaction:e,onRefresh:a,history:o},e.id)}))]})}}]),a}(r.Component),U=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={transactions:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(I,{activeId:1,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark pt-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"View Transactions"}),Object(s.jsx)(L,{transactions:e.state.transactions,onRefresh:e.onRefresh,onSearch:e.onSearch,history:t,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected}),Object(s.jsx)("div",{className:"text-center mt-5",children:e.state.connected?0===e.state.transactions.length?Object(s.jsx)("h1",{children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-danger",children:[Object(s.jsx)("h1",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h3",{children:"Please wait..."})]})})]})})}),Object(s.jsx)(F,{})]})},e.getData=function(){var t=e.props.history;u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewAccountTransactions.php?id="+t.location.state.id).then((function(t){var a=t.data;e.setState({transactions:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){var a=e.props.history;u.a.get("https://princemc.heliohost.us/veterinaryClinic/searchAccountTransaction.php?id="+a.location.state.id+"&search="+t).then((function(t){var a=t.data;e.setState({transactions:a})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(D,{history:e})})}}]),a}(r.Component),B=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={record:{id:"",transId:"",title:"",content:""}},e.componentDidMount=function(){var t=e.props.admission,a=Object(w.a)({},e.state.record);a.id=t.id,a.transId=t.transId,a.title=t.title,a.content=t.content,e.setState({record:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.record,t=this.props.admission;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewAdmissionModal-"+t.id,tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"viewAdmissionModalTitle-"+t.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewAdmissionModalTitle-"+t.id,children:"Admission Info"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Title"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"title",value:e.title,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Content"}),Object(s.jsx)("textarea",{className:"form-control zi-10",type:"text",name:"content",value:e.content,rows:"7",noValidate:!0,disabled:!0})]})]})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100"})})]})})})})}}]),a}(r.Component),G=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1,customer:{id:"",customerId:"",fullName:""}},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=function(){var a=i;c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[i].title}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[i].content}),Object(s.jsx)("td",{className:"d-table-cell",children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewAdmissionModal-"+t[i].id,onClick:function(){return e.logAdmissionView(t[a].id)},children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[i].id))},i=e.state.recordStartIndex;i<l;i++)o();return[c]},e.logAdmissionView=function(t){var a=Object(w.a)({},e.state.customer);a.id=t,e.setState({customer:a},(function(){u.a.post("https://princemc.heliohost.us/veterinaryClinic/logAdmissionView.php",a)}))},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.componentDidMount=function(){var t=e.props.history,a=Object(w.a)({},e.state.customer);a.customerId=t.location.state.id,a.fullName=t.location.state.fullName,e.setState({customer:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.admission,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.history,i=e.connected,d=this.state,m=d.recordsPerPage,b=d.recordStartIndex,h=d.activePage,j=o.location.state;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-warning mr-2 ml-auto",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsxs)("thead",{className:"thead-dark text-light",children:[Object(s.jsx)("tr",{children:Object(s.jsx)("th",{colSpan:"3",children:Object(s.jsxs)("div",{className:"row align-items-center",children:[Object(s.jsx)("div",{className:"col-12 col-md-6 text-center mb-2 pb-2\r m-md-0 p-md-0 bottom-border-dark border-md-0",children:"Pet Name: "+j.petName}),Object(s.jsx)("div",{className:"col-12 col-md-6 text-center",children:"Transaction Date: "+j.transDate})]})})}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Title"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Content"}),Object(s.jsx)("th",{className:"d-table-cell w-100px",children:"Action"})]})]}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(M,{setPage:this.setPage,recordsPerPage:m,recordStartIndex:b,activePage:h,totalRecords:t.length}):null,t.map((function(e){return Object(s.jsx)(B,{admission:e,onRefresh:a},e.id)}))]})}}]),a}(r.Component),H=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={admission:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(I,{activeId:1,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark pt-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"View Admission"}),Object(s.jsx)(G,{admission:e.state.admission,history:t,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected}),Object(s.jsx)("div",{className:"text-center mt-5",children:e.state.connected?0===e.state.admission.length?Object(s.jsx)("h1",{children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-danger",children:[Object(s.jsx)("h1",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h3",{children:"Please wait..."})]})})]})})}),Object(s.jsx)(F,{})]})},e.getData=function(){var t=e.props.history;u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewTransactionAdmission.php?id="+t.location.state.transId).then((function(t){var a=t.data;e.setState({admission:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){var a=e.props.history;u.a.get("https://princemc.heliohost.us/veterinaryClinic/searchTransactionAdmission.php?id="+a.location.state.admissionId+"&search="+t).then((function(t){var a=t.data;e.setState({admission:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(D,{history:e})})}}]),a}(r.Component),z=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",petName:"",birthdate:"",ownerId:"",petClass:"",lastVisit:"",pcciRegNo:""},errors:{petName:" ",birthdate:" ",petClass:" ",pcciRegNo:""},petClasses:["Alligator","Alpaca","Ant","Bear","Bird","Bull","Cat","Chicken","Crab","Crocodile","Deer","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Fox","Frog","Gecko","Gerbil","Giraffe","Goat","Gorilla","Grasshopper","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Jaguar","Lion","Lizard","Mantis","Monkey","Mouse","Octopus","Orangutan","Orstrich","Pig","Panda","Quill","Rabbit","Raccoon","Rat","Reindeer","Salamander","Sheep","Snake","Spider","Squirrel","Tiger","Tortoise","Turtle","Wolf","Whale","Zebra"],submitError:!1,submitted:!1,added:!1,failed:!1},e.onGenerateId=function(){var t=Object(w.a)({},e.state.record),a=e.generateCharacters(6);t.id=a,t.ownerId=e.props.ownerId,e.setState({record:t})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(C.a)({},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"ownerId":n.ownerId=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length>6?"Must be at exact 6 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(w.a)({},e.state.record);s.petName=e.removeLastSpace(s.petName),e.props.onSubmitForm(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/insertPet.php",s).then((function(){a(),e.onReset(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=!0;e.setState({submitted:!1,added:t}),setTimeout((function(){t=!1,e.setState({added:t})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){e.onGenerateId();var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.errors);t.id=e.generateCharacters(6),t.petName="",t.birthdate="",t.petClass="",t.pcciRegNo="",a.petName="Pet Name is required",a.birthdate="Birthdate is required",a.petClass="Pet Class is required",a.pcciRegNo="",e.setState({record:t,errors:a,submitError:!1,added:!1,failed:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.petClasses,c=e.submitted,l=e.added,o=e.failed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addPetModal",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"addPetModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addPetModalTitle",children:"Add Pet"}),c?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[c?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):l?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully added."})]}):o?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"ID"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,placeholder:"Please click 'Generate'",noValidate:!0,disabled:!0}),c?null:Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),c?Object(s.jsx)("input",{className:"form-control",type:"text",name:"petName",value:t.petName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.petName),type:"text",name:"petName",value:t.petName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),c?Object(s.jsx)("input",{className:"form-control",type:"date",name:"birthdate",value:t.birthdate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Owner ID",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"ownerId",value:t.ownerId,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),c?Object(s.jsxs)("select",{className:"form-control",name:"petClass",value:t.petClass,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}):Object(s.jsxs)("select",{className:this.inputFieldClasses(a.petClass),name:"petClass",value:t.petClass,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(a.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),c?Object(s.jsx)("input",{className:"form-control",type:"text",name:"pcciRegNo",value:t.pcciRegNo,maxLength:"6",placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.pcciRegNo),type:"text",name:"pcciRegNo",value:t.pcciRegNo,onChange:this.onChangeRecord,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.pcciRegNo)]})]})]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:c?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})})]})})})})}}]),a}(r.Component),W=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",petName:"",birthdate:"",ownerId:"",petClass:"",lastVisit:"",pcciRegNo:""},errors:{petName:"",birthdate:"",petClass:"",pcciRegNo:""},petClasses:["Alligator","Alpaca","Ant","Bear","Bird","Bull","Cat","Chicken","Crab","Crocodile","Deer","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Fox","Frog","Gecko","Gerbil","Giraffe","Goat","Gorilla","Grasshopper","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Jaguar","Lion","Lizard","Mantis","Monkey","Mouse","Octopus","Orangutan","Orstrich","Pig","Panda","Quill","Rabbit","Raccoon","Rat","Reindeer","Salamander","Sheep","Snake","Spider","Squirrel","Tiger","Tortoise","Turtle","Wolf","Whale","Zebra"],deleteState:!1,submitError:!1,submitted:!1,updated:!1,failed:!1,deleting:!1,deleted:!1},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(C.a)({},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"ownerId":n.ownerId=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length>6?"Must be at exact 6 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(w.a)({},e.state.record);s.petName=e.removeLastSpace(s.petName),e.props.onSubmitForm(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/updatePet.php",s).then((function(){a(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=!0;e.setState({submitted:!1,updated:t}),setTimeout((function(){t=!1,e.setState({updated:t})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.errors),s=e.props.pet;t.petName=s.petName,t.birthdate=s.birthdate,t.petClass=s.petClass,t.pcciRegNo=s.pcciRegNo,a.petName="",a.birthdate="",a.petClass="",a.pcciRegNo="",e.setState({record:t,errors:a,deleteState:!1,submitError:!1,updated:!1,failed:!1})},e.defaultButtons=function(){return e.state.submitted||e.state.deleting||e.state.deleted?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),e.props.connected?Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}):Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]})},e.onToggleDelete=function(){var t=!e.state.deleteState;e.setState({deleteState:t})},e.deleteButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Confirm Delete"})]}),Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-arrow-left"}),Object(s.jsx)("span",{className:"ml-1",children:"Cancel Delete"})]})]})},e.onDelete=function(){var t=e.state.record,a=e.props.onRefresh;e.props.onSubmitForm(),e.deletion(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/deletePet.php",t).then(e.postDelete).catch((function(t){console.log(t),a(),e.failedDelete()}))},e.deletion=function(){e.setState({deleteState:!1,deleting:!0})},e.postDelete=function(){e.setState({deleting:!1,deleted:!0},(function(){setTimeout((function(){document.getElementById("btnClose-"+e.props.pet.id).click(),e.props.onRefresh()}),5e3)}))},e.failedDelete=function(){var t=!0;e.setState({deleting:!1,failed:t},(function(){setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)}))},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.pet,t=Object(w.a)({},this.state.record);t.id=e.id,t.petName=e.petName,t.birthdate=e.birthdate,t.ownerId=e.ownerId,t.petClass=e.petClass,t.lastVisit=e.lastVisit,t.pcciRegNo=e.pcciRegNo,this.setState({record:t})}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.petClasses,c=e.deleteState,l=e.submitted,o=e.updated,i=e.failed,d=e.deleting,m=e.deleted,b=this.props.pet;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewPetModal"+b.id,tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"viewPetModalTitle"+b.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewPetModalTitle"+b.id,children:"Pet Info"}),!l&&this.props.connected||m?Object(s.jsx)("button",{id:"btnClose-"+b.id,className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[l?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):o?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully updated."})]}):i?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):d?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-trash text-primary mr-2"}),Object(s.jsx)("span",{children:"Deleting a record..."})]}):m?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully deleted."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"ID"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),l||d||m?Object(s.jsx)("input",{className:"form-control",type:"text",name:"petName",value:t.petName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.petName),type:"text",name:"petName",value:t.petName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l||d||m?Object(s.jsx)("input",{className:"form-control",type:"date",name:"birthdate",value:t.birthdate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Owner ID",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"ownerId",value:t.ownerId,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l||d||m?Object(s.jsxs)("select",{className:"form-control",name:"petClass",value:t.petClass,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}):Object(s.jsxs)("select",{className:this.inputFieldClasses(a.petClass),name:"petClass",value:t.petClass,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(a.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),l||d||m?Object(s.jsx)("input",{className:"form-control",type:"text",name:"pcciRegNo",value:t.pcciRegNo,maxLength:"6",placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.pcciRegNo),type:"text",name:"pcciRegNo",value:t.pcciRegNo,onChange:this.onChangeRecord,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.pcciRegNo)]})]})]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:c?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),J=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1,customer:{id:"",customerId:"",fullName:""}},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=function(){var a=i;c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[i].petName}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:e.formatDate(t[i].birthdate)}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[i].petClass}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:null===t[i].lastVisit?"Not visiting yet":e.formatDate(t[i].lastVisit)}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewPetModal"+t[i].id,onClick:function(){return e.logPetView(t[a].id)},children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[i].id))},i=e.state.recordStartIndex;i<l;i++)o();return[c]},e.logPetView=function(t){var a=Object(w.a)({},e.state.customer);a.id=t,e.setState({customer:a},(function(){u.a.post("https://princemc.heliohost.us/veterinaryClinic/logPetView.php",a)}))},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.componentDidMount=function(){var t=e.props.history,a=Object(w.a)({},e.state.customer);a.customerId=t.location.state.id,a.fullName=t.location.state.fullName,e.setState({customer:a})},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.pets,a=e.ownerId,r=e.onRefresh,c=e.onSearch,l=e.searchValue,o=e.onClear,i=e.connected,d=e.onSubmitForm,m=this.state,b=m.recordsPerPage,h=m.recordStartIndex,j=m.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addPetModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:r,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:c,value:l}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:o,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Pet Name"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Birthdate"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell",children:"Pet Class"}),Object(s.jsx)("th",{className:"d-none d-sm-table-cell",children:"Last Visit"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(M,{setPage:this.setPage,recordsPerPage:b,recordStartIndex:h,activePage:j,totalRecords:t.length}):null,Object(s.jsx)(z,{onRefresh:r,ownerId:a,onSubmitForm:d}),t.map((function(e){return Object(s.jsx)(W,{pet:e,onRefresh:r,connected:i,onSubmitForm:d},e.id)}))]})}}]),a}(r.Component),Z=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={pets:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(I,{activeId:2,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark pt-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Pets"}),Object(s.jsx)(J,{pets:e.state.pets,ownerId:t.location.state.id,onRefresh:e.onRefresh,onSearch:e.onSearch,history:t,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"text-center mt-5",children:e.state.connected?0===e.state.pets.length?Object(s.jsx)("h1",{children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-danger",children:[Object(s.jsx)("h1",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h3",{children:"Please wait..."})]})})]})})}),Object(s.jsx)(F,{})]})},e.getData=function(){var t=e.props.history;u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewAccountPets.php?id="+t.location.state.id).then((function(t){var a=t.data;e.setState({pets:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){var a=e.props.history;u.a.get("https://princemc.heliohost.us/veterinaryClinic/searchAccountPet.php?id="+a.location.state.id+"&search="+t).then((function(t){var a=t.data;e.setState({pets:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(D,{history:e})})}}]),a}(r.Component),Y=a(35),q=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{adminId:"",adminPassword:""},errors:{adminId:"Please input your Admin ID",adminPassword:"Please input your Admin Password"},records:[],connected:!1,connectionFailed:!1,submitError:!1,loginError:!1},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"adminId"===s&&(r=r.toUpperCase()),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors);switch(s){case"adminId":n.adminId=0===r.length?"Please input your Admin ID":6!==r.length?"Must be at exact 6 characters":"";break;case"adminPassword":n.adminPassword=0===r.length?"Please input your Admin Password":r.length>24?"Must be at maximum of 24 characters":""}e.setState({errors:n})},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors),a=Object(Y.a)(e.state.records),s=Object(w.a)({},e.state.record);if(e.validForm({errors:t})){var r=!1,n=!1,c=a.filter((function(e){return e.id===s.adminId&&e.empPassword===s.adminPassword}));if(c.length>0){document.getElementById("btnClose").click();var l=e.props.history;u.a.post("https://princemc.heliohost.us/veterinaryClinic/adminLogin.php",c[0]),l.replace("/wiggly-tails/admin/manage-employees",Object(w.a)(Object(w.a)({},l.location.state),{},{adminId:c[0].id,adminName:c[0].empLastName+", "+c[0].empFirstName,empType:c[0].empType}))}else r=!0,n=!0,s.adminPassword="",t.adminPassword="Please input your Admin Password";e.setState({record:s,errors:t,submitError:r,loginError:n})}else{e.setState({submitError:!0})}},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.onReset=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.errors);t.adminId="",t.adminPassword="",a.adminId="Please input your Admin ID",a.adminPassword="Please input your Admin Password",e.setState({record:t,errors:a,submitError:!1,loginError:!1})},e.handleKeyPress=function(e){13===e.which&&document.getElementById("btnSubmit").click()},e.renderLoginError=function(){if(e.state.loginError)return Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-2 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{className:"lh-0 my-1",children:"Incorrect Admin ID or Admin Password"})]})},e.renderModal=function(){var t=e.state,a=t.record,r=t.errors;return Object(s.jsx)("div",{className:"modal fade",id:"manageEmployeesModal",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"manageEmployeesModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"manageEmployeesModalTitle",children:"Manage Employees"}),Object(s.jsx)("button",{id:"btnClose",className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:e.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[e.renderLoginError(),e.state.connected?Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admin ID"}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"adminId",value:a.adminId,maxLength:"6",onChange:e.onChangeRecord,onKeyPress:e.handleKeyPress,noValidate:!0}),e.renderRecordErrors(r.adminId)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admin Password"}),Object(s.jsx)("input",{className:"form-control",type:"password",name:"adminPassword",value:a.adminPassword,onChange:e.onChangeRecord,onKeyPress:e.handleKeyPress,noValidate:!0}),e.renderRecordErrors(r.adminPassword)]})]}):e.state.connectionFailed?Object(s.jsxs)("div",{className:"col-12 text-center text-danger",children:[Object(s.jsx)("h3",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h5",{className:"mb-3",children:"Please try again later"}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h5",{children:"Please wait..."})]})]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:e.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",id:"btnSubmit",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})})]})})})},e.componentDidMount=function(){e.getData()},e.onRefresh=function(){e.getData();e.setState({connected:!1,connectionFailed:!1})},e.getData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewAdmins.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)(n.a.Fragment,{children:this.renderModal()})}}]),a}(r.Component),Q=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={record:{id:"",fullName:""},navs:[{id:0,text:"Home",link:"/wiggly-tails/admin",items:[]},{id:1,text:"Manage",link:null,items:[{id:2,text:"Transactions",link:"/wiggly-tails/admin/manage-transactions"},{id:3,text:"Customers",link:"/wiggly-tails/admin/manage-customers"},{id:4,text:"Pets",link:"/wiggly-tails/admin/manage-pets"},{id:5,text:"Employees",link:"/wiggly-tails/admin/manage-employees"}]},{id:6,text:"Audit Logs",link:"/wiggly-tails/admin/view-logs",items:[]},{id:7,text:"About us",link:null,items:[]},{id:10,text:"Log out",link:"/wiggly-tails",items:[]}]},e.onClickLink=function(t){var a=e.props.history,s=t.link;a.replace(s,Object(w.a)({},a.location.state))},e.onClickBrand=function(){var t=e.props.history;t.replace("/wiggly-tails/admin",Object(w.a)({},t.location.state))},e.onClickSignOut=function(t){var a=e.props.history,s=e.state,r=t.link;u.a.post("https://princemc.heliohost.us/veterinaryClinic/employeeLogout.php",s),a.replace(r)},e.componentDidMount=function(){var t=e.props.history,a=e.state;a.id=t.location.state.id,a.fullName=t.location.state.fullName,e.setState({record:a})},e.linkItemClasses=function(t){var a=e.props,s=a.activeId,r=a.sourceId,n="nav-link ";return n+=10===t||7===t?"btn rounded-pill text-center text-light py-1 my-1 px-3 ":"",n+=t===s||t===r?"active":10===t?"btn-danger":7===t?"btn-primary":"inactive"},e.dropdownItemClasses=function(t){var a="dropdown-item ";return a+=5===t?"text-danger ":"text-dark ",a+=t===e.props.activeId?"active-dropdown":"inactive-dropdown"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.activeId,r=t.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark fixed-top",children:[Object(s.jsxs)("a",{onClick:this.onClickBrand,className:"navbar-brand py-0",children:[Object(s.jsx)("img",{src:p,alt:"",className:"mr-2"}),"Veterinary Clinic"]}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#admin-navbar","aria-controls":"admin-navbar","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"admin-navbar",children:Object(s.jsx)("ul",{className:"navbar-nav ml-auto",children:this.state.navs.map((function(t){return t.items.length>0?Object(s.jsxs)("li",{className:"nav-item dropdown mr-1",children:[Object(s.jsx)("a",{className:"dropdown-toggle "+e.linkItemClasses(t.id),id:"dropdown"+t.id,href:t.link,"data-toggle":"dropdown",children:t.text}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdown"+t.id,children:t.items.map((function(t){return 5===t.id&&t.id!==a?Object(s.jsx)("a",{className:e.dropdownItemClasses(t.id),"data-toggle":"modal","data-target":"#manageEmployeesModal",children:t.text},t.id):Object(s.jsx)("a",{className:e.dropdownItemClasses(t.id),onClick:function(){return e.onClickLink(t)},children:t.text},t.id)}))})]},t.id):Object(s.jsx)("li",{className:"nav-item mr-1",children:10===t.id?Object(s.jsx)("a",{onClick:function(){return e.onClickSignOut(t)},className:e.linkItemClasses(t.id),children:t.text}):7===t.id?Object(s.jsx)("a",{className:e.linkItemClasses(t.id),"data-toggle":"modal","data-target":"#aboutUsModal",children:t.text},t.id):Object(s.jsx)("a",{onClick:function(){return e.onClickLink(t)},className:e.linkItemClasses(t.id),children:t.text})},t.id)}))})})]}),Object(s.jsx)(q,{history:r}),Object(s.jsx)(x,{})]})}}]),a}(r.Component),X=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e.onBackToLogin=function(){e.props.history.replace("/wiggly-tails",{verified:!0})},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center",children:Object(s.jsxs)("div",{className:"col-10 col-md-8 col-lg-6 form-light",children:[Object(s.jsxs)("div",{className:"alert alert-warning text-warning text-center my-3 mx-1 py-4",children:[Object(s.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(s.jsx)("i",{className:"fa fa-exclamation fa-lg"}),Object(s.jsx)("span",{className:"ml-2",children:Object(s.jsx)("h2",{className:"font-weight-normal",children:"Forbidden Access"})})]}),Object(s.jsx)("h5",{className:"font-weight-light",children:"Please login your Employee account first."})]}),Object(s.jsx)("div",{className:"text-center mb-3",children:Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:this.onBackToLogin,children:"Back to Login"})})]})})})}}]),a}(r.Component),K=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",fullName:""}},e.onClickLink=function(t){var a=e.props.history;a.replace(t,Object(w.a)({},a.location.state))},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(Q,{activeId:0,history:t}),Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)("div",{className:"row min-h-full align-items-center mx-1 py-5",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"row mt-5 mb-3",children:[Object(s.jsx)("div",{className:"col-lg-3 col-sm-6 text-center p-2",children:Object(s.jsxs)("div",{className:"custom-card-light max-h-90 min-h-24 p-3",children:[Object(s.jsx)("h3",{className:"mt-3",children:"Transactions"}),Object(s.jsx)("h1",{className:"display-1 text-primary",children:Object(s.jsx)("i",{className:"fa fa-exchange-alt"})}),Object(s.jsxs)("div",{className:"p-3 mt-2 admin-card-content-height h-md-130px h-sm-150px h-lg-200px h-xl-160px",children:[Object(s.jsx)("h5",{children:"Manage transaction records here"}),Object(s.jsx)("p",{children:"This is where all services offered to a customer are recorded."})]}),Object(s.jsx)("button",{className:"btn btn-primary border w-75 mt-3",onClick:function(){return e.onClickLink("/wiggly-tails/admin/manage-transactions")},children:"Manage"})]})}),Object(s.jsx)("div",{className:"col-lg-3 col-sm-6 text-center p-2",children:Object(s.jsxs)("div",{className:"custom-card-light max-h-90 min-h-24 p-3",children:[Object(s.jsx)("h3",{className:"mt-3",children:"Customers"}),Object(s.jsx)("h1",{className:"display-1 text-secondary",children:Object(s.jsx)("i",{className:"fa fa-users"})}),Object(s.jsxs)("div",{className:"p-3 mt-2 admin-card-content-height h-md-130px h-sm-150px h-lg-200px h-xl-160px",children:[Object(s.jsx)("h5",{children:"Manage customer records here"}),Object(s.jsx)("p",{children:"This is where all customer informations are recorded."})]}),Object(s.jsx)("button",{className:"btn btn-secondary border w-75 mt-3",onClick:function(){return e.onClickLink("/wiggly-tails/admin/manage-customers")},children:"Manage"})]})}),Object(s.jsx)("div",{className:"col-lg-3 col-sm-6 text-center p-2",children:Object(s.jsxs)("div",{className:"custom-card-light max-h-90 min-h-24 p-3",children:[Object(s.jsx)("h3",{className:"mt-3",children:"Pets"}),Object(s.jsx)("h1",{className:"display-1 text-warning",children:Object(s.jsx)("i",{className:"fa fa-cat"})}),Object(s.jsxs)("div",{className:"p-3 mt-2 admin-card-content-height h-md-130px h-sm-150px h-lg-200px h-xl-160px",children:[Object(s.jsx)("h5",{children:"Manage pet records here"}),Object(s.jsx)("p",{children:"This is where all customer's pet informations are recorded."})]}),Object(s.jsx)("button",{className:"btn btn-warning border w-75 mt-3",onClick:function(){return e.onClickLink("/wiggly-tails/admin/manage-pets")},children:"Manage"})]})}),Object(s.jsx)("div",{className:"col-lg-3 col-sm-6 text-center p-2",children:Object(s.jsxs)("div",{className:"custom-card-light max-h-90 min-h-24 p-3",children:[Object(s.jsx)("h3",{className:"mt-3",children:"Employees"}),Object(s.jsx)("h1",{className:"display-1 text-danger",children:Object(s.jsx)("i",{className:"fa fa-user-md"})}),Object(s.jsxs)("div",{className:"p-3 mt-2 admin-card-content-height h-md-130px h-sm-150px h-lg-200px h-xl-160px",children:[Object(s.jsx)("h5",{children:"Manage employee records here"}),Object(s.jsx)("p",{children:"This is where all employee informations are recorded."})]}),Object(s.jsx)("button",{className:"btn btn-danger border w-75 mt-3","data-toggle":"modal","data-target":"#manageEmployeesModal",children:"Manage"})]})})]})})}),Object(s.jsx)(q,{history:t})]}),Object(s.jsx)(F,{})]})},e.componentDidMount=function(){var t=e.props.history,a=e.state;a.id=t.location.state.id,a.fullName=t.location.state.fullName,e.setState({record:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(X,{history:e})})}}]),a}(r.Component),$=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",transType:"",transDate:"",petId:"",customerId:"",petWeight:"",remarks:"",empId:"",checkUp:{findings:"",treatment:"",admissionDate:"",releasedDate:"",addInfo:""},groom:{activity:""},employee:{empId:"",empName:""}},errors:{transType:" ",petId:" ",customerId:" ",petWeight:" ",remarks:"",empId:" ",checkUpErrors:{findings:" ",treatment:" ",addInfo:""},groomErrors:{activity:" "}},customer:{search:!1,searchValue:""},pet:{search:!1,searchValue:""},employee:{search:!1,searchValue:""},submitError:!1,submitted:!1,added:!1,failed:!1},e.onGenerateId=function(){var t=e.props.history,a=Object(w.a)({},e.state.record),s=e.generateCharacters(6);a.id=s;var r=e.getCurrentDate();a.transDate=r,a.checkUp.admissionDate=r,a.checkUp.releasedDate=r,a.employee.empId=t.location.state.id,a.employee.empName=t.location.state.fullName,e.setState({record:a})},e.getCurrentDate=function(){var e=new Date,t=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate():e.getDate();return e.getFullYear()+"-"+t+"-"+a},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;if("remarks"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)})),"transType"===s){var n=Object(w.a)({},e.state.record.checkUp),c=Object(w.a)({},e.state.errors.checkUpErrors);n.findings="",n.treatment="";var l=e.getCurrentDate();n.admissionDate=l,n.releasedDate=l,n.addInfo="",c.findings=" ",c.treatment=" ",c.addInfo="";var o=Object(w.a)({},e.state.record.groom),i=Object(w.a)({},e.state.errors.groomErrors);o.activity="",i.activity=" ",e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{checkUp:n,groom:o}),errors:Object(w.a)(Object(w.a)({},e.errors),{},{checkUpErrors:c,groomErrors:i})})}))}},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors);switch(s){case"transType":n.transType=0===r.length?" ":"";break;case"empId":n.empId=0===r.length?" ":"";break;case"customerId":n.customerId=0===r.length?" ":"";break;case"petId":n.petId=0===r.length?" ":"";break;case"petWeight":n.petWeight=0===r.length?" ":Object(P.isNumeric)(r)?r.length>6?"Must be at maximum of 6 numbers":"":"Please input a valid value";break;case"remarks":n.remarks=r.length>128?"Must be at maximum of 128 characters":""}e.setState({errors:n},(function(){if("customerId"===s){var t=Object(w.a)({},e.state.record);t.petId="",n.petId=" ",e.setState({record:t,errors:n}),Object(w.a)({},e.state.pet).search&&e.onTogglePetSearch()}}))},e.onChangeCheckUp=function(t){var a=t.target,s=a.name,r=a.value;"admissionDate"!==s&&"releasedDate"!==s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{checkUp:Object(w.a)(Object(w.a)({},e.record.checkUp),{},Object(C.a)({},s,r))})})}),(function(){return e.onCheckCheckUpErrors(t)}))},e.onCheckCheckUpErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors.checkUpErrors),c=e.removeSpaces(r).length;switch(s){case"findings":n.findings=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"treatment":n.treatment=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"addInfo":n.addInfo=r.length>128?"Must be at maximum of 128 characters":""}e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{errors:Object(w.a)(Object(w.a)({},e.errors),{},{checkUpErrors:n})})}))},e.onChangeGroom=function(t){var a=t.target,s=a.name,r=a.value;"activity"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{groom:Object(w.a)(Object(w.a)({},e.record.groom),{},Object(C.a)({},s,r))})})}),(function(){return e.onCheckGroomErrors(t)}))},e.onCheckGroomErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors.groomErrors),c=e.removeSpaces(r).length;switch(s){case"activity":n.activity=0===c?" ":c<2||r.length>32?"Must be at between 2 and 32 characters":0===c?" ":""}e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{errors:Object(w.a)(Object(w.a)({},e.errors),{},{groomErrors:n})})}))},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(w.a)({},e.state.record);s.remarks=e.removeLastSpace(s.remarks),s.checkUp.findings=e.removeLastSpace(s.checkUp.findings),s.checkUp.treatment=e.removeLastSpace(s.checkUp.treatment),s.checkUp.addInfo=e.removeLastSpace(s.checkUp.addInfo),s.groom.activity=e.removeLastSpace(s.groom.activity),e.props.onSubmitForm(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/insertTransaction.php",s).then((function(){a(),e.onReset(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=!0;e.setState({submitted:!1,added:t}),setTimeout((function(){t=!1,e.setState({added:t})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(t){var a=t.errors,s=e.state.record,r=!0;return Object.values(a).forEach((function(e){e.length>0&&(r=!1)})),"C"===s.transType?Object.values(a.checkUpErrors).forEach((function(e){e.length>0&&(r=!1)})):"G"===s.transType&&Object.values(a.groomErrors).forEach((function(e){e.length>0&&(r=!1)})),r},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.record.checkUp),s=Object(w.a)({},e.state.record.groom),r=Object(w.a)({},e.state.errors),n=Object(w.a)({},e.state.errors.checkUp),c=Object(w.a)({},e.state.errors.groom),l=e.getCurrentDate(),o=e.generateCharacters(6);s.activity="",a.findings="",a.treatment="",a.admissionDate=l,a.releasedDate=l,a.addInfo="",t.id=o,t.transType="",t.transDate=l,t.petId="",t.customerId="",t.petWeight="",t.remarks="",t.empId="",t.checkUp=a,t.groom=s,c.activity=" ",n.findings=" ",n.treatment=" ",n.addInfo="",r.transType=" ",r.petId=" ",r.customerId=" ",r.remarks="",r.empId=" ",r.checkUpErrors=n,r.groomErrors=c,e.setState({record:t,errors:r,submitError:!1,added:!1,failed:!1})},e.onToggleCustomerSearch=function(){var t=Object(w.a)({},e.state.customer);t.search=!t.search,t.searchValue="",e.setState({customer:t})},e.onClearCustomerSearch=function(){var t=Object(w.a)({},e.state.customer);t.searchValue="",e.setState({customer:t})},e.onChangeCustomerSearch=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.record),c=Object(w.a)({},e.state.errors);n.customerId="",c.customerId=" ",n.petId="",c.petId=" ",e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:n,errors:c,customer:Object(w.a)(Object(w.a)({},e.customer),{},Object(C.a)({},s,r))})}),(function(){Object(w.a)({},e.state.pet).search&&e.onTogglePetSearch()}))},e.onTogglePetSearch=function(){var t=Object(w.a)({},e.state.pet);t.search=!t.search,t.searchValue="",e.setState({pet:t})},e.onClearPetSearch=function(){var t=Object(w.a)({},e.state.pet);t.searchValue="",e.setState({pet:t})},e.onChangePetSearch=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.record),c=Object(w.a)({},e.state.errors);n.petId="",c.petId=" ",e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:n,errors:c,pet:Object(w.a)(Object(w.a)({},e.pet),{},Object(C.a)({},s,r))})}))},e.onToggleEmployeeSearch=function(){var t=Object(w.a)({},e.state.employee);t.search=!t.search,t.searchValue="",e.setState({employee:t})},e.onClearEmployeeSearch=function(){var t=Object(w.a)({},e.state.employee);t.searchValue="",e.setState({employee:t})},e.onChangeEmployeeSearch=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.record),c=Object(w.a)({},e.state.errors);n.empId="",c.empId=" ",e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:n,errors:c,employee:Object(w.a)(Object(w.a)({},e.employee),{},Object(C.a)({},s,r))})}))},e.checkUpForm=function(){var t=e.state.submitted,a=e.state.record.checkUp,r=e.state.errors.checkUpErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsxs)("div",{className:"row mt-3",children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Findings",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"text",name:"findings",value:a.findings,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:e.inputFieldClasses(r.findings),type:"text",name:"findings",value:a.findings,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(r.findings)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Treatment",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"text",name:"treatment",value:a.treatment,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:e.inputFieldClasses(r.treatment),type:"text",name:"treatment",value:a.treatment,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(r.treatment)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Admission Date",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"date",name:"admissionDate",value:a.admissionDate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"admissionDate",value:a.admissionDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Released Date",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"date",name:"releasedDate",value:a.releasedDate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"releasedDate",value:a.releasedDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Additional Information"}),t?Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"addInfo",value:a.addInfo,rows:"2",placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("textarea",{className:e.inputFieldClasses(r.addInfo),type:"text",name:"addInfo",value:a.addInfo,onChange:e.onChangeCheckUp,rows:"2",placeholder:"(Optional)",noValidate:!0}),e.renderRecordErrors(r.addInfo)]})]})})},e.groomForm=function(){var t=e.state.submitted,a=e.state.record.groom,r=e.state.errors.groomErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Activity",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"text",name:"activity",value:a.activity,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:e.inputFieldClasses(r.activity),type:"text",name:"activity",value:a.activity,onChange:e.onChangeGroom,noValidate:!0}),e.renderRecordErrors(r.activity)]})})})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.customer,c=e.pet,l=e.employee,o=e.submitted,i=e.added,d=e.failed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addTransactionModal",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"addTransactionModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addTransactionModalTitle",children:"Add Transaction"}),o?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[o?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):i?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully added."})]}):d?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Date",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),o?Object(s.jsx)("input",{className:"form-control",type:"date",name:"transDate",value:t.transDate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"transDate",value:t.transDate,onChange:this.onChangeRecord,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),o?Object(s.jsxs)("select",{className:"form-control",name:"transType",value:t.transType,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),Object(s.jsx)("option",{value:"C",children:"Check-up"}),Object(s.jsx)("option",{value:"G",children:"Groom"})]}):Object(s.jsxs)("select",{className:this.inputFieldClasses(a.transType),name:"transType",value:t.transType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),Object(s.jsx)("option",{value:"C",children:"Check-up"}),Object(s.jsx)("option",{value:"G",children:"Groom"})]}),this.renderRecordErrors(a.transType)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Served by",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.employeeConnected||o?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"input-group",children:o?Object(s.jsxs)("select",{className:"form-control",name:"empId",value:t.empId,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.employees.length>0?this.props.employees.filter((function(e){return(e.empLastName+", "+e.empFirstName+" "+e.empMiddleName).toLowerCase().match(l.searchValue.toLowerCase())||""===l.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.empLastName+", "+e.empFirstName+" "+e.empMiddleName},e.id)})):null]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.empId),name:"empId",value:t.empId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.employees.length>0?this.props.employees.filter((function(e){return(e.empLastName+", "+e.empFirstName+" "+e.empMiddleName).toLowerCase().match(l.searchValue.toLowerCase())||""===l.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.empLastName+", "+e.empFirstName+" "+e.empMiddleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleEmployeeSearch,children:"Search"})})]})}),l.search&&!o?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:l.searchValue,onChange:this.onChangeEmployeeSearch,placeholder:"Search by Employee Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearEmployeeSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.empId)]}):this.props.employeeConnectionFailed?Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.retryEmployeesData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Customer ID",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.customerConnected||o?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"input-group",children:o?Object(s.jsxs)("select",{className:"form-control",name:"customerId",value:t.customerId,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.customers.length>0?this.props.customers.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(r.searchValue.toLowerCase())||""===r.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.customerId),name:"customerId",value:t.customerId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.customers.length>0?this.props.customers.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(r.searchValue.toLowerCase())||""===r.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleCustomerSearch,children:"Search"})})]})}),r.search&&!o?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:r.searchValue,onChange:this.onChangeCustomerSearch,placeholder:"Search by Customer Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearCustomerSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.customerId)]}):this.props.customerConnectionFailed?Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.retryCustomersData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet ID",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.petConnected||o?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[o?Object(s.jsxs)("select",{className:"form-control",name:"petId",value:t.petId,noValidate:!0,disabled:!0,children:[this.props.pets.filter((function(e){return e.petName.toLowerCase().match(c.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===c.searchValue&&e.ownerId===t.customerId})).length>0||c.searchValue.length>0?Object(s.jsx)("option",{value:"",children:"Choose one"}):t.customerId.length>0?Object(s.jsx)("option",{value:"",children:"No pet found"}):Object(s.jsx)("option",{value:"",children:"Customer ID is required"}),this.props.pets.length>0?this.props.pets.filter((function(e){return e.petName.toLowerCase().match(c.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===c.searchValue&&e.ownerId===t.customerId})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.petName},e.id)})):null]}):Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.petId),name:"petId",value:t.petId,onChange:this.onChangeRecord,noValidate:!0,children:[this.props.pets.filter((function(e){return e.petName.toLowerCase().match(c.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===c.searchValue&&e.ownerId===t.customerId})).length>0||c.searchValue.length>0?Object(s.jsx)("option",{value:"",children:"Choose one"}):t.customerId.length>0?Object(s.jsx)("option",{value:"",children:"No pet found"}):Object(s.jsx)("option",{value:"",children:"Customer ID is required"}),this.props.pets.length>0?this.props.pets.filter((function(e){return e.petName.toLowerCase().match(c.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===c.searchValue&&e.ownerId===t.customerId})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.petName},e.id)})):null]}),(this.props.pets.filter((function(e){return e.petName.match(c.searchValue)&&e.ownerId===t.customerId||""===c.searchValue&&e.ownerId===t.customerId})).length>0||c.searchValue.length>0)&&!o?Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePetSearch,children:"Search"})}):null]}),c.search&&!o?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:c.searchValue,onChange:this.onChangePetSearch,placeholder:"Search by Pet Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearPetSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.petId)]}):this.props.petConnectionFailed?Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.retryPetsData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Weight",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[o?Object(s.jsx)("input",{className:"form-control",type:"text",name:"petWeight",value:t.petWeight,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.petWeight),type:"text",name:"petWeight",value:t.petWeight,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"Kilogram"})})]}),this.renderRecordErrors(a.petWeight)]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Remarks"}),o?Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"remarks",value:t.remarks,rows:"2",placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("textarea",{className:this.inputFieldClasses(a.remarks),type:"text",name:"remarks",value:t.remarks,onChange:this.onChangeRecord,rows:"2",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.remarks)]}),"C"===t.transType?this.checkUpForm():"G"===t.transType?this.groomForm():null]}),o?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):i?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully added."})]}):d?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:!o&&this.props.customerConnected&&this.props.petConnected&&this.props.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})})]})})})})}}]),a}(r.Component),_=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",transType:"",transDate:"",petId:"",petName:"",customerId:"",customerName:"",petWeight:"",remarks:"",empId:"",empName:"",checkUp:{findings:"",treatment:"",admissionDate:"",releasedDate:"",addInfo:""},groom:{activity:""},lastVisit:"",prevVisit:"",employee:{empId:"",empName:""}},errors:{transType:"",petId:"",customerId:"",petWeight:"",remarks:"",empId:"",checkUpErrors:{findings:"",treatment:"",addInfo:""},groomErrors:{activity:""}},checkUpConnected:!1,checkUpConnectionFailed:!1,groomConnected:!1,groomConnectionFailed:!1,connected:!1,customer:{search:!1,searchValue:""},pet:{search:!1,searchValue:""},employee:{search:!1,searchValue:""},submitError:!1,submitted:!1,updated:!1,failed:!1},e.componentDidMount=function(){var t=e.props,a=t.transaction,s=t.history;"C"===a.transType?e.getCheckUpData(a.id):"G"===a.transType&&e.getGroomData(a.id);var r=Object(w.a)({},e.state.record),n=Object(w.a)({},e.state.record.checkUp),c=Object(w.a)({},e.state.record.groom);r.id=a.id,r.transType=a.transType,r.transDate=a.transDate,r.petId=a.petId,r.petName=a.petName,r.customerId=a.customerId,r.customerName=a.lastName+", "+a.firstName+" "+a.middleName,r.petWeight=a.petWeight,r.remarks=a.remarks,r.empId=a.empId,r.empName=a.empLastName+", "+a.empFirstName+" "+a.empMiddleName,r.checkUp=n,r.groom=c,r.employee.empId=s.location.state.id,r.employee.empName=s.location.state.fullName,e.setState({record:r})},e.getCurrentDate=function(){var e=new Date,t=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate():e.getDate();return e.getFullYear()+"-"+t+"-"+a},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;if("remarks"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)})),"transType"===s){var n=Object(w.a)({},e.state.record.checkUp),c=Object(w.a)({},e.state.errors.checkUpErrors);n.findings="",n.treatment="";var l=e.getCurrentDate();n.admissionDate=l,n.releasedDate=l,n.addInfo="",c.findings=" ",c.treatment=" ",c.addInfo="";var o=Object(w.a)({},e.state.record.groom),i=Object(w.a)({},e.state.errors.groomErrors);o.activity="",i.activity=" ";e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{checkUp:n,groom:o}),errors:Object(w.a)(Object(w.a)({},e.errors),{},{checkUpErrors:c,groomErrors:i}),checkUpConnected:true,groomConnected:true,connected:true})}))}},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors);switch(s){case"transType":n.transType=0===r.length?" ":"";break;case"empId":n.empId=0===r.length?" ":"";break;case"customerId":n.customerId=0===r.length?" ":"";break;case"petId":n.petId=0===r.length?" ":"";break;case"petWeight":n.petWeight=0===r.length?" ":Object(P.isNumeric)(r)?r.length>6?"Must be at maximum of 6 numbers":"":"Please input a valid value";break;case"remarks":n.remarks=r.length>128?"Must be at maximum of 128 characters":""}e.setState({errors:n},(function(){if("customerId"===s){var t=Object(w.a)({},e.state.record);t.petId="",n.petId=" ",e.setState({record:t,errors:n}),Object(w.a)({},e.state.pet).search&&e.onTogglePetSearch()}}))},e.onChangeCheckUp=function(t){var a=t.target,s=a.name,r=a.value;"admissionDate"!==s&&"releasedDate"!==s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{checkUp:Object(w.a)(Object(w.a)({},e.record.checkUp),{},Object(C.a)({},s,r))})})}),(function(){return e.onCheckCheckUpErrors(t)}))},e.onCheckCheckUpErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors.checkUpErrors),c=e.removeSpaces(r).length;switch(s){case"findings":n.findings=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"treatment":n.treatment=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"addInfo":n.addInfo=r.length>128?"Must be at maximum of 128 characters":""}e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{errors:Object(w.a)(Object(w.a)({},e.errors),{},{checkUpErrors:n})})}))},e.onChangeGroom=function(t){var a=t.target,s=a.name,r=a.value;"activity"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{groom:Object(w.a)(Object(w.a)({},e.record.groom),{},Object(C.a)({},s,r))})})}),(function(){return e.onCheckGroomErrors(t)}))},e.onCheckGroomErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors.groomErrors),c=e.removeSpaces(r).length;switch(s){case"activity":n.activity=0===c?" ":c<2||r.length>32?"Must be at between 2 and 32 characters":0===c?" ":""}e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{errors:Object(w.a)(Object(w.a)({},e.errors),{},{groomErrors:n})})}))},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(w.a)({},e.state.record);s.remarks=e.removeLastSpace(s.remarks),s.checkUp.findings=e.removeLastSpace(s.checkUp.findings),s.checkUp.treatment=e.removeLastSpace(s.checkUp.treatment),s.checkUp.addInfo=e.removeLastSpace(s.checkUp.addInfo),s.groom.activity=e.removeLastSpace(s.groom.activity);var r=e.props.pets.filter((function(e){return s.petId===e.id}));if(null===r[0].lastVisit||""===r[0].lastVisit)s.lastVisit=s.id;else{var n=e.props.transactions.filter((function(e){return r[0].lastVisit===e.transDate}));s.lastVisit=r[0].lastVisit>s.transDate?n[0].id:s.id}var c=e.props.transactions.filter((function(t){return e.props.transaction.petId===t.petId}));s.prevVisit=c.length>1?c[1].id:"",e.props.onSubmitForm(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/updateTransaction.php",s).then((function(){a(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=!0;e.setState({submitted:!1,updated:t}),setTimeout((function(){t=!1,e.setState({updated:t})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(t){var a=t.errors,s=e.state.record,r=!0;return Object.values(a).forEach((function(e){e.length>0&&(r=!1)})),"C"===s.transType?Object.values(a.checkUpErrors).forEach((function(e){e.length>0&&(r=!1)})):"G"===s.transType&&Object.values(a.groomErrors).forEach((function(e){e.length>0&&(r=!1)})),r},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=e.props.transaction;e.setState({checkUpConnected:!1,groomConnected:!1,connected:!1}),"C"===t.transType?e.getCheckUpData(t.id):"G"===t.transType&&e.getGroomData(t.id);var a=Object(w.a)({},e.state.record),s=Object(w.a)({},e.state.record.checkUp),r=Object(w.a)({},e.state.record.groom),n=Object(w.a)({},e.state.errors),c=Object(w.a)({},e.state.errors.checkUp),l=Object(w.a)({},e.state.errors.groom);a.id=t.id,a.transType=t.transType,a.transDate=t.transDate,a.petId=t.petId,a.customerId=t.customerId,a.petWeight=t.petWeight,a.remarks=t.remarks,a.empId=t.empId,a.checkUp=s,a.groom=r,l.activity="",c.findings="",c.treatment="",c.addInfo="",n.transType="",n.petId="",n.customerId="",n.remarks="",n.empId="",n.checkUpErrors=c,n.groomErrors=l,e.setState({record:a,errors:n,submitError:!1,updated:!1,failed:!1})},e.onToggleCustomerSearch=function(){var t=Object(w.a)({},e.state.customer);t.search=!t.search,t.searchValue="",e.setState({customer:t})},e.onClearCustomerSearch=function(){var t=Object(w.a)({},e.state.customer);t.searchValue="",e.setState({customer:t})},e.onChangeCustomerSearch=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.record),c=Object(w.a)({},e.state.errors);n.customerId="",c.customerId=" ",n.petId="",c.petId=" ",e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:n,errors:c,customer:Object(w.a)(Object(w.a)({},e.customer),{},Object(C.a)({},s,r))})}),(function(){Object(w.a)({},e.state.pet).search&&e.onTogglePetSearch()}))},e.onClearRecordCustomerId=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.errors);t.customerId="",a.customerId=" ",e.setState({record:t,errors:a})},e.onTogglePetSearch=function(){var t=Object(w.a)({},e.state.pet);t.search=!t.search,t.searchValue="",e.setState({pet:t})},e.onClearPetSearch=function(){var t=Object(w.a)({},e.state.pet);t.searchValue="",e.setState({pet:t})},e.onChangePetSearch=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.record),c=Object(w.a)({},e.state.errors);n.petId="",c.petId=" ",e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:n,errors:c,pet:Object(w.a)(Object(w.a)({},e.pet),{},Object(C.a)({},s,r))})}))},e.onClearRecordPetId=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.errors);t.petId="",a.petId=" ",e.customerIdExists()||(t.customerId="",a.customerId=" "),e.setState({record:t,errors:a})},e.onToggleEmployeeSearch=function(){var t=Object(w.a)({},e.state.employee);t.search=!t.search,t.searchValue="",e.setState({employee:t})},e.onClearEmployeeSearch=function(){var t=Object(w.a)({},e.state.employee);t.searchValue="",e.setState({employee:t})},e.onChangeEmployeeSearch=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.record),c=Object(w.a)({},e.state.errors);n.empId="",c.empId=" ",e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:n,errors:c,employee:Object(w.a)(Object(w.a)({},e.employee),{},Object(C.a)({},s,r))})}))},e.onClearRecordEmpId=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.errors);t.empId="",a.empId=" ",e.setState({record:t,errors:a})},e.empIdExists=function(){return 1===e.props.employees.filter((function(t){return e.state.record.empId===t.id})).length},e.customerIdExists=function(){return 1===e.props.customers.filter((function(t){return e.state.record.customerId===t.id})).length},e.petIdExists=function(){return 1===e.props.pets.filter((function(t){return e.state.record.petId===t.id})).length},e.onViewAdmission=function(t){var a=e.state.record,s=e.props.history;s.push(t,Object(w.a)(Object(w.a)({},s.location.state),{},{transId:a.id,customerName:a.customerName,petName:a.petName,transDate:a.transDate}))},e.checkUpForm=function(){var t=e.state.submitted,a=e.state.record.checkUp,r=e.state.errors.checkUpErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:e.state.checkUpConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Findings",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"text",name:"findings",value:a.findings,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:e.inputFieldClasses(r.findings),type:"text",name:"findings",value:a.findings,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(r.findings)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Treatment",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"text",name:"treatment",value:a.treatment,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:e.inputFieldClasses(r.treatment),type:"text",name:"treatment",value:a.treatment,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(r.treatment)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Admission Date",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"date",name:"admissionDate",value:a.admissionDate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"admissionDate",value:a.admissionDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Released Date",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"date",name:"releasedDate",value:a.releasedDate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"releasedDate",value:a.releasedDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Additional Information"}),t?Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"addInfo",value:a.addInfo,rows:"2",placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("textarea",{className:e.inputFieldClasses(r.addInfo),type:"text",name:"addInfo",value:a.addInfo,onChange:e.onChangeCheckUp,rows:"2",placeholder:"(Optional)",noValidate:!0}),e.renderRecordErrors(r.addInfo)]})]}):e.state.checkUpConnectionFailed?Object(s.jsxs)("div",{className:"col-12 text-center text-danger",children:[Object(s.jsx)("h3",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h5",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.retryCheckUpData,children:"Retry"})]}):Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h5",{children:"Please wait..."})]})})})},e.groomForm=function(){var t=e.state.submitted,a=e.state.record.groom,r=e.state.errors.groomErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:e.state.groomConnected?Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Activity",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"text",name:"activity",value:a.activity,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:e.inputFieldClasses(r.activity),type:"text",name:"activity",value:a.activity,onChange:e.onChangeGroom,noValidate:!0}),e.renderRecordErrors(r.activity)]})}):e.state.groomConnectionFailed?Object(s.jsxs)("div",{className:"col-12 text-center text-danger",children:[Object(s.jsx)("h3",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h5",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.retryGroomData,children:"Retry"})]}):Object(s.jsxs)("div",{className:"col-12 text-center",children:[Object(s.jsx)("h3",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h5",{children:"Please wait..."})]})})})},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.retryCheckUpData=function(){e.getCheckUpData(e.state.record.id);e.setState({checkUpConnected:!1,checkUpConnectionFailed:!1,connected:!1})},e.getCheckUpData=function(t){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewTransactionCheckUp.php?id="+t).then((function(t){var a=t.data;a=a[0],e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{checkUp:a}),checkUpConnected:true,connected:true})}))})).catch((function(t){console.log(t);e.setState({checkUpConnectionFailed:!0})}))},e.retryGroomData=function(){e.getGroomData(e.state.record.id);e.setState({groomConnected:!1,groomConnectionFailed:!1,connected:!1})},e.getGroomData=function(t){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewTransactionGroom.php?id="+t).then((function(t){var a=t.data;a=a[0],e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{groom:a}),groomConnected:true,connected:true})}))})).catch((function(t){console.log(t);e.setState({groomConnectionFailed:!0})}))},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.record,r=t.errors,c=t.customer,l=t.employee,o=t.pet,i=t.connected,d=t.submitted,m=t.updated,b=t.failed,h=this.props.transaction;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewTransactionModal-"+h.id,tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"viewTransactionModalTitle-"+h.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewTransactionModalTitle-"+h.id,children:"Transaction Info"}),!d&&this.props.connected?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[d?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):m?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully updated."})]}):b?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Date",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),d?Object(s.jsx)("input",{className:"form-control",type:"date",name:"transDate",value:a.transDate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"transDate",value:a.transDate,onChange:this.onChangeRecord,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),d?Object(s.jsxs)("select",{className:"form-control",name:"transType",value:a.transType,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),Object(s.jsx)("option",{value:"C",children:"Check-up"}),Object(s.jsx)("option",{value:"G",children:"Groom"})]}):Object(s.jsxs)("select",{className:this.inputFieldClasses(r.transType),name:"transType",value:a.transType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),Object(s.jsx)("option",{value:"C",children:"Check-up"}),Object(s.jsx)("option",{value:"G",children:"Groom"})]}),this.renderRecordErrors(r.transType)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Served by",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.employeeConnected||d?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"input-group",children:d?Object(s.jsxs)("select",{className:"form-control",name:"empId",value:a.empId,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.employees.length>0?this.props.employees.filter((function(e){return(e.empLastName+", "+e.empFirstName+" "+e.empMiddleName).toLowerCase().match(l.searchValue.toLowerCase())||""===l.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.empLastName+", "+e.empFirstName+" "+e.empMiddleName},e.id)})):null]}):this.empIdExists()||""===this.state.record.empId?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(r.empId),name:"empId",value:a.empId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.employees.length>0?this.props.employees.filter((function(e){return(e.empLastName+", "+e.empFirstName+" "+e.empMiddleName).toLowerCase().match(l.searchValue.toLowerCase())||""===l.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.empLastName+", "+e.empFirstName+" "+e.empMiddleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleEmployeeSearch,children:"Search"})})]}):Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",value:"Deleted Record: "+a.empId+" | "+a.empName,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearRecordEmpId,children:"Change"})})]})}),l.search&&!d?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:l.searchValue,onChange:this.onChangeEmployeeSearch,placeholder:"Search by Employee Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearEmployeeSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(r.empId)]}):this.props.employeeConnectionFailed?Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.retryEmployeesData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Customer ID",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.customerConnected||d?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"input-group",children:d?Object(s.jsxs)("select",{className:"form-control",name:"customerId",value:a.customerId,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.customers.length>0?this.props.customers.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(c.searchValue.toLowerCase())||""===c.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}):this.customerIdExists()||""===this.state.record.customerId?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(r.customerId),name:"customerId",value:a.customerId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.customers.length>0?this.props.customers.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(c.searchValue.toLowerCase())||""===c.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleCustomerSearch,children:"Search"})})]}):Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",value:"Deleted Record: "+a.customerId+" | "+a.customerName,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearRecordCustomerId,children:"Change"})})]})}),c.search&&!d?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:c.searchValue,onChange:this.onChangeCustomerSearch,placeholder:"Search by Customer Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearCustomerSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(r.customerId)]}):this.props.customerConnectionFailed?Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.retryCustomersData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet ID",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.petConnected||d?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[d?Object(s.jsxs)("select",{className:"form-control",name:"petId",value:a.petId,noValidate:!0,disabled:!0,children:[this.props.pets.filter((function(e){return e.petName.toLowerCase().match(o.searchValue.toLowerCase())&&e.ownerId===a.customerId||""===o.searchValue&&e.ownerId===a.customerId})).length>0||o.searchValue.length>0?Object(s.jsx)("option",{value:"",children:"Choose one"}):a.customerId.length>0?Object(s.jsx)("option",{value:"",children:"No pet found"}):Object(s.jsx)("option",{value:"",children:"Customer ID is required"}),this.props.pets.length>0?this.props.pets.filter((function(e){return e.petName.toLowerCase().match(o.searchValue.toLowerCase())&&e.ownerId===a.customerId||""===o.searchValue&&e.ownerId===a.customerId})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.petName},e.id)})):null]}):this.petIdExists()||""===this.state.record.petId?Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(r.petId),name:"petId",value:a.petId,onChange:this.onChangeRecord,noValidate:!0,children:[this.props.pets.filter((function(e){return e.petName.toLowerCase().match(o.searchValue.toLowerCase())&&e.ownerId===a.customerId||""===o.searchValue&&e.ownerId===a.customerId})).length>0||o.searchValue.length>0?Object(s.jsx)("option",{value:"",children:"Choose one"}):a.customerId.length>0?Object(s.jsx)("option",{value:"",children:"No pet found"}):Object(s.jsx)("option",{value:"",children:"Customer ID is required"}),this.props.pets.length>0?this.props.pets.filter((function(e){return e.petName.toLowerCase().match(o.searchValue.toLowerCase())&&e.ownerId===a.customerId||""===o.searchValue&&e.ownerId===a.customerId})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.petName},e.id)})):null]}):Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",value:"Deleted Record: "+a.petId+" | "+a.petName,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearRecordPetId,children:"Change"})})]}),!(this.props.pets.filter((function(e){return e.petName.match(o.searchValue)&&e.ownerId===a.customerId||""===o.searchValue&&e.ownerId===a.customerId})).length>0||o.searchValue.length>0)||d||!this.petIdExists()&&""!==a.petId?null:Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePetSearch,children:"Search"})})]}),o.search&&!d?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:o.searchValue,onChange:this.onChangePetSearch,placeholder:"Search by Pet Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearPetSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(r.petId)]}):this.props.petConnectionFailed?Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.retryPetsData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Weight",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[d?Object(s.jsx)("input",{className:"form-control",type:"text",name:"petWeight",value:a.petWeight,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(r.petWeight),type:"text",name:"petWeight",value:a.petWeight,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"Kilogram"})})]}),this.renderRecordErrors(r.petWeight)]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Remarks"}),d?Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"remarks",value:a.remarks,rows:"2",placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("textarea",{className:this.inputFieldClasses(r.remarks),type:"text",name:"remarks",value:a.remarks,onChange:this.onChangeRecord,rows:"2",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(r.remarks)]}),"C"===a.transType?this.checkUpForm():"G"===a.transType?this.groomForm():null]}),d?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):m?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully updated."})]}):b?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:!d&&i&&this.props.customerConnected&&this.props.petConnected&&this.props.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:["C"===a.transType?Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1","data-dismiss":"modal",onClick:function(){return e.onViewAdmission("/wiggly-tails/admin/manage-admission")},children:[Object(s.jsx)("i",{className:"fa fa-hand-holding-medical fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Admissions"})]}):null,Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Update"})]}),this.props.connected?Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Reset"})]}):Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Reset"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:["C"===a.transType?Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1","data-dismiss":"modal",onClick:function(){return e.onViewAdmission("/wiggly-tails/admin/manage-admission")},children:[Object(s.jsx)("i",{className:"fa fa-hand-holding-medical fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Admissions"})]}):null,Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Reset"})]})]})})})]})})})})}}]),a}(r.Component),ee=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=function(){var a=i;c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:e.formatDate(t[i].transDate)}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[i].lastName+", "+t[i].firstName+" "+t[i].middleName}),Object(s.jsx)("td",{children:t[i].petName}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[i].petWeight}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[i].empLastName+", "+t[i].empFirstName+" "+t[i].empMiddleName}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:e.formatTransType(t[i].transType)}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewTransactionModal-"+t[i].id,onClick:function(){return e.logTransactionView(t[a].id)},children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[i].id))},i=e.state.recordStartIndex;i<l;i++)o();return[c]},e.logTransactionView=function(t){var a=Object(w.a)({},e.state.employee);a.id=t,e.setState({employee:a},(function(){u.a.post("https://princemc.heliohost.us/veterinaryClinic/logTransactionViewEmployee.php",a)}))},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.componentDidMount=function(){var t=e.props.history,a=Object(w.a)({},e.state.employee);a.empId=t.location.state.id,a.empName=t.location.state.fullName,e.setState({employee:a})},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e.formatTransType=function(e){return"C"===e?"Check-up":"Groom"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.transactions,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.history,i=e.connected,d=e.onSubmitForm,m=this.state,b=m.recordsPerPage,h=m.recordStartIndex,j=m.activePage,u=this.props,p=u.customers,x=u.retryCustomersData,g=u.customerConnected,O=u.customerConnectionFailed,f=this.props,N=f.pets,v=f.retryPetsData,y=f.petConnected,C=f.petConnectionFailed,w=this.props,S=w.employees,k=w.retryEmployeesData,P=w.employeeConnected,A=w.employeeConnectionFailed;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addTransactionModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Transaction Date"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell",children:"Customer Name"}),Object(s.jsx)("th",{children:"Pet Name"}),Object(s.jsx)("th",{className:"w-110px d-none d-lg-table-cell",children:"Pet Weight"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Served by"}),Object(s.jsx)("th",{className:"w-110px d-none d-sm-table-cell",children:"Trans. Type"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(M,{setPage:this.setPage,recordsPerPage:b,recordStartIndex:h,activePage:j,totalRecords:t.length}):null,Object(s.jsx)($,{onRefresh:a,customerId:"",onSubmitForm:d,history:o,customers:p,retryCustomersData:x,customerConnected:g,customerConnectionFailed:O,pets:N,retryPetsData:v,petConnected:y,petConnectionFailed:C,employees:S,retryEmployeesData:k,employeeConnected:P,employeeConnectionFailed:A}),t.map((function(e){return Object(s.jsx)(_,{transaction:e,transactions:t,onRefresh:a,history:o,connected:i,onSubmitForm:d,customers:p,retryCustomersData:x,customerConnected:g,customerConnectionFailed:O,pets:N,retryPetsData:v,petConnected:y,petConnectionFailed:C,employees:S,retryEmployeesData:k,employeeConnected:P,employeeConnectionFailed:A},e.id)}))]})}}]),a}(r.Component),te=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={transactions:[],connected:!1,connectionFailed:!1,searchValue:"",customers:[],customerConnected:!1,customerConnectionFailed:!1,pets:[],petConnected:!1,petConnectionFailed:!1,employees:[],employeeConnected:!1,employeeConnectionFailed:!1},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(Q,{sourceId:1,activeId:2,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark pt-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Transactions"}),Object(s.jsx)(ee,{transactions:e.state.transactions,onRefresh:e.onRefresh,onSearch:e.onSearch,history:t,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,onSubmitForm:e.onSubmitForm,customers:e.state.customers,retryCustomersData:e.retryCustomersData,customerConnected:e.state.customerConnected,customerConnectionFailed:e.state.customerConnectionFailed,pets:e.state.pets,retryPetsData:e.retryPetsData,petConnected:e.state.petConnected,petConnectionFailed:e.state.petConnectionFailed,employees:e.state.employees,retryEmployeesData:e.retryEmployeesData,employeeConnected:e.state.employeeConnected,employeeConnectionFailed:e.state.employeeConnectionFailed}),Object(s.jsx)("div",{className:"text-center mt-5",children:e.state.connected?0===e.state.transactions.length?Object(s.jsx)("h1",{children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-danger",children:[Object(s.jsx)("h1",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h3",{children:"Please wait..."})]})})]})})}),Object(s.jsx)(F,{})]})},e.getData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewTransactions.php").then((function(t){var a=t.data;e.setState({transactions:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){u.a.get("https://princemc.heliohost.us/veterinaryClinic/searchTransaction.php?search="+t).then((function(t){var a=t.data;e.setState({transactions:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.retryCustomersData=function(){e.getCustomersData();e.setState({customerConnected:!1,customerConnectionFailed:!1})},e.getCustomersData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({customers:a,customerConnected:!0})})).catch((function(t){console.log(t);e.setState({customerConnectionFailed:!0})}))},e.retryPetsData=function(){e.getPetsData();e.setState({petConnected:!1,petConnectionFailed:!1})},e.getPetsData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewPets.php").then((function(t){var a=t.data;e.setState({pets:a,petConnected:!0})})).catch((function(t){console.log(t);e.setState({petConnectionFailed:!0})}))},e.retryEmployeesData=function(){e.getEmployeesData();e.setState({employeeConnected:!1,employeeConnectionFailed:!1})},e.getEmployeesData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({employees:a,employeeConnected:!0})})).catch((function(t){console.log(t);e.setState({employeeConnectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData(),this.getCustomersData(),this.getPetsData(),this.getEmployeesData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(X,{history:e})})}}]),a}(r.Component),ae=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",transId:"",title:"",content:"",employee:{empId:"",empName:""}},errors:{title:" ",content:" "},submitError:!1,submitted:!1,added:!1,failed:!1},e.componentDidMount=function(){e.onGenerateId()},e.onGenerateId=function(){var t=e.props.history,a=Object(w.a)({},e.state.record),s=e.generateCharacters(6);a.id=s,a.transId=t.location.state.transId,a.employee.empId=t.location.state.id,a.employee.empName=t.location.state.fullName,e.setState({record:a})},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="title"===s?e.toAbsProperCase(r):e.toSentenceCase(r),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"title":n.title=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"content":n.content=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(w.a)({},e.state.record);s.title=e.removeLastSpace(s.title),s.content=e.removeLastSpace(s.content),e.props.onSubmitForm(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/insertAdmission.php",s).then((function(){a(),e.onReset(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=!0;e.setState({submitted:!1,added:t}),setTimeout((function(){t=!1,e.setState({added:t})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=e.props.history,a=Object(w.a)({},e.state.record),s=Object(w.a)({},e.state.errors);a.id=e.generateCharacters(6),a.transId=t.location.state.transId,a.title="",a.content="",s.title=" ",s.content=" ",e.setState({record:a,errors:s,submitError:!1,added:!1,failed:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.submitted,c=e.added,l=e.failed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addAdmissionModal",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"addAdmissionModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addAdmissionModalTitle",children:"Add Admission"}),r?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[r?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully added."})]}):l?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Title",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),r?Object(s.jsx)("input",{className:"form-control",type:"text",name:"title",value:t.title,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.title),type:"text",name:"title",value:t.title,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.title)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Content",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),r?Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"content",value:t.content,rows:"7",noValidate:!0,disabled:!0}):Object(s.jsx)("textarea",{className:this.inputFieldClasses(a.content),type:"text",name:"content",value:t.content,rows:"7",onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.content)]})]})]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:r?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})})]})})})})}}]),a}(r.Component),se=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",transId:"",title:"",content:"",employee:{empId:"",empName:""}},errors:{title:"",content:""},submitError:!1,submitted:!1,updated:!1,failed:!1},e.componentDidMount=function(){var t=e.props,a=t.admission,s=t.history,r=Object(w.a)({},e.state.record);r.id=a.id,r.transId=a.transId,r.title=a.title,r.content=a.content,r.employee.empId=s.location.state.id,r.employee.empName=s.location.state.fullName,e.setState({record:r})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(C.a)({},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="title"===s?e.toAbsProperCase(r):e.toSentenceCase(r),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"title":n.title=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"content":n.content=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(w.a)({},e.state.record);s.title=e.removeLastSpace(s.title),s.content=e.removeLastSpace(s.content),e.props.onSubmitForm(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/updateAdmission.php",s).then((function(){a(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=!0;e.setState({submitted:!1,updated:t}),setTimeout((function(){t=!1,e.setState({updated:t})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=e.props.admission,a=Object(w.a)({},e.state.record),s=Object(w.a)({},e.state.errors);a.id=t.id,a.transId=t.transId,a.title=t.title,a.content=t.content,s.title="",s.content="",e.setState({record:a,errors:s,submitError:!1,updated:!1,failed:!1})},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.submitted,c=e.updated,l=e.failed,o=this.props.admission;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewAdmissionModal-"+o.id,tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"viewAdmissionModalTitle-"+o.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewAdmissionModalTitle-"+o.id,children:"Admission Info"}),!r&&this.props.connected?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[r?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully updated."})]}):l?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Title",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),r?Object(s.jsx)("input",{className:"form-control",type:"text",name:"title",value:t.title,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.title),type:"text",name:"title",value:t.title,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.title)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Content",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),r?Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"content",value:t.content,rows:"7",noValidate:!0,disabled:!0}):Object(s.jsx)("textarea",{className:this.inputFieldClasses(a.content),type:"text",name:"content",value:t.content,rows:"7",onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.content)]})]})]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:r?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),this.props.connected?Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}):Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})})]})})})})}}]),a}(r.Component),re=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1,employee:{id:"",empId:"",empName:""}},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=function(){var a=i;c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[i].title}),Object(s.jsx)("td",{children:t[i].content}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewAdmissionModal-"+t[i].id,onClick:function(){return e.logAdmissionView(t[a].id)},children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[i].id))},i=e.state.recordStartIndex;i<l;i++)o();return[c]},e.logAdmissionView=function(t){var a=Object(w.a)({},e.state.employee);a.id=t,e.setState({employee:a},(function(){u.a.post("https://princemc.heliohost.us/veterinaryClinic/logAdmissionViewEmployee.php",a)}))},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.componentDidMount=function(){var t=e.props.history,a=Object(w.a)({},e.state.employee);a.empId=t.location.state.id,a.empName=t.location.state.fullName,e.setState({employee:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.admission,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.history,i=e.connected,d=e.onSubmitForm,m=this.state,b=m.recordsPerPage,h=m.recordStartIndex,j=m.activePage,u=o.location.state;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addAdmissionModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2 ml-auto",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsxs)("thead",{className:"thead-dark text-light",children:[Object(s.jsx)("tr",{children:Object(s.jsx)("th",{colSpan:"3",children:Object(s.jsxs)("div",{className:"row align-items-center",children:[Object(s.jsx)("div",{className:"col-12 col-md-4 text-center mb-2 pb-2\r m-md-0 p-md-0 bottom-border-dark border-md-0",children:"Customer Name: "+u.customerName}),Object(s.jsx)("div",{className:"col-12 col-md-4 text-center mb-2 pb-2\r m-md-0 p-md-0 bottom-border-dark border-md-0",children:"Pet Name: "+u.petName}),Object(s.jsx)("div",{className:"col-12 col-md-4 text-center",children:"Transaction Date: "+u.transDate})]})})}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Title"}),Object(s.jsx)("th",{children:"Content"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})]}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(M,{setPage:this.setPage,recordsPerPage:b,recordStartIndex:h,activePage:j,totalRecords:t.length}):null,Object(s.jsx)(ae,{history:o,onRefresh:a,onSubmitForm:d}),t.map((function(e){return Object(s.jsx)(se,{admission:e,onRefresh:a,connected:i,onSubmitForm:d,history:o},e.id)}))]})}}]),a}(r.Component),ne=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={admission:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(Q,{sourceId:1,activeId:2,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark pt-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Admission"}),Object(s.jsx)(re,{admission:e.state.admission,history:t,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"text-center mt-5",children:e.state.connected?0===e.state.admission.length?Object(s.jsx)("h1",{children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-danger",children:[Object(s.jsx)("h1",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h3",{children:"Please wait..."})]})})]})})}),Object(s.jsx)(F,{})]})},e.getData=function(){var t=e.props.history;u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewTransactionAdmission.php?id="+t.location.state.transId).then((function(t){var a=t.data;e.setState({admission:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){var a=e.props.history;u.a.get("https://princemc.heliohost.us/veterinaryClinic/searchTransactionAdmission.php?id="+a.location.state.transId+"&search="+t).then((function(t){var a=t.data;e.setState({admission:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(X,{history:e})})}}]),a}(r.Component),ce=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",lastName:"",firstName:"",middleName:"",homeAddress:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:"",pet:{petName:"",birthdate:"",petClass:"",lastVisit:"",pcciRegNo:""},employee:{empId:"",empName:""}},confirmUserPassword:"",errors:{lastName:" ",firstName:" ",middleName:"",homeAddressErrors:{lotBlock:"",street:" ",subdivision:"",barangay:" ",municipality:" ",province:""},birthdate:" ",mobileNumber:" ",emailAddress:" ",userPassword:" ",confirmUserPassword:" ",petErrors:{petName:" ",birthdate:" ",petClass:" ",pcciRegNo:""}},petClasses:["Alligator","Alpaca","Ant","Bear","Bird","Bull","Cat","Chicken","Crab","Crocodile","Deer","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Fox","Frog","Gecko","Gerbil","Giraffe","Goat","Gorilla","Grasshopper","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Jaguar","Lion","Lizard","Mantis","Monkey","Mouse","Octopus","Orangutan","Orstrich","Pig","Panda","Quill","Rabbit","Raccoon","Rat","Reindeer","Salamander","Sheep","Snake","Spider","Squirrel","Tiger","Tortoise","Turtle","Wolf","Whale","Zebra"],submitError:!1,submitted:!1,added:!1,failed:!1},e.onGenerateId=function(){var t=e.props.history,a=Object(w.a)({},e.state.record),s=e.generateCharacters(6);a.id=s,a.employee.empId=t.location.state.id,a.employee.empName=t.location.state.fullName,e.setState({record:a})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(C.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"mobileNumber"!==s&&"emailAddress"!==s&&"userPassword"!==s&&(r="lastName"===s?e.toProperCase(r):e.toAbsProperCase(r)),"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors),c=Object(w.a)({},e.state.record),l=e.state.confirmUserPassword,o=e.removeSpaces(r).length;switch(s){case"lastName":n.lastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"firstName":n.firstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"middleName":n.middleName=o>24?"Must be at maximum of 24 characters":"";break;case"birthdate":n.birthdate=0===r.length?" ":"";break;case"mobileNumber":n.mobileNumber=0===r.length?" ":Object(P.isNumeric)(r)?r.length<10?"Must be at exact 10 numbers":"":"Please input a valid value";break;case"emailAddress":n.emailAddress=0===r.length?" ":r.length<8||r.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(r)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"email":n.emailAddress=0===c.emailAddress.length?" ":c.emailAddress.length<8||c.emailAddress.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(c.emailAddress)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"userPassword":n.userPassword=0===r.length?" ":e.spaceFound(r)?"Password must not have spacing":r.length<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmUserPassword=r===l?l.length<12||e.spaceFound(r)?" ":"":"Passwords do not match";break;case"confirmUserPassword":n.confirmUserPassword=0===r.length?" ":r===c.userPassword?r.length<12||e.spaceFound(r)?" ":"":"Passwords do not match"}e.setState({errors:n})},e.emailAddressExists=function(){var t=e.state.record;return e.props.customers.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(t.emailAddress+t.email).toLowerCase()})).length>0},e.isValidEmail=function(e){return new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/).test(e)},e.onChangeHomeAddress=function(t){var a=t.target,s=a.name,r=a.value;r=e.toProperCase(r),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{homeAddress:Object(w.a)(Object(w.a)({},e.record.homeAddress),{},Object(C.a)({},s,r))})})}),(function(){return e.onCheckHomeAddressErrors(t)}))},e.onCheckHomeAddressErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors.homeAddressErrors),c=e.removeSpaces(r).length;switch(s){case"lotBlock":n.lotBlock=r.length>12?"Lot/Block must be at maximum of 12 characters":"";break;case"street":n.street=0===c?" ":c<2||r.length>24?"Street must be at between 2 and 24 characters":"";break;case"subdivision":n.subdivision=r.length>24?"Subdivision must be at maximum of 24 characters":"";break;case"barangay":n.barangay=0===c?" ":c<2||r.length>24?"Barangay must be at between 2 and 24 characters":"";break;case"municipality":n.municipality=0===c?" ":c<2||r.length>24?"Municipality must be at between 2 and 24 characters":"";break;case"province":n.province=r.length>24?"Province must be at maximum of 24 characters":""}e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{errors:Object(w.a)(Object(w.a)({},e.errors),{},{homeAddressErrors:n})})}))},e.onChangePet=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{pet:Object(w.a)(Object(w.a)({},e.record.pet),{},Object(C.a)({},s,r))})})}),(function(){return e.onCheckPetErrors(t)}))},e.onCheckPetErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors.petErrors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length<6&&0!==r.length?"Must be at exact 6 characters":""}e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{errors:Object(w.a)(Object(w.a)({},e.errors),{},{petErrors:n})})}))},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(w.a)({},e.state.record);s.lastName=e.removeLastSpace(s.lastName),s.firstName=e.removeLastSpace(s.firstName),s.middleName=e.removeLastSpace(s.middleName),s.homeAddress.lotBlock=e.removeLastSpace(s.homeAddress.lotBlock),s.homeAddress.street=e.removeLastSpace(s.homeAddress.street),s.homeAddress.subdivision=e.removeLastSpace(s.homeAddress.subdivision),s.homeAddress.barangay=e.removeLastSpace(s.homeAddress.barangay),s.homeAddress.municipality=e.removeLastSpace(s.homeAddress.municipality),s.homeAddress.province=e.removeLastSpace(s.homeAddress.province),s.pet.petName=e.removeLastSpace(s.pet.petName);var r=[];r.push("+63"+s.mobileNumber.substring(0,3)),r.push(s.mobileNumber.substring(3,6)),r.push(s.mobileNumber.substring(6,10)),s.mobileNumber=r.join("-"),e.props.onSubmitForm(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/insertCustomerPetEmployee.php",s).then((function(){a(),e.onReset(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=!0;e.setState({submitted:!1,added:t}),setTimeout((function(){t=!1,e.setState({added:t})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),Object.values(t.homeAddressErrors).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(t){e.isObject(t)?Object.values(t).forEach((function(t){e.isObject(t)||t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})):t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.isObject=function(e){return e instanceof Object},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderHomeAddressErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&" "!==e&&a.push(Object(s.jsxs)("small",{className:"text-danger ml-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),e]}))})),[a]}},e.onReset=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.record.homeAddress),s=Object(w.a)({},e.state.record.pet),r=Object(w.a)({},e.state.errors),n=Object(w.a)({},e.state.errors.homeAddressErrors),c=Object(w.a)({},e.state.errors.petErrors);a.lotBlock="",a.street="",a.subdivision="",a.barangay="",a.municipality="",a.province="",s.petName="",s.birthdate="",s.petClass="",s.pcciRegNo="",t.id=e.generateCharacters(6),t.lastName="",t.firstName="",t.middleName="",t.homeAddress=a,t.birthdate="",t.mobileNumber="",t.emailAddress="",t.email="@yahoo.com",t.userPassword="",t.pet=s,n.lotBlock="",n.street=" ",n.subdivision="",n.barangay=" ",n.municipality=" ",n.province="",c.petName=" ",c.birthdate=" ",c.petClass=" ",r.lastName=" ",r.firstName=" ",r.middleName="",r.homeAddressErrors=n,r.birthdate=" ",r.mobileNumber=" ",r.emailAddress=" ",r.userPassword=" ",r.confirmUserPassword=" ",e.setState({record:t,confirmUserPassword:"",errors:r,submitError:!1,added:!1,failed:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.removeMultipleSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "===e.charAt(a)?0!==a&&" "!==e.charAt(a-1)&&(t+=e.charAt(a)):t+=e.charAt(a);return t},e.spaceFound=function(e){return!!e.match(" ")},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmUserPassword,c=e.petClasses,l=e.submitted,o=e.added,i=e.failed,d=t.homeAddress,m=t.pet,b=a.homeAddressErrors,h=a.petErrors;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addCustomerModal",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"addCustomerModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addCustomerModalTitle",children:"Add Customer"}),l?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[l?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):o?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully added."})]}):i?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"ID"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0}),l?null:Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"lastName",value:t.lastName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.lastName),type:"text",name:"lastName",value:t.lastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.lastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.firstName),type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.firstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"middleName",value:t.middleName,placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.middleName),type:"text",name:"middleName",value:t.middleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.middleName)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Home Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"row mx-0",children:[Object(s.jsx)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"lotBlock",value:d.lotBlock,placeholder:"Lot/Block (Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.lotBlock),type:"text",name:"lotBlock",value:d.lotBlock,onChange:this.onChangeHomeAddress,placeholder:"Lot/Block (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:[l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"street",value:d.street,placeholder:"Street",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.street),type:"text",name:"street",value:d.street,onChange:this.onChangeHomeAddress,placeholder:"Street",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"St."})})]}),Object(s.jsx)("div",{className:"col-lg-6 input-group px-0",children:l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"subdivision",value:d.subdivision,placeholder:"Subdivision (Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.subdivision),type:"text",name:"subdivision",value:d.subdivision,onChange:this.onChangeHomeAddress,placeholder:"Subdivision (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("div",{className:"input-group-prepend",children:Object(s.jsx)("span",{className:"input-group-text",children:"Brgy."})}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"barangay",value:d.barangay,placeholder:"Barangay",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.barangay),type:"text",name:"barangay",value:d.barangay,onChange:this.onChangeHomeAddress,placeholder:"Barangay",noValidate:!0})]}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"municipality",value:d.municipality,placeholder:"Municipality",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.municipality),type:"text",name:"municipality",value:d.municipality,onChange:this.onChangeHomeAddress,placeholder:"Municipality",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"City"})})]}),Object(s.jsx)("div",{className:"col-lg-4 input-group px-0",children:l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"province",value:d.province,placeholder:"Province (Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(b.province),type:"text",name:"province",value:d.province,onChange:this.onChangeHomeAddress,placeholder:"Province (Optional)",noValidate:!0})})]})," ",this.renderHomeAddressErrors(b)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"date",name:"birthdate",value:t.birthdate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Mobile Number",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("span",{className:"input-group-text",children:"+63"}),l?Object(s.jsx)("input",{className:"form-control",type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.mobileNumber),type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0})]}),this.renderRecordErrors(a.mobileNumber)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Email Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.connected||l?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[l?Object(s.jsx)("input",{className:"w-xs-100 form-control",type:"text",name:"emailAddress",value:t.emailAddress,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"w-xs-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),l?Object(s.jsxs)("select",{className:"input-group-text form-control",name:"email",value:t.email,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]}):Object(s.jsxs)("select",{className:"input-group-text form-control",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress),Object(s.jsx)("div",{children:Object(s.jsxs)("small",{className:"text-success ml-2",children:[Object(s.jsx)("i",{className:"fa fa-info-circle mr-1"}),Object(s.jsx)("span",{children:"Valid Symbols:\xa0"}),Object(s.jsx)("span",{children:"!#$%^&*.?_-"})]})})]}):this.props.connectionFailed?Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.onRefresh,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"password",name:"userPassword",value:t.userPassword,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.userPassword),type:"password",name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"password",name:"confirmUserPassword",value:r,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmUserPassword),type:"password",name:"confirmUserPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmUserPassword)]}),Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsxs)("div",{className:"row mt-3",children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Name ",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"petName",value:m.petName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(h.petName),type:"text",name:"petName",value:m.petName,onChange:this.onChangePet,noValidate:!0}),this.renderRecordErrors(h.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"date",name:"birthdate",value:m.birthdate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(h.birthdate),type:"date",name:"birthdate",value:m.birthdate,onChange:this.onChangePet,noValidate:!0}),this.renderRecordErrors(h.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsxs)("select",{className:"form-control",name:"petClass",value:m.petClass,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}):Object(s.jsxs)("select",{className:this.inputFieldClasses(h.petClass),name:"petClass",value:m.petClass,onChange:this.onChangePet,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(h.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"pcciRegNo",value:m.pcciRegNo,maxLength:"6",placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(h.pcciRegNo),type:"text",name:"pcciRegNo",value:m.pcciRegNo,onChange:this.onChangePet,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(h.pcciRegNo)]})]})})]}),l?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):o?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully added."})]}):i?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:this.props.connected&&!l?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})})]})})})})}}]),a}(r.Component),le=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",lastName:"",firstName:"",middleName:"",homeAddress:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:"",employee:{empId:"",empName:""}},confirmUserPassword:"",errors:{lastName:"",firstName:"",middleName:"",homeAddressErrors:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",userPassword:"",confirmUserPassword:" "},passwordState:{inputType:"password",buttonText:"Show"},deleteState:!1,submitError:!1,submitted:!1,updated:!1,failed:!1,deleting:!1,deleted:!1},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(C.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"mobileNumber"!==s&&"emailAddress"!==s&&"userPassword"!==s&&(r="lastName"===s?e.toProperCase(r):e.toAbsProperCase(r)),"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors),c=Object(w.a)({},e.state.record),l=e.state.confirmUserPassword,o=e.removeSpaces(r).length;switch(s){case"lastName":n.lastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"firstName":n.firstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"middleName":n.middleName=o>24?"Must be at maximum of 24 characters":"";break;case"birthdate":n.birthdate=0===r.length?" ":"";break;case"mobileNumber":n.mobileNumber=0===r.length?" ":Object(P.isNumeric)(r)?r.length<10?"Must be at exact 10 numbers":"":"Please input a valid value";break;case"emailAddress":n.emailAddress=0===r.length?" ":r.length<8||r.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(r)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"email":n.emailAddress=0===c.emailAddress.length?" ":c.emailAddress.length<8||c.emailAddress.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(c.emailAddress)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"userPassword":n.userPassword=0===r.length?" ":e.spaceFound(r)?"Password must not have spacing":r.length<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmUserPassword=r===l?l.length<12||e.spaceFound(r)?" ":"":"Passwords do not match";break;case"confirmUserPassword":n.confirmUserPassword=0===r.length?" ":r===c.userPassword?r.length<12||e.spaceFound(r)?" ":"":"Passwords do not match"}e.setState({errors:n})},e.emailAddressExists=function(){var t=e.state.record,a=e.props,s=a.customer;return a.customers.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(t.emailAddress+t.email).toLowerCase()&&(e.emailAddress+e.email).toLowerCase()!==(s.emailAddress+s.email).toLowerCase()})).length>0},e.isValidEmail=function(e){return new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/).test(e)},e.onChangeHomeAddress=function(t){var a=t.target,s=a.name,r=a.value;r=e.toProperCase(r),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{homeAddress:Object(w.a)(Object(w.a)({},e.record.homeAddress),{},Object(C.a)({},s,r))})})}),(function(){return e.onCheckHomeAddressErrors(t)}))},e.onCheckHomeAddressErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors.homeAddressErrors),c=e.removeSpaces(r).length;switch(s){case"lotBlock":n.lotBlock=r.length>12?"Lot/Block must be at maximum of 12 characters":"";break;case"street":n.street=0===c?" ":c<2||r.length>24?"Street must be at between 2 and 24 characters":"";break;case"subdivision":n.subdivision=r.length>24?"Subdivision must be at maximum of 24 characters":"";break;case"barangay":n.barangay=0===c?" ":c<2||r.length>24?"Barangay must be at between 2 and 24 characters":"";break;case"municipality":n.municipality=0===c?" ":c<2||r.length>24?"Municipality must be at between 2 and 24 characters":"";break;case"province":n.province=r.length>24?"Province must be at maximum of 24 characters":""}e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{errors:Object(w.a)(Object(w.a)({},e.errors),{},{homeAddressErrors:n})})}))},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(w.a)({},e.state.record);s.lastName=e.removeLastSpace(s.lastName),s.firstName=e.removeLastSpace(s.firstName),s.middleName=e.removeLastSpace(s.middleName),s.homeAddress.lotBlock=e.removeLastSpace(s.homeAddress.lotBlock),s.homeAddress.street=e.removeLastSpace(s.homeAddress.street),s.homeAddress.subdivision=e.removeLastSpace(s.homeAddress.subdivision),s.homeAddress.barangay=e.removeLastSpace(s.homeAddress.barangay),s.homeAddress.municipality=e.removeLastSpace(s.homeAddress.municipality),s.homeAddress.province=e.removeLastSpace(s.homeAddress.province);var r=[];r.push("+63"+s.mobileNumber.substring(0,3)),r.push(s.mobileNumber.substring(3,6)),r.push(s.mobileNumber.substring(6,10)),s.mobileNumber=r.join("-"),"text"===e.state.passwordState.inputType&&e.onTogglePassword(),e.props.onSubmitForm(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/updateCustomerEmployee.php",s).then((function(){a(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=Object(w.a)({},e.state.errors);t.confirmUserPassword=" ";var a=!0;e.setState({errors:t,confirmUserPassword:"",submitted:!1,updated:a}),setTimeout((function(){a=!1,e.setState({updated:a})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),Object.values(t.homeAddressErrors).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(t){e.isObject(t)?Object.values(t).forEach((function(t){e.isObject(t)||t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})):t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.isObject=function(e){return e instanceof Object},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderHomeAddressErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&" "!==e&&a.push(Object(s.jsxs)("small",{className:"text-danger ml-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),e]}))})),[a]}},e.onReset=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.record.homeAddress),s=Object(w.a)({},e.state.errors),r=Object(w.a)({},e.state.errors.homeAddressErrors),n=e.props.customer,c=e.state.passwordState;c.buttonText="Show",c.inputType="password",a.lotBlock=n.lotBlock,a.street=n.street.substring(0,n.street.length-4),a.subdivision=n.subdivision,a.barangay=n.barangay.substring(6,n.barangay.length),a.municipality=n.municipality.substring(0,n.municipality.length-5),a.province=n.province,t.lastName=n.lastName,t.firstName=n.firstName,t.middleName=n.middleName,t.homeAddress=a,t.birthdate=n.birthdate;var l=n.mobileNumber.split("-");l=(l=l.join("")).substring(3,l.length),t.mobileNumber=l,t.emailAddress=n.emailAddress,t.email=n.email,t.userPassword=n.userPassword,r.lotBlock="",r.street="",r.subdivision="",r.barangay="",r.municipality="",r.province="",s.lastName="",s.firstName="",s.middleName="",s.homeAddressErrors=r,s.birthdate="",s.mobileNumber="",s.emailAddress="",s.userPassword="",s.confirmUserPassword=" ",e.setState({record:t,confirmUserPassword:"",errors:s,passwordState:c,deleteState:!1,submitError:!1,updated:!1,failed:!1})},e.onTogglePassword=function(){var t=Object(w.a)({},e.state.passwordState);"password"===t.inputType?(t.inputType="text",t.buttonText="Hide"):(t.inputType="password",t.buttonText="Show"),e.setState({passwordState:t})},e.defaultButtons=function(){return!e.props.connected||e.state.submitted||e.state.deleting||e.state.deleted?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),e.props.connected?Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}):Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]})},e.onToggleDelete=function(){var t=!e.state.deleteState;e.setState({deleteState:t})},e.deleteButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Confirm Delete"})]}),Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-arrow-left"}),Object(s.jsx)("span",{className:"ml-1",children:"Cancel Delete"})]})]})},e.onDelete=function(){var t=e.state.record,a=e.props.onRefresh;e.props.onSubmitForm(),e.deletion(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/deleteCustomer.php",t).then(e.postDelete).catch((function(t){console.log(t),a(),e.failedDelete()}))},e.deletion=function(){e.setState({deleteState:!1,deleting:!0})},e.postDelete=function(){e.setState({deleting:!1,deleted:!0},(function(){setTimeout((function(){document.getElementById("btnClose-"+e.props.customer.id).click(),e.props.onRefresh()}),5e3)}))},e.failedDelete=function(){var t=!0;e.setState({deleting:!1,failed:t},(function(){setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)}))},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.removeMultipleSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "===e.charAt(a)?0!==a&&" "!==e.charAt(a-1)&&(t+=e.charAt(a)):t+=e.charAt(a);return t},e.spaceFound=function(e){return!!e.match(" ")},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.customer,a=e.history,s=Object(w.a)({},this.state.record);s.id=t.id,s.lastName=t.lastName,s.firstName=t.firstName,s.middleName=t.middleName,s.homeAddress.lotBlock=t.lotBlock,s.homeAddress.street=t.street.substring(0,t.street.length-4),s.homeAddress.subdivision=t.subdivision,s.homeAddress.barangay=t.barangay.substring(6,t.barangay.length),s.homeAddress.municipality=t.municipality.substring(0,t.municipality.length-5),s.homeAddress.province=t.province,s.birthdate=t.birthdate;var r=t.mobileNumber.split("-");r=(r=r.join("")).substring(3,r.length),s.mobileNumber=r,s.emailAddress=t.emailAddress,s.email=t.email,s.userPassword=t.userPassword,s.employee.empId=a.location.state.id,s.employee.empName=a.location.state.fullName,this.setState({record:s})}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmUserPassword,c=e.passwordState,l=e.deleteState,o=e.submitted,i=e.updated,d=e.failed,m=e.deleting,b=e.deleted,h=this.state.record.homeAddress,j=a.homeAddressErrors,u=this.props.customer;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewCustomerModal-"+u.id,tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"viewCustomerrModalTitle-"+u.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewCustomerModalTitle-"+u.id,children:"Customer Info"}),!o&&this.props.connected||b?Object(s.jsx)("button",{id:"btnClose-"+u.id,className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[o?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):i?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully updated."})]}):d?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):m?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-trash text-primary mr-2"}),Object(s.jsx)("span",{children:"Deleting a record..."})]}):b?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully deleted."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"ID"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),o||m||b?Object(s.jsx)("input",{className:"form-control",type:"text",name:"lastName",value:t.lastName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.lastName),type:"text",name:"lastName",value:t.lastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.lastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),o||m||b?Object(s.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:t.firstName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.firstName),type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.firstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),o||m||b?Object(s.jsx)("input",{className:"form-control",type:"text",name:"middleName",value:t.middleName,placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.middleName),type:"text",name:"middleName",value:t.middleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.middleName)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Home Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"row mx-0",children:[Object(s.jsx)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:o||m||b?Object(s.jsx)("input",{className:"form-control",type:"text",name:"lotBlock",value:h.lotBlock,placeholder:"Lot/Block (Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(j.lotBlock),type:"text",name:"lotBlock",value:h.lotBlock,onChange:this.onChangeHomeAddress,placeholder:"Lot/Block (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:[o||m||b?Object(s.jsx)("input",{className:"form-control",type:"text",name:"street",value:h.street,placeholder:"Street",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(j.street),type:"text",name:"street",value:h.street,onChange:this.onChangeHomeAddress,placeholder:"Street",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"St."})})]}),Object(s.jsx)("div",{className:"col-lg-6 input-group px-0",children:o||m||b?Object(s.jsx)("input",{className:"form-control",type:"text",name:"subdivision",value:h.subdivision,placeholder:"Subdivision (Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(j.subdivision),type:"text",name:"subdivision",value:h.subdivision,onChange:this.onChangeHomeAddress,placeholder:"Subdivision (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("div",{className:"input-group-prepend",children:Object(s.jsx)("span",{className:"input-group-text",children:"Brgy."})}),o||m||b?Object(s.jsx)("input",{className:"form-control",type:"text",name:"barangay",value:h.barangay,placeholder:"Barangay",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(j.barangay),type:"text",name:"barangay",value:h.barangay,onChange:this.onChangeHomeAddress,placeholder:"Barangay",noValidate:!0})]}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[o||m||b?Object(s.jsx)("input",{className:"form-control",type:"text",name:"municipality",value:h.municipality,placeholder:"Municipality",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(j.municipality),type:"text",name:"municipality",value:h.municipality,onChange:this.onChangeHomeAddress,placeholder:"Municipality",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"City"})})]}),Object(s.jsx)("div",{className:"col-lg-4 input-group px-0",children:o||m||b?Object(s.jsx)("input",{className:"form-control",type:"text",name:"province",value:h.province,placeholder:"Province (Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(j.province),type:"text",name:"province",value:h.province,onChange:this.onChangeHomeAddress,placeholder:"Province (Optional)",noValidate:!0})})]})," ",this.renderHomeAddressErrors(j)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),o||m||b?Object(s.jsx)("input",{className:"form-control",type:"date",name:"birthdate",value:t.birthdate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Mobile Number",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("span",{className:"input-group-text",children:"+63"}),o||m||b?Object(s.jsx)("input",{className:"form-control",type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.mobileNumber),type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0})]}),this.renderRecordErrors(a.mobileNumber)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Email Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.connected||o||m||b?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[o||m||b?Object(s.jsx)("input",{className:"w-xs-100 form-control",type:"text",name:"emailAddress",value:t.emailAddress,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"w-xs-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),o||m||b?Object(s.jsxs)("select",{className:"input-group-text form-control",name:"email",value:t.email,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]}):Object(s.jsxs)("select",{className:"input-group-text form-control",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress),Object(s.jsx)("div",{children:Object(s.jsxs)("small",{className:"text-success ml-2",children:[Object(s.jsx)("i",{className:"fa fa-info-circle mr-1"}),Object(s.jsx)("span",{children:"Valid Symbols:\xa0"}),Object(s.jsx)("span",{children:"!#$%^&*.?_-"})]})})]}):this.props.connectionFailed?Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.onRefresh,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("div",{className:"input-group",children:o||m||b?Object(s.jsx)("input",{className:"zi-10 form-control",type:c.inputType,name:"userPassword",value:t.userPassword,noValidate:!0,disabled:!0}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("input",{className:"zi-10 "+this.inputFieldClasses(a.userPassword),type:c.inputType,name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePassword,children:c.buttonText})})]})})," ",this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),o||m||b?Object(s.jsx)("input",{className:"form-control",type:"password",name:"confirmUserPassword",value:r,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmUserPassword),type:"password",name:"confirmUserPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmUserPassword)]})]}),o?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):i?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully updated."})]}):d?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):m?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-trash text-primary mr-2"}),Object(s.jsx)("span",{children:"Deleting a record..."})]}):b?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully deleted."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:l?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),oe=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",transType:"",transDate:"",petId:"",customerId:"",petWeight:"",remarks:"",empId:"",checkUp:{findings:"",treatment:"",admissionDate:"",releasedDate:"",addInfo:""},groom:{activity:""},employee:{empId:"",empName:""}},errors:{transType:" ",petId:" ",customerId:" ",petWeight:" ",remarks:"",empId:" ",checkUpErrors:{findings:" ",treatment:" ",addInfo:""},groomErrors:{activity:" "}},pet:{search:!1,searchValue:""},employee:{search:!1,searchValue:""},submitError:!1,submitted:!1,added:!1,failed:!1},e.onGenerateId=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.errors),s=e.props,r=s.customer,n=s.history,c=e.generateCharacters(6);t.id=c,t.customerId=r.id,a.customerId="";var l=e.getCurrentDate();t.transDate=l,t.checkUp.admissionDate=l,t.checkUp.releasedDate=l,t.employee.empId=n.location.state.id,t.employee.empName=n.location.state.fullName,e.setState({record:t,errors:a})},e.getCurrentDate=function(){var e=new Date,t=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate():e.getDate();return e.getFullYear()+"-"+t+"-"+a},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;if("remarks"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)})),"transType"===s){var n=Object(w.a)({},e.state.record.checkUp),c=Object(w.a)({},e.state.errors.checkUpErrors);n.findings="",n.treatment="";var l=e.getCurrentDate();n.admissionDate=l,n.releasedDate=l,n.addInfo="",c.findings=" ",c.treatment=" ",c.addInfo="";var o=Object(w.a)({},e.state.record.groom),i=Object(w.a)({},e.state.errors.groomErrors);o.activity="",i.activity=" ",e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{checkUp:n,groom:o}),errors:Object(w.a)(Object(w.a)({},e.errors),{},{checkUpErrors:c,groomErrors:i})})}))}},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors);switch(s){case"transType":n.transType=0===r.length?" ":"";break;case"empId":n.empId=0===r.length?" ":"";break;case"customerId":n.customerId=0===r.length?" ":"";break;case"petId":n.petId=0===r.length?" ":"";break;case"petWeight":n.petWeight=0===r.length?" ":Object(P.isNumeric)(r)?r.length>6?"Must be at maximum of 6 numbers":"":"Please input a valid value";break;case"remarks":n.remarks=r.length>128?"Must be at maximum of 128 characters":""}e.setState({errors:n})},e.onChangeCheckUp=function(t){var a=t.target,s=a.name,r=a.value;"admissionDate"!==s&&"releasedDate"!==s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{checkUp:Object(w.a)(Object(w.a)({},e.record.checkUp),{},Object(C.a)({},s,r))})})}),(function(){return e.onCheckCheckUpErrors(t)}))},e.onCheckCheckUpErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors.checkUpErrors),c=e.removeSpaces(r).length;switch(s){case"findings":n.findings=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"treatment":n.treatment=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"addInfo":n.addInfo=r.length>128?"Must be at maximum of 128 characters":""}e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{errors:Object(w.a)(Object(w.a)({},e.errors),{},{checkUpErrors:n})})}))},e.onChangeGroom=function(t){var a=t.target,s=a.name,r=a.value;"activity"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},{groom:Object(w.a)(Object(w.a)({},e.record.groom),{},Object(C.a)({},s,r))})})}),(function(){return e.onCheckGroomErrors(t)}))},e.onCheckGroomErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors.groomErrors),c=e.removeSpaces(r).length;switch(s){case"activity":n.activity=0===c?" ":c<2||r.length>32?"Must be at between 2 and 32 characters":0===c?" ":""}e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{errors:Object(w.a)(Object(w.a)({},e.errors),{},{groomErrors:n})})}))},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=Object(w.a)({},e.state.record);a.remarks=e.removeLastSpace(a.remarks),a.checkUp.findings=e.removeLastSpace(a.checkUp.findings),a.checkUp.treatment=e.removeLastSpace(a.checkUp.treatment),a.checkUp.addInfo=e.removeLastSpace(a.checkUp.addInfo),a.groom.activity=e.removeLastSpace(a.groom.activity),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/insertTransaction.php",a).then((function(){e.onReset(),e.postSubmit()})).catch((function(t){console.log(t),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){e.onReset();var t=!0;e.setState({submitted:!1,added:t}),setTimeout((function(){t=!1,e.setState({added:t})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(t){var a=t.errors,s=e.state.record,r=!0;return Object.values(a).forEach((function(e){e.length>0&&(r=!1)})),"C"===s.transType?Object.values(a.checkUpErrors).forEach((function(e){e.length>0&&(r=!1)})):"G"===s.transType&&Object.values(a.groomErrors).forEach((function(e){e.length>0&&(r=!1)})),r},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.record.checkUp),s=Object(w.a)({},e.state.record.groom),r=Object(w.a)({},e.state.errors),n=Object(w.a)({},e.state.errors.checkUp),c=Object(w.a)({},e.state.errors.groom),l=e.getCurrentDate(),o=e.generateCharacters(6);s.activity="",a.findings="",a.treatment="",a.admissionDate=l,a.releasedDate=l,a.addInfo="",t.id=o,t.transType="",t.transDate=l,t.petId="",t.petWeight="",t.remarks="",t.empId="",t.checkUp=a,t.groom=s,c.activity=" ",n.findings=" ",n.treatment=" ",n.addInfo="",r.transType=" ",r.petId=" ",r.customerId=" ",r.remarks="",r.empId=" ",r.checkUpErrors=n,r.groomErrors=c,e.setState({record:t,errors:r,submitError:!1,added:!1,failed:!1})},e.onTogglePetSearch=function(t){t.preventDefault();var a=Object(w.a)({},e.state.pet);a.search=!a.search,a.searchValue="",e.setState({pet:a})},e.onClearPetSearch=function(t){t.preventDefault();var a=Object(w.a)({},e.state.pet);a.searchValue="",e.setState({pet:a})},e.onChangePetSearch=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.record),c=Object(w.a)({},e.state.errors);n.petId="",c.petId=" ",e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:n,errors:c,pet:Object(w.a)(Object(w.a)({},e.pet),{},Object(C.a)({},s,r))})}))},e.onToggleEmployeeSearch=function(t){t.preventDefault();var a=Object(w.a)({},e.state.employee);a.search=!a.search,a.searchValue="",e.setState({employee:a})},e.onClearEmployeeSearch=function(t){t.preventDefault();var a=Object(w.a)({},e.state.employee);a.searchValue="",e.setState({employee:a})},e.onChangeEmployeeSearch=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.record),c=Object(w.a)({},e.state.errors);n.empId="",c.empId=" ",e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:n,errors:c,employee:Object(w.a)(Object(w.a)({},e.employee),{},Object(C.a)({},s,r))})}))},e.checkUpForm=function(){var t=e.state.submitted,a=e.state.record.checkUp,r=e.state.errors.checkUpErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsxs)("div",{className:"row mt-3",children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Findings",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"text",name:"findings",value:a.findings,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:e.inputFieldClasses(r.findings),type:"text",name:"findings",value:a.findings,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(r.findings)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Treatment",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"text",name:"treatment",value:a.treatment,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:e.inputFieldClasses(r.treatment),type:"text",name:"treatment",value:a.treatment,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(r.treatment)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Admission Date",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"date",name:"admissionDate",value:a.admissionDate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"admissionDate",value:a.admissionDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Released Date",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"date",name:"releasedDate",value:a.releasedDate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"releasedDate",value:a.releasedDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Additional Information"}),t?Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"addInfo",value:a.addInfo,rows:"2",noValidate:!0}):Object(s.jsx)("textarea",{className:e.inputFieldClasses(r.addInfo),type:"text",name:"addInfo",value:a.addInfo,onChange:e.onChangeCheckUp,rows:"2",noValidate:!0}),e.renderRecordErrors(r.addInfo)]})]})})},e.groomForm=function(){var t=e.state.submitted,a=e.state.record.groom,r=e.state.errors.groomErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Activity",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t?Object(s.jsx)("input",{className:"form-control",type:"text",name:"activity",value:a.activity,noValidate:!0}):Object(s.jsx)("input",{className:e.inputFieldClasses(r.activity),type:"text",name:"activity",value:a.activity,onChange:e.onChangeGroom,noValidate:!0}),e.renderRecordErrors(r.activity)]})})})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.pet,c=e.employee,l=e.submitted,o=e.added,i=e.failed,d=this.props.customer;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addTransactionModal-"+d.id,tabIndex:"-1",role:"dialog","aria-labelledby":"addTransactionModalTitle-"+d.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addTransactionModalTitle-"+d.id,children:"Add Transaction for "+d.id+" | "+d.lastName+", "+d.firstName+" "+d.middleName}),l?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[l?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):o?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully added."})]}):i?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Date",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),l?Object(s.jsx)("input",{className:"form-control",type:"date",name:"transDate",value:t.transDate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"transDate",value:t.transDate,onChange:this.onChangeRecord,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsxs)("select",{className:"form-control",name:"transType",value:t.transType,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),Object(s.jsx)("option",{value:"C",children:"Check-up"}),Object(s.jsx)("option",{value:"G",children:"Groom"})]}):Object(s.jsxs)("select",{className:this.inputFieldClasses(a.transType),name:"transType",value:t.transType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),Object(s.jsx)("option",{value:"C",children:"Check-up"}),Object(s.jsx)("option",{value:"G",children:"Groom"})]}),this.renderRecordErrors(a.transType)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Employee ID",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.employeeConnected||l?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"input-group",children:l?Object(s.jsxs)("select",{className:"zi-10 form-control",name:"empId",value:t.empId,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.employees.length>0?this.props.employees.filter((function(e){return(e.empLastName+", "+e.empFirstName+" "+e.empMiddleName).toLowerCase().match(c.searchValue.toLowerCase())||""===c.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.empLastName+", "+e.empFirstName+" "+e.empMiddleName},e.id)})):null]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.empId),name:"empId",value:t.empId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.employees.length>0?this.props.employees.filter((function(e){return(e.empLastName+", "+e.empFirstName+" "+e.empMiddleName).toLowerCase().match(c.searchValue.toLowerCase())||""===c.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.empLastName+", "+e.empFirstName+" "+e.empMiddleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleEmployeeSearch,children:"Search"})})]})}),c.search&&!l?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:c.searchValue,onChange:this.onChangeEmployeeSearch,placeholder:"Search by Employee Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearEmployeeSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.empId)]}):this.props.employeeConnectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.retryEmployeesData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Customer ID",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:"form-control",name:"customerId",value:t.customerId,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet ID",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.petConnected||l?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[l?Object(s.jsxs)("select",{className:"zi-10 form-control",name:"petId",value:t.petId,noValidate:!0,disabled:!0,children:[this.props.pets.filter((function(e){return e.petName.toLowerCase().match(r.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===r.searchValue&&e.ownerId===t.customerId})).length>0||r.searchValue.length>0?Object(s.jsx)("option",{value:"",children:"Choose one"}):t.customerId.length>0?Object(s.jsx)("option",{value:"",children:"No pet found"}):Object(s.jsx)("option",{value:"",children:"Customer ID is required"}),this.props.pets.length>0?this.props.pets.filter((function(e){return e.petName.toLowerCase().match(r.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===r.searchValue&&e.ownerId===t.customerId})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.petName},e.id)})):null]}):Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.petId),name:"petId",value:t.petId,onChange:this.onChangeRecord,noValidate:!0,children:[this.props.pets.filter((function(e){return e.petName.toLowerCase().match(r.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===r.searchValue&&e.ownerId===t.customerId})).length>0||r.searchValue.length>0?Object(s.jsx)("option",{value:"",children:"Choose one"}):t.customerId.length>0?Object(s.jsx)("option",{value:"",children:"No pet found"}):Object(s.jsx)("option",{value:"",children:"Customer ID is required"}),this.props.pets.length>0?this.props.pets.filter((function(e){return e.petName.toLowerCase().match(r.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===r.searchValue&&e.ownerId===t.customerId})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.petName},e.id)})):null]}),(this.props.pets.filter((function(e){return e.petName.match(r.searchValue)&&e.ownerId===t.customerId||""===r.searchValue&&e.ownerId===t.customerId})).length>0||r.searchValue.length>0)&&!l?Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePetSearch,children:"Search"})}):null]}),r.search&&!l?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:r.searchValue,onChange:this.onChangePetSearch,placeholder:"Search by Pet Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearPetSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.petId)]}):this.props.customerConnectionFailed?Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.retryPetsData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Weight",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"petWeight",value:t.petWeight,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.petWeight),type:"text",name:"petWeight",value:t.petWeight,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"Kilogram"})})]}),this.renderRecordErrors(a.petWeight)]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Remarks"}),l?Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"remarks",value:t.remarks,rows:"2",noValidate:!0,disabled:!0}):Object(s.jsx)("textarea",{className:this.inputFieldClasses(a.remarks),type:"text",name:"remarks",value:t.remarks,onChange:this.onChangeRecord,rows:"2",noValidate:!0}),this.renderRecordErrors(a.remarks)]}),"C"===t.transType?this.checkUpForm():"G"===t.transType?this.groomForm():null]}),l?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):o?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully added."})]}):i?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:!l&&this.props.petConnected&&this.props.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})})]})})})})}}]),a}(r.Component),ie=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1,employee:{id:"",empId:"",empName:""}},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=function(){var a=i;c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[i].lastName+", "+t[i].firstName+" "+t[i].middleName}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[i].emailAddress+t[i].email}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[i].mobileNumber}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:t[i].noOfPets}),Object(s.jsxs)("td",{children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewCustomerModal-"+t[i].id,onClick:function(){return e.logCustomerView(t[a].id)},children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"View"})]}),Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm","data-toggle":"modal","data-target":"#addTransactionModal-"+t[i].id,children:[Object(s.jsx)("i",{className:"fa fa-pencil-alt"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Transact"})]})]})]},t[i].id))},i=e.state.recordStartIndex;i<l;i++)o();return[c]},e.logCustomerView=function(t){var a=Object(w.a)({},e.state.employee);a.id=t,e.setState({employee:a},(function(){u.a.post("https://princemc.heliohost.us/veterinaryClinic/logCustomerView.php",a)}))},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.componentDidMount=function(){var t=e.props.history,a=Object(w.a)({},e.state.employee);a.empId=t.location.state.id,a.empName=t.location.state.fullName,e.setState({employee:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.customers,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.connected,i=e.connectionFailed,d=e.onSubmitForm,m=e.history,b=this.state,h=b.recordsPerPage,j=b.recordStartIndex,u=b.activePage,p=this.props,x=p.pets,g=p.retryPetsData,O=p.petConnected,f=p.petConnectionFailed,N=this.props,v=N.employees,y=N.retryEmployeesData,C=N.employeeConnected,w=N.employeeConnectionFailed;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addCustomerModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{className:"min-w-170px",children:"Name"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Email Address"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell w-155px",children:"Mobile Number"}),Object(s.jsx)("th",{className:"d-none d-sm-table-cell w-30px",children:"Pets"}),Object(s.jsx)("th",{className:"w-190px min-w-95px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&o?this.renderItems(t):null})]}),t.length>0&&o?Object(s.jsx)(M,{setPage:this.setPage,recordsPerPage:h,recordStartIndex:j,activePage:u,totalRecords:t.length}):null,Object(s.jsx)(ce,{onRefresh:a,customers:t,history:m,connected:o,connectionFailed:i,onSubmitForm:d}),t.map((function(e){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(le,{customer:e,onRefresh:a,customers:t,connected:o,connectionFailed:i,onSubmitForm:d,history:m}),Object(s.jsx)(oe,{customer:e,history:m,pets:x,retryPetsData:g,petConnected:O,petConnectionFailed:f,employees:v,retryEmployeesData:y,employeeConnected:C,employeeConnectionFailed:w})]},e.id)}))]})}}]),a}(r.Component),de=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={customers:[],connected:!1,connectionFailed:!1,searchValue:"",pets:[],petConnected:!1,petConnectionFailed:!1,employees:[],employeeConnected:!1,employeeConnectionFailed:!1},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(Q,{sourceId:1,activeId:3,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark pt-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5",children:[Object(s.jsx)("h3",{children:"Manage Customers"}),Object(s.jsx)(ie,{customers:e.state.customers,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,history:t,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm,pets:e.state.pets,retryPetsData:e.retryPetsData,petConnected:e.state.petConnected,petConnectionFailed:e.state.petConnectionFailed,employees:e.state.employees,retryEmployeesData:e.retryEmployeesData,employeeConnected:e.state.employeeConnected,employeeConnectionFailed:e.state.employeeConnectionFailed}),Object(s.jsx)("div",{className:"text-center mt-5",children:e.state.connected?0===e.state.customers.length?Object(s.jsx)("h1",{children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-danger",children:[Object(s.jsx)("h1",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h3",{children:"Please wait..."})]})})]})})}),Object(s.jsx)(F,{})]})},e.getData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({customers:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){u.a.get("https://princemc.heliohost.us/veterinaryClinic/searchCustomer.php?search="+t).then((function(t){var a=t.data;e.setState({customers:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.retryPetsData=function(){e.getPetsData();e.setState({petConnected:!1,petConnectionFailed:!1})},e.getPetsData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewPets.php").then((function(t){var a=t.data;e.setState({pets:a,petConnected:!0})})).catch((function(t){console.log(t);e.setState({petConnectionFailed:!0})}))},e.retryEmployeesData=function(){e.getEmployeesData();e.setState({employeeConnected:!1,employeeConnectionFailed:!1})},e.getEmployeesData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({employees:a,employeeConnected:!0})})).catch((function(t){console.log(t);e.setState({employeeConnectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData(),this.getPetsData(),this.getEmployeesData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(X,{history:e})})}}]),a}(r.Component),me=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",petName:"",birthdate:"",ownerId:"",petClass:"",lastVisit:"",pcciRegNo:"",employee:{empId:"",empName:""}},errors:{petName:" ",birthdate:" ",ownerId:" ",petClass:" ",pcciRegNo:""},petClasses:["Alligator","Alpaca","Ant","Bear","Bird","Bull","Cat","Chicken","Crab","Crocodile","Deer","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Fox","Frog","Gecko","Gerbil","Giraffe","Goat","Gorilla","Grasshopper","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Jaguar","Lion","Lizard","Mantis","Monkey","Mouse","Octopus","Orangutan","Orstrich","Pig","Panda","Quill","Rabbit","Raccoon","Rat","Reindeer","Salamander","Sheep","Snake","Spider","Squirrel","Tiger","Tortoise","Turtle","Wolf","Whale","Zebra"],search:!1,searchValue:"",submitError:!1,submitted:!1,added:!1,failed:!1},e.onGenerateId=function(){var t=e.props.history,a=Object(w.a)({},e.state.record),s=e.generateCharacters(6);a.id=s,a.employee.empId=t.location.state.id,a.employee.empName=t.location.state.fullName,e.setState({record:a})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.record),c=Object(w.a)({},e.state.errors);"searchValue"===s&&(n.ownerId="",c.ownerId=" "),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(C.a)({record:n,errors:c},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"ownerId":n.ownerId=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length<6&&0!==r.length?"Must be at exact 6 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(w.a)({},e.state.record);s.petName=e.removeLastSpace(s.petName),e.props.onSubmitForm(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/insertPetEmployee.php",s).then((function(){a(),e.onReset(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=!0;e.setState({submitted:!1,added:t}),setTimeout((function(){t=!1,e.setState({added:t})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){e.onGenerateId();var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.errors);t.id=e.generateCharacters(6),t.petName="",t.birthdate="",t.ownerId="",t.petClass="",t.pcciRegNo="",a.petName="Pet Name is required",a.birthdate="Birthdate is required",a.ownerId="Owner ID is required",a.petClass="Pet Class is required",a.pcciRegNo="";e.setState({record:t,errors:a,searchValue:"",submitError:!1,added:!1,failed:!1})},e.onToggleSearch=function(t){t.preventDefault();var a=!e.state.search;e.setState({search:a,searchValue:""})},e.onClearSearch=function(t){t.preventDefault();e.setState({searchValue:""})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.retryCustomersData=function(){e.getCustomersData();e.setState({connected:!1,connectionFailed:!1})},e.getCustomersData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.petClasses,c=e.search,l=e.searchValue,o=e.submitted,i=e.added,d=e.failed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addPetModal",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"addPetModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addPetModalTitle",children:"Add Pet"}),o?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[o?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):i?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully added."})]}):d?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"ID"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0}),o?null:Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),o?Object(s.jsx)("input",{className:"form-control",type:"text",name:"petName",value:t.petName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.petName),type:"text",name:"petName",value:t.petName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),o?Object(s.jsx)("input",{className:"form-control",type:"date",name:"birthdate",value:t.birthdate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Owner ID",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.connected||o?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"input-group",children:o?Object(s.jsxs)("select",{className:"form-control",name:"ownerId",value:t.ownerId,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.records.length>0?this.props.records.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(l.toLowerCase())||""===l})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.ownerId),name:"ownerId",value:t.ownerId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.records.length>0?this.props.records.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(l.toLowerCase())||""===l})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleSearch,children:"Search"})})]})}),c&&!o?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:l,onChange:this.onChangeState,placeholder:"Search by Owner Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.ownerId)]}):this.props.connectionFailed?Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.retryCustomersData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),o?Object(s.jsxs)("select",{className:"form-control",name:"petClass",value:t.petClass,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}):Object(s.jsxs)("select",{className:this.inputFieldClasses(a.petClass),name:"petClass",value:t.petClass,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(a.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),o?Object(s.jsx)("input",{className:"form-control",type:"text",name:"pcciRegNo",value:t.pcciRegNo,maxLength:"6",placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.pcciRegNo),type:"text",name:"pcciRegNo",value:t.pcciRegNo,onChange:this.onChangeRecord,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.pcciRegNo)]})]})]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:!o&&this.props.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})})]})})})})}}]),a}(r.Component),be=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",petName:"",birthdate:"",ownerId:"",petClass:"",lastVisit:"",pcciRegNo:"",employee:{empId:"",empName:""}},errors:{petName:"",birthdate:"",ownerId:"",petClass:"",pcciRegNo:""},petClasses:["Alligator","Alpaca","Ant","Bear","Bird","Bull","Cat","Chicken","Crab","Crocodile","Deer","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Fox","Frog","Gecko","Gerbil","Giraffe","Goat","Gorilla","Grasshopper","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Jaguar","Lion","Lizard","Mantis","Monkey","Mouse","Octopus","Orangutan","Orstrich","Pig","Panda","Quill","Rabbit","Raccoon","Rat","Reindeer","Salamander","Sheep","Snake","Spider","Squirrel","Tiger","Tortoise","Turtle","Wolf","Whale","Zebra"],search:!1,searchValue:"",deleteState:!1,submitError:!1,submitted:!1,updated:!1,failed:!1,deleting:!1,deleted:!1},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.record),c=Object(w.a)({},e.state.errors);"searchValue"===s&&(n.ownerId="",c.ownerId=" "),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(C.a)({record:n,errors:c},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"ownerId":n.ownerId=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length<6&&0!==r.length?"Must be at exact 6 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(w.a)({},e.state.record);s.petName=e.removeLastSpace(s.petName),e.props.onSubmitForm(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/updatePet.php",s).then((function(){a(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=!0;e.setState({submitted:!1,updated:t}),setTimeout((function(){t=!1,e.setState({updated:t})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.errors),s=e.props.pet;t.petName=s.petName,t.birthdate=s.birthdate,t.ownerId=s.ownerId,t.petClass=s.petClass,t.pcciRegNo=s.pcciRegNo,a.petName="",a.birthdate="",a.ownerId="",a.petClass="",a.pcciRegNo="";e.setState({record:t,errors:a,searchValue:"",deleteState:!1,submitError:!1,updated:!1,failed:!1})},e.onToggleSearch=function(t){t.preventDefault();var a=!e.state.search;e.setState({search:a})},e.onClearSearch=function(t){t.preventDefault();e.setState({searchValue:""})},e.defaultButtons=function(){return e.state.submitted||!e.props.customerConnected||e.state.deleting||e.state.deleted?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),e.props.connected?Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}):Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]})},e.onToggleDelete=function(){var t=!e.state.deleteState;e.setState({deleteState:t})},e.deleteButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Confirm Delete"})]}),Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-arrow-left"}),Object(s.jsx)("span",{className:"ml-1",children:"Cancel Delete"})]})]})},e.onDelete=function(){var t=e.state.record,a=e.props.onRefresh;e.props.onSubmitForm(),e.deletion(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/deletePetEmployee.php",t).then(e.postDelete).catch((function(t){console.log(t),a(),e.failedDelete()}))},e.deletion=function(){e.setState({deleteState:!1,deleting:!0})},e.postDelete=function(){e.setState({deleting:!1,deleted:!0},(function(){setTimeout((function(){document.getElementById("btnClose-"+e.props.pet.id).click(),e.props.onRefresh()}),5e3)}))},e.failedDelete=function(){var t=!0;e.setState({deleting:!1,failed:t},(function(){setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)}))},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pet,a=e.history,s=Object(w.a)({},this.state.record);s.id=t.id,s.petName=t.petName,s.birthdate=t.birthdate,s.ownerId=t.ownerId,s.petClass=t.petClass,s.lastVisit=t.lastVisit,s.pcciRegNo=t.pcciRegNo,s.employee.empId=a.location.state.id,s.employee.empName=a.location.state.fullName,this.setState({record:s})}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.petClasses,c=e.search,l=e.searchValue,o=e.deleteState,i=e.submitted,d=e.updated,m=e.failed,b=e.deleting,h=e.deleted,j=this.props.pet;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewPetModal-"+j.id,tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"viewPetModalTitle-"+j.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewPetModalTitle-"+j.id,children:"Pet Info"}),!i&&this.props.connected||h?Object(s.jsx)("button",{id:"btnClose-"+j.id,className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[i?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):d?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully updated."})]}):m?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):b?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-trash text-primary mr-2"}),Object(s.jsx)("span",{children:"Deleting a record..."})]}):h?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully deleted."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"ID"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,placeholder:"Please click 'Generate'",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),i||b||h?Object(s.jsx)("input",{className:"form-control",type:"text",name:"petName",value:t.petName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.petName),type:"text",name:"petName",value:t.petName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),i||b||h?Object(s.jsx)("input",{className:"form-control",type:"date",name:"birthdate",value:t.birthdate,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Owner ID",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.props.customerConnected||i?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"input-group",children:i||b||h?Object(s.jsxs)("select",{className:"form-control",name:"ownerId",value:t.ownerId,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.records.length>0?this.props.records.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(l.toLowerCase())||""===l})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.ownerId),name:"ownerId",value:t.ownerId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),this.props.records.length>0?this.props.records.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(l.toLowerCase())||""===l})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleSearch,children:"Search"})})]})}),!c||i||b||h?null:Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:l,onChange:this.onChangeState,placeholder:"Search by Owner Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearSearch,children:"Clear"})})]})," ",this.renderRecordErrors(a.ownerId)]}):this.props.customerConnectionFailed?Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("input",{className:"form-control border border-danger zi-10",value:"Database Connection Failed: Please try again later.",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append justify-content-end",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.props.retryCustomersData,children:"Retry"})})]}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),i||b||h?Object(s.jsxs)("select",{className:"form-control",name:"petClass",value:t.petClass,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}):Object(s.jsxs)("select",{className:this.inputFieldClasses(a.petClass),name:"petClass",value:t.petClass,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(a.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),i||b||h?Object(s.jsx)("input",{className:"form-control",type:"text",name:"pcciRegNo",value:t.pcciRegNo,maxLength:"6",placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.pcciRegNo),type:"text",name:"pcciRegNo",value:t.pcciRegNo,onChange:this.onChangeRecord,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.pcciRegNo)]})]})]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:o?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),he=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1,employee:{id:"",empId:"",empName:""}},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=function(){var a=i;c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[i].ownerLastName+", "+t[i].ownerFirstName+" "+t[i].ownerMiddleName}),Object(s.jsx)("td",{children:t[i].petName}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:e.formatDate(t[i].birthdate)}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[i].petClass}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:null===t[i].lastVisit?"Not visiting yet":e.formatDate(t[i].lastVisit)}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewPetModal-"+t[i].id,onClick:function(){return e.logPetView(t[a].id)},children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"View"})]})})]},t[i].id))},i=e.state.recordStartIndex;i<l;i++)o();return[c]},e.logPetView=function(t){var a=Object(w.a)({},e.state.employee);a.id=t,e.setState({employee:a},(function(){u.a.post("https://princemc.heliohost.us/veterinaryClinic/logPetViewEmployee.php",a)}))},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.componentDidMount=function(){var t=e.props.history,a=Object(w.a)({},e.state.employee);a.empId=t.location.state.id,a.empName=t.location.state.fullName,e.setState({employee:a})},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.pets,r=t.onRefresh,c=t.onSearch,l=t.searchValue,o=t.onClear,i=t.connected,d=t.onSubmitForm,m=t.history,b=this.state,h=b.recordsPerPage,j=b.recordStartIndex,u=b.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addPetModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:r,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:c,value:l}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:o,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Owner Name"}),Object(s.jsx)("th",{children:"Pet Name"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell",children:"Birthdate"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Pet Class"}),Object(s.jsx)("th",{className:"d-none d-sm-table-cell",children:"Last Visit"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:a.length>0&&i?this.renderItems(a):null})]}),a.length>0&&i?Object(s.jsx)(M,{setPage:this.setPage,recordsPerPage:h,recordStartIndex:j,activePage:u,totalRecords:a.length}):null,Object(s.jsx)(me,{onRefresh:r,onSubmitForm:d,records:this.props.customers,retryCustomersData:this.props.retryCustomersData,connected:this.props.customerConnected,connectionFailed:this.props.customerConnectionFailed,history:m}),a.map((function(t){return Object(s.jsx)(be,{pet:t,onRefresh:r,connected:i,onSubmitForm:d,records:e.props.customers,retryCustomersData:e.props.retryCustomersData,customerConnected:e.props.customerConnected,customerConnectionFailed:e.props.customerConnectionFailed,history:m},t.id)}))]})}}]),a}(r.Component),je=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={pets:[],connected:!1,connectionFailed:!1,searchValue:"",customers:[],customerConnected:!1,customerConnectionFailed:!1},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(Q,{sourceId:1,activeId:4,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark pt-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Pets"}),Object(s.jsx)(he,{pets:e.state.pets,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,history:t,connected:e.state.connected,onSubmitForm:e.onSubmitForm,customers:e.state.customers,retryCustomersData:e.retryCustomersData,customerConnected:e.state.customerConnected,customerConnectionFailed:e.state.customerConnectionFailed}),Object(s.jsx)("div",{className:"text-center mt-5",children:e.state.connected?0===e.state.pets.length?Object(s.jsx)("h1",{children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-danger",children:[Object(s.jsx)("h1",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h3",{children:"Please wait..."})]})})]})})}),Object(s.jsx)(F,{})]})},e.getData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewPets.php").then((function(t){var a=t.data;e.setState({pets:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){u.a.get("https://princemc.heliohost.us/veterinaryClinic/searchPet.php?search="+t).then((function(t){var a=t.data;e.setState({pets:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.retryCustomersData=function(){e.getCustomersData();e.setState({customerConnected:!1,customerConnectionFailed:!1})},e.getCustomersData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({customers:a,customerConnected:!0})})).catch((function(t){console.log(t);e.setState({customerConnectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData(),this.getCustomersData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(X,{history:e})})}}]),a}(r.Component),ue=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",empLastName:"",empFirstName:"",empMiddleName:"",empType:"",empPassword:"",admin:{adminId:"",fullName:""}},confirmEmpPassword:"",errors:{empLastName:" ",empFirstName:" ",empMiddleName:"",empType:" ",empPassword:" ",confirmEmpPassword:" "},empTypes:["Admin","Groomer","Veterinarian"],submitError:!1,submitted:!1,added:!1,failed:!1},e.onGenerateId=function(){var t=e.props.history,a=Object(w.a)({},e.state.record),s=e.generateCharacters(6);a.id=s,a.admin.adminId=t.location.state.adminId,a.admin.fullName=t.location.state.adminName,e.setState({record:a})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(C.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"empLastName"===s&&(r=e.toProperCase(r)),"empFirstName"!==s&&"empMiddleName"!==s||(r=e.toAbsProperCase(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors),c=Object(w.a)({},e.state.record),l=e.state.confirmEmpPassword,o=e.removeSpaces(r).length;switch(s){case"empLastName":n.empLastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empFirstName":n.empFirstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empMiddleName":n.empMiddleName=r.length>24?"Must be at maximum of 24 characters":"";break;case"empType":n.empType=0===o?" ":"";break;case"empPassword":n.empPassword=0===o?" ":o<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmEmpPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmEmpPassword":n.confirmEmpPassword=0===o?" ":r===c.empPassword?o<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(w.a)({},e.state.record);s.empLastName=e.removeLastSpace(s.empLastName),s.empFirstName=e.removeLastSpace(s.empFirstName),s.empMiddleName=e.removeLastSpace(s.empMiddleName),e.props.onSubmitForm(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/insertEmployee.php",s).then((function(){a(),e.onReset(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=!0;e.setState({submitted:!1,added:t}),setTimeout((function(){t=!1,e.setState({added:t})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:e})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.errors);t.id=e.generateCharacters(6),t.empLastName="",t.empFirstName="",t.empMiddleName="",t.empType="",t.empPassword="",a.empLastName=" ",a.empFirstName=" ",a.empMiddleName="",a.empType=" ",a.empPassword=" ",a.confirmEmpPassword=" ",e.setState({record:t,confirmEmpPassword:"",errors:a,submitError:!1,submitted:!1,added:!1,failed:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmEmpPassword,c=e.empTypes,l=e.submitted,o=e.added,i=e.failed,d=this.props.history.location.state;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addEmployeeModal",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"addEmployeeModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addEmployeeModalTitle",children:"Add Employee"}),l?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[l?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):o?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully added."})]}):i?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"ID"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0}),l?null:Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"empLastName",value:t.empLastName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.empLastName),type:"text",name:"empLastName",value:t.empLastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.empLastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"empFirstName",value:t.empFirstName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.empFirstName),type:"text",name:"empFirstName",value:t.empFirstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.empFirstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),l?Object(s.jsx)("input",{className:"form-control",type:"text",name:"empMiddleName",value:t.empMiddleName,placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.empMiddleName),type:"text",name:"empMiddleName",value:t.empMiddleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.empMiddleName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Employee Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsxs)("select",{className:"form-control",name:"empType",value:t.empType,onChange:this.onChangeRecord,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.filter((function(e){return"Admin"!==e&&"Admin"===d.empType||"Master Admin"===d.empType})).map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}):Object(s.jsxs)("select",{className:this.inputFieldClasses(a.empType),name:"empType",value:t.empType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.filter((function(e){return"Admin"!==e&&"Admin"===d.empType||"Master Admin"===d.empType})).map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(a.empType)]}),Object(s.jsx)("div",{className:"form-group col-lg-6"}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"password",name:"empPassword",value:t.empPassword,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.empPassword),type:"password",name:"empPassword",value:t.empPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.empPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),l?Object(s.jsx)("input",{className:"form-control",type:"password",name:"confirmEmpPassword",value:r,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmEmpPassword),type:"password",name:"confirmEmpPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmEmpPassword)]})]})]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:l?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})})]})})})})}}]),a}(r.Component),pe=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",empLastName:"",empFirstName:"",empMiddleName:"",empType:"",empPassword:"",admin:{adminId:"",fullName:""}},confirmEmpPassword:"",errors:{empLastName:"",empFirstName:"",empMiddleName:"",empType:"",empPassword:"",confirmEmpPassword:" "},empTypes:["Admin","Groomer","Veterinarian"],passwordState:{inputType:"password",buttonText:"Show"},deleteState:!1,submitError:!1,submitted:!1,updated:!1,failed:!1,deleting:!1,deleted:!1},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(C.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"empLastName"===s&&(r=e.toProperCase(r)),"empFirstName"!==s&&"empMiddleName"!==s||(r=e.toAbsProperCase(r)),e.setState((function(e){return Object(w.a)(Object(w.a)({},e),{},{record:Object(w.a)(Object(w.a)({},e.record),{},Object(C.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(w.a)({},e.state.errors),c=Object(w.a)({},e.state.record),l=e.state.confirmEmpPassword,o=e.removeSpaces(r).length;switch(s){case"empLastName":n.empLastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empFirstName":n.empFirstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empMiddleName":n.empMiddleName=r.length>24?"Must be at maximum of 24 characters":"";break;case"empType":n.empType=0===o?" ":"";break;case"empPassword":n.empPassword=0===o?" ":o<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmEmpPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmEmpPassword":n.confirmEmpPassword=0===o?" ":r===c.empPassword?o<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.onSubmit=function(){var t=Object(w.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(w.a)({},e.state.record);s.empLastName=e.removeLastSpace(s.empLastName),s.empFirstName=e.removeLastSpace(s.empFirstName),s.empMiddleName=e.removeLastSpace(s.empMiddleName),"text"===e.state.passwordState.inputType&&e.onTogglePassword(),e.props.onSubmitForm(),e.submission(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/updateEmployee.php",s).then((function(){a(),e.postSubmit()})).catch((function(t){console.log(t),a(),e.failedSubmit()}))}else{e.setState({submitError:!0})}},e.submission=function(){e.setState({submitted:!0,submitError:!1})},e.postSubmit=function(){var t=Object(w.a)({},e.state.errors);t.confirmEmpPassword=" ";var a=!0;e.setState({errors:t,confirmEmpPassword:"",submitted:!1,updated:a}),setTimeout((function(){a=!1,e.setState({updated:a})}),5e3)},e.failedSubmit=function(){var t=!0;e.setState({submitted:!1,failed:t}),setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:e})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(w.a)({},e.state.record),a=Object(w.a)({},e.state.errors),s=e.props.employee,r=e.state.passwordState;r.buttonText="Show",r.inputType="password",t.empLastName=s.empLastName,t.empFirstName=s.empFirstName,t.empMiddleName=s.empMiddleName,t.empType=s.empType,t.empPassword=s.empPassword,a.empLastName="",a.empFirstName="",a.empMiddleName="",a.empType="",a.empPassword="",a.confirmEmpPassword=" ",e.setState({record:t,confirmEmpPassword:"",errors:a,passwordState:r,deleteState:!1,submitError:!1,updated:!1,failed:!1})},e.onTogglePassword=function(){var t=Object(w.a)({},e.state.passwordState);"password"===t.inputType?(t.inputType="text",t.buttonText="Hide"):(t.inputType="password",t.buttonText="Show"),e.setState({passwordState:t})},e.defaultButtons=function(){return e.state.submitted||e.state.deleting||e.state.deleted?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),e.props.connected?Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}):Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]})},e.onToggleDelete=function(){var t=!e.state.deleteState;e.setState({deleteState:t})},e.deleteButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Confirm Delete"})]}),Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-arrow-left"}),Object(s.jsx)("span",{className:"ml-1",children:"Cancel Delete"})]})]})},e.onDelete=function(){var t=e.state.record,a=e.props.onRefresh;e.props.onSubmitForm(),e.deletion(),u.a.post("https://princemc.heliohost.us/veterinaryClinic/deleteEmployee.php",t).then(e.postDelete).catch((function(t){console.log(t),a(),e.failedDelete()}))},e.deletion=function(){e.setState({deleteState:!1,deleting:!0})},e.postDelete=function(){e.setState({deleting:!1,deleted:!0},(function(){setTimeout((function(){document.getElementById("btnClose-"+e.props.employee.id).click(),e.props.onRefresh()}),5e3)}))},e.failedDelete=function(){var t=!0;e.setState({deleting:!1,failed:t},(function(){setTimeout((function(){t=!1,e.setState({failed:t})}),5e3)}))},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.employee,a=e.history,s=Object(w.a)({},this.state.record);s.id=t.id,s.empLastName=t.empLastName,s.empFirstName=t.empFirstName,s.empMiddleName=t.empMiddleName,s.empType=t.empType,s.empPassword=t.empPassword,s.admin.adminId=a.location.state.adminId,s.admin.fullName=a.location.state.adminName,this.setState({record:s})}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmEmpPassword,c=e.empTypes,l=e.passwordState,o=e.deleteState,i=e.submitted,d=e.updated,m=e.failed,b=e.deleting,h=e.deleted,j=this.props,u=j.employee,p=j.history.location.state;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewEmployeeModal-"+u.id,tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"viewEmployeeModalTitle-"+u.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewEmployeeModalTitle-"+u.id,children:"Employee Info"}),!i&&this.props.connected||h?Object(s.jsx)("button",{id:"btnClose-"+u.id,className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[i?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):d?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully updated."})]}):m?Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:"Database Connection Failed."})]}):b?Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-trash text-primary mr-2"}),Object(s.jsx)("span",{children:"Deleting a record..."})]}):h?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record was successfully deleted."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"ID"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),i||b||h?Object(s.jsx)("input",{className:"form-control",type:"text",name:"empLastName",value:t.empLastName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.empLastName),type:"text",name:"empLastName",value:t.empLastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.empLastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),i||b||h?Object(s.jsx)("input",{className:"form-control",type:"text",name:"empFirstName",value:t.empFirstName,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.empFirstName),type:"text",name:"empFirstName",value:t.empFirstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.empFirstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),i||b||h?Object(s.jsx)("input",{className:"form-control",type:"text",name:"empMiddleName",value:t.empMiddleName,placeholder:"(Optional)",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.empMiddleName),type:"text",name:"empMiddleName",value:t.empMiddleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.empMiddleName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Employee Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),t.empType===p.empType?Object(s.jsx)("input",{className:"form-control",name:"empType",value:t.empType,onChange:this.onChangeRecord,noValidate:!0,disabled:!0}):i||b||h?Object(s.jsxs)("select",{className:"form-control",name:"empType",value:t.empType,noValidate:!0,disabled:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.filter((function(e){return"Admin"!==e&&"Admin"===p.empType||"Master Admin"===p.empType})).map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}):Object(s.jsxs)("select",{className:this.inputFieldClasses(a.empType),name:"empType",value:t.empType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.filter((function(e){return"Admin"!==e&&"Admin"===p.empType||"Master Admin"===p.empType})).map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(a.empType)]}),Object(s.jsx)("div",{className:"form-group col-lg-6"}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("div",{className:"input-group",children:i||b||h?Object(s.jsx)("input",{className:"form-control",type:l.inputType,name:"empPassword",value:t.empPassword,noValidate:!0,disabled:!0}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("input",{className:"zi-10 "+this.inputFieldClasses(a.empPassword),type:l.inputType,name:"empPassword",value:t.empPassword,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePassword,children:l.buttonText})})]})}),this.renderRecordErrors(a.empPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),i||b||h?Object(s.jsx)("input",{className:"form-control",type:"password",name:"confirmEmpPassword",value:r,noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmEmpPassword),type:"password",name:"confirmEmpPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmEmpPassword)]})]})]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:o?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),xe=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1,admin:{id:"",adminId:"",fullName:""}},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=e.props.history.location.state,l=[],o=t.length<=n+r?t.length:n+r,i=function(){var a=d;l.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[d].empLastName+", "+t[d].empFirstName+" "+t[d].empMiddleName}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:t[d].empType}),Object(s.jsx)("td",{children:"Admin"===c.empType&&("Master Admin"===t[d].empType||"Admin"===t[d].empType&&t[d].id!==c.adminId)?Object(s.jsxs)("button",{className:"btn btn-outline-secondary btn-sm mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]}):Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewEmployeeModal-"+t[d].id,onClick:function(){return e.logEmployeeView(t[a].id)},children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[d].id))},d=e.state.recordStartIndex;d<o;d++)i();return[l]},e.logEmployeeView=function(t){var a=Object(w.a)({},e.state.admin);a.id=t,e.setState({admin:a},(function(){u.a.post("https://princemc.heliohost.us/veterinaryClinic/logEmployeeView.php",a)}))},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.componentDidMount=function(){var t=e.props.history,a=Object(w.a)({},e.state.admin);a.adminId=t.location.state.adminId,a.fullName=t.location.state.adminName,e.setState({admin:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.employees,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.connected,i=e.onSubmitForm,d=e.history,m=this.state,b=m.recordsPerPage,h=m.recordStartIndex,j=m.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addEmployeeModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Employee Name"}),Object(s.jsx)("th",{className:"d-none d-sm-table-cell",children:"Employee Type"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&o?this.renderItems(t):null})]}),t.length>0&&o?Object(s.jsx)(M,{setPage:this.setPage,recordsPerPage:b,recordStartIndex:h,activePage:j,totalRecords:t.length}):null,Object(s.jsx)(ue,{onRefresh:a,onSubmitForm:i,history:d}),t.map((function(e){return Object(s.jsx)(pe,{employee:e,onRefresh:a,connected:o,onSubmitForm:i,history:d},e.id)}))]})}}]),a}(r.Component),ge=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={employees:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.onBackToLogin=function(){e.props.history.replace("/wiggly-tails",{verified:!0})},e.renderForbidden=function(){return Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center",children:Object(s.jsxs)("div",{className:"col-10 col-md-8 col-lg-6 form-light",children:[Object(s.jsxs)("div",{className:"alert alert-warning text-warning text-center my-3 mx-1 py-4",children:[Object(s.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(s.jsx)("i",{className:"fa fa-exclamation fa-lg"}),Object(s.jsx)("span",{className:"ml-2",children:Object(s.jsx)("h2",{className:"font-weight-normal",children:"Forbidden Access"})})]}),Object(s.jsx)("h5",{className:"font-weight-light",children:"Please login the Master account first."})]}),Object(s.jsx)("div",{className:"text-center mb-3",children:Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onBackToLogin,children:"Back to Login"})})]})})})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(Q,{sourceId:1,activeId:5,history:e.props.history}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark pt-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Employees"}),Object(s.jsx)(xe,{employees:e.state.employees,history:t,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"text-center mt-5",children:e.state.connected?0===e.state.employees.length?Object(s.jsx)("h1",{children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-danger",children:[Object(s.jsx)("h1",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h3",{children:"Please wait..."})]})})]})})}),Object(s.jsx)(F,{})]})},e.getData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({employees:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){u.a.get("https://princemc.heliohost.us/veterinaryClinic/searchEmployee.php?search="+t).then((function(t){var a=t.data;e.setState({employees:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():this.renderForbidden()})}}]),a}(r.Component),Oe=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={record:{id:"",timestamp:"",activity:""}},e.componentDidMount=function(){var t=e.props.log,a=Object(w.a)({},e.state.record);a.id=t.id,a.timestamp=t.timestamp,a.activity=t.activity,e.setState({record:a})},e.formatDate=function(e){var t=(e=new Date(e+"+00:00")).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],s=e.getFullYear(),r="AM",n=e.getHours();n>12&&(n-=12,r="PM"),n<10&&(n="0"+n);var c=e.getMinutes();c<10&&(c="0"+c);var l=e.getSeconds();return l<10&&(l="0"+l),s+"-"+a+"-"+t+" | "+n+":"+c+":"+l+" "+r},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.record,t=this.props.log;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewLogModal-"+t.id,tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"#viewLogModalTitle-"+t.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewLogModalTitle-"+t.id,children:"Audit Log Info"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Timestamp"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"timestamp",value:this.formatDate(e.timestamp),noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Activity"}),Object(s.jsx)("textarea",{className:"form-control zi-10",type:"text",name:"activity",value:e.activity,rows:"7",noValidate:!0,disabled:!0})]})]})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-activity-end w-100"})})]})})})})}}]),a}(r.Component),fe=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1,employee:{id:"",empId:"",empName:""}},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=function(){var a=i;c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:e.formatDate(t[i].timestamp)}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:t[i].activity}),Object(s.jsx)("td",{className:"d-table-cell",children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewLogModal-"+t[i].id,onClick:function(){return e.logLogView(t[a].id)},children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[i].id))},i=e.state.recordStartIndex;i<l;i++)o();return[c]},e.logLogView=function(t){var a=Object(w.a)({},e.state.employee);a.id=t,e.setState({employee:a},(function(){u.a.post("https://princemc.heliohost.us/veterinaryClinic/logLogView.php",a)}))},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.componentDidMount=function(){var t=e.props.history,a=Object(w.a)({},e.state.employee);a.empId=t.location.state.id,a.empName=t.location.state.fullName,e.setState({employee:a})},e.formatDate=function(e){var t=(e=new Date(e+"+00:00")).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],s=e.getFullYear(),r="AM",n=e.getHours();n>12&&(n-=12,r="PM"),n<10&&(n="0"+n);var c=e.getMinutes();c<10&&(c="0"+c);var l=e.getSeconds();return l<10&&(l="0"+l),s+"-"+a+"-"+t+" | "+n+":"+c+":"+l+" "+r},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.logs,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.connected,i=this.state,d=i.recordsPerPage,m=i.recordStartIndex,b=i.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-warning mr-2 ml-auto",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Timestamp"}),Object(s.jsx)("th",{className:"d-none d-sm-table-cell",children:"Activity"}),Object(s.jsx)("th",{className:"d-table-cell w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&o?this.renderItems(t):null})]}),t.length>0&&o?Object(s.jsx)(M,{setPage:this.setPage,recordsPerPage:d,recordStartIndex:m,activePage:b,totalRecords:t.length}):null,t.map((function(e){return Object(s.jsx)(Oe,{log:e,onRefresh:a},e.id)}))]})}}]),a}(r.Component),Ne=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={logs:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData(),e.onSubmitForm()},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(Q,{activeId:6,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark pt-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"View Audit Logs"}),Object(s.jsx)(fe,{logs:e.state.logs,history:t,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected}),Object(s.jsx)("div",{className:"text-center mt-5",children:e.state.connected?0===e.state.logs.length?Object(s.jsx)("h1",{children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)("div",{className:"text-danger",children:[Object(s.jsx)("h1",{className:"mb-1",children:"Database Connection Failed"}),Object(s.jsx)("h3",{className:"mb-3",children:"Please try again later."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onRefresh,children:"Retry"})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"mb-1",children:"Loading Data"}),Object(s.jsx)("h3",{children:"Please wait..."})]})})]})})}),Object(s.jsx)(F,{})]})},e.getData=function(){u.a.get("https://princemc.heliohost.us/veterinaryClinic/viewAuditLogs.php").then((function(t){var a=t.data;e.setState({logs:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){u.a.get("https://princemc.heliohost.us/veterinaryClinic/searchAuditLogs.php?search="+t).then((function(t){var a=t.data;e.setState({logs:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(X,{history:e})})}}]),a}(r.Component);var ve=function(){return Object(s.jsx)(o.a,{children:Object(s.jsxs)(i.c,{children:[Object(s.jsx)(i.a,{exact:!0,path:"/wiggly-tails",component:R}),Object(s.jsx)(i.a,{exact:!0,path:"/wiggly-tails/customer",component:V}),Object(s.jsx)(i.a,{path:"/wiggly-tails/customer/view-transactions",component:U}),Object(s.jsx)(i.a,{path:"/wiggly-tails/customer/view-admission",component:H}),Object(s.jsx)(i.a,{path:"/wiggly-tails/customer/manage-pets",component:Z}),Object(s.jsx)(i.a,{exact:!0,path:"/wiggly-tails/admin",component:K}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-transactions",component:te}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-admission",component:ne}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-customers",component:de}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-pets",component:je}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-employees",component:ge}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/view-logs",component:Ne})]})})};a(64),a(65),a(66),a(67),a(68),a(69);l.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(ve,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.7609b46f.chunk.js.map