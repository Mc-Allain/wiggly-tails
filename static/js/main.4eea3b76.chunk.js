(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{41:function(e,t,a){},42:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a(2),n=a.n(r),c=a(33),l=a.n(c),o=(a(41),a(34)),i=a(9),d=(a(42),a(3)),m=a(4),h=a(6),b=a(5),j=a.p+"static/media/wiggly-tails-icon.1d629afe.png",u=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={navs:[{id:1,text:"Login",link:null,items:[{id:2,text:"Customer",link:null},{id:3,text:"Employee",link:null}]},{id:10,text:"Register",link:null,items:[]}]},e.linkItemClasses=function(t){var a=e.props,s=a.activeId,r=a.sourceId,n="nav-link ";return n+=t===s||t===r?"active":10===t?"text-warning":"inactive"},e.dropdownItemClasses=function(t){var a="dropdown-item text-dark ";return a+=t===e.props.activeId?"active-dropdown":"inactive-dropdown"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.switchActiveId;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark fixed-top",children:[Object(s.jsxs)("a",{href:"/wiggly-tails",className:"navbar-brand py-0",children:[Object(s.jsx)("img",{src:j,alt:"",className:"mr-2"}),"Veterinary Clinic"]}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#main-navbar","aria-controls":"main-navbar","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"main-navbar",children:Object(s.jsx)("ul",{className:"navbar-nav ml-auto",children:this.state.navs.map((function(a){return a.items.length>0?Object(s.jsxs)("li",{className:"nav-item dropdown mr-1",children:[Object(s.jsx)("a",{className:"dropdown-toggle "+e.linkItemClasses(a.id),id:"dropdown"+a.id,href:"/","data-toggle":"dropdown",children:a.text}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdown"+a.id,children:a.items.map((function(a){return Object(s.jsx)("a",{className:e.dropdownItemClasses(a.id),href:a.link,onClick:function(){return t(a.id)},children:a.text},a.id)}))})]},a.id):Object(s.jsx)("li",{className:"nav-item mr-1",children:10===a.id?Object(s.jsx)("a",{className:e.linkItemClasses(a.id),"data-toggle":"modal","data-target":"#registerModal",children:a.text}):Object(s.jsx)("a",{href:a.link,className:e.linkItemClasses(a.id),children:a.text})},a.id)}))})})]})})}}]),a}(r.Component),p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA7AAAAJOCAMAAAHOiyu7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA2UExURfLy8mlpaUBAQN3d3X19fXJyctDQ0F5eXlVVVZCQkElJSa6urpqamqSkpLi4uMLCwoeHhwAAAE1q3nEAAAASdFJOU///////////////////////AOK/vxIAAAAJcEhZcwAAFxEAABcRAcom8z8AABw6SURBVHhe7d2LbuI6FEDRAgIhBUX8/9fe8/IzTkhoO3fa2UszxXEcx/axE0pp+QAAAAAAAD/V+XyO1FfYXddXnvQAPa3/f+gXSZ7sYfKdD82x1GW2/ZawcsHS58lznpbK1ci/h321nTXJkPOl5MeHVO50K/0399i0jJyrtB1+oJy23neV/4NziiZPiunRVV51kCdzhlYZj6un1SHbPq08anfOftp88EX/6dZ0f9qOs1Qtj/Il2DFSoj+tH3bRGTt7yN7jtfnXAw4fUJN1Jh0/vNq+dnkCAAAAAAAAAAAAAPAZD/sx9lf9JHt3Pfqei/FbFF77RGP1jQx2Wn1TyD03wd/aMWu2fPHdtsv+yRd9p4MW8WPknzymvXaEJa+Tvzti8f6HdFqrItL6NTZEqkT+X3Rb+f4oVW3llCX8MHs/hu8o/G0bcdoob+/ZCOf6tPYumJt+Ee0x/jWnbGd12l46rfTE3rUjA6Ml/X0h5Xh9lIG8TrJXC+t7MDQR+yJRUnHY5Tz7m3x8x1vSm2j+JF9nR980MvMuEwAAAAAAAAAAAAAAAAAAAADAtqe98fxm7z//k+9B/1/e7+6d1Tfopwbc0zvvZQQipQn7jYe8T11iv++Koy1vtrT+ho39zUzPPqXE+WZfc03VedoTnP3XRyJPvvovWFwlFX+6VFL3OH9z5Ar9U6hKK7IqrcJLPs7yPPmR2mtfUx9zwkr6L43oaWMU75ZtyZM8eErkRLBtz5T2u+isJePBvipNxdZ5kv9N09Y8ZUCUpq2CkJPaE3nQBniG/TlQpUn7nZWqs5b6mOQxkvqYziFJjaK1K+0Wvs/OY9s+L4TFzzeqzurvfIicZ+f3vNy0FSmySpOluO+w7lgizZdWOakd7UHxbuVkVJWlWeSi3Kizw8hWKWvrZJ0dNG0prVkV1aiU8JqU/bqPpTQhbMnahi9ez5fQPcoU9t/0ihIaUX20PmiIdY/QLDtPVPGis1Y+smXOyLbFQ3M98095+LzwNnnyGxvgVdfhAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIB/hf1F+n2fr/Cnff2fkfcK/Q/g/8HOxvD+YdFB/VyOf6az9mhp/TAH/2wJ/ZwU+xCE5uNd4vNUhOaWT+fwB/1gjkfk6P6Yi/rpH5an+/VjI2xfyOeRHElWJ/D/knfTcKQjJBEp/XwXL2a55cgVcViqOD6Fxb5YR6Tf1t7nU+tO+5R/9kn8T0n/ol8v+gEat7MdrBkX/dQKm0BX/YSNEtl8no+zfkBKOYHXqB+OIcfqAXb0rAPjQ+hns3TbtDVpvxWO/yVXTlNtxD7/mJo+Wx+ssWlNxCdjSNpaYgU8IfppbJ+ZE40thfR/5PlHj/jnqAj7rJTYZcU8GU1b46X85JKORjSf1xOVeh9EevDelG355/PfclKuZkdyylUt16wd4oenMp6nH3aS8vJHoFhb0oY8dk1bowtA2Lm1gkQriIRl6tRLtKxn20jHth7tKX1M7dJJ5kflxarDX3W2Oo9nxIMnmgGwSr24pFI5TSaRtaLerUf5QCrfk/ZLPYto6Kf9SHi9iDbEJ5vnxIF1q5xcASWr1OV79WuUy8Utr++sd6iKrK20ZdNG4gij6bwdocnbksjpopzUGlEnvePWs7zUnGbl1lXn8VR6iLxFZy1Dq7VrqSfLMZvqUnaUZeTjra2aKINqX4Q1Vy+lln21U5+kE9PZW6GfSSXrQ9PeNUnZDp3Zfjk1lqpbnHdZXt9Zq/Dh5eXsz3N1bbMvG+r9lrYlpMtqsjUgef6hVrrPPiwrfw6V8l6Ie9R0spVpSTlu8rZ5WXm0OnOOPkb1dkhkxIMnxmv2HoNlHxBlyaZpf5S3xLy+039WrIM/L423fIlF+Z0t8VO8url+G33mJyxdJb+Jn6G7+gEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8Mucz5HA0PlvH6CHtLByimwC+8L5fI/UX+rZRHDKof2lga2m7i/XBlZ7/ohHe/ht/p3AyqU4Uk4ux/FoD+LkF2kVOZfYVNfIu8e28hyZMolnFNfIV5ZxPs/26MoBUUZ9zDm7Pn81M6vsVFtsmra22qg/2ojqNhWZRVoAWk6uc0GOLhv5oGoES0VV5Q+pJLV4Y9SOWa5Y307Zsj+Peb6vPP1BlOJ5RJyEIXpeCiXL+9M4sHLczVMxDp6UxMVTMUU8mROWa49VG8J4xS77Y6m6vtyQUAW2lNN0LlkOKr3Nk1MSJVeP8v5vjdpBXWBlcnkiHmX+2aM7LYclWt/3/NYc151kNN6DwHY9S5tdbEp2XalnthWol5fi3JFm9qWZUpzPMRuaVjYby4P0wma1yvDkuSlk1lr/21HrL6bH1EfLfMlbkehikHdLo5PUJOlqaexi9CPhrHA9E1YCaw9JzA65btpmElMxrwXnU9Aui10HxoHt+9OdvatdVIGtmi6HR0pUB03VnUq3ZdPyk6hke9SOkeEqqstpVBo7Cs3Ue0YarqpfU9xLNLyeqniRYo7CfnQzOil07azOy76rKwJb3dpcGqI0pr41DOywP81pPhVYvYU/o1C0Nh6y83nyh47tfE93lcwie3Q5aXrZ9MvY/Nh7GYnG52FS6ZzttNbhsUTbX2lMym6mQUeOjqFbBnbcn/4skUqqwFrFrmlbOqgukSLadFgPsyKfu/i2XgS2HV3vc30nkCZZZjWoPnbNnOyGvNqM6mW95Uy9KnpK2pbvc5JM2ZJI0dFoR7Ykq4tue8cXMZK57sqoP5ryRzMKbJzt9YqtgiiRiwLlRH7R9I2tUTtobZKUbD3tc57tQuvXar3sXedJL3LSKG2Sljlfp3nWRkYwLGue7ZrbLBO7n+ke65HnWYQe82xRLeeWsQmPuqU6Pm6uxkKPvUsduVp9lKZPlhNN8Jy2QXoWaU/VH1HOJkaB3b1iNVfaNWn7pH7Ps/kZtESKsm7L2NqoVc/ejqvO1GiyLajVUyPPOWmPSr+skOVl1rzrYvWIQeGbdPwey8oyOnJEpBrtrHnqcq6rfdiJ6iZIj9sTq6o/hwObYiLkXJES1UG5byvrqD3Z6qj9SrKmR9em9vuxH6qZD/8A6W+6HujFN8VVkvdYJXqN9dQPo5fl+B7kIheZT110fyQdAJOff5icvbim/hxzusneP/csCQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgTudzpDAi43OJ5F/qXJsik8C+IoP1jORfyiOapWlIYLfdf8CKnSP18fGUyMbWbw3svzNf68Da+vUEgf3p2sDK5skeCexP1wU2BZTA/nRdYG+DwOqtV/hSdpFVPzO8RtY1tj8+Js+4x2YtHR+FZdMTpj5V1Kp11C2V5iktVx16kac0qupRFLSGzpEW/TPaZX9OWvl6D6QuT1jTH17Oe5NOUz25SllNRSnzUdUmNkbtkC6waZxKYC9+IpVKpmFQkVWVSqMTW0Ka3op8ZTFcC2wMmHpULU1zSMypwSIFUUROGjs111ttYAf9scBGlmjHSORQSBOrcpIRKZG6LYslK0MRGaoObGSJxagd0zc6TpEDqxGzEprw73Mldb9ZSgfeEtoez0pLXnO8uCyjsopNqvLjdvfCOjpFDqwG0OuQAjL60VJdl34yKVDGRLL9uKZVvm5kGdij5PhjTXvmxcqRMgBSny8bnRD99zb5tDYpvJwm9ZTWNq3UG6lZ3guNcKpIkt5azSydyGWXo3ZQHi63uBTLmTxhwxgJfxDSfDs8D5zwplfHyc7oopNz5HHyxHjFSnfLBUnqi5bK6JcGaLanSuA11w7MDRZxxuZEybI/vvx9iEU+SZZDoXMhrS1tcClZDsr1lDxJ5DHRKkq2J5ajdlQX2DQWKbD12JRoFxGExZ460m0lfRjVOLBVL4VseUvrcNvC8FR9fZVcfUgVVRan7uRDpEfl4KY3plmxnhKSLhvLg0peGzWdRJbYGrWjusCmUUuRai/1y1NFSBaBbce0vZTJDI1U0ubEsfXCFnImm/ndeKUzt9n21Ecq6k806EErT7G2R90otYEtrZRGVN1eHCTisK5laXNr1I5qz55PWAJrD6G6OoUYCAlCe0doj7u3z1aaNafycJroXj9jo6XVxU7F4kwHBc+V+dI/A+nqXFgNbPt0q7kUe8I0o7k4SETpLuapT01d/agdVJ9CepWuENGv3H7nC0FMsj+xDE2cqqi3x3VrVPpxvtdTZLhiuwhKth3SRjCfqYuh52qrrs0QdnUmc9+fRWC7GVKvWE+YlYMuMkkTy2jKlUra7G7UDorTJenKH/3SUDdsqemNrdAcW1/GJ5lckzqWnUiTTVrl/ehY6GS/bSYxBVcD27HcFK8clq5ON+pPH9i9KzYSKh+kEzmznKZcvo9IpR3b+56owZVpGf1aBCgNeVoHVUguMQs09vocvuVlihRb2xgGth1azY4V217Ho1RUV1iutCRmXMyhrk6nu/v+7A1s3/RIqHSQxjVdn6JAd/uMSl6P2gHd1T6JfsmpbLNR97ntl086DcuuNs3aZU0ML8Xt0yFdVtbS7tabSi2Gvqbz03e3B7thf/rAfuJSXD8ziQLlYmVSCJvDP2k7sLJ7+cysHsPlfcCPXD7NGorD8zCZdLFtYyWdt5amAIc0Jv1TrU66YY9KDfvTB7abNrnF/ZyMhIqDmtBHun3+oLcCS+wctV1eBrZ7AivqXrYtNJbTjsu6mDjD7xmk7iY3WppGwcioxdZoChYpEKNmDfuzN7CbK3YR2HwFbMZV+uDZe0dtj5XApg7KZKouQv7UqmqU9K9vihyhD83FZngKE4fX1UjaA6updKQGMG1IKsVQRiId2UwxL1lFulyx7aEx7M/ewL5esenUKlcv/cknlWTKbkbtc6t3ZfXnfkkLYpi1rA2V9CWGWMfByt3LCymRI92pWt5E9lk2U4/kLKlHWmWcUS9R58flY9awlpbacwyZbpM+L5Jsz9UDUyQffu5qEWtJf8y9yQb9+coVK49pJEr1NiX1+8NJhuCeZ8fGqB21cnjpl47e/THb4EaepiInOqg5Umiy7299NPXamY+r1k4Ufs7zrFXHhNA8yZIenuXAPPjS69C0NPJsFHJDUx3WBp0mNgFO0oSHVuNlZN99lhnhW0HLtf1ZBvYTT5603uc0awjzYTGJzKOqZH3UjloJbFpKwtaNqZZuyB3UwQypOeW4PAmDBjTkhZ4r0B/EVavKemiruWmpZduCKA2tGhHVlnmRC8VmuwAjs+rPIrBrK/b1pTgaq+ofMsrE0/beNfglsBujdtCrS7F5ygjVryt5W68SwjIFb1ao7f9DqmmPC5en7Lk/mylphTV2TWCLpkVFk22rta7Wvo1tWqXDWd3InH0P3vRHSnnCvLli83m1XTYQTYGsPdnqqP1OZQo12oH9oQZT7d8hSypSjU9fsv4Ccvltrl2/XnevTffj+n5XPRf4UR51KFfm7K+lt8e4ROnb1NLK1GdEEVp93vszL2LS8PTkRr8T+LcWrN5Wi3LF1ZHIfurNSadn9o/FVdiPCdS96bt+t2d+8v01f9PXficBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD+DaeziDRw1OV6Pl8vsYE3PHUF9k7X5zweVRYsPmGy6XV+xCaOGy7YZIpCBQsWnxALdjmvsJct2MfcmJ7Xuw2suEW5wIL9UTRap0j/FewpcaTxjofGdI6Nho6tap4bs2B/FI3WX7Vg8Vl2hx0uWGGrudnLgv1RNFos2F9lc8F+3HRv/bSYBfujaLRYsL/K+lNiY68SVCFfX7Dz82Tf+J6u08bL9vPj6sXup+fqSw+XKeqSyh5rbbs9oqLro/s+e0tq5fl0evY1b1277JBIN3JbT6fcjlm3hxXdpPu6sx4lO22kW3uGNNcoA1oNhDVh4Rl7172Oj54tjcQcL3ZI4Z0xsHY1zai7v97hMnDr00ZIBXk01ie10LBZwZ1hS4NyZK59j+07rM/UajpZLyNd+FPn2mk5w24+Qq3F6F+sQZ17V2w5He87BnLZSlH9hGHr2qW7Fgt20KO7Hj+O/Gwxb5y01XZaL1LZM6TDET3ZiccLdvPHKfvikxfsezGwo4YLdjk8qdiyYTbKncHwDssdDVu8sF3Z08/v82rBWuciLbpNdYmRuj+naZ7lGueb7ey4peG8P/0l6We8pNVNolKXl3pGRj1Z05Fy9xWPvBm7V8SFIJ3/kWouU3JrKHRXt2DTeaMdU6rwOop8GqTUsym9Dj/lGVvZN6SReX1qhfrSvm/fdefF8qwhd0+q9Zm2Nz5pwcZeL5zHsv+ZwtLagvXr0/1qg/NI/dWCceW6P3RXHuTuSmLVKrkBaw3p/jlo0aGwvTnXvtPWbUVZ+yItbBwi7Xxk2rDGC8x1tTIa/X0y5mW1Di52WBNPITfdSClfeN27ZTxzeTsorJmLcX7UbTy0YGMedaf0ji/H1MejvzT7Klku2F1D6nO0b+7t1LRSi3TXmRW74qO0cd7uyAjevlcz2e5XywWrFbb1+eXo7jOi7WXMgNhykudPLSo+Qm21W2Fbxt/P9Dw6177VspUN62AVsn7B+rgOjrcheNkrO3sZ0h0HjeaKsoauTxfbPTistlxnhe6qZ66Nw335vD9Piboin3XDxvk0f2dIbSBGDahpmX0LdqyLj/KryeLGKyz/xRjbImrK+PwfjE7sGE2ItUnQs7bWhx8K27tz7XttL9hXrxLbVBwOgIfm5Ypt6+tqH7AxHD/x0j2ro7i1GJOtodBd/XVrZcb48qwqGt0lMr8NvDGkmn65FncV2rKMiOWMe2N7tq8h1oVmsftKGU2UuJiNom07Xl2thBZ7N2wbc83K/k8rdnMmLwezC6BtrgycPft5NajtIrGtrQlmDVq5CtjFZe0K4etiuzX7F6w1YzVg/QLdft7gYxwbYu+QWrnBfa6hZT61YJdjsjHprfB2k1aeEg/b6HeLYX07zmTa6bodtv6Zzdtz7Xutz9KL9ba7xrQjYMtg5Yrls2Wwc5Lv9NO/2SZzOb2fcvHNVKZ7Vyeg1rW60/op7dlYs+tD0Z/Ymjm+z6uuIt2yV4LG7EIe6QNDGneExXduDSsR6b224iPaGdDYbrtZ3mE3Rl33jE+1fqZ4tS20Y7snbGXq6dZ7c+1bWSv9hcFs93uJly959+pOPXKlnSpczYvzi98Z8ovgpii5lK4/5vScloHbv2B1a/1MPiy5IptcG8G100b60JDWRe/jH1jrrt3zak98vmTBNkW+asEOfx5oosDBsH1mrn0nf0Y2NrjTteFaHaMiSpafawy04botJk5uhsVp2zj07jLVi1Y1N1wbipXjdVeZ+dbASA+0c9Aiv7Fq3h5SMecfc4TuhmtZkd62Oz6vFuxbT4nHo657xqdanGlrZkSRg2F7feVcmyvfazhB1n8ftu2zX+jivjxWlxzMnY1Fcis/TMvfuGnyFDWPebltt/JTxvrkG1PHml9ab0evfwtjzS4V6dbGt8+2O9JHhrQ2T/FGIFEPcr+9an98Xi3YHXfYZk1vzADdMz5VfyafxctTt409HrbPz7Uvt3VbGejCpVu7Xi3TgqOx31gkofkBpKUt9RU8zHn62FCM55uVLNPZny6trUG/NpdO2fbqsvHuxYbQrXdfgIxvKErDdGvXgrXjIl1bxucLFmxTZGMG6J7xqbpqbHPUz7axx8L2tXPty7xeMY0uXDbHt58EmdVQ7jm9vbzi4bAh/8LX05snDNbI4atD/gJPNSM8uOPQW5eaK7mFfuVlJxvQd4Z0zBpWBlq39izYA/F5tWC3m74s8taCtW6WalbvOqPpuh22UstXz7UvsmfFVPpwbdyVamuh9BF8dXotE9NufVG9pe2ObQ06k16QjU1l7Rj9uNR3iLpTPhkGwff+i9hWO4d0zE7/5oLdF59XC3a75csiby3Yrpq1OqytdQ123N6wWd7XzbUvYiEZj9fIIlx+rxnEem7GxUr1p0kvdOT8afhubQtHio4vnsHf8ZLKNrpxGX7v0oVkcSN13sV+h0+GtiX+ctl1OX9ST+sXueJlTX/jbOSZfUP6HPx+RbSqdNU2N4Yl03Kv46MWzS1sOAftrnTPAMT7C7acafxcNy3C2HRHwrY119Z/OvTNNsZrZBAu/ybsXP+C1SVe6C2RiZvUo3T+ZsfZ9SJNMJ+pp6qQHOjTulossX6udaPj5d/Vm4lH9Nz+cpTfPprLrTe7fnXce2Kx72v3lvUkvqMxbX6qVMgIvTekXuTaXIbi11CqJeNzNk25SzNmjc34NEcNmpvY2ZrVuNCtNLFxx9A9Gwu2OpP3815V7DPCIhE5yZGwvTPXvtlocm0Yhstn/kJ7rY2+N54+0un08frSUveu+dFvUonBpTAbR0l0N978Wys16Yg+DELUd8qbsDKml26c7n6/fW9IZ582S+0oxJUqW4/06IxdfMywua5fRgPLIhsTUPeMT2Xj3lQzmjqTdypKVMZhs8J9S9bmWuz+84atXLcWLn9LTDF6A073o22brosJcet/sjheh/2PydffHJWle1QxfpdQuxTiqq3J9Wvq3P7mmo3FqNXmMs/Nr2drq0bfKb0e0r6ELOjlWevf/twepe6CMo7Pl99h31qwy2qk+c1o3K0dVrntHdkZttvxuYYfxaIa6Zd2zHL8EYfCht/DrtS7r8J222+f8uP/cCxs+GlO3TOyzJ4zdt/jXMZ/rER2aGGmyZ9zKGz4NfzFnOatyCa+keqe4tqLHPVrmCFe4lpZzPhyx8KG36N6heOU/0pUfnmnnxDVa8/xR4fmR/6FqP/r5wP/oiZs9veytsKG32Uqy7A2fs618ttfa0+V8W0OhQ2/zU2u0DEDTq//QnL+s7/2d395qel/cyxsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv8vHx3/xKLl0VzP3HgAAAABJRU5ErkJggg==",g=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{id:"index-carousel",className:"carousel slide","data-ride":"carousel",children:[Object(s.jsxs)("ul",{className:"carousel-indicators",children:[Object(s.jsx)("li",{"data-target":"#index-carousel","data-slide-to":"0",className:"active"}),Object(s.jsx)("li",{"data-target":"#index-carousel","data-slide-to":"1"}),Object(s.jsx)("li",{"data-target":"#index-carousel","data-slide-to":"2"}),Object(s.jsx)("li",{"data-target":"#index-carousel","data-slide-to":"3"})]}),Object(s.jsxs)("div",{className:"carousel-inner",children:[Object(s.jsxs)("div",{className:"carousel-item bg-dark active",children:[Object(s.jsx)("img",{className:"d-block w-100",src:p,alt:"consultation"}),Object(s.jsxs)("div",{className:"carousel-caption d-none d-md-block bg-dark-45",children:[Object(s.jsx)("h5",{children:"Consultation"}),Object(s.jsx)("p",{children:"Please suggest a Caption"})]})]}),Object(s.jsxs)("div",{className:"carousel-item",children:[Object(s.jsx)("img",{className:"d-block w-100",src:p,alt:"treatment_vaccination"}),Object(s.jsxs)("div",{className:"carousel-caption d-none d-md-block bg-dark-45",children:[Object(s.jsx)("h5",{children:"Treatment and Vaccination"}),Object(s.jsx)("p",{children:"Please suggest a Caption"})]})]}),Object(s.jsxs)("div",{className:"carousel-item",children:[Object(s.jsx)("img",{className:"d-block w-100",src:p,alt:"confinement"}),Object(s.jsxs)("div",{className:"carousel-caption d-none d-md-block bg-dark-45",children:[Object(s.jsx)("h5",{children:"Confinement"}),Object(s.jsx)("p",{children:"Please suggest a Caption"})]})]}),Object(s.jsxs)("div",{className:"carousel-item",children:[Object(s.jsx)("img",{className:"d-block w-100",src:p,alt:"grooming"}),Object(s.jsxs)("div",{className:"carousel-caption d-none d-md-block bg-dark-45",children:[Object(s.jsx)("h5",{children:"Grooming"}),Object(s.jsx)("p",{children:"Please suggest a Caption"})]})]})]}),Object(s.jsxs)("a",{className:"carousel-control-prev",href:"#index-carousel",role:"button","data-slide":"prev",children:[Object(s.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(s.jsxs)("a",{className:"carousel-control-next",href:"#index-carousel",role:"button","data-slide":"next",children:[Object(s.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"sr-only",children:"Next"})]})]})})}}]),a}(r.Component),x=a(17),O=a(8),f=a(1),N=a(7),v=a.n(N),A=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{emailAddress:"",email:"@yahoo.com",userPassword:""},records:[],connected:!1,connectionFailed:!1,errors:{emailAddress:"Please input your Email Address",userPassword:"Please input your Password"},submitError:!1,loginError:!1},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors);switch(s){case"emailAddress":n.emailAddress=0===r.length?"Please input your Email Address":"";break;case"userPassword":n.userPassword=0===r.length?"Please input your Password":""}e.setState({errors:n})},e.onSubmit=function(t){t.preventDefault();var a=Object(f.a)({},e.state.errors),s=Object(x.a)(e.state.records),r=Object(f.a)({},e.state.record);if(e.validForm({errors:a})){var n=!1,c=!1;e.setState({submitError:n,loginError:c});var l=s.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(r.emailAddress+r.email).toLowerCase()&&e.userPassword===r.userPassword}));if(l.length>0)e.props.history.replace("/wiggly-tails/customer",{verified:!0,id:l[0].id});else n=!0,c=!0,r.userPassword="",a.userPassword="Please input your Password";e.setState({record:r,errors:a,submitError:n,loginError:c})}else{e.setState({submitError:!0})}},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderLoginError=function(){if(e.state.loginError)return Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{className:"lh-0 my-1",children:"Incorrect Email Address or Password"})]})},e.onReset=function(t){t.preventDefault();var a=Object(f.a)({},e.state.record);a.emailAddress="",a.email="@yahoo.com",a.userPassword="";var s=Object(f.a)({},e.state.errors);s.emailAddress="Please input your Email Address",s.userPassword="Please input your Password";e.setState({record:a,errors:s,submitError:!1,loginError:!1})},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0&&e.state.submitError?"border border-danger":""},e.getData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors;return this.state.connected?Object(s.jsxs)("form",{className:"form-light p-5 mt-4",noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset,children:[Object(s.jsx)("h2",{className:"font-weight-normal text-center",children:"Customer Login"}),Object(s.jsx)("h5",{className:"font-weight-light text-center mb-4",children:"Please input your credentials."})," ",this.renderLoginError(),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Email Address"}),Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"w-sm-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),Object(s.jsxs)("select",{className:"input-group-text",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress)]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Password"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.userPassword),type:"password",name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[Object(s.jsxs)("button",{type:"submit",className:"btn btn-primary w-49",children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Login"})]}),Object(s.jsxs)("button",{type:"reset",className:"btn btn-danger w-49",children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})]}):this.state.connectionFailed?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center text-danger",children:"Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center text-danger mb-5",children:"Please try again later."})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-5",children:"Please wait..."})]})}}]),a}(r.Component),C=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",empLastName:"",empPassword:""},records:[],connected:!1,connectionFailed:!1,errors:{id:"Please input your Id",empLastName:"Please input your Last Name",empPassword:"Please input your Password"},submitError:!1,loginError:!1},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"id"===s&&(r=r.toUpperCase()),"empLastName"===s&&(r=e.toAbsProperCase(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors);switch(s){case"id":n.id=0===r.length?"Please input your Id":6!==r.length?"Must be at exact 6 characters":"";break;case"empLastName":n.empLastName=0===r.length?"Please input your Last Name":r.length<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empPassword":n.empPassword=0===r.length?"Please input your Password":""}e.setState({errors:n})},e.onSubmit=function(t){t.preventDefault();var a=Object(f.a)({},e.state.errors),s=Object(x.a)(e.state.records),r=Object(f.a)({},e.state.record);if(e.validForm({errors:a})){var n=!1,c=!1;if(s.filter((function(e){return e.id===r.id&&e.empLastName===r.empLastName&&e.empPassword===r.empPassword})).length>0)e.props.history.replace("/wiggly-tails/admin",{verified:!0});else n=!0,c=!0,r.empPassword="",a.empPassword="Please input your Password";e.setState({record:r,errors:a,submitError:n,loginError:c})}else{e.setState({submitError:!0})}},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderLoginError=function(){if(e.state.loginError)return Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{className:"lh-0 my-1",children:"Incorrect Id, Last Name or Password"})]})},e.onReset=function(t){t.preventDefault();var a=Object(f.a)({},e.state.record);a.id="",a.empLastName="",a.empPassword="";var s=Object(f.a)({},e.state.errors);s.id="Please input your Id",s.empLastName="Please input your Last Name",s.empPassword="Please input your Password";e.setState({record:a,errors:s,submitError:!1,loginError:!1})},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0&&e.state.submitError?"border border-danger":""},e.getData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors;return this.state.connected?Object(s.jsxs)("form",{className:"form-light p-5 mt-4",noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset,children:[Object(s.jsx)("h2",{className:"font-weight-normal text-center",children:"Employee Login"}),Object(s.jsx)("h5",{className:"font-weight-light text-center mb-4",children:"Please input your credentials."})," ",this.renderLoginError(),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.id),type:"text",name:"id",value:t.id,maxLength:"6",onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.id)]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Last Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.empLastName),type:"text",name:"empLastName",value:t.empLastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.empLastName)]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Password"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.empPassword),type:"password",name:"empPassword",value:t.empPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.empPassword)]}),Object(s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[Object(s.jsxs)("button",{type:"submit",className:"btn btn-primary w-49",children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Login"})]}),Object(s.jsxs)("button",{type:"reset",className:"btn btn-danger w-49",children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})]}):this.state.connectionFailed?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center text-danger",children:"Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center text-danger mb-5",children:"Please try again later."})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-5",children:"Please wait..."})]})}}]),a}(r.Component),y=a(11),w=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",lastName:"",firstName:"",middleName:"",homeAddress:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:""},confirmUserPassword:"",errors:{lastName:" ",firstName:" ",middleName:"",homeAddressErrors:{lotBlock:"",street:" ",subdivision:" ",barangay:" ",municipality:" ",province:""},birthdate:" ",mobileNumber:" ",emailAddress:" ",userPassword:" ",confirmUserPassword:" "},submitError:!1,registered:""},e.onGenerateId=function(){var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.errors),s=e.generateCharacters(6);t.id=s,e.setState({record:t,errors:a,confirmId:""})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(O.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"mobileNumber"!==s&&"emailAddress"!==s&&"userPassword"!==s&&(r="lastName"===s?e.toProperCase(r):e.toAbsProperCase(r)),"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors),c=Object(f.a)({},e.state.record),l=e.state.confirmUserPassword,o=e.removeSpaces(r).length;switch(s){case"lastName":n.lastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"firstName":n.firstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"middleName":n.middleName=o>24?"Must be at maximum of 24 characters":"";break;case"birthdate":n.birthdate=0===r.length?" ":"";break;case"mobileNumber":n.mobileNumber=0===r.length?" ":Object(y.isNumeric)(r)?r.length<10?"Must be at exact 10 numbers":"":"Please input an appropriate value";break;case"emailAddress":n.emailAddress=0===r.length?" ":r.length<8||r.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(r)?"":"Please input a valid value";break;case"userPassword":n.userPassword=0===r.length?" ":r.length<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmUserPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmUserPassword":n.confirmUserPassword=0===r.length?" ":r===c.userPassword?r.length<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.isValidEmail=function(e){return new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/).test(e)},e.onChangeHomeAddress=function(t){var a=t.target,s=a.name,r=a.value;r=e.toProperCase(r),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{homeAddress:Object(f.a)(Object(f.a)({},e.record.homeAddress),{},Object(O.a)({},s,r))})})}),(function(){return e.onCheckHomeAddressErrors(t)}))},e.onCheckHomeAddressErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors.homeAddressErrors),c=e.removeSpaces(r).length;switch(s){case"lotBlock":n.lotBlock=r.length>12?"Lot/Block must be at maximum of 12 characters":"";break;case"street":n.street=0===c?" ":c<2||r.length>24?"Street must be at between 2 and 24 characters":"";break;case"subdivision":n.subdivision=0===c?" ":c<2||r.length>24?"Subdivision must be at between 2 and 24 characters":"";break;case"barangay":n.barangay=0===c?" ":c<2||r.length>24?"Barangay must be at between 2 and 24 characters":"";break;case"municipality":n.municipality=0===c?" ":c<2||r.length>24?"Municipality must be at between 2 and 24 characters":"";break;case"province":n.province=r.length>24?"Province must be at maximum of 24 characters":""}e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{errors:Object(f.a)(Object(f.a)({},e.errors),{},{homeAddressErrors:n})})}))},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=Object(f.a)({},e.state.record);a.lastName=e.removeLastSpace(a.lastName),a.firstName=e.removeLastSpace(a.firstName),a.middleName=e.removeLastSpace(a.middleName),a.homeAddress.lotBlock=e.removeLastSpace(a.homeAddress.lotBlock),a.homeAddress.street=e.removeLastSpace(a.homeAddress.street),a.homeAddress.subdivision=e.removeLastSpace(a.homeAddress.subdivision),a.homeAddress.barangay=e.removeLastSpace(a.homeAddress.barangay),a.homeAddress.municipality=e.removeLastSpace(a.homeAddress.municipality),a.homeAddress.province=e.removeLastSpace(a.homeAddress.province),a.homeAddress.street+=" St.",a.homeAddress.barangay="Brgy. "+a.barangay,a.homeAddress.municipality+=" City";var s=[];s.push("+63"+a.mobileNumber.substring(0,3)),s.push(a.mobileNumber.substring(3,6)),s.push(a.mobileNumber.substring(6,10)),a.mobileNumber=s.join("-"),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertCustomer.php",a).then(e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();var t=!0;e.setState({submitError:!1,registered:t}),t=!1,setTimeout((function(){return e.setState({registered:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),Object.values(t.homeAddressErrors).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(t){e.isObject(t)?Object.values(t).forEach((function(t){e.isObject(t)||t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})):t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.isObject=function(e){return e instanceof Object},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderHomeAddressErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&" "!==e&&a.push(Object(s.jsxs)("small",{className:"text-danger ml-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),e]}))})),[a]}},e.onReset=function(){var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.record.homeAddress),s=Object(f.a)({},e.state.errors),r=Object(f.a)({},e.state.errors.homeAddressErrors);a.lotBlock="",a.street="",a.subdivision="",a.barangay="",a.municipality="",a.province="",t.id=e.generateCharacters(6),t.lastName="",t.firstName="",t.middleName="",t.homeAddress=a,t.birthdate="",t.mobileNumber="",t.emailAddress="",t.email="@yahoo.com",t.userPassword="",r.lotBlock="",r.street=" ",r.subdivision=" ",r.barangay=" ",r.municipality=" ",r.province="",s.lastName=" ",s.firstName=" ",s.middleName="",s.homeAddressErrors=r,s.birthdate=" ",s.mobileNumber=" ",s.emailAddress=" ",s.userPassword=" ",s.confirmUserPassword=" ",e.setState({record:t,confirmUserPassword:"",errors:s,submitError:!1})},e.preventPaste=function(e){e.preventDefault()},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.removeMultipleSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "===e.charAt(a)?0!==a&&" "!==e.charAt(a-1)&&(t+=e.charAt(a)):t+=e.charAt(a);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmUserPassword,c=e.registered,l=t.homeAddress,o=a.homeAddressErrors;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"registerModal",tabIndex:"-1",role:"dialog","aria-labelledby":"registerModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"registerModalTitle",children:"Register"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[!0===c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Successfully registered."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.lastName),type:"text",name:"lastName",value:t.lastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.lastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.firstName),type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.firstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.middleName),type:"text",name:"middleName",value:t.middleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.middleName)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Home Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"row mx-0",children:[Object(s.jsx)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(o.lotBlock),type:"text",name:"lotBlock",value:l.lotBlock,onChange:this.onChangeHomeAddress,placeholder:"Lot/Block (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(o.street),type:"text",name:"street",value:l.street,onChange:this.onChangeHomeAddress,placeholder:"Street",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"St."})})]}),Object(s.jsx)("div",{className:"col-lg-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(o.subdivision),type:"text",name:"subdivision",value:l.subdivision,onChange:this.onChangeHomeAddress,placeholder:"Subdivision",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("div",{className:"input-group-prepend",children:Object(s.jsx)("span",{className:"input-group-text",children:"Brgy."})}),Object(s.jsx)("input",{className:this.inputFieldClasses(o.barangay),type:"text",name:"barangay",value:l.barangay,onChange:this.onChangeHomeAddress,placeholder:"Barangay",noValidate:!0})]}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(o.municipality),type:"text",name:"municipality",value:l.municipality,onChange:this.onChangeHomeAddress,placeholder:"Municipality",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"City"})})]}),Object(s.jsx)("div",{className:"col-lg-4 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(o.province),type:"text",name:"province",value:l.province,onChange:this.onChangeHomeAddress,placeholder:"Province (Optional)",noValidate:!0})})]})," ",this.renderHomeAddressErrors(o)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Mobile Number",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("span",{className:"input-group-text",children:"+63"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.mobileNumber),type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0})]}),this.renderRecordErrors(a.mobileNumber)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Email Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"w-sm-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),Object(s.jsxs)("select",{className:"input-group-text",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress),Object(s.jsx)("div",{children:Object(s.jsxs)("small",{className:"text-success ml-2",children:[Object(s.jsx)("i",{className:"fa fa-info-circle mr-1"}),Object(s.jsx)("span",{children:"Valid Symbols:\xa0"}),Object(s.jsx)("span",{children:"!#$%^&*.?_-"})]})})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.userPassword),type:"password",name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmUserPassword),type:"password",name:"confirmUserPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmUserPassword)]})]}),!0===c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Successfully registered."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})]})})})})}}]),a}(r.Component),S=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"bg-dark text-light w-100 fixed-bottom",children:Object(s.jsx)("p",{className:"m-0 p-0 text-right small my-1 mr-3",children:"Copyright \xa9 2020"})})}}]),a}(r.Component),k=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={activeId:2},e.switchActiveId=function(t){var a=t;e.setState({activeId:a})},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(u,{activeId:this.state.activeId,sourceId:1,switchActiveId:this.switchActiveId}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"h-full row bg-warning justify-content-center text-dark",children:[Object(s.jsx)("div",{className:"col-lg-7 d-lg-inline d-none align-self-center",children:Object(s.jsx)(g,{})}),Object(s.jsx)("div",{className:"col-lg-5 bg-light",children:Object(s.jsx)("div",{className:"row h-full justify-content-center align-items-center",children:Object(s.jsx)("div",{className:"col-sm-10 col-md-8 col-lg-12",children:2===this.state.activeId?Object(s.jsx)(A,{history:this.props.history}):Object(s.jsx)(C,{history:this.props.history})})})})]})}),Object(s.jsx)(w,{}),Object(s.jsx)(S,{})]})}}]),a}(r.Component),P=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={navs:[{id:0,text:"Account",link:"/wiggly-tails/customer",items:[]},{id:1,text:"Transactions",link:"/wiggly-tails/customer/view-transactions",items:[]},{id:2,text:"Pets",link:"/wiggly-tails/customer/manage-pets",items:[]},{id:3,text:"About us",link:"/wiggly-tails/customer/about-us",items:[]},{id:10,text:"Sign out",link:"/wiggly-tails",items:[]}]},e.onClickLink=function(t){var a=e.props.history,s=t.link;a.replace(s,{verified:!0,id:a.location.state.id})},e.onClickBrand=function(){var t=e.props.history;t.replace("/wiggly-tails/customer",{verified:!0,id:t.location.state.id})},e.onClickSignOut=function(t){var a=e.props.history,s=t.link;a.replace(s)},e.linkItemClasses=function(t){var a=e.props,s=a.activeId,r=a.sourceId,n="nav-link ";return n+=t===s||t===r?"active":10===t?"text-danger":"inactive"},e.dropdownItemClasses=function(t){var a="dropdown-item ";return a+=7===t?"text-danger ":"text-dark ",a+=t===e.props.activeId?"active-dropdown":"inactive-dropdown"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark fixed-top",children:[Object(s.jsxs)("a",{onClick:this.onClickBrand,className:"navbar-brand py-0",children:[Object(s.jsx)("img",{src:j,alt:"",className:"mr-2"}),"Veterinary Clinic"]}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#customer-navbar","aria-controls":"customer-navbar","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"customer-navbar",children:Object(s.jsx)("ul",{className:"navbar-nav ml-auto",children:this.state.navs.map((function(t){return t.items.length>0?Object(s.jsxs)("li",{className:"nav-item dropdown mr-1",children:[Object(s.jsx)("a",{className:"dropdown-toggle "+e.linkItemClasses(t.id),id:"dropdown"+t.id,href:t.link,"data-toggle":"dropdown",children:t.text}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdown"+t.id,children:t.items.map((function(t){return 7===t.id?Object(s.jsx)("a",{className:e.dropdownItemClasses(t.id),"data-toggle":"modal","data-target":"#manageEmployeesModal",children:t.text},t.id):Object(s.jsx)("a",{className:e.dropdownItemClasses(t.id),onClick:function(){return e.onClickLink(t)},children:t.text},t.id)}))})]},t.id):Object(s.jsx)("li",{className:"nav-item mr-1",children:10===t.id?Object(s.jsx)("a",{onClick:function(){return e.onClickSignOut(t)},className:e.linkItemClasses(t.id),children:t.text}):Object(s.jsx)("a",{onClick:function(){return e.onClickLink(t)},className:e.linkItemClasses(t.id),children:t.text})},t.id)}))})})]})})}}]),a}(r.Component),F=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",lastName:"",firstName:"",middleName:"",homeAddress:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:""},confirmUserPassword:"",errors:{lastName:"",firstName:"",middleName:"",homeAddressErrors:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",userPassword:"",confirmUserPassword:" "},records:[],connected:!1,connectionFailed:!1,submitError:!1,updated:!1,passwordState:{inputType:"password",buttonText:"Show"}},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(O.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"mobileNumber"!==s&&"emailAddress"!==s&&"userPassword"!==s&&(r="lastName"===s?e.toProperCase(r):e.toAbsProperCase(r)),"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors),c=Object(f.a)({},e.state.record),l=e.state.confirmUserPassword,o=e.removeSpaces(r).length;switch(s){case"lastName":n.lastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"firstName":n.firstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"middleName":n.middleName=o>24?"Must be at maximum of 24 characters":"";break;case"birthdate":n.birthdate=0===r.length?" ":"";break;case"mobileNumber":n.mobileNumber=0===r.length?" ":Object(y.isNumeric)(r)?r.length<10?"Must be at exact 10 numbers":"":"Please input a valid value";break;case"emailAddress":n.emailAddress=0===r.length?" ":r.length<8||r.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(r)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"email":n.emailAddress=e.emailAddressExists()?"Already in use":"";break;case"userPassword":n.userPassword=0===r.length?" ":r.length<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmUserPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmUserPassword":n.confirmUserPassword=0===r.length?" ":r===c.userPassword?r.length<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.emailAddressExists=function(){var t=e.state,a=t.record,s=t.records,r=e.props.customer;return s.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(a.emailAddress+a.email).toLowerCase()&&(e.emailAddress+e.email).toLowerCase()!==(r.emailAddress+r.email).toLowerCase()})).length>0},e.isValidEmail=function(e){return new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/).test(e)},e.onChangeHomeAddress=function(t){var a=t.target,s=a.name,r=a.value;r=e.toProperCase(r),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{homeAddress:Object(f.a)(Object(f.a)({},e.record.homeAddress),{},Object(O.a)({},s,r))})})}),(function(){return e.onCheckHomeAddressErrors(t)}))},e.onCheckHomeAddressErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors.homeAddressErrors),c=e.removeSpaces(r).length;switch(s){case"lotBlock":n.lotBlock=r.length>12?"Lot/Block must be at maximum of 12 characters":"";break;case"street":n.street=0===c?" ":c<2||r.length>24?"Street must be at between 2 and 24 characters":"";break;case"subdivision":n.subdivision=0===c?" ":c<2||r.length>24?"Subdivision must be at between 2 and 24 characters":"";break;case"barangay":n.barangay=0===c?" ":c<2||r.length>24?"Barangay must be at between 2 and 24 characters":"";break;case"municipality":n.municipality=0===c?" ":c<2||r.length>24?"Municipality must be at between 2 and 24 characters":"";break;case"province":n.province=r.length>24?"Province must be at maximum of 24 characters":""}e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{errors:Object(f.a)(Object(f.a)({},e.errors),{},{homeAddressErrors:n})})}))},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.lastName=e.removeLastSpace(s.lastName),s.firstName=e.removeLastSpace(s.firstName),s.middleName=e.removeLastSpace(s.middleName),s.homeAddress.lotBlock=e.removeLastSpace(s.homeAddress.lotBlock),s.homeAddress.street=e.removeLastSpace(s.homeAddress.street),s.homeAddress.subdivision=e.removeLastSpace(s.homeAddress.subdivision),s.homeAddress.barangay=e.removeLastSpace(s.homeAddress.barangay),s.homeAddress.municipality=e.removeLastSpace(s.homeAddress.municipality),s.homeAddress.province=e.removeLastSpace(s.homeAddress.province),s.homeAddress.street+=" St.",s.homeAddress.barangay="Brgy. "+s.homeAddress.barangay,s.homeAddress.municipality+=" City";var r=[];r.push("+63"+s.mobileNumber.substring(0,3)),r.push(s.mobileNumber.substring(3,6)),r.push(s.mobileNumber.substring(6,10)),s.mobileNumber=r.join("-"),e.props.onSubmitForm(),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updateCustomer.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){var t=Object(f.a)({},e.state.record);t.homeAddress.street=t.homeAddress.street.substring(0,t.homeAddress.street.length-4),t.homeAddress.barangay=t.homeAddress.barangay.substring(6,t.homeAddress.barangay.length),t.homeAddress.municipality=t.homeAddress.municipality.substring(0,t.homeAddress.municipality.length-5);var a=Object(f.a)({},e.state.errors);a.confirmUserPassword=" ",e.setState({record:t,errors:a,confirmUserPassword:"",submitError:!1,updated:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),Object.values(t.homeAddressErrors).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(t){e.isObject(t)?Object.values(t).forEach((function(t){e.isObject(t)||t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})):t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.isObject=function(e){return e instanceof Object},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderHomeAddressErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&" "!==e&&a.push(Object(s.jsxs)("small",{className:"text-danger ml-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),e]}))})),[a]}},e.onReset=function(){var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.record.homeAddress),s=Object(f.a)({},e.state.errors),r=Object(f.a)({},e.state.errors.homeAddressErrors),n=e.props.customer,c=e.state.passwordState;c.buttonText="Show",c.inputType="password",a.lotBlock=n.lotBlock,a.street=n.street.substring(0,n.street.length-4),a.subdivision=n.subdivision,a.barangay=n.barangay.substring(6,n.barangay.length),a.municipality=n.municipality.substring(0,n.municipality.length-5),a.province=n.province,t.lastName=n.lastName,t.firstName=n.firstName,t.middleName=n.middleName,t.homeAddress=a,t.birthdate=n.birthdate;var l=n.mobileNumber.split("-");l=(l=l.join("")).substring(3,l.length),t.mobileNumber=l,t.emailAddress=n.emailAddress,t.email=n.email,t.userPassword=n.userPassword,r.lotBlock="",r.street="",r.subdivision="",r.barangay="",r.municipality="",r.province="",s.lastName="",s.firstName="",s.middleName="",s.homeAddressErrors=r,s.birthdate="",s.mobileNumber="",s.emailAddress="",s.userPassword="",s.confirmUserPassword=" ",e.setState({record:t,confirmUserPassword:"",errors:s,passwordState:c,submitError:!1,updated:!1})},e.onTogglePassword=function(t){t.preventDefault();var a=Object(f.a)({},e.state.passwordState);"password"===a.inputType?(a.inputType="text",a.buttonText="Hide"):(a.inputType="password",a.buttonText="Show"),e.setState({passwordState:a})},e.defaultButtons=function(){return e.props.connected&&e.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null},e.getCustomersData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.removeMultipleSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "===e.charAt(a)?0!==a&&" "!==e.charAt(a-1)&&(t+=e.charAt(a)):t+=e.charAt(a);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getCustomersData();var e=this.props.customer,t=Object(f.a)({},this.state.record);t.id=e.id,t.lastName=e.lastName,t.firstName=e.firstName,t.middleName=e.middleName,t.homeAddress.lotBlock=e.lotBlock,t.homeAddress.street=e.street.substring(0,e.street.length-4),t.homeAddress.subdivision=e.subdivision,t.homeAddress.barangay=e.barangay.substring(6,e.barangay.length),t.homeAddress.municipality=e.municipality.substring(0,e.municipality.length-5),t.homeAddress.province=e.province,t.birthdate=e.birthdate;var a=e.mobileNumber.split("-");a=(a=a.join("")).substring(3,a.length),t.mobileNumber=a,t.emailAddress=e.emailAddress,t.email=e.email,t.userPassword=e.userPassword,this.setState({record:t})}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmUserPassword,c=e.passwordState,l=e.updated,o=e.deleteState,i=this.state.record.homeAddress,d=a.homeAddressErrors,m=this.props.connected;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"updateAccountInfoModal",tabIndex:"-1",role:"dialog","aria-labelledby":"updateAccountInfoModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"updateAccountInfoModalTitle",children:"View Customer"}),m?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[l?m?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.lastName),type:"text",name:"lastName",value:t.lastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.lastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.firstName),type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.firstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.middleName),type:"text",name:"middleName",value:t.middleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.middleName)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Home Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"row mx-0",children:[Object(s.jsx)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(d.lotBlock),type:"text",name:"lotBlock",value:i.lotBlock,onChange:this.onChangeHomeAddress,placeholder:"Lot/Block (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(d.street),type:"text",name:"street",value:i.street,onChange:this.onChangeHomeAddress,placeholder:"Street",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"St."})})]}),Object(s.jsx)("div",{className:"col-lg-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(d.subdivision),type:"text",name:"subdivision",value:i.subdivision,onChange:this.onChangeHomeAddress,placeholder:"Subdivision",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("div",{className:"input-group-prepend",children:Object(s.jsx)("span",{className:"input-group-text",children:"Brgy."})}),Object(s.jsx)("input",{className:this.inputFieldClasses(d.barangay),type:"text",name:"barangay",value:i.barangay,onChange:this.onChangeHomeAddress,placeholder:"Barangay",noValidate:!0})]}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(d.municipality),type:"text",name:"municipality",value:i.municipality,onChange:this.onChangeHomeAddress,placeholder:"Municipality",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"City"})})]}),Object(s.jsx)("div",{className:"col-lg-4 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(d.province),type:"text",name:"province",value:i.province,onChange:this.onChangeHomeAddress,placeholder:"Province (Optional)",noValidate:!0})})]})," ",this.renderHomeAddressErrors(d)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Mobile Number",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("span",{className:"input-group-text",children:"+63"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.mobileNumber),type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0})]}),this.renderRecordErrors(a.mobileNumber)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Email Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"w-sm-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),Object(s.jsxs)("select",{className:"input-group-text",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress),Object(s.jsx)("div",{children:Object(s.jsxs)("small",{className:"text-success ml-2",children:[Object(s.jsx)("i",{className:"fa fa-info-circle mr-1"}),Object(s.jsx)("span",{children:"Valid Symbols:\xa0"}),Object(s.jsx)("span",{children:"!#$%^&*.?_-"})]})})]}):this.state.connectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"zi-10 "+this.inputFieldClasses(a.userPassword),type:c.inputType,name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePassword,children:c.buttonText})})]})," ",this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmUserPassword),type:"password",name:"confirmUserPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmUserPassword)]})]}),l?m?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:o?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),R=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e.onBackToLogin=function(){e.props.history.replace("/",{verified:!0})},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center",children:Object(s.jsxs)("div",{className:"col-10 col-md-8 col-lg-6 form-light",children:[Object(s.jsxs)("div",{className:"alert alert-warning text-warning text-center my-3 mx-1 py-4",children:[Object(s.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(s.jsx)("i",{className:"fa fa-exclamation fa-lg"}),Object(s.jsx)("span",{className:"ml-2",children:Object(s.jsx)("h2",{className:"font-weight-normal",children:"Forbidden Access"})})]}),Object(s.jsx)("h5",{className:"font-weight-light",children:"Please login your Customer account first."})]}),Object(s.jsx)("div",{className:"text-center mb-3",children:Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:this.onBackToLogin,children:"Back to Login"})})]})})})}}]),a}(r.Component),E=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",lastName:"",firstName:"",middleName:"",lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:"",birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:""},connected:!1,connectionFailed:!1},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.onSubmitForm();var t=e.props.history.location.state.id;e.searchData(t)},e.onClickLink=function(t){var a=e.props.history;a.replace(t,{verified:!0,id:a.location.state.id})},e.componentDidMount=function(){var t=e.state.record;try{e.onRefresh()}catch(a){t.id=""}},e.renderContent=function(){var t=e.props.history,a=e.state,r=a.record,c=a.connected,l=a.connectionFailed;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(P,{activeId:0,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center pt-5 pt-md-3 pt-xl-0",children:Object(s.jsx)("div",{className:"col-11 col-sm-10 col-md-8 col-lg-6 form-light my-5",children:Object(s.jsxs)("div",{className:"row mx-2 mt-4",children:[c?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"col-4 col-sm-3 d-flex justify-content-center align-items-center p-0",children:Object(s.jsx)("div",{className:"square-100px bg-warning\r d-flex justify-content-center align-items-center",children:Object(s.jsx)("h4",{className:"m-0",children:r.id})})}),Object(s.jsxs)("div",{className:"col-8 col-sm-9 py-3 pr-1",children:[Object(s.jsx)("h2",{className:"mb-0",children:r.lastName}),Object(s.jsx)("h5",{className:"pl-3 pb-2 bottom-border-light font-weight-light",children:r.firstName+" "+r.middleName})]}),Object(s.jsxs)("div",{className:"col-12 py-3 pl-md-5 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-1",children:"Home Address"}),Object(s.jsx)("h6",{className:"pl-3 pb-2 bottom-border-light font-weight-light",children:r.lotBlock+" "+r.street+", "+r.subdivision+", "+r.barangay+", "+r.municipality+", "+r.province})]}),Object(s.jsxs)("div",{className:"col-12 py-3 pl-md-5 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-1",children:"Birthdate"}),Object(s.jsx)("h6",{className:"pl-3 pb-2 bottom-border-light font-weight-light",children:e.formatDate(r.birthdate)})]}),Object(s.jsxs)("div",{className:"col-12 col-md-5 col-lg-6 col-xl-5 py-3 pl-md-5 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-1",children:"Mobile Number"}),Object(s.jsx)("h6",{className:"pl-3 pb-2 bottom-border-light font-weight-light",children:r.mobileNumber})]}),Object(s.jsxs)("div",{className:"col-12 col-md-7 col-lg-6 col-xl-7 py-3 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-1",children:"Email Address"}),Object(s.jsx)("h6",{className:"pl-3 pb-2 bottom-border-light font-weight-light",children:r.emailAddress+""+r.email})]})]}):l?Object(s.jsxs)("div",{className:"col-12 my-5",children:[Object(s.jsx)("h1",{className:"display-5 text-center text-danger",children:"Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center text-danger",children:"Please try again later."})]}):Object(s.jsxs)("div",{className:"col-12 my-5",children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Data"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center",children:"Please wait..."})]}),Object(s.jsxs)("div",{className:"d-flex justify-content-end w-100 my-3",children:[Object(s.jsxs)("button",{className:"btn btn-warning w-auto mr-1",onClick:function(){return e.onClickLink("/wiggly-tails/customer/view-transactions")},children:[Object(s.jsx)("i",{className:"fa fa-exchange-alt"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Transactions"})]}),Object(s.jsxs)("button",{className:"btn btn-secondary w-auto mr-1",onClick:function(){return e.onClickLink("/wiggly-tails/customer/manage-pets")},children:[Object(s.jsx)("i",{className:"fa fa-cat"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Pets"})]}),c?Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1","data-toggle":"modal","data-target":"#updateAccountInfoModal",children:[Object(s.jsx)("i",{className:"fa fa-user-edit fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update Info"})]}):null]})]})})})}),r.id.length>0?Object(s.jsx)(F,{customer:r,onRefresh:e.onRefresh,connected:c,connectionFailed:l,onSubmitForm:e.onSubmitForm}):null,Object(s.jsx)(S,{})]})},e.searchData=function(t){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewAccountInfo.php?search="+t).then((function(t){var a=t.data;a=a[0],e.setState({record:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(R,{history:e})})}}]),a}(r.Component),I=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",transType:"",transDate:"",petId:"",petName:"",customerId:"",customerLastName:"",customerFirstName:"",customerMiddleName:"",customerName:"",petWeight:"",remarks:"",empId:"",empLastName:"",empFirstName:"",empMiddleName:"",checkUp:{findings:"",treatment:"",admissionDate:"",releasedDate:"",addInfo:""},groom:{activity:""}},checkUpConnected:!1,groomConnected:!1,connected:!1},e.componentDidMount=function(){var t=e.props.transaction;"C"===t.transType?e.getCheckUpData(t.id):"G"===t.transType&&e.getGroomData(t.id);var a=Object(f.a)({},e.state.record),s=Object(f.a)({},e.state.record.checkUp),r=Object(f.a)({},e.state.record.groom);a.id=t.id,a.transType=t.transType,a.transDate=t.transDate,a.petId=t.petId,a.petName=t.petName,a.customerId=t.customerId,a.customerLastName=t.lastName,a.customerFirstName=t.firstName,a.customerMiddleName=t.middleName,a.customerName=t.lastName+", "+t.firstName+" "+t.middleName,a.petWeight=t.petWeight,a.remarks=t.remarks,a.empId=t.empId,a.empLastName=t.empLastName,a.empFirstName=t.empFirstName,a.empMiddleName=t.empMiddleName,a.checkUp=s,a.groom=r,e.setState({record:a})},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}))},e.onChangeCheckUp=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{checkUp:Object(f.a)(Object(f.a)({},e.record.checkUp),{},Object(O.a)({},s,r))})})}))},e.onChangeGroom=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{groom:Object(f.a)(Object(f.a)({},e.record.groom),{},Object(O.a)({},s,r))})})}))},e.onViewAdmission=function(t){var a=e.state.record,s=e.props.history;s.push(t,Object(f.a)(Object(f.a)({},s.location.state),{},{admissionId:a.id,petName:a.petName,transDate:a.transDate}))},e.checkUpForm=function(){var t=e.state.record.checkUp;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:e.state.checkUpConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Findings"}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"findings",value:t.findings,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Treatment"}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"treatment",value:t.treatment,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admission Date"}),Object(s.jsx)("input",{className:"form-control",type:"date",name:"admissionDate",value:t.admissionDate,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Released Date"}),Object(s.jsx)("input",{className:"form-control",type:"date",name:"releasedDate",value:t.releasedDate,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Additional Information"}),Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"addInfo",value:t.addInfo,rows:"2",noValidate:!0,disabled:!0})]})]}):Object(s.jsxs)("div",{className:"col-12",children:[Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-0",children:"Loading Data"}),Object(s.jsx)("h5",{className:"font-weight-normal text-center",children:"Please wait..."})]})})})},e.groomForm=function(){var t=e.state.record.groom;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:e.state.groomConnected?Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Activity"}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"activity",value:t.activity,noValidate:!0,disabled:!0})]})}):Object(s.jsxs)("div",{className:"col-12",children:[Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-0",children:"Loading Data"}),Object(s.jsx)("h5",{className:"font-weight-normal text-center",children:"Please wait..."})]})})})},e.getCheckUpData=function(t){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionCheckUp.php?id="+t).then((function(t){var a=t.data;a=a[0],e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{checkUp:a}),checkUpConnected:true,connected:true})}))})).catch((function(e){return console.log(e)}))},e.getGroomData=function(t){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionGroom.php?id="+t).then((function(t){var a=t.data;a=a[0],e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{groom:a}),groomConnected:true,connected:true})}))})).catch((function(e){return console.log(e)}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state.record,a=this.props.transaction;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewTransactionModal-"+a.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewTransactionModalTitle-"+a.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewTransactionModalTitle-"+a.id,children:"View Transaction"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Transaction Date"}),Object(s.jsx)("input",{className:"form-control",type:"date",name:"transDate",value:t.transDate,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Transaction Type"}),Object(s.jsx)("input",{className:"zi-10 form-control",name:"transType",value:"C"===t.transType?"Check-up":"Groom",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Employee Id"}),Object(s.jsx)("div",{className:"input-group",children:Object(s.jsx)("input",{className:"zi-10 form-control",name:"empId",value:t.empId+" | "+t.empLastName+", "+t.empFirstName+" "+t.empMiddleName,noValidate:!0,disabled:!0})})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Customer Id"}),Object(s.jsx)("div",{className:"input-group",children:Object(s.jsx)("input",{className:"zi-10 form-control",name:"customerId",value:t.customerId+" | "+t.customerLastName+", "+t.customerFirstName+" "+t.customerMiddleName,noValidate:!0,disabled:!0})})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Pet Id"}),Object(s.jsx)("div",{className:"input-group",children:Object(s.jsx)("input",{className:"zi-10 form-control",name:"petId",value:t.petId+" | "+t.petName,noValidate:!0,disabled:!0})})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Pet Weight"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"petWeight",value:t.petWeight,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"Kilogram"})})]})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Remarks"}),Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"remarks",value:t.remarks,onChange:this.onChangeRecord,rows:"2",noValidate:!0,disabled:!0})]}),"C"===t.transType?this.checkUpForm():"G"===t.transType?this.groomForm():null]})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:"C"===t.transType&&this.state.connected?Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1","data-dismiss":"modal",onClick:function(){return e.onViewAdmission("/wiggly-tails/customer/view-admission")},children:[Object(s.jsx)("i",{className:"fa fa-hand-holding-medical fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Admissions"})]}):null})})]})})})})}}]),a}(r.Component),V=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).onClickPage=function(t){var a=e.props.recordsPerPage*(t-1),s=t;e.props.setPage(a,s)},e.onClickPagePrev=function(){var t=e.props.activePage;1!==t&&t--,e.onClickPage(t)},e.onClickPageNext=function(t){var a=e.props.activePage;a!==t&&a++,e.onClickPage(a)},e.renderPagination=function(t){for(var a=[],r=Math.ceil(t/e.props.recordsPerPage),n=e.props.activePage>2?e.props.activePage+1>=r?r>5?r-4:1:e.props.activePage-2:1,c=r<=n+4?r:n+4,l=function(){var t=o;a.push(Object(s.jsx)("button",{className:e.getPageClasses(t),onClick:function(){return e.onClickPage(t)},children:t},t))},o=n;o<=c;o++)l();return Object(s.jsx)("div",{className:"btn-toolbar justify-content-end mb-4",role:"toolbar",children:Object(s.jsxs)("div",{className:"btn-group",role:"group",children:[Object(s.jsxs)("button",{className:e.getPrevPageClasses(),onClick:function(){return e.onClickPagePrev()},children:[Object(s.jsx)("i",{className:"fa fa-long-arrow-alt-left"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Prev"})]}),e.renderBackPage(n,1),[a],e.renderContinuePage(c,r),Object(s.jsxs)("button",{className:e.getNextPageClasses(r),onClick:function(){return e.onClickPageNext(r)},children:[Object(s.jsx)("i",{className:"fa fa-long-arrow-alt-right"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Next"})]})]})})},e.renderBackPage=function(t,a){if(t>a){var r=t-1;return Object(s.jsx)("button",{className:e.getPageClasses(r),onClick:function(){return e.onClickPage(r)},children:"..."},r)}},e.renderContinuePage=function(t,a){if(t<a){var r=t+1;return Object(s.jsx)("button",{className:e.getPageClasses(r),onClick:function(){return e.onClickPage(r)},children:"..."},r)}},e.getPageClasses=function(t){var a="btn pagination-nav ";return a+=t===e.props.activePage?"btn-outline-primary-active":"btn-outline-primary"},e.getPrevPageClasses=function(){var t="btn ";return t+=1===e.props.activePage?"pagination-disabled":"btn-outline-primary pagination-nav"},e.getNextPageClasses=function(t){var a="btn ";return a+=e.props.activePage===t?"pagination-disabled":"btn-outline-primary pagination-nav"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.totalRecords;return this.renderPagination(e)}}]),a}(r.Component),D=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:e.formatDate(t[o].transDate)}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[o].lastName+", "+t[o].firstName+" "+t[o].middleName}),Object(s.jsx)("td",{children:t[o].petName}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[o].petWeight}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[o].empLastName+", "+t[o].empFirstName+" "+t[o].empMiddleName}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewTransactionModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e.formatTransType=function(e){return"C"===e?"Check-up":"Groom"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.transactions,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.history,i=e.connected,d=this.state,m=d.recordsPerPage,h=d.recordStartIndex,b=d.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-warning mr-2 ml-auto",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Transaction Date"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell",children:"Customer Name"}),Object(s.jsx)("th",{children:"Pet Name"}),Object(s.jsx)("th",{className:"w-110px d-none d-lg-table-cell",children:"Pet Weight"}),Object(s.jsx)("th",{className:"w-285px d-none d-md-table-cell",children:"Served by"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(V,{setPage:this.setPage,recordsPerPage:m,recordStartIndex:h,activePage:b,totalRecords:t.length}):null,t.map((function(e){return Object(s.jsx)(I,{transaction:e,onRefresh:a,history:o},e.id)}))]})}}]),a}(r.Component),T=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={transactions:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData();e.setState({connected:!1,connectionFailed:!1})},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(P,{activeId:1,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"View Transactions"}),Object(s.jsx)(D,{transactions:e.state.transactions,onRefresh:e.onRefresh,onSearch:e.onSearch,history:t,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.transactions.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center text-danger",children:"Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center text-danger mb-5",children:"Please try again later."})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-5",children:"Please wait..."})]})})]})})}),Object(s.jsx)(S,{})]})},e.getData=function(){var t=e.props.history;v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewAccountTransactions.php?id="+t.location.state.id).then((function(t){var a=t.data;e.setState({transactions:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){var a=e.props.history;v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchAccountTransaction.php?id="+a.location.state.id+"&search="+t).then((function(t){var a=t.data;e.setState({transactions:a})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(R,{history:e})})}}]),a}(r.Component),L=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={record:{id:"",transId:"",title:"",content:""}},e.componentDidMount=function(){var t=e.props.admission,a=Object(f.a)({},e.state.record);a.id=t.id,a.transId=t.transId,a.title=t.title,a.content=t.content,e.setState({record:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.record,t=this.props.admission;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewAdmissionModal-"+t.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewAdmissionModalTitle-"+t.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewAdmissionModalTitle-"+t.id,children:"View Admission"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"title",value:e.title,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("textarea",{className:"form-control zi-10",type:"text",name:"content",value:e.content,rows:"7",noValidate:!0,disabled:!0})]})]})}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100"})})]})})})})}}]),a}(r.Component),M=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[o].title}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[o].content}),Object(s.jsx)("td",{className:"d-table-cell d-md-none",children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewAdmissionModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.admission,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.history,i=e.connected,d=this.state,m=d.recordsPerPage,h=d.recordStartIndex,b=d.activePage,j=o.location.state;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-warning mr-2 ml-auto",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsxs)("thead",{className:"thead-dark text-light",children:[Object(s.jsx)("tr",{children:Object(s.jsx)("th",{colSpan:"3",children:Object(s.jsxs)("div",{className:"row align-items-center",children:[Object(s.jsx)("div",{className:"col-12 col-md-6 text-center mb-2 pb-2\r m-md-0 p-md-0 bottom-border-dark border-md-0",children:"Pet Name: "+j.petName}),Object(s.jsx)("div",{className:"col-12 col-md-6 text-center",children:"Transaction Date: "+j.transDate})]})})}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Title"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Content"}),Object(s.jsx)("th",{className:"d-table-cell d-md-none w-100px",children:"Action"})]})]}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(V,{setPage:this.setPage,recordsPerPage:m,recordStartIndex:h,activePage:b,totalRecords:t.length}):null,t.map((function(e){return Object(s.jsx)(L,{admission:e,onRefresh:a},e.id)}))]})}}]),a}(r.Component),U=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={admission:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData();e.setState({connected:!1,connectionFailed:!1})},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(P,{activeId:1,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"View Admission"}),Object(s.jsx)(M,{admission:e.state.admission,history:t,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.admission.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center text-danger",children:"Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center text-danger mb-5",children:"Please try again later."})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-5",children:"Please wait..."})]})})]})})}),Object(s.jsx)(S,{})]})},e.getData=function(){var t=e.props.history;v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionAdmission.php?id="+t.location.state.admissionId).then((function(t){var a=t.data;e.setState({admission:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){var a=e.props.history;v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchTransactionAdmission.php?id="+a.location.state.admissionId+"&search="+t).then((function(t){var a=t.data;e.setState({admission:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(R,{history:e})})}}]),a}(r.Component),B=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",petName:"",birthdate:"",ownerId:"",petClass:"",lastVisit:"",pcciRegNo:""},errors:{petName:" ",birthdate:" ",petClass:" ",pcciRegNo:""},submitError:!1,petClasses:["Alpaca","Ant","Bear","Bird","Cat","Chicken","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Frog","Gecko","Gerbil","Giraffe","Goat","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Iguana","Jaguar","Lizard","Mantis","Monkey","Newt","Octopus","Pig","Panda","Quill","Rabbit","Rat","Salamander","Sheep","Snake","Spider","Tortoise","Turtle","Whale"],added:!1},e.onGenerateId=function(){var t=Object(f.a)({},e.state.record),a=e.generateCharacters(6);t.id=a,t.ownerId=e.props.ownerId,e.setState({record:t})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(O.a)({},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"ownerId":n.ownerId=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length>6?"Must be at exact 6 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.petName=e.removeLastSpace(s.petName),e.props.onSubmitForm(),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertPet.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();var t=!0;e.setState({submitError:!1,added:t}),t=!1,setTimeout((function(){return e.setState({added:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){e.onGenerateId();var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.errors);t.id=e.generateCharacters(6),t.petName="",t.birthdate="",t.petClass="",t.pcciRegNo="",a.petName="Pet Name is required",a.birthdate="Birthdate is required",a.petClass="Pet Class is required",a.pcciRegNo="",e.setState({record:t,errors:a,submitError:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.petClasses,c=e.added;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addPetModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addPetModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addPetModalTitle",children:"Add Pet"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,placeholder:"Please click 'Generate'",noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.petName),type:"text",name:"petName",value:t.petName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Owner Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"ownerId",value:t.ownerId,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(a.petClass),name:"petClass",value:t.petClass,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(a.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.pcciRegNo),type:"text",name:"pcciRegNo",value:t.pcciRegNo,onChange:this.onChangeRecord,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.pcciRegNo)]})]}),c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsxs)("div",{className:"d-flex justify-content-end w-100",children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})]})})})})}}]),a}(r.Component),G=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",petName:"",birthdate:"",ownerId:"",petClass:"",lastVisit:"",pcciRegNo:""},errors:{petName:"",birthdate:"",petClass:"",pcciRegNo:""},submitError:!1,updated:!1,petClasses:["Alpaca","Ant","Bear","Bird","Cat","Chicken","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Frog","Gecko","Gerbil","Giraffe","Goat","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Iguana","Jaguar","Lizard","Mantis","Monkey","Newt","Octopus","Pig","Panda","Quill","Rabbit","Rat","Salamander","Sheep","Snake","Spider","Tortoise","Turtle","Whale"],deleteState:!1},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(O.a)({},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"ownerId":n.ownerId=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length>6?"Must be at exact 6 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.petName=e.removeLastSpace(s.petName),e.props.onSubmitForm(),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updatePet.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){var t=!0;e.setState({submitError:!1,updated:t}),t=!1,setTimeout((function(){return e.setState({updated:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.errors),s=e.props.pet;t.petName=s.petName,t.birthdate=s.birthdate,t.petClass=s.petClass,t.pcciRegNo=s.pcciRegNo,a.petName="",a.birthdate="",a.petClass="",a.pcciRegNo="",e.setState({record:t,errors:a,submitError:!1})},e.defaultButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]})},e.onToggleDelete=function(){var t=!e.state.deleteState;e.setState({deleteState:t})},e.deleteButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1","data-dismiss":"modal",onClick:e.onDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Confirm Delete"})]}),Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-arrow-left"}),Object(s.jsx)("span",{className:"ml-1",children:"Cancel Delete"})]})]})},e.onDelete=function(){var t=e.state.record,a=e.props.onRefresh;v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/deletePet.php",t).then(a)},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.getCustomersData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a})})).catch((function(e){return console.log(e)}))},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getCustomersData();var e=this.props.pet,t=Object(f.a)({},this.state.record);t.id=e.id,t.petName=e.petName,t.birthdate=e.birthdate,t.ownerId=e.ownerId,t.petClass=e.petClass,t.lastVisit=e.lastVisit,t.pcciRegNo=e.pcciRegNo,this.setState({record:t})}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.petClasses,c=e.updated,l=e.deleteState,o=this.props,i=o.pet,d=o.connected;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewPetModal"+i.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewPetModalTitle"+i.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewPetModalTitle"+i.id,children:"View Pet"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[c?d?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.petName),type:"text",name:"petName",value:t.petName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Owner Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"ownerId",value:t.ownerId,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(a.petClass),name:"petClass",value:t.petClass,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(a.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.pcciRegNo),type:"text",name:"pcciRegNo",value:t.pcciRegNo,onChange:this.onChangeRecord,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.pcciRegNo)]})]}),c?d?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:l?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),H=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:t[o].ownerLastName+", "+t[o].ownerFirstName+" "+t[o].ownerMiddleName}),Object(s.jsx)("td",{children:t[o].petName}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:e.formatDate(t[o].birthdate)}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[o].petClass}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:null===t[o].lastVisit?"Not visiting yet":e.formatDate(t[o].lastVisit)}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewPetModal"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.pets,a=e.ownerId,r=e.onRefresh,c=e.onSearch,l=e.searchValue,o=e.onClear,i=e.connected,d=e.connectionFailed,m=e.onSubmitForm,h=this.state,b=h.recordsPerPage,j=h.recordStartIndex,u=h.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addPetModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-xl-inline d-lg-none d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:r,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-xl-inline d-lg-none d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:c,value:l}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:o,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Owner Name"}),Object(s.jsx)("th",{children:"Pet Name"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell",children:"Birthdate"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Pet Class"}),Object(s.jsx)("th",{className:"d-none d-sm-table-cell",children:"Last Visit"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(V,{setPage:this.setPage,recordsPerPage:b,recordStartIndex:j,activePage:u,totalRecords:t.length}):null,Object(s.jsx)(B,{onRefresh:r,ownerId:a,onSubmitForm:m}),t.map((function(e){return Object(s.jsx)(G,{pet:e,onRefresh:r,connected:i,connectionFailed:d,onSubmitForm:m},e.id)}))]})}}]),a}(r.Component),W=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={pets:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData();e.setState({connected:!1,connectionFailed:!1})},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(P,{activeId:2,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Pets"}),Object(s.jsx)(H,{pets:e.state.pets,ownerId:t.location.state.id,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.pets.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center text-danger",children:"Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center text-danger mb-5",children:"Please try again later."})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-5",children:"Please wait..."})]})})]})})}),Object(s.jsx)(S,{})]})},e.getData=function(){var t=e.props.history;v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewAccountPets.php?id="+t.location.state.id).then((function(t){var a=t.data;e.setState({pets:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){var a=e.props.history;v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchAccountPet.php?id="+a.location.state.id+"&search="+t).then((function(t){var a=t.data;e.setState({pets:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(R,{history:e})})}}]),a}(r.Component),Z=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={},e.onClickLink=function(t){e.props.history.push(t,{verified:!0})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(P,{activeId:3,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center pt-5 pt-md-3 pt-xl-0",children:Object(s.jsx)("div",{className:"col-11 col-sm-10 col-md-8 col-lg-6 form-light my-5 my-md-0 mt-md-5",children:Object(s.jsxs)("div",{className:"row mx-2 mt-4",children:[Object(s.jsxs)("div",{className:"col-12 pr-1",children:[Object(s.jsx)("h2",{className:"mb-3",children:"About us"}),Object(s.jsxs)("h5",{className:"px-2 text-center font-weight-light",children:["Roma Ador Dionisio-Pajarillo's (DVM)",Object(s.jsx)("br",{}),"Veterinary Clinic - Wiggly Tails"]}),Object(s.jsx)("h6",{className:"px-3 font-weight-light",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo qui quaerat maxime, dolores nemo soluta reiciendis deleniti possimus illum temporibus, odio maiores velit inventore architecto! Aut est maxime quam doloribus!"}),Object(s.jsx)("h6",{className:"px-3 text-center pb-3 bottom-border-light font-weight-light",children:Object(s.jsx)("b",{children:"Open on Monday to Saturday at 8:00am to 5:00pm"})})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-3",children:"Offers"}),Object(s.jsx)("h6",{className:"pl-3 bottom-border-light font-weight-light",children:Object(s.jsxs)("ul",{className:"row",children:[Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Consultation"}),Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Treatment"}),Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Vaccination"}),Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Confinement"}),Object(s.jsx)("li",{className:"col-sm-4 px-0",children:"Grooming"})]})})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-3",children:"Clinic Address"}),Object(s.jsx)("h6",{className:"pl-3 pb-3 bottom-border-light font-weight-light",children:"Brgy. Sta Cruz, Zaragoza, Nueva Ecija"})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-3",children:"Contact Information"}),Object(s.jsx)("h6",{className:"pl-3 bottom-border-light font-weight-light",children:Object(s.jsx)("ul",{className:"list-unstyled",children:Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Mobile Number: "}),"+63923-119-0591"]})})})]}),Object(s.jsxs)("div",{className:"col-12 pb-3 pl-md-3 pr-1",children:[Object(s.jsx)("h5",{className:"font-weight-normal mb-3",children:"Developers"}),Object(s.jsx)("h6",{className:"pl-3 font-weight-light",children:Object(s.jsxs)("ul",{className:"list-unstyled",children:[Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Main Developer: "}),"Casindad, Mc Allain Sanchez (BSIT Student)"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Database Source: "}),"Dr. Roma's Veterinary Clinic (Owner)"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("b",{children:"Interviewer: "}),"Dela Torre, Emmanuel (BSIT Student)"]}),Object(s.jsxs)("li",{className:"d-block d-md-flex",children:[Object(s.jsx)("b",{className:"mr-2",children:"Others: "}),Object(s.jsxs)("ul",{className:"list-unstyled",children:[Object(s.jsx)("li",{children:"Enriquez, Ryan (BSIT Student)"}),Object(s.jsx)("li",{children:"Flores, Jaizen Ann Noble (BSIT Student)"}),Object(s.jsx)("li",{children:"Ruiz, Jehiele Jeff (BSIT Student)"})]})]})]})})]})]})})})}),Object(s.jsx)(S,{})]})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(R,{history:e})})}}]),a}(r.Component),q=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{adminId:"",adminPassword:""},errors:{adminId:"Please input your Admin Id",adminPassword:"Please input your Admin Password"},records:[],connected:!1,submitError:!1,loginError:!1},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"adminId"===s&&(r=r.toUpperCase()),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors);switch(s){case"adminId":n.adminId=0===r.length?"Please input your Admin Id":6!==r.length?"Must be at exact 6 characters":"";break;case"adminPassword":n.adminPassword=0===r.length?"Please input your Admin Password":r.length>24?"Must be at maximum of 24 characters":""}e.setState({errors:n})},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors),a=Object(x.a)(e.state.records),s=Object(f.a)({},e.state.record);if(e.validForm({errors:t})){var r=!1,n=!1,c=a.filter((function(e){return e.id===s.adminId&&e.empPassword===s.adminPassword}));if(c.length>0)document.getElementById("btnClose").click(),e.props.history.replace("/wiggly-tails/admin/manage-employees",{verified:!0,id:c[0].id,empType:c[0].empType});else r=!0,n=!0,s.adminPassword="",t.adminPassword="Please input your Admin Password";e.setState({record:s,errors:t,submitError:r,loginError:n})}else{e.setState({submitError:!0})}},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.onReset=function(){var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.errors);t.adminId="",t.adminPassword="",a.adminId="Please input your Admin Id",a.adminPassword="Please input your Admin Password",e.setState({record:t,errors:a,submitError:!1,loginError:!1})},e.renderLoginError=function(){if(e.state.loginError)return Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{className:"lh-0 my-1",children:"Incorrect Admin Id or Admin Password"})]})},e.renderModal=function(){var t=e.state,a=t.record,r=t.errors;return Object(s.jsx)("div",{className:"modal fade",id:"manageEmployeesModal",tabIndex:"-1",role:"dialog","aria-labelledby":"manageEmployeesModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"manageEmployeesModalTitle",children:"Manage Employees"}),Object(s.jsx)("button",{id:"btnClose",className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:e.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[e.renderLoginError(),e.state.connected?Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admin Id"}),Object(s.jsx)("input",{className:e.inputFieldClasses(r.adminId),type:"text",name:"adminId",value:a.adminId,maxLength:"6",onChange:e.onChangeRecord,noValidate:!0}),e.renderRecordErrors(r.adminId)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admin Password"}),Object(s.jsx)("input",{className:e.inputFieldClasses(r.adminPassword),type:"password",name:"adminPassword",value:a.adminPassword,onChange:e.onChangeRecord,noValidate:!0}),e.renderRecordErrors(r.adminPassword)]})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-0",children:"Loading Data"}),Object(s.jsx)("h5",{className:"font-weight-normal text-center",children:"Please wait..."})]})]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:e.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null})})]})})})},e.getData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewAdmins.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(e){console.log(e)}))},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return Object(s.jsx)(n.a.Fragment,{children:this.renderModal()})}}]),a}(r.Component),z=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={navs:[{id:0,text:"Home",link:"/wiggly-tails/admin",items:[]},{id:3,text:"Manage",link:null,items:[{id:4,text:"Transactions",link:"/wiggly-tails/admin/manage-transactions"},{id:5,text:"Customers",link:"/wiggly-tails/admin/manage-customers"},{id:6,text:"Pets",link:"/wiggly-tails/admin/manage-pets"},{id:7,text:"Employees",link:"/wiggly-tails/admin/manage-employees"}]},{id:10,text:"Sign out",link:"/wiggly-tails",items:[]}]},e.onClickLink=function(t){var a=e.props.history,s=t.link;a.replace(s,{verified:!0})},e.onClickBrand=function(){e.props.history.replace("/wiggly-tails/admin",{verified:!0})},e.onClickSignOut=function(t){var a=e.props.history,s=t.link;a.replace(s)},e.linkItemClasses=function(t){var a=e.props,s=a.activeId,r=a.sourceId,n="nav-link ";return n+=t===s||t===r?"active":10===t?"text-danger":"inactive"},e.dropdownItemClasses=function(t){var a="dropdown-item ";return a+=7===t?"text-danger ":"text-dark ",a+=t===e.props.activeId?"active-dropdown":"inactive-dropdown"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.activeId,r=t.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark fixed-top",children:[Object(s.jsxs)("a",{onClick:this.onClickBrand,className:"navbar-brand py-0",children:[Object(s.jsx)("img",{src:j,alt:"",className:"mr-2"}),"Veterinary Clinic"]}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#admin-navbar","aria-controls":"admin-navbar","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"admin-navbar",children:Object(s.jsx)("ul",{className:"navbar-nav ml-auto",children:this.state.navs.map((function(t){return t.items.length>0?Object(s.jsxs)("li",{className:"nav-item dropdown mr-1",children:[Object(s.jsx)("a",{className:"dropdown-toggle "+e.linkItemClasses(t.id),id:"dropdown"+t.id,href:t.link,"data-toggle":"dropdown",children:t.text}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdown"+t.id,children:t.items.map((function(t){return 7===t.id&&t.id!==a?Object(s.jsx)("a",{className:e.dropdownItemClasses(t.id),"data-toggle":"modal","data-target":"#manageEmployeesModal",children:t.text},t.id):Object(s.jsx)("a",{className:e.dropdownItemClasses(t.id),onClick:function(){return e.onClickLink(t)},children:t.text},t.id)}))})]},t.id):Object(s.jsx)("li",{className:"nav-item mr-1",children:10===t.id?Object(s.jsx)("a",{onClick:function(){return e.onClickSignOut(t)},className:e.linkItemClasses(t.id),children:t.text}):Object(s.jsx)("a",{onClick:function(){return e.onClickLink(t)},className:e.linkItemClasses(t.id),children:t.text})},t.id)}))})})]}),Object(s.jsx)(q,{history:r})]})}}]),a}(r.Component),J=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e.onBackToLogin=function(){e.props.history.replace("/",{verified:!0})},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center",children:Object(s.jsxs)("div",{className:"col-10 col-md-8 col-lg-6 form-light",children:[Object(s.jsxs)("div",{className:"alert alert-warning text-warning text-center my-3 mx-1 py-4",children:[Object(s.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(s.jsx)("i",{className:"fa fa-exclamation fa-lg"}),Object(s.jsx)("span",{className:"ml-2",children:Object(s.jsx)("h2",{className:"font-weight-normal",children:"Forbidden Access"})})]}),Object(s.jsx)("h5",{className:"font-weight-light",children:"Please login your Employee account first."})]}),Object(s.jsx)("div",{className:"text-center mb-3",children:Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:this.onBackToLogin,children:"Back to Login"})})]})})})}}]),a}(r.Component),X=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={},e.onClickLink=function(t){e.props.history.replace(t,{verified:!0})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(z,{activeId:0,history:t}),Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)("div",{className:"row min-h-full align-items-center mx-1 py-5",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"row mt-5 mb-3",children:[Object(s.jsx)("div",{className:"col-lg-3 col-sm-6 text-center p-2",children:Object(s.jsxs)("div",{className:"custom-card-light max-h-90 min-h-24 p-3",children:[Object(s.jsx)("h3",{className:"font-weight-normal mt-3",children:"Transactions"}),Object(s.jsx)("img",{src:p,alt:"transactions",className:"card-img d-none d-md-inline my-4"}),Object(s.jsxs)("div",{className:"p-3 mt-2",children:[Object(s.jsx)("h5",{children:"Please suggest a Header"}),Object(s.jsx)("p",{children:"and Description"})]}),Object(s.jsxs)("button",{className:"btn btn-warning border w-75 mt-3",onClick:function(){return e.onClickLink("/wiggly-tails/admin/manage-transactions")},children:[Object(s.jsx)("i",{className:"fa fa-exchange-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Manage"})]})]})}),Object(s.jsx)("div",{className:"col-lg-3 col-sm-6 text-center p-2",children:Object(s.jsxs)("div",{className:"custom-card-light max-h-90 min-h-24 p-3",children:[Object(s.jsx)("h3",{className:"font-weight-normal mt-3",children:"Customers"}),Object(s.jsx)("img",{src:p,alt:"customers",className:"card-img d-none d-md-inline my-4"}),Object(s.jsxs)("div",{className:"p-3 mt-2",children:[Object(s.jsx)("h5",{children:"Please suggest a Header"}),Object(s.jsx)("p",{children:"and Description"})]}),Object(s.jsxs)("button",{className:"btn btn-primary border w-75 mt-3",onClick:function(){return e.onClickLink("/wiggly-tails/admin/manage-customers")},children:[Object(s.jsx)("i",{className:"fa fa-users"}),Object(s.jsx)("span",{className:"ml-1",children:"Manage"})]})]})}),Object(s.jsx)("div",{className:"col-lg-3 col-sm-6 text-center p-2",children:Object(s.jsxs)("div",{className:"custom-card-light max-h-90 min-h-24 p-3",children:[Object(s.jsx)("h3",{className:"font-weight-normal mt-3",children:"Pets"}),Object(s.jsx)("img",{src:p,alt:"pets",className:"card-img d-none d-md-inline my-4"}),Object(s.jsxs)("div",{className:"p-3 mt-2",children:[Object(s.jsx)("h5",{children:"Please suggest a Header"}),Object(s.jsx)("p",{children:"and Description"})]}),Object(s.jsxs)("button",{className:"btn btn-secondary border w-75 mt-3",onClick:function(){return e.onClickLink("/wiggly-tails/admin/manage-pets")},children:[Object(s.jsx)("i",{className:"fa fa-cat"}),Object(s.jsx)("span",{className:"ml-1",children:"Manage"})]})]})}),Object(s.jsx)("div",{className:"col-lg-3 col-sm-6 text-center p-2",children:Object(s.jsxs)("div",{className:"custom-card-light max-h-90 min-h-24 p-3",children:[Object(s.jsx)("h3",{className:"font-weight-normal mt-3",children:"Employees"}),Object(s.jsx)("img",{src:p,alt:"employees",className:"card-img d-none d-md-inline my-4"}),Object(s.jsxs)("div",{className:"p-3 mt-2",children:[Object(s.jsx)("h5",{children:"Please suggest a Header"}),Object(s.jsx)("p",{children:"and Description"})]}),Object(s.jsxs)("button",{className:"btn btn-danger border w-75 mt-3","data-toggle":"modal","data-target":"#manageEmployeesModal",children:[Object(s.jsx)("i",{className:"fa fa-user-md"}),Object(s.jsx)("span",{className:"ml-1",children:"Manage"})]})]})})]})})}),Object(s.jsx)(q,{history:t})]}),Object(s.jsx)(S,{})]})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(J,{history:e})})}}]),a}(r.Component),Y=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",transType:"",transDate:"",petId:"",customerId:"",petWeight:"",remarks:"",empId:"",checkUp:{findings:"",treatment:"",admissionDate:"",releasedDate:"",addInfo:""},groom:{activity:""}},errors:{transType:" ",petId:" ",customerId:" ",petWeight:" ",remarks:"",empId:" ",checkUpErrors:{findings:" ",treatment:" ",addInfo:""},groomErrors:{activity:" "}},submitError:!1,added:!1,customers:[],customerConnected:!1,customerConnectionFailed:!1,pets:[],petConnected:!1,petConnectionFailed:!1,employees:[],employeeConnected:!1,employeeConnectionFailed:!1,checkUpConnected:!1,checkUpConnectionFailed:!1,groomConnected:!1,groomConnectionFailed:!1,customer:{search:!1,searchValue:""},pet:{search:!1,searchValue:""},employee:{search:!1,searchValue:""}},e.onGenerateId=function(){var t=Object(f.a)({},e.state.record),a=e.generateCharacters(6);t.id=a,t.transDate=e.getCurrentDate(),e.setState({record:t})},e.getCurrentDate=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;if("remarks"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)})),"transType"===s){var n=Object(f.a)({},e.state.record.checkUp),c=Object(f.a)({},e.state.errors.checkUpErrors);n.findings="",n.treatment="",n.admissionDate="",n.releasedDate="",n.addInfo="",c.findings=" ",c.treatment=" ",c.admissionDate="",c.releasedDate="",c.addInfo="";var l=Object(f.a)({},e.state.record.groom),o=Object(f.a)({},e.state.errors.groomErrors);l.activity="",o.activity="",e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{checkUp:n,groom:l}),errors:Object(f.a)(Object(f.a)({},e.errors),{},{checkUpErrors:c,groomErrors:o})})}))}},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors);switch(s){case"transType":n.transType=0===r.length?" ":"";break;case"empId":n.empId=0===r.length?" ":"";break;case"customerId":n.customerId=0===r.length?" ":"";break;case"petId":n.petId=0===r.length?" ":"";break;case"petWeight":n.petWeight=0===r.length?" ":Object(y.isNumeric)(r)?r.length>6?"Must be at maximum of 6 numbers":"":"Please input a valid value";break;case"remarks":n.remarks=r.length>128?"Must be at maximum of 128 characters":""}e.setState({errors:n})},e.onChangeCheckUp=function(t){var a=t.target,s=a.name,r=a.value;"admissionDate"!==s&&"releasedDate"!==s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{checkUp:Object(f.a)(Object(f.a)({},e.record.checkUp),{},Object(O.a)({},s,r))})})}),(function(){return e.onCheckCheckUpErrors(t)}))},e.onCheckCheckUpErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors.checkUpErrors),c=e.removeSpaces(r).length;switch(s){case"findings":n.findings=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"treatment":n.treatment=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"addInfo":n.addInfo=r.length>128?"Must be at maximum of 128 characters":""}e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{errors:Object(f.a)(Object(f.a)({},e.errors),{},{checkUpErrors:n})})}))},e.onChangeGroom=function(t){var a=t.target,s=a.name,r=a.value;"activity"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{groom:Object(f.a)(Object(f.a)({},e.record.groom),{},Object(O.a)({},s,r))})})}),(function(){return e.onCheckGroomErrors(t)}))},e.onCheckGroomErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors.groomErrors),c=e.removeSpaces(r).length;switch(s){case"activity":n.activity=0===c?" ":c<2||r.length>32?"Must be at between 2 and 32 characters":0===c?" ":""}e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{errors:Object(f.a)(Object(f.a)({},e.errors),{},{groomErrors:n})})}))},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.remarks=e.removeLastSpace(s.remarks),s.checkUp.findings=e.removeLastSpace(s.checkUp.findings),s.checkUp.treatment=e.removeLastSpace(s.checkUp.treatment),s.checkUp.addInfo=e.removeLastSpace(s.checkUp.addInfo),s.groom.activity=e.removeLastSpace(s.groom.activity),e.props.onSubmitForm(),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertTransaction.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();e.setState({submitError:!1,added:!0})},e.validForm=function(t){var a=t.errors,s=e.state.record,r=!0;return Object.values(a).forEach((function(e){e.length>0&&(r=!1)})),"C"===s.transType?Object.values(a.checkUpErrors).forEach((function(e){e.length>0&&(r=!1)})):"G"===s.transType&&Object.values(a.groomErrors).forEach((function(e){e.length>0&&(r=!1)})),r},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.record.checkUp),s=Object(f.a)({},e.state.record.groom),r=Object(f.a)({},e.state.errors),n=Object(f.a)({},e.state.errors.checkUp),c=Object(f.a)({},e.state.errors.groom),l=e.generateCharacters(6);s.activity="",a.findings="",a.treatment="",a.admissionDate=e.getCurrentDate(),a.releasedDate="",a.addInfo="",t.id=l,t.transType="",t.transDate=e.getCurrentDate(),t.petId="",t.customerId="",t.petWeight="",t.remarks="",t.empId="",t.checkUp=a,t.groom=s,c.activity=" ",n.findings=" ",n.treatment=" ",n.addInfo="",r.transType=" ",r.petId=" ",r.customerId=" ",r.remarks="",r.empId=" ",r.checkUpErrors=n,r.groomErrors=c,e.setState({record:t,errors:r,submitError:!1,added:!1})},e.onToggleCustomerSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.customer);a.search=!a.search,a.searchValue="",e.setState({customer:a})},e.onClearCustomerSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.customer);a.searchValue="",e.setState({customer:a})},e.onChangeCustomerSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{customer:Object(f.a)(Object(f.a)({},e.customer),{},Object(O.a)({},s,r))})}))},e.onTogglePetSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.pet);a.search=!a.search,a.searchValue="",e.setState({pet:a})},e.onClearPetSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.pet);a.searchValue="",e.setState({pet:a})},e.onChangePetSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{pet:Object(f.a)(Object(f.a)({},e.pet),{},Object(O.a)({},s,r))})}))},e.onToggleEmployeeSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.employee);a.search=!a.search,a.searchValue="",e.setState({employee:a})},e.onClearEmployeeSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.employee);a.searchValue="",e.setState({employee:a})},e.onChangeEmployeeSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{employee:Object(f.a)(Object(f.a)({},e.employee),{},Object(O.a)({},s,r))})}))},e.checkUpForm=function(){var t=e.state.record.checkUp,a=e.state.errors.checkUpErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsxs)("div",{className:"row mt-3",children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Findings",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.findings),type:"text",name:"findings",value:t.findings,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(a.findings)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Treatment",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.treatment),type:"text",name:"treatment",value:t.treatment,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(a.treatment)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admission Date"}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"admissionDate",value:t.admissionDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Released Date"}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"releasedDate",value:t.releasedDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Additional Information"}),Object(s.jsx)("textarea",{className:e.inputFieldClasses(a.addInfo),type:"text",name:"addInfo",value:t.addInfo,onChange:e.onChangeCheckUp,rows:"2",noValidate:!0}),e.renderRecordErrors(a.addInfo)]})]})})},e.groomForm=function(){var t=e.state.record.groom,a=e.state.errors.groomErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Activity",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.activity),type:"text",name:"activity",value:t.activity,onChange:e.onChangeGroom,noValidate:!0}),e.renderRecordErrors(a.activity)]})})})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.getCustomersData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({customers:a,customerConnected:!0})})).catch((function(t){console.log(t);e.setState({customerConnectionFailed:!0})}))},e.getPetsData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php").then((function(t){var a=t.data;e.setState({pets:a,petConnected:!0})})).catch((function(t){console.log(t);e.setState({petConnectionFailed:!0})}))},e.getEmployeesData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({employees:a,employeeConnected:!0})})).catch((function(t){console.log(t);e.setState({employeeConnectionFailed:!0})}))},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId(),this.getCustomersData(),this.getPetsData(),this.getEmployeesData()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.customers,c=e.customer,l=e.pets,o=e.pet,i=e.employees,d=e.employee,m=e.added;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addTransactionModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addTransactionModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addTransactionModalTitle",children:"Add Transaction"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[m?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Date",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"transDate",value:t.transDate,onChange:this.onChangeRecord,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(a.transType),name:"transType",value:t.transType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),Object(s.jsx)("option",{value:"C",children:"Check-up"}),Object(s.jsx)("option",{value:"G",children:"Groom"})]}),this.renderRecordErrors(a.transType)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Employee Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.empId),name:"empId",value:t.empId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),i.length>0?i.filter((function(e){return(e.empLastName+", "+e.empFirstName+" "+e.empMiddleName).toLowerCase().match(d.searchValue.toLowerCase())||""===d.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.empLastName+", "+e.empFirstName+" "+e.empMiddleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleEmployeeSearch,children:"Search"})})]}),d.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:d.searchValue,onChange:this.onChangeEmployeeSearch,placeholder:"Search by Employee Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearEmployeeSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.empId)]}):this.state.employeeConnectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Customer Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.customerConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.customerId),name:"customerId",value:t.customerId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),r.length>0?r.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(c.searchValue.toLowerCase())||""===c.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleCustomerSearch,children:"Search"})})]}),c.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:c.searchValue,onChange:this.onChangeCustomerSearch,placeholder:"Search by Customer Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearCustomerSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.customerId)]}):this.state.customerConnectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.petConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.petId),name:"petId",value:t.petId,onChange:this.onChangeRecord,noValidate:!0,children:[l.filter((function(e){return e.petName.toLowerCase().match(o.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===o.searchValue&&e.ownerId===t.customerId})).length>0||o.searchValue.length>0?Object(s.jsx)("option",{value:"",children:"Choose one"}):t.customerId.length>0?Object(s.jsx)("option",{value:"",children:"No pet found"}):Object(s.jsx)("option",{value:"",children:"Customer Id is required"}),l.length>0?l.filter((function(e){return e.petName.toLowerCase().match(o.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===o.searchValue&&e.ownerId===t.customerId})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.petName},e.id)})):null]}),l.filter((function(e){return e.petName.match(o.searchValue)&&e.ownerId===t.customerId||""===o.searchValue&&e.ownerId===t.customerId})).length>0||o.searchValue.length>0?Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePetSearch,children:"Search"})}):null]}),o.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:o.searchValue,onChange:this.onChangePetSearch,placeholder:"Search by Pet Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearPetSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.petId)]}):this.state.petConnectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Weight",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(a.petWeight),type:"text",name:"petWeight",value:t.petWeight,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"Kilogram"})})]}),this.renderRecordErrors(a.petWeight)]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Remarks"}),Object(s.jsx)("textarea",{className:this.inputFieldClasses(a.remarks),type:"text",name:"remarks",value:t.remarks,onChange:this.onChangeRecord,rows:"2",noValidate:!0}),this.renderRecordErrors(a.remarks)]}),"C"===t.transType?this.checkUpForm():"G"===t.transType?this.groomForm():null]}),m?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:this.state.customerConnected&&this.state.petConnected&&this.state.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null})})]})})})})}}]),a}(r.Component),K=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",transType:"",transDate:"",petId:"",petName:"",customerId:"",customerName:"",petWeight:"",remarks:"",empId:"",checkUp:{findings:"",treatment:"",admissionDate:"",releasedDate:"",addInfo:""},groom:{activity:""}},errors:{transType:"",petId:"",customerId:"",petWeight:"",remarks:"",empId:"",checkUpErrors:{findings:"",treatment:"",addInfo:""},groomErrors:{activity:""}},submitError:!1,updated:!1,customers:[],customerConnected:!1,customerConnectionFailed:!1,pets:[],petConnected:!1,petConnectionFailed:!1,employees:[],employeeConnected:!1,employeeConnectionFailed:!1,checkUpConnected:!1,checkUpConnectionFailed:!1,groomConnected:!1,groomConnectionFailed:!1,connected:!1,customer:{search:!1,searchValue:""},pet:{search:!1,searchValue:""},employee:{search:!1,searchValue:""}},e.componentDidMount=function(){var t=e.props.transaction;"C"===t.transType?e.getCheckUpData(t.id):"G"===t.transType&&e.getGroomData(t.id),e.getCustomersData(),e.getPetsData(),e.getEmployeesData();var a=Object(f.a)({},e.state.record),s=Object(f.a)({},e.state.record.checkUp),r=Object(f.a)({},e.state.record.groom);a.id=t.id,a.transType=t.transType,a.transDate=t.transDate,a.petId=t.petId,a.petName=t.petName,a.customerId=t.customerId,a.customerName=t.lastName+", "+t.firstName+" "+t.middleName,a.petWeight=t.petWeight,a.remarks=t.remarks,a.empId=t.empId,a.checkUp=s,a.groom=r,e.setState({record:a})},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;if("remarks"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)})),"transType"===s){var n=Object(f.a)({},e.state.record.checkUp),c=Object(f.a)({},e.state.errors.checkUpErrors);n.findings="",n.treatment="",n.admissionDate="",n.releasedDate="",n.addInfo="",c.findings=" ",c.treatment=" ",c.admissionDate="",c.releasedDate="",c.addInfo="";var l=Object(f.a)({},e.state.record.groom),o=Object(f.a)({},e.state.errors.groomErrors);l.activity="",o.activity=" ";e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{checkUp:n,groom:l}),errors:Object(f.a)(Object(f.a)({},e.errors),{},{checkUpErrors:c,groomErrors:o}),checkUpConnected:true,groomConnected:true})}))}},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors);switch(s){case"transType":n.transType=0===r.length?" ":"";break;case"empId":n.empId=0===r.length?" ":"";break;case"customerId":n.customerId=0===r.length?" ":"";break;case"petId":n.petId=0===r.length?" ":"";break;case"petWeight":n.petWeight=0===r.length?" ":Object(y.isNumeric)(r)?r.length>6?"Must be at maximum of 6 numbers":"":"Please input a valid value";break;case"remarks":n.remarks=r.length>128?"Must be at maximum of 128 characters":""}e.setState({errors:n})},e.onChangeCheckUp=function(t){var a=t.target,s=a.name,r=a.value;"admissionDate"!==s&&"releasedDate"!==s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{checkUp:Object(f.a)(Object(f.a)({},e.record.checkUp),{},Object(O.a)({},s,r))})})}),(function(){return e.onCheckCheckUpErrors(t)}))},e.onCheckCheckUpErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors.checkUpErrors),c=e.removeSpaces(r).length;switch(s){case"findings":n.findings=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"treatment":n.treatment=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"addInfo":n.addInfo=r.length>128?"Must be at maximum of 128 characters":""}e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{errors:Object(f.a)(Object(f.a)({},e.errors),{},{checkUpErrors:n})})}))},e.onChangeGroom=function(t){var a=t.target,s=a.name,r=a.value;"activity"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{groom:Object(f.a)(Object(f.a)({},e.record.groom),{},Object(O.a)({},s,r))})})}),(function(){return e.onCheckGroomErrors(t)}))},e.onCheckGroomErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors.groomErrors),c=e.removeSpaces(r).length;switch(s){case"activity":n.activity=0===c?" ":c<2||r.length>32?"Must be at between 2 and 32 characters":0===c?" ":""}e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{errors:Object(f.a)(Object(f.a)({},e.errors),{},{groomErrors:n})})}))},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.remarks=e.removeLastSpace(s.remarks),s.checkUp.findings=e.removeLastSpace(s.checkUp.findings),s.checkUp.treatment=e.removeLastSpace(s.checkUp.treatment),s.checkUp.addInfo=e.removeLastSpace(s.checkUp.addInfo),s.groom.activity=e.removeLastSpace(s.groom.activity),e.props.onSubmitForm(),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updateTransaction.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.setState({submitError:!1,updated:!0})},e.validForm=function(t){var a=t.errors,s=e.state.record,r=!0;return Object.values(a).forEach((function(e){e.length>0&&(r=!1)})),"C"===s.transType?Object.values(a.checkUpErrors).forEach((function(e){e.length>0&&(r=!1)})):"G"===s.transType&&Object.values(a.groomErrors).forEach((function(e){e.length>0&&(r=!1)})),r},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=e.props.transaction;e.setState({checkUpConnected:!1,groomConnected:!1,connected:!1}),"C"===t.transType?e.getCheckUpData(t.id):"G"===t.transType&&e.getGroomData(t.id);var a=Object(f.a)({},e.state.record),s=Object(f.a)({},e.state.record.checkUp),r=Object(f.a)({},e.state.record.groom),n=Object(f.a)({},e.state.errors),c=Object(f.a)({},e.state.errors.checkUp),l=Object(f.a)({},e.state.errors.groom);a.id=t.id,a.transType=t.transType,a.transDate=t.transDate,a.petId=t.petId,a.customerId=t.customerId,a.petWeight=t.petWeight,a.remarks=t.remarks,a.empId=t.empId,a.checkUp=s,a.groom=r,l.activity="",c.findings="",c.treatment="",c.addInfo="",n.transType="",n.petId="",n.customerId="",n.remarks="",n.empId="",n.checkUpErrors=c,n.groomErrors=l,e.setState({record:a,errors:n,submitError:!1,updated:!1})},e.onToggleCustomerSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.customer);a.search=!a.search,a.searchValue="",e.setState({customer:a})},e.onClearCustomerSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.customer);a.searchValue="",e.setState({customer:a})},e.onChangeCustomerSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{customer:Object(f.a)(Object(f.a)({},e.customer),{},Object(O.a)({},s,r))})}))},e.onTogglePetSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.pet);a.search=!a.search,a.searchValue="",e.setState({pet:a})},e.onClearPetSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.pet);a.searchValue="",e.setState({pet:a})},e.onChangePetSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{pet:Object(f.a)(Object(f.a)({},e.pet),{},Object(O.a)({},s,r))})}))},e.onToggleEmployeeSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.employee);a.search=!a.search,a.searchValue="",e.setState({employee:a})},e.onClearEmployeeSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.employee);a.searchValue="",e.setState({employee:a})},e.onChangeEmployeeSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{employee:Object(f.a)(Object(f.a)({},e.employee),{},Object(O.a)({},s,r))})}))},e.onViewAdmission=function(t){var a=e.state.record,s=e.props.history;s.push(t,Object(f.a)(Object(f.a)({},s.location.state),{},{admissionId:a.id,customerName:a.customerName,petName:a.petName,transDate:a.transDate}))},e.checkUpForm=function(){var t=e.state.record.checkUp,a=e.state.errors.checkUpErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:e.state.checkUpConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Findings",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.findings),type:"text",name:"findings",value:t.findings,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(a.findings)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Treatment",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.treatment),type:"text",name:"treatment",value:t.treatment,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(a.treatment)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admission Date"}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"admissionDate",value:t.admissionDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Released Date"}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"releasedDate",value:t.releasedDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Additional Information"}),Object(s.jsx)("textarea",{className:e.inputFieldClasses(a.addInfo),type:"text",name:"addInfo",value:t.addInfo,onChange:e.onChangeCheckUp,rows:"2",noValidate:!0}),e.renderRecordErrors(a.addInfo)]})]}):e.state.checkUpConnectionFailed?Object(s.jsxs)("div",{className:"col-12",children:[Object(s.jsx)("h3",{className:"font-weight-normal text-center text-danger mb-0",children:"Connection Failed"}),Object(s.jsx)("h5",{className:"font-weight-normal text-center text-danger",children:"Please try again later..."})]}):Object(s.jsxs)("div",{className:"col-12",children:[Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-0",children:"Loading Data"}),Object(s.jsx)("h5",{className:"font-weight-normal text-center",children:"Please wait..."})]})})})},e.groomForm=function(){var t=e.state.record.groom,a=e.state.errors.groomErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:e.state.groomConnected?Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Activity",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.activity),type:"text",name:"activity",value:t.activity,onChange:e.onChangeGroom,noValidate:!0}),e.renderRecordErrors(a.activity)]})}):e.state.groomConnectionFailed?Object(s.jsxs)("div",{className:"col-12",children:[Object(s.jsx)("h3",{className:"font-weight-normal text-center text-danger mb-0",children:"Connection Failed"}),Object(s.jsx)("h5",{className:"font-weight-normal text-center text-danger",children:"Please try again later..."})]}):Object(s.jsxs)("div",{className:"col-12",children:[Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-0",children:"Loading Data"}),Object(s.jsx)("h5",{className:"font-weight-normal text-center",children:"Please wait..."})]})})})},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.getCustomersData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({customers:a,customerConnected:!0})})).catch((function(t){console.log(t);e.setState({customerConnectionFailed:!0})}))},e.getPetsData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php").then((function(t){var a=t.data;e.setState({pets:a,petConnected:!0})})).catch((function(t){console.log(t);e.setState({petConnectionFailed:!0})}))},e.getEmployeesData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({employees:a,employeeConnected:!0})})).catch((function(t){console.log(t);e.setState({employeeConnectionFailed:!0})}))},e.getCheckUpData=function(t){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionCheckUp.php?id="+t).then((function(t){var a=t.data;a=a[0],e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{checkUp:a}),checkUpConnected:true,connected:true})}))})).catch((function(t){console.log(t);e.setState({checkUpConnectionFailed:!0})}))},e.getGroomData=function(t){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionGroom.php?id="+t).then((function(t){var a=t.data;a=a[0],e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{groom:a}),groomConnected:true,connected:true})}))})).catch((function(t){console.log(t);e.setState({groomConnectionFailed:!0})}))},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.record,r=t.errors,c=t.customers,l=t.customer,o=t.pets,i=t.pet,d=t.employees,m=t.employee,h=t.updated,b=this.props,j=b.transaction,u=b.connected,p=b.connectionFailed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewTransactionModal-"+j.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewTransactionModalTitle-"+j.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewTransactionModalTitle-"+j.id,children:"View Transaction"}),u||p?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[h?u?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Date",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"transDate",value:a.transDate,onChange:this.onChangeRecord,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(r.transType),name:"transType",value:a.transType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),Object(s.jsx)("option",{value:"C",children:"Check-up"}),Object(s.jsx)("option",{value:"G",children:"Groom"})]}),this.renderRecordErrors(r.transType)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Employee Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(r.empId),name:"empId",value:a.empId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),d.length>0?d.filter((function(e){return(e.empLastName+", "+e.empFirstName+" "+e.empMiddleName).toLowerCase().match(m.searchValue.toLowerCase())||""===m.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.empLastName+", "+e.empFirstName+" "+e.empMiddleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleEmployeeSearch,children:"Search"})})]}),m.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:m.searchValue,onChange:this.onChangeEmployeeSearch,placeholder:"Search by Employee Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearEmployeeSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(r.empId)]}):this.state.employeeConnectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Customer Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.customerConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(r.customerId),name:"customerId",value:a.customerId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(l.searchValue.toLowerCase())||""===l.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleCustomerSearch,children:"Search"})})]}),l.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:l.searchValue,onChange:this.onChangeCustomerSearch,placeholder:"Search by Customer Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearCustomerSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(r.customerId)]}):this.state.customerConnectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.petConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(r.petId),name:"petId",value:a.petId,onChange:this.onChangeRecord,noValidate:!0,children:[o.filter((function(e){return e.petName.toLowerCase().match(i.searchValue.toLowerCase())&&e.ownerId===a.customerId||""===i.searchValue&&e.ownerId===a.customerId})).length>0||i.searchValue.length>0?Object(s.jsx)("option",{value:"",children:"Choose one"}):a.customerId.length>0?Object(s.jsx)("option",{value:"",children:"No pet found"}):Object(s.jsx)("option",{value:"",children:"Customer Id is required"}),o.length>0?o.filter((function(e){return e.petName.toLowerCase().match(i.searchValue.toLowerCase())&&e.ownerId===a.customerId||""===i.searchValue&&e.ownerId===a.customerId})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.petName},e.id)})):null]}),o.filter((function(e){return e.petName.match(i.searchValue)&&e.ownerId===a.customerId||""===i.searchValue&&e.ownerId===a.customerId})).length>0||i.searchValue.length>0?Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePetSearch,children:"Search"})}):null]}),i.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:i.searchValue,onChange:this.onChangePetSearch,placeholder:"Search by Pet Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearPetSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(r.petId)]}):this.state.petConnectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Weight",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(r.petWeight),type:"text",name:"petWeight",value:a.petWeight,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"Kilogram"})})]}),this.renderRecordErrors(r.petWeight)]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Remarks"}),Object(s.jsx)("textarea",{className:this.inputFieldClasses(r.remarks),type:"text",name:"remarks",value:a.remarks,onChange:this.onChangeRecord,rows:"2",noValidate:!0}),this.renderRecordErrors(r.remarks)]}),"C"===a.transType?this.checkUpForm():"G"===a.transType?this.groomForm():null]}),h?u?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:u&&this.state.connected&&this.state.customerConnected&&this.state.petConnected&&this.state.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:["C"===a.transType?Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1","data-dismiss":"modal",onClick:function(){return e.onViewAdmission("/wiggly-tails/admin/manage-admission")},children:[Object(s.jsx)("i",{className:"fa fa-hand-holding-medical fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Admissions"})]}):null,Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Reset"})]})]}):null})})]})})})})}}]),a}(r.Component),Q=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:e.formatDate(t[o].transDate)}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[o].lastName+", "+t[o].firstName+" "+t[o].middleName}),Object(s.jsx)("td",{children:t[o].petName}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[o].petWeight}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[o].empLastName+", "+t[o].empFirstName+" "+t[o].empMiddleName}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewTransactionModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e.formatTransType=function(e){return"C"===e?"Check-up":"Groom"},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.transactions,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.history,i=e.connected,d=e.connectionFailed,m=e.onSubmitForm,h=this.state,b=h.recordsPerPage,j=h.recordStartIndex,u=h.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addTransactionModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Transaction Date"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell",children:"Customer Name"}),Object(s.jsx)("th",{children:"Pet Name"}),Object(s.jsx)("th",{className:"w-110px d-none d-lg-table-cell",children:"Pet Weight"}),Object(s.jsx)("th",{className:"w-285px d-none d-md-table-cell",children:"Served by"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(V,{setPage:this.setPage,recordsPerPage:b,recordStartIndex:j,activePage:u,totalRecords:t.length}):null,Object(s.jsx)(Y,{onRefresh:a,customerId:"",onSubmitForm:m}),t.map((function(e){return Object(s.jsx)(K,{transaction:e,onRefresh:a,history:o,connected:i,connectionFailed:d,onSubmitForm:m},e.id)}))]})}}]),a}(r.Component),$=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={transactions:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData();e.setState({connected:!1,connectionFailed:!1})},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(z,{sourceId:3,activeId:4,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Transactions"}),Object(s.jsx)(Q,{transactions:e.state.transactions,onRefresh:e.onRefresh,onSearch:e.onSearch,history:t,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.transactions.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center text-danger",children:"Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center text-danger mb-5",children:"Please try again later."})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-5",children:"Please wait..."})]})})]})})}),Object(s.jsx)(S,{})]})},e.getData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactions.php").then((function(t){var a=t.data;e.setState({transactions:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchTransaction.php?search="+t).then((function(t){var a=t.data;e.setState({transactions:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(J,{history:e})})}}]),a}(r.Component),_=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",transId:"",title:"",content:""},errors:{title:" ",content:" "},submitError:!1,added:!1},e.componentDidMount=function(){e.onGenerateId()},e.onGenerateId=function(){var t=e.props.history,a=Object(f.a)({},e.state.record),s=e.generateCharacters(6);a.id=s,a.transId=t.location.state.transId,e.setState({record:a})},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="title"===s?e.toAbsProperCase(r):e.toSentenceCase(r),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"title":n.title=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"content":n.content=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.title=e.removeLastSpace(s.title),s.content=e.removeLastSpace(s.content),e.props.onSubmitForm(),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertAdmission.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();e.setState({submitError:!1,added:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=e.props.history,a=Object(f.a)({},e.state.record),s=Object(f.a)({},e.state.errors);a.id=e.generateCharacters(6),a.transId=t.location.state.transId,a.title="",a.content="",s.title=" ",s.content=" ",e.setState({record:a,errors:s,submitError:!1,added:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.added;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addAdmissionModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addAdmissionModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addAdmissionModalTitle",children:"Add Admission"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[r?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Title",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.title),type:"text",name:"title",value:t.title,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.title)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Content",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("textarea",{className:this.inputFieldClasses(a.content),type:"text",name:"content",value:t.content,rows:"7",onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.content)]})]}),r?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsxs)("div",{className:"d-flex justify-content-end w-100",children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})]})})})})}}]),a}(r.Component),ee=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",transId:"",title:"",content:""},errors:{title:"",content:""},submitError:!1,updated:!1},e.componentDidMount=function(){var t=e.props.admission,a=Object(f.a)({},e.state.record);a.id=t.id,a.transId=t.transId,a.title=t.title,a.content=t.content,e.setState({record:a})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(O.a)({},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="title"===s?e.toAbsProperCase(r):e.toSentenceCase(r),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"title":n.title=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"content":n.content=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.title=e.removeLastSpace(s.title),s.content=e.removeLastSpace(s.content),e.props.onSubmitForm(),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updateAdmission.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.setState({submitError:!1,updated:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=e.props.admission,a=Object(f.a)({},e.state.record),s=Object(f.a)({},e.state.errors);a.id=t.id,a.transId=t.transId,a.title=t.title,a.content=t.content,s.title="",s.content="",e.setState({record:a,errors:s,submitError:!1,updated:!1})},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.updated,c=this.props,l=c.admission,o=c.connected,i=c.connectionFailed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewAdmissionModal-"+l.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewAdmissionModalTitle-"+l.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewAdmissionModalTitle-"+l.id,children:"View Admission"}),o||i?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[r?o?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Title",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.title),type:"text",name:"title",value:t.title,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.title)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Content",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("textarea",{className:this.inputFieldClasses(a.content),type:"text",name:"content",value:t.content,rows:"7",onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.content)]})]}),r?o?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:this.props.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null})})]})})})})}}]),a}(r.Component),te=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[o].title}),Object(s.jsx)("td",{children:t[o].content}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewAdmissionModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.admission,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.history,i=e.connected,d=e.connectionFailed,m=e.onSubmitForm,h=this.state,b=h.recordsPerPage,j=h.recordStartIndex,u=h.activePage,p=o.location.state;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addAdmissionModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2 ml-auto",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsxs)("thead",{className:"thead-dark text-light",children:[Object(s.jsx)("tr",{children:Object(s.jsx)("th",{colSpan:"3",children:Object(s.jsxs)("div",{className:"row align-items-center",children:[Object(s.jsx)("div",{className:"col-12 col-md-4 text-center mb-2 pb-2\r m-md-0 p-md-0 bottom-border-dark border-md-0",children:"Customer Name: "+p.customerName}),Object(s.jsx)("div",{className:"col-12 col-md-4 text-center mb-2 pb-2\r m-md-0 p-md-0 bottom-border-dark border-md-0",children:"Pet Name: "+p.petName}),Object(s.jsx)("div",{className:"col-12 col-md-4 text-center",children:"Transaction Date: "+p.transDate})]})})}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Title"}),Object(s.jsx)("th",{children:"Content"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})]}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(V,{setPage:this.setPage,recordsPerPage:b,recordStartIndex:j,activePage:u,totalRecords:t.length}):null,Object(s.jsx)(_,{history:o,onSubmitForm:m}),t.map((function(e){return Object(s.jsx)(ee,{admission:e,onRefresh:a,connected:i,connectionFailed:d,onSubmitForm:m},e.id)}))]})}}]),a}(r.Component),ae=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={admission:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData();e.setState({connected:!1,connectionFailed:!1})},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(z,{sourceId:3,activeId:4,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Admission"}),Object(s.jsx)(te,{admission:e.state.admission,history:t,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.admission.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center text-danger",children:"Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center text-danger mb-5",children:"Please try again later."})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-5",children:"Please wait..."})]})})]})})}),Object(s.jsx)(S,{})]})},e.getData=function(){var t=e.props.history;v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionAdmission.php?id="+t.location.state.admissionId).then((function(t){var a=t.data;e.setState({admission:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){var a=e.props.history;v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchTransactionAdmission.php?id="+a.location.state.admissionId+"&search="+t).then((function(t){var a=t.data;e.setState({admission:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(J,{history:e})})}}]),a}(r.Component),se=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",lastName:"",firstName:"",middleName:"",homeAddress:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:""},confirmUserPassword:"",errors:{lastName:" ",firstName:" ",middleName:"",homeAddressErrors:{lotBlock:"",street:" ",subdivision:" ",barangay:" ",municipality:" ",province:""},birthdate:" ",mobileNumber:" ",emailAddress:" ",userPassword:" ",confirmUserPassword:" "},records:[],connected:!1,connectionFailed:!1,submitError:!1,added:!1},e.onGenerateId=function(){var t=Object(f.a)({},e.state.record),a=e.generateCharacters(6);t.id=a,e.setState({record:t})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(O.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"mobileNumber"!==s&&"emailAddress"!==s&&"userPassword"!==s&&(r="lastName"===s?e.toProperCase(r):e.toAbsProperCase(r)),"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors),c=Object(f.a)({},e.state.record),l=e.state.confirmUserPassword,o=e.removeSpaces(r).length;switch(s){case"lastName":n.lastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"firstName":n.firstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"middleName":n.middleName=o>24?"Must be at maximum of 24 characters":"";break;case"birthdate":n.birthdate=0===r.length?" ":"";break;case"mobileNumber":n.mobileNumber=0===r.length?" ":Object(y.isNumeric)(r)?r.length<10?"Must be at exact 10 numbers":"":"Please input a valid value";break;case"emailAddress":n.emailAddress=0===r.length?" ":r.length<8||r.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(r)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"email":n.emailAddress=e.emailAddressExists()?"Already in use":"";break;case"userPassword":n.userPassword=0===r.length?" ":r.length<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmUserPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmUserPassword":n.confirmUserPassword=0===r.length?" ":r===c.userPassword?r.length<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.emailAddressExists=function(){var t=e.state,a=t.record;return t.records.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(a.emailAddress+a.email).toLowerCase()})).length>0},e.isValidEmail=function(e){return new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/).test(e)},e.onChangeHomeAddress=function(t){var a=t.target,s=a.name,r=a.value;r=e.toProperCase(r),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{homeAddress:Object(f.a)(Object(f.a)({},e.record.homeAddress),{},Object(O.a)({},s,r))})})}),(function(){return e.onCheckHomeAddressErrors(t)}))},e.onCheckHomeAddressErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors.homeAddressErrors),c=e.removeSpaces(r).length;switch(s){case"lotBlock":n.lotBlock=r.length>12?"Lot/Block must be at maximum of 12 characters":"";break;case"street":n.street=0===c?" ":c<2||r.length>24?"Street must be at between 2 and 24 characters":"";break;case"subdivision":n.subdivision=0===c?" ":c<2||r.length>24?"Subdivision must be at between 2 and 24 characters":"";break;case"barangay":n.barangay=0===c?" ":c<2||r.length>24?"Barangay must be at between 2 and 24 characters":"";break;case"municipality":n.municipality=0===c?" ":c<2||r.length>24?"Municipality must be at between 2 and 24 characters":"";break;case"province":n.province=r.length>24?"Province must be at maximum of 24 characters":""}e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{errors:Object(f.a)(Object(f.a)({},e.errors),{},{homeAddressErrors:n})})}))},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.lastName=e.removeLastSpace(s.lastName),s.firstName=e.removeLastSpace(s.firstName),s.middleName=e.removeLastSpace(s.middleName),s.homeAddress.lotBlock=e.removeLastSpace(s.homeAddress.lotBlock),s.homeAddress.street=e.removeLastSpace(s.homeAddress.street),s.homeAddress.subdivision=e.removeLastSpace(s.homeAddress.subdivision),s.homeAddress.barangay=e.removeLastSpace(s.homeAddress.barangay),s.homeAddress.municipality=e.removeLastSpace(s.homeAddress.municipality),s.homeAddress.province=e.removeLastSpace(s.homeAddress.province),s.homeAddress.street+=" St.",s.homeAddress.barangay="Brgy. "+s.homeAddress.barangay,s.homeAddress.municipality+=" City";var r=[];r.push("+63"+s.mobileNumber.substring(0,3)),r.push(s.mobileNumber.substring(3,6)),r.push(s.mobileNumber.substring(6,10)),s.mobileNumber=r.join("-"),e.props.onSubmitForm(),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertCustomer.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();var t=!0;e.setState({submitError:!1,added:t}),t=!1,setTimeout((function(){return e.setState({added:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),Object.values(t.homeAddressErrors).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(t){e.isObject(t)?Object.values(t).forEach((function(t){e.isObject(t)||t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})):t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.isObject=function(e){return e instanceof Object},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderHomeAddressErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&" "!==e&&a.push(Object(s.jsxs)("small",{className:"text-danger ml-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),e]}))})),[a]}},e.onReset=function(){var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.record.homeAddress),s=Object(f.a)({},e.state.errors),r=Object(f.a)({},e.state.errors.homeAddressErrors);a.lotBlock="",a.street="",a.subdivision="",a.barangay="",a.municipality="",a.province="",t.id=e.generateCharacters(6),t.lastName="",t.firstName="",t.middleName="",t.homeAddress=a,t.birthdate="",t.mobileNumber="",t.emailAddress="",t.email="@yahoo.com",t.userPassword="",r.lotBlock="",r.street=" ",r.subdivision=" ",r.barangay=" ",r.municipality=" ",r.province="",s.lastName=" ",s.firstName=" ",s.middleName="",s.homeAddressErrors=r,s.birthdate=" ",s.mobileNumber=" ",s.emailAddress=" ",s.userPassword=" ",s.confirmUserPassword=" ",e.setState({record:t,confirmUserPassword:"",errors:s,submitError:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.getCustomersData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.removeMultipleSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "===e.charAt(a)?0!==a&&" "!==e.charAt(a-1)&&(t+=e.charAt(a)):t+=e.charAt(a);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId(),this.getCustomersData()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmUserPassword,c=e.added,l=t.homeAddress,o=a.homeAddressErrors;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addCustomerModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addCustomerModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addCustomerModalTitle",children:"Add Customer"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.lastName),type:"text",name:"lastName",value:t.lastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.lastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.firstName),type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.firstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.middleName),type:"text",name:"middleName",value:t.middleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.middleName)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Home Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"row mx-0",children:[Object(s.jsx)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(o.lotBlock),type:"text",name:"lotBlock",value:l.lotBlock,onChange:this.onChangeHomeAddress,placeholder:"Lot/Block (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(o.street),type:"text",name:"street",value:l.street,onChange:this.onChangeHomeAddress,placeholder:"Street",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"St."})})]}),Object(s.jsx)("div",{className:"col-lg-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(o.subdivision),type:"text",name:"subdivision",value:l.subdivision,onChange:this.onChangeHomeAddress,placeholder:"Subdivision",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("div",{className:"input-group-prepend",children:Object(s.jsx)("span",{className:"input-group-text",children:"Brgy."})}),Object(s.jsx)("input",{className:this.inputFieldClasses(o.barangay),type:"text",name:"barangay",value:l.barangay,onChange:this.onChangeHomeAddress,placeholder:"Barangay",noValidate:!0})]}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(o.municipality),type:"text",name:"municipality",value:l.municipality,onChange:this.onChangeHomeAddress,placeholder:"Municipality",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"City"})})]}),Object(s.jsx)("div",{className:"col-lg-4 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(o.province),type:"text",name:"province",value:l.province,onChange:this.onChangeHomeAddress,placeholder:"Province (Optional)",noValidate:!0})})]})," ",this.renderHomeAddressErrors(o)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Mobile Number",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("span",{className:"input-group-text",children:"+63"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.mobileNumber),type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0})]}),this.renderRecordErrors(a.mobileNumber)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Email Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"w-sm-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),Object(s.jsxs)("select",{className:"input-group-text",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress),Object(s.jsx)("div",{children:Object(s.jsxs)("small",{className:"text-success ml-2",children:[Object(s.jsx)("i",{className:"fa fa-info-circle mr-1"}),Object(s.jsx)("span",{children:"Valid Symbols:\xa0"}),Object(s.jsx)("span",{children:"!#$%^&*.?_-"})]})})]}):this.state.connectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.userPassword),type:"password",name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmUserPassword),type:"password",name:"confirmUserPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmUserPassword)]})]}),c?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null})})]})})})})}}]),a}(r.Component),re=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",lastName:"",firstName:"",middleName:"",homeAddress:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",email:"@yahoo.com",userPassword:""},confirmUserPassword:"",errors:{lastName:"",firstName:"",middleName:"",homeAddressErrors:{lotBlock:"",street:"",subdivision:"",barangay:"",municipality:"",province:""},birthdate:"",mobileNumber:"",emailAddress:"",userPassword:"",confirmUserPassword:" "},records:[],connected:!1,connectionFailed:!1,submitError:!1,updated:!1,passwordState:{inputType:"password",buttonText:"Show"},deleteState:!1},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(O.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"mobileNumber"!==s&&"emailAddress"!==s&&"userPassword"!==s&&(r="lastName"===s?e.toProperCase(r):e.toAbsProperCase(r)),"emailAddress"===s&&(r=e.removeSpaces(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors),c=Object(f.a)({},e.state.record),l=e.state.confirmUserPassword,o=e.removeSpaces(r).length;switch(s){case"lastName":n.lastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"firstName":n.firstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"middleName":n.middleName=o>24?"Must be at maximum of 24 characters":"";break;case"birthdate":n.birthdate=0===r.length?" ":"";break;case"mobileNumber":n.mobileNumber=0===r.length?" ":Object(y.isNumeric)(r)?r.length<10?"Must be at exact 10 numbers":"":"Please input a valid value";break;case"emailAddress":n.emailAddress=0===r.length?" ":r.length<8||r.length>24?"Must be at between 8 and 24 characters":e.isValidEmail(r)?e.emailAddressExists()?"Already in use":"":"Please input a valid value";break;case"email":n.emailAddress=e.emailAddressExists()?"Already in use":"";break;case"userPassword":n.userPassword=0===r.length?" ":r.length<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmUserPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmUserPassword":n.confirmUserPassword=0===r.length?" ":r===c.userPassword?r.length<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.emailAddressExists=function(){var t=e.state,a=t.record,s=t.records,r=e.props.customer;return s.filter((function(e){return(e.emailAddress+e.email).toLowerCase()===(a.emailAddress+a.email).toLowerCase()&&(e.emailAddress+e.email).toLowerCase()!==(r.emailAddress+r.email).toLowerCase()})).length>0},e.isValidEmail=function(e){return new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/).test(e)},e.onChangeHomeAddress=function(t){var a=t.target,s=a.name,r=a.value;r=e.toProperCase(r),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{homeAddress:Object(f.a)(Object(f.a)({},e.record.homeAddress),{},Object(O.a)({},s,r))})})}),(function(){return e.onCheckHomeAddressErrors(t)}))},e.onCheckHomeAddressErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors.homeAddressErrors),c=e.removeSpaces(r).length;switch(s){case"lotBlock":n.lotBlock=r.length>12?"Lot/Block must be at maximum of 12 characters":"";break;case"street":n.street=0===c?" ":c<2||r.length>24?"Street must be at between 2 and 24 characters":"";break;case"subdivision":n.subdivision=0===c?" ":c<2||r.length>24?"Subdivision must be at between 2 and 24 characters":"";break;case"barangay":n.barangay=0===c?" ":c<2||r.length>24?"Barangay must be at between 2 and 24 characters":"";break;case"municipality":n.municipality=0===c?" ":c<2||r.length>24?"Municipality must be at between 2 and 24 characters":"";break;case"province":n.province=r.length>24?"Province must be at maximum of 24 characters":""}e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{errors:Object(f.a)(Object(f.a)({},e.errors),{},{homeAddressErrors:n})})}))},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.lastName=e.removeLastSpace(s.lastName),s.firstName=e.removeLastSpace(s.firstName),s.middleName=e.removeLastSpace(s.middleName),s.homeAddress.lotBlock=e.removeLastSpace(s.homeAddress.lotBlock),s.homeAddress.street=e.removeLastSpace(s.homeAddress.street),s.homeAddress.subdivision=e.removeLastSpace(s.homeAddress.subdivision),s.homeAddress.barangay=e.removeLastSpace(s.homeAddress.barangay),s.homeAddress.municipality=e.removeLastSpace(s.homeAddress.municipality),s.homeAddress.province=e.removeLastSpace(s.homeAddress.province),s.homeAddress.street+=" St.",s.homeAddress.barangay="Brgy. "+s.homeAddress.barangay,s.homeAddress.municipality+=" City";var r=[];r.push("+63"+s.mobileNumber.substring(0,3)),r.push(s.mobileNumber.substring(3,6)),r.push(s.mobileNumber.substring(6,10)),s.mobileNumber=r.join("-"),e.props.onSubmitForm(),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updateCustomer.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){var t=Object(f.a)({},e.state.record);t.homeAddress.street=t.homeAddress.street.substring(0,t.homeAddress.street.length-4),t.homeAddress.barangay=t.homeAddress.barangay.substring(6,t.homeAddress.barangay.length),t.homeAddress.municipality=t.homeAddress.municipality.substring(0,t.homeAddress.municipality.length-5);var a=Object(f.a)({},e.state.errors);a.confirmUserPassword=" ",e.setState({record:t,errors:a,confirmUserPassword:"",submitError:!1,updated:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),Object.values(t.homeAddressErrors).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(t){e.isObject(t)?Object.values(t).forEach((function(t){e.isObject(t)||t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})):t.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:t})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.isObject=function(e){return e instanceof Object},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.renderHomeAddressErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&" "!==e&&a.push(Object(s.jsxs)("small",{className:"text-danger ml-3",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),e]}))})),[a]}},e.onReset=function(){var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.record.homeAddress),s=Object(f.a)({},e.state.errors),r=Object(f.a)({},e.state.errors.homeAddressErrors),n=e.props.customer,c=e.state.passwordState;c.buttonText="Show",c.inputType="password",a.lotBlock=n.lotBlock,a.street=n.street.substring(0,n.street.length-4),a.subdivision=n.subdivision,a.barangay=n.barangay.substring(6,n.barangay.length),a.municipality=n.municipality.substring(0,n.municipality.length-5),a.province=n.province,t.lastName=n.lastName,t.firstName=n.firstName,t.middleName=n.middleName,t.homeAddress=a,t.birthdate=n.birthdate;var l=n.mobileNumber.split("-");l=(l=l.join("")).substring(3,l.length),t.mobileNumber=l,t.emailAddress=n.emailAddress,t.email=n.email,t.userPassword=n.userPassword,r.lotBlock="",r.street="",r.subdivision="",r.barangay="",r.municipality="",r.province="",s.lastName="",s.firstName="",s.middleName="",s.homeAddressErrors=r,s.birthdate="",s.mobileNumber="",s.emailAddress="",s.userPassword="",s.confirmUserPassword=" ",e.setState({record:t,confirmUserPassword:"",errors:s,passwordState:c,submitError:!1,updated:!1})},e.onTogglePassword=function(t){t.preventDefault();var a=Object(f.a)({},e.state.passwordState);"password"===a.inputType?(a.inputType="text",a.buttonText="Hide"):(a.inputType="password",a.buttonText="Show"),e.setState({passwordState:a})},e.defaultButtons=function(){return e.props.connected&&e.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]}):null},e.onToggleDelete=function(){var t=!e.state.deleteState;e.setState({deleteState:t})},e.deleteButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1","data-dismiss":"modal",onClick:e.onDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Confirm Delete"})]}),Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-arrow-left"}),Object(s.jsx)("span",{className:"ml-1",children:"Cancel Delete"})]})]})},e.onDelete=function(){var t=e.state.record,a=e.props.onRefresh;e.props.onSubmitForm(!1),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/deleteCustomer.php",t).then(a)},e.getCustomersData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.removeMultipleSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "===e.charAt(a)?0!==a&&" "!==e.charAt(a-1)&&(t+=e.charAt(a)):t+=e.charAt(a);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getCustomersData();var e=this.props.customer,t=Object(f.a)({},this.state.record);t.id=e.id,t.lastName=e.lastName,t.firstName=e.firstName,t.middleName=e.middleName,t.homeAddress.lotBlock=e.lotBlock,t.homeAddress.street=e.street.substring(0,e.street.length-4),t.homeAddress.subdivision=e.subdivision,t.homeAddress.barangay=e.barangay.substring(6,e.barangay.length),t.homeAddress.municipality=e.municipality.substring(0,e.municipality.length-5),t.homeAddress.province=e.province,t.birthdate=e.birthdate;var a=e.mobileNumber.split("-");a=(a=a.join("")).substring(3,a.length),t.mobileNumber=a,t.emailAddress=e.emailAddress,t.email=e.email,t.userPassword=e.userPassword,this.setState({record:t})}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.confirmUserPassword,c=e.passwordState,l=e.updated,o=e.deleteState,i=this.state.record.homeAddress,d=a.homeAddressErrors,m=this.props,h=m.customer,b=m.connected;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewCustomerModal-"+h.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewCustomerrModalTitle-"+h.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewCustomerModalTitle-"+h.id,children:"View Customer"}),b?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[l?b?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.lastName),type:"text",name:"lastName",value:t.lastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.lastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.firstName),type:"text",name:"firstName",value:t.firstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.firstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.middleName),type:"text",name:"middleName",value:t.middleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(a.middleName)]}),Object(s.jsxs)("div",{className:"form-group col-12",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Home Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"row mx-0",children:[Object(s.jsx)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(d.lotBlock),type:"text",name:"lotBlock",value:i.lotBlock,onChange:this.onChangeHomeAddress,placeholder:"Lot/Block (Optional)",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(d.street),type:"text",name:"street",value:i.street,onChange:this.onChangeHomeAddress,placeholder:"Street",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"St."})})]}),Object(s.jsx)("div",{className:"col-lg-6 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(d.subdivision),type:"text",name:"subdivision",value:i.subdivision,onChange:this.onChangeHomeAddress,placeholder:"Subdivision",noValidate:!0})}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("div",{className:"input-group-prepend",children:Object(s.jsx)("span",{className:"input-group-text",children:"Brgy."})}),Object(s.jsx)("input",{className:this.inputFieldClasses(d.barangay),type:"text",name:"barangay",value:i.barangay,onChange:this.onChangeHomeAddress,placeholder:"Barangay",noValidate:!0})]}),Object(s.jsxs)("div",{className:"col-lg-4 input-group px-0",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(d.municipality),type:"text",name:"municipality",value:i.municipality,onChange:this.onChangeHomeAddress,placeholder:"Municipality",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"City"})})]}),Object(s.jsx)("div",{className:"col-lg-4 input-group px-0",children:Object(s.jsx)("input",{className:this.inputFieldClasses(d.province),type:"text",name:"province",value:i.province,onChange:this.onChangeHomeAddress,placeholder:"Province (Optional)",noValidate:!0})})]})," ",this.renderHomeAddressErrors(d)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(a.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-3",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Mobile Number",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group px-0",children:[Object(s.jsx)("span",{className:"input-group-text",children:"+63"}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.mobileNumber),type:"tel",maxLength:"10",name:"mobileNumber",value:t.mobileNumber,onChange:this.onChangeRecord,noValidate:!0})]}),this.renderRecordErrors(a.mobileNumber)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Email Address",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group d-block d-sm-flex px-0",children:[Object(s.jsx)("input",{className:"w-sm-100 "+this.inputFieldClasses(a.emailAddress),type:"text",name:"emailAddress",value:t.emailAddress,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsxs)("div",{className:"input-group-append justify-content-end",children:[Object(s.jsx)("span",{className:"input-group-text",children:"@"}),Object(s.jsxs)("select",{className:"input-group-text",name:"email",value:t.email,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"@yahoo.com",children:"yahoo.com"}),Object(s.jsx)("option",{value:"@gmail.com",children:"gmail.com"}),Object(s.jsx)("option",{value:"@outlook.com",children:"outlook.com"})]})]})]}),this.renderRecordErrors(a.emailAddress),Object(s.jsx)("div",{children:Object(s.jsxs)("small",{className:"text-success ml-2",children:[Object(s.jsx)("i",{className:"fa fa-info-circle mr-1"}),Object(s.jsx)("span",{children:"Valid Symbols:\xa0"}),Object(s.jsx)("span",{children:"!#$%^&*.?_-"})]})})]}):this.state.connectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"zi-10 "+this.inputFieldClasses(a.userPassword),type:c.inputType,name:"userPassword",value:t.userPassword,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePassword,children:c.buttonText})})]})," ",this.renderRecordErrors(a.userPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(a.confirmUserPassword),type:"password",name:"confirmUserPassword",value:r,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(a.confirmUserPassword)]})]}),l?b?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:o?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),ne=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",transType:"",transDate:"",petId:"",customerId:"",petWeight:"",remarks:"",empId:"",checkUp:{findings:"",treatment:"",admissionDate:"",releasedDate:"",addInfo:""},groom:{activity:""}},errors:{transType:" ",petId:" ",customerId:" ",petWeight:" ",remarks:"",empId:" ",checkUpErrors:{findings:" ",treatment:" ",addInfo:""},groomErrors:{activity:" "}},submitError:!1,pets:[],petConnected:!1,petConnectionFailed:!1,employees:[],employeeConnected:!1,employeeConnectionFailed:!1,pet:{search:!1,searchValue:""},employee:{search:!1,searchValue:""}},e.onGenerateId=function(){var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.errors),s=e.props.customer,r=e.generateCharacters(6);t.id=r,t.customerId=s.id,a.customerId="",t.transDate=e.getCurrentDate(),e.setState({record:t,errors:a})},e.getCurrentDate=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;if("remarks"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)})),"transType"===s){var n=Object(f.a)({},e.state.record.checkUp),c=Object(f.a)({},e.state.errors.checkUpErrors);n.findings="",n.treatment="",n.admissionDate="",n.releasedDate="",n.addInfo="",c.findings=" ",c.treatment=" ",c.admissionDate="",c.releasedDate="",c.addInfo="";var l=Object(f.a)({},e.state.record.groom),o=Object(f.a)({},e.state.errors.groomErrors);l.activity="",o.activity="",e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{checkUp:n,groom:l}),errors:Object(f.a)(Object(f.a)({},e.errors),{},{checkUpErrors:c,groomErrors:o})})}))}},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors);switch(s){case"transType":n.transType=0===r.length?" ":"";break;case"empId":n.empId=0===r.length?" ":"";break;case"customerId":n.customerId=0===r.length?" ":"";break;case"petId":n.petId=0===r.length?" ":"";break;case"petWeight":n.petWeight=0===r.length?" ":Object(y.isNumeric)(r)?r.length>6?"Must be at maximum of 6 numbers":"":"Please input a valid value";break;case"remarks":n.remarks=r.length>128?"Must be at maximum of 128 characters":""}e.setState({errors:n})},e.onChangeCheckUp=function(t){var a=t.target,s=a.name,r=a.value;"admissionDate"!==s&&"releasedDate"!==s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{checkUp:Object(f.a)(Object(f.a)({},e.record.checkUp),{},Object(O.a)({},s,r))})})}),(function(){return e.onCheckCheckUpErrors(t)}))},e.onCheckCheckUpErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors.checkUpErrors),c=e.removeSpaces(r).length;switch(s){case"findings":n.findings=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"treatment":n.treatment=0===c?" ":c<2||r.length>128?"Must be at between 2 and 128 characters":0===c?" ":"";break;case"addInfo":n.addInfo=r.length>128?"Must be at maximum of 128 characters":""}e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{errors:Object(f.a)(Object(f.a)({},e.errors),{},{checkUpErrors:n})})}))},e.onChangeGroom=function(t){var a=t.target,s=a.name,r=a.value;"activity"===s&&(r=e.toSentenceCase(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},{groom:Object(f.a)(Object(f.a)({},e.record.groom),{},Object(O.a)({},s,r))})})}),(function(){return e.onCheckGroomErrors(t)}))},e.onCheckGroomErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors.groomErrors),c=e.removeSpaces(r).length;switch(s){case"activity":n.activity=0===c?" ":c<2||r.length>32?"Must be at between 2 and 32 characters":0===c?" ":""}e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{errors:Object(f.a)(Object(f.a)({},e.errors),{},{groomErrors:n})})}))},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.remarks=e.removeLastSpace(s.remarks),s.checkUp.findings=e.removeLastSpace(s.checkUp.findings),s.checkUp.treatment=e.removeLastSpace(s.checkUp.treatment),s.checkUp.addInfo=e.removeLastSpace(s.checkUp.addInfo),s.groom.activity=e.removeLastSpace(s.groom.activity),e.props.onSubmitForm(!1),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertTransaction.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();e.setState({submitError:!1,added:!0})},e.validForm=function(t){var a=t.errors,s=e.state.record,r=!0;return Object.values(a).forEach((function(e){e.length>0&&(r=!1)})),"C"===s.transType?Object.values(a.checkUpErrors).forEach((function(e){e.length>0&&(r=!1)})):"G"===s.transType&&Object.values(a.groomErrors).forEach((function(e){e.length>0&&(r=!1)})),r},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.record.checkUp),s=Object(f.a)({},e.state.record.groom),r=Object(f.a)({},e.state.errors),n=Object(f.a)({},e.state.errors.checkUp),c=Object(f.a)({},e.state.errors.groom),l=e.generateCharacters(6);s.activity="",a.findings="",a.treatment="",a.admissionDate=e.getCurrentDate(),a.releasedDate="",a.addInfo="",t.id=l,t.transType="",t.transDate=e.getCurrentDate(),t.petId="",t.petWeight="",t.remarks="",t.empId="",t.checkUp=a,t.groom=s,c.activity=" ",n.findings=" ",n.treatment=" ",n.addInfo="",r.transType=" ",r.petId=" ",r.customerId=" ",r.remarks="",r.empId=" ",r.checkUpErrors=n,r.groomErrors=c,e.setState({record:t,errors:r,submitError:!1})},e.onTogglePetSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.pet);a.search=!a.search,a.searchValue="",e.setState({pet:a})},e.onClearPetSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.pet);a.searchValue="",e.setState({pet:a})},e.onChangePetSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{pet:Object(f.a)(Object(f.a)({},e.pet),{},Object(O.a)({},s,r))})}))},e.onToggleEmployeeSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.employee);a.search=!a.search,a.searchValue="",e.setState({employee:a})},e.onClearEmployeeSearch=function(t){t.preventDefault();var a=Object(f.a)({},e.state.employee);a.searchValue="",e.setState({employee:a})},e.onChangeEmployeeSearch=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{employee:Object(f.a)(Object(f.a)({},e.employee),{},Object(O.a)({},s,r))})}))},e.checkUpForm=function(){var t=e.state.record.checkUp,a=e.state.errors.checkUpErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsxs)("div",{className:"row mt-3",children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Findings",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.findings),type:"text",name:"findings",value:t.findings,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(a.findings)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Treatment",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.treatment),type:"text",name:"treatment",value:t.treatment,onChange:e.onChangeCheckUp,noValidate:!0}),e.renderRecordErrors(a.treatment)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Admission Date"}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"admissionDate",value:t.admissionDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Released Date"}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"releasedDate",value:t.releasedDate,onChange:e.onChangeCheckUp,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Additional Information"}),Object(s.jsx)("textarea",{className:e.inputFieldClasses(a.addInfo),type:"text",name:"addInfo",value:t.addInfo,onChange:e.onChangeCheckUp,rows:"2",noValidate:!0}),e.renderRecordErrors(a.addInfo)]})]})})},e.groomForm=function(){var t=e.state.record.groom,a=e.state.errors.groomErrors;return Object(s.jsx)("div",{className:"col-12 sub-form bt-1 mt-3",children:Object(s.jsx)("div",{className:"row mt-3",children:Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Activity",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:e.inputFieldClasses(a.activity),type:"text",name:"activity",value:t.activity,onChange:e.onChangeGroom,noValidate:!0}),e.renderRecordErrors(a.activity)]})})})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.getPetsData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php").then((function(t){var a=t.data;e.setState({pets:a,petConnected:!0})})).catch((function(t){console.log(t);e.setState({petConnectionFailed:!0})}))},e.getEmployeesData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({employees:a,employeeConnected:!0})})).catch((function(t){console.log(t);e.setState({employeeConnectionFailed:!0})}))},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e.toSentenceCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),0!==s&&"."===e.charAt(s-1)&&(a=!0)):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId(),this.getPetsData(),this.getEmployeesData()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.errors,r=e.pets,c=e.pet,l=e.employees,o=e.employee,i=e.added,d=this.props,m=d.customer,h=d.connected,b=d.connectionFailed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addTransactionModal-"+m.id,tabIndex:"-1",role:"dialog","aria-labelledby":"addTransactionModalTitle-"+m.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addTransactionModalTitle-"+m.id,children:"Add Transaction for "+m.id+" | "+m.lastName+", "+m.firstName+" "+m.middleName}),h||b?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[i?h?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Date",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:"form-control border border-success",type:"date",name:"transDate",value:t.transDate,onChange:this.onChangeRecord,noValidate:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Transaction Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(a.transType),name:"transType",value:t.transType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),Object(s.jsx)("option",{value:"C",children:"Check-up"}),Object(s.jsx)("option",{value:"G",children:"Groom"})]}),this.renderRecordErrors(a.transType)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Employee Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.empId),name:"empId",value:t.empId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),l.length>0?l.filter((function(e){return(e.empLastName+", "+e.empFirstName+" "+e.empMiddleName).toLowerCase().match(o.searchValue.toLowerCase())||""===o.searchValue})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.empLastName+", "+e.empFirstName+" "+e.empMiddleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleEmployeeSearch,children:"Search"})})]}),o.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:o.searchValue,onChange:this.onChangeEmployeeSearch,placeholder:"Search by Employee Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearEmployeeSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.empId)]}):this.state.employeeConnectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Customer Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:"form-control",name:"customerId",value:t.customerId,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.petConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(a.petId),name:"petId",value:t.petId,onChange:this.onChangeRecord,noValidate:!0,children:[r.filter((function(e){return e.petName.toLowerCase().match(c.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===c.searchValue&&e.ownerId===t.customerId})).length>0||c.searchValue.length>0?Object(s.jsx)("option",{value:"",children:"Choose one"}):t.customerId.length>0?Object(s.jsx)("option",{value:"",children:"No pet found"}):Object(s.jsx)("option",{value:"",children:"Customer Id is required"}),r.length>0?r.filter((function(e){return e.petName.toLowerCase().match(c.searchValue.toLowerCase())&&e.ownerId===t.customerId||""===c.searchValue&&e.ownerId===t.customerId})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.petName},e.id)})):null]}),r.filter((function(e){return e.petName.match(c.searchValue)&&e.ownerId===t.customerId||""===c.searchValue&&e.ownerId===t.customerId})).length>0||c.searchValue.length>0?Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePetSearch,children:"Search"})}):null]}),c.search?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:c.searchValue,onChange:this.onChangePetSearch,placeholder:"Search by Pet Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearPetSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(a.petId)]}):this.state.customerConnectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Weight",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:this.inputFieldClasses(a.petWeight),type:"text",name:"petWeight",value:t.petWeight,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("span",{className:"input-group-text",children:"Kilogram"})})]}),this.renderRecordErrors(a.petWeight)]}),Object(s.jsxs)("div",{className:"form-group col",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Remarks"}),Object(s.jsx)("textarea",{className:this.inputFieldClasses(a.remarks),type:"text",name:"remarks",value:t.remarks,onChange:this.onChangeRecord,rows:"2",noValidate:!0}),this.renderRecordErrors(a.remarks)]}),"C"===t.transType?this.checkUpForm():"G"===t.transType?this.groomForm():null]}),i?h?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt text-primary mr-2"}),Object(s.jsx)("span",{children:"Adding a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:h&&this.state.petConnected&&this.state.employeeConnected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null})})]})})})})}}]),a}(r.Component),ce=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[o].lastName+", "+t[o].firstName+" "+t[o].middleName}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[o].emailAddress+t[o].email}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:t[o].mobileNumber}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:t[o].noOfPets}),Object(s.jsxs)("td",{children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewCustomerModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"View"})]}),Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm","data-toggle":"modal","data-target":"#addTransactionModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-pencil-alt"}),Object(s.jsx)("span",{className:"d-none d-sm-inline ml-1",children:"Transact"})]})]})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.customers,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.connected,i=e.connectionFailed,d=e.onSubmitForm,m=this.state,h=m.recordsPerPage,b=m.recordStartIndex,j=m.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addCustomerModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{className:"min-w-170px",children:"Name"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Email Address"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell w-155px",children:"Mobile Number"}),Object(s.jsx)("th",{className:"d-none d-sm-table-cell w-30px",children:"Pets"}),Object(s.jsx)("th",{className:"w-190px min-w-95px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&o?this.renderItems(t):null})]}),t.length>0&&o?Object(s.jsx)(V,{setPage:this.setPage,recordsPerPage:h,recordStartIndex:b,activePage:j,totalRecords:t.length}):null,Object(s.jsx)(se,{onRefresh:a,onSubmitForm:d}),t.map((function(e){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(re,{customer:e,onRefresh:a,connected:o,connectionFailed:i,onSubmitForm:d}),Object(s.jsx)(ne,{customer:e,connected:o,connectionFailed:i,onSubmitForm:d})]},e.id)}))]})}}]),a}(r.Component),le=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={customers:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData();e.setState({connected:!1,connectionFailed:!1})},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(z,{sourceId:3,activeId:5,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5",children:[Object(s.jsx)("h3",{children:"Manage Customers"}),Object(s.jsx)(ce,{customers:e.state.customers,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.customers.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center text-danger",children:"Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center text-danger mb-5",children:"Please try again later."})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-5",children:"Please wait..."})]})})]})})}),Object(s.jsx)(S,{})]})},e.getData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({customers:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchCustomer.php?search="+t).then((function(t){var a=t.data;e.setState({customers:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(J,{history:e})})}}]),a}(r.Component),oe=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",petName:"",birthdate:"",ownerId:"",petClass:"",lastVisit:"",pcciRegNo:""},records:[],connected:!1,errors:{petName:" ",birthdate:" ",ownerId:" ",petClass:" ",pcciRegNo:""},submitError:!1,added:!1,petClasses:["Alpaca","Ant","Bear","Bird","Cat","Chicken","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Frog","Gecko","Gerbil","Giraffe","Goat","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Iguana","Jaguar","Lizard","Mantis","Monkey","Newt","Octopus","Pig","Panda","Quill","Rabbit","Rat","Salamander","Sheep","Snake","Spider","Tortoise","Turtle","Whale"],search:!1,searchValue:""},e.onGenerateId=function(){var t=Object(f.a)({},e.state.record),a=e.generateCharacters(6);t.id=a,e.setState({record:t})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(O.a)({},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"ownerId":n.ownerId=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length>6?"Must be at exact 6 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.petName=e.removeLastSpace(s.petName),e.props.onSubmitForm(),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertPet.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();var t=!0;e.setState({submitError:!1,added:t}),t=!1,setTimeout((function(){return e.setState({added:t})}),5e3)},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){e.onGenerateId();var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.errors);t.id=e.generateCharacters(6),t.petName="",t.birthdate="",t.ownerId="",t.petClass="",t.pcciRegNo="",a.petName="Pet Name is required",a.birthdate="Birthdate is required",a.ownerId="Owner Id is required",a.petClass="Pet Class is required",a.pcciRegNo="";e.setState({record:t,errors:a,searchValue:"",submitError:!1})},e.onToggleSearch=function(t){t.preventDefault();var a=!e.state.search;e.setState({search:a,searchValue:""})},e.onClearSearch=function(t){t.preventDefault();e.setState({searchValue:""})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.getCustomersData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId(),this.getCustomersData()}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.records,r=e.errors,c=e.petClasses,l=e.search,o=e.searchValue,i=e.added;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addPetModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addPetModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addPetModalTitle",children:"Add Pet"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[i?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.petName),type:"text",name:"petName",value:t.petName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Owner Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(r.ownerId),name:"ownerId",value:t.ownerId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),a.length>0?a.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(o.toLowerCase())||""===o})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleSearch,children:"Search"})})]}),l?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:o,onChange:this.onChangeState,placeholder:"Search by Owner Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(r.ownerId)]}):this.state.connectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(r.petClass),name:"petClass",value:t.petClass,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(r.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.pcciRegNo),type:"text",name:"pcciRegNo",value:t.pcciRegNo,onChange:this.onChangeRecord,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(r.pcciRegNo)]})]}),i?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]}):null})})]})})})})}}]),a}(r.Component),ie=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",petName:"",birthdate:"",ownerId:"",petClass:"",lastVisit:"",pcciRegNo:""},records:[],connected:!1,connectionFailed:!1,errors:{petName:"",birthdate:"",ownerId:"",petClass:"",pcciRegNo:""},submitError:!1,updated:!1,petClasses:["Alpaca","Ant","Bear","Bird","Cat","Chicken","Dog","Dolphins","Duck","Elephant","Ferret","Fish","Frog","Gecko","Gerbil","Giraffe","Goat","Guinea Pig","Hamster","Hedgehog","Hermit Crab","Horse","Iguana","Jaguar","Lizard","Mantis","Monkey","Newt","Octopus","Pig","Panda","Quill","Rabbit","Rat","Salamander","Sheep","Snake","Spider","Tortoise","Turtle","Whale"],search:!1,searchValue:"",deleteState:!1},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(O.a)({},s,r))}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;r="petName"===s?e.toAbsProperCase(r):"petClass"!==s?e.removeSpaces(r).toUpperCase():r,e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors),c=e.removeSpaces(r).length;switch(s){case"petName":n.petName=0===c?" ":c<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"birthdate":n.birthdate=0===c?" ":"";break;case"ownerId":n.ownerId=0===c?" ":"";break;case"petClass":n.petClass=0===c?" ":"";break;case"pcciRegNo":n.pcciRegNo=r.length>6?"Must be at exact 6 characters":""}e.setState({errors:n})},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.petName=e.removeLastSpace(s.petName),e.props.onSubmitForm(),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updatePet.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.setState({submitError:!1,updated:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.errors),s=e.props.pet;t.petName=s.petName,t.birthdate=s.birthdate,t.ownerId=s.ownerId,t.petClass=s.petClass,t.pcciRegNo=s.pcciRegNo,a.petName="",a.birthdate="",a.ownerId="",a.petClass="",a.pcciRegNo="";e.setState({record:t,errors:a,searchValue:"",submitError:!1,updated:!1})},e.onToggleSearch=function(t){t.preventDefault();var a=!e.state.search;e.setState({search:a})},e.onClearSearch=function(t){t.preventDefault();e.setState({searchValue:""})},e.defaultButtons=function(){return e.props.connected&&e.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]}):null},e.onToggleDelete=function(){var t=!e.state.deleteState;e.setState({deleteState:t})},e.deleteButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1","data-dismiss":"modal",onClick:e.onDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Confirm Delete"})]}),Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-arrow-left"}),Object(s.jsx)("span",{className:"ml-1",children:"Cancel Delete"})]})]})},e.onDelete=function(){var t=e.state.record,a=e.props.onRefresh;e.props.onSubmitForm(!1),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/deletePet.php",t).then(a)},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.getCustomersData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php").then((function(t){var a=t.data;e.setState({records:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getCustomersData();var e=this.props.pet,t=Object(f.a)({},this.state.record);t.id=e.id,t.petName=e.petName,t.birthdate=e.birthdate,t.ownerId=e.ownerId,t.petClass=e.petClass,t.lastVisit=e.lastVisit,t.pcciRegNo=e.pcciRegNo,this.setState({record:t})}},{key:"render",value:function(){var e=this.state,t=e.record,a=e.records,r=e.errors,c=e.petClasses,l=e.search,o=e.searchValue,i=e.updated,d=e.deleteState,m=this.props,h=m.pet,b=m.connected,j=m.connectionFailed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewPetModal-"+h.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewPetModalTitle-"+h.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewPetModalTitle-"+h.id,children:"View Pet"}),b||j?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[i?b?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:t.id,placeholder:"Please click 'Generate'",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.petName),type:"text",name:"petName",value:t.petName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.petName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Birthdate",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.birthdate),type:"date",name:"birthdate",value:t.birthdate,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.birthdate)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Owner Id",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),this.state.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsxs)("select",{className:"zi-10 "+this.inputFieldClasses(r.ownerId),name:"ownerId",value:t.ownerId,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),a.length>0?a.filter((function(e){return(e.lastName+", "+e.firstName+" "+e.middleName).toLowerCase().match(o.toLowerCase())||""===o})).map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.id+" | "+e.lastName+", "+e.firstName+" "+e.middleName},e.id)})):null]}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onToggleSearch,children:"Search"})})]}),l?Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",name:"searchValue",value:o,onChange:this.onChangeState,placeholder:"Search by Owner Name",noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onClearSearch,children:"Clear"})})]}):null," ",this.renderRecordErrors(r.ownerId)]}):this.state.connectionFailed?Object(s.jsx)("input",{className:"form-control border border-danger",value:"Connection Failed: Please try again later...",noValidate:!0,disabled:!0}):Object(s.jsx)("input",{className:"form-control",value:"Loading Data: Please wait...",noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Pet Class",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(r.petClass),name:"petClass",value:t.petClass,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),c.length>0?c.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(r.petClass)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"PCCI Reg. No."}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.pcciRegNo),type:"text",name:"pcciRegNo",value:t.pcciRegNo,onChange:this.onChangeRecord,maxLength:"6",placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(r.pcciRegNo)]})]}),i?b?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:d?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),de=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=[],l=t.length<=n+r?t.length:n+r,o=e.state.recordStartIndex;o<l;o++)c.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:t[o].ownerLastName+", "+t[o].ownerFirstName+" "+t[o].ownerMiddleName}),Object(s.jsx)("td",{children:t[o].petName}),Object(s.jsx)("td",{className:"d-none d-lg-table-cell",children:e.formatDate(t[o].birthdate)}),Object(s.jsx)("td",{className:"d-none d-md-table-cell",children:t[o].petClass}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:null===t[o].lastVisit?"Not visiting yet":e.formatDate(t[o].lastVisit)}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewPetModal-"+t[o].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[o].id));return[c]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return e.getFullYear()+"-"+a+"-"+t},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.pets,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.connected,i=e.connectionFailed,d=e.onSubmitForm,m=this.state,h=m.recordsPerPage,b=m.recordStartIndex,j=m.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addPetModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-xl-inline d-lg-none d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-xl-inline d-lg-none d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Owner Name"}),Object(s.jsx)("th",{children:"Pet Name"}),Object(s.jsx)("th",{className:"d-none d-lg-table-cell",children:"Birthdate"}),Object(s.jsx)("th",{className:"d-none d-md-table-cell",children:"Pet Class"}),Object(s.jsx)("th",{className:"d-none d-sm-table-cell",children:"Last Visit"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&o?this.renderItems(t):null})]}),t.length>0&&o?Object(s.jsx)(V,{setPage:this.setPage,recordsPerPage:h,recordStartIndex:b,activePage:j,totalRecords:t.length}):null,Object(s.jsx)(oe,{onRefresh:a,onSubmitForm:d}),t.map((function(e){return Object(s.jsx)(ie,{pet:e,onRefresh:a,connected:o,connectionFailed:i,onSubmitForm:d},e.id)}))]})}}]),a}(r.Component),me=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={pets:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData();e.setState({connected:!1,connectionFailed:!1})},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.renderContent=function(){var t=e.props.history;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(z,{sourceId:3,activeId:6,history:t}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Pets"}),Object(s.jsx)(de,{pets:e.state.pets,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.pets.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center text-danger",children:"Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center text-danger mb-5",children:"Please try again later."})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-5",children:"Please wait..."})]})})]})})}),Object(s.jsx)(S,{})]})},e.getData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php").then((function(t){var a=t.data;e.setState({pets:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchPet.php?search="+t).then((function(t){var a=t.data;e.setState({pets:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():Object(s.jsx)(J,{history:e})})}}]),a}(r.Component),he=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={record:{id:"",empLastName:"",empFirstName:"",empMiddleName:"",empType:"",empPassword:""},confirmEmpPassword:"",errors:{empLastName:" ",empFirstName:" ",empMiddleName:"",empType:" ",empPassword:" ",confirmEmpPassword:" "},empTypes:["Admin","Groomer","Veterinarian"],submitError:!1,added:!1},e.onGenerateId=function(){var t=Object(f.a)({},e.state.record),a=e.generateCharacters(6);t.id=a,e.setState({record:t})},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(O.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"empLastName"===s&&(r=e.toProperCase(r)),"empFirstName"!==s&&"empMiddleName"!==s||(r=e.toAbsProperCase(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors),c=Object(f.a)({},e.state.record),l=e.state.confirmEmpPassword,o=e.removeSpaces(r).length;switch(s){case"empLastName":n.empLastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empFirstName":n.empFirstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empMiddleName":n.empMiddleName=r.length>24?"Must be at maximum of 24 characters":"";break;case"empType":n.empType=0===o?" ":"";break;case"empPassword":n.empPassword=0===o?" ":o<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmEmpPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmEmpPassword":n.confirmEmpPassword=0===o?" ":r===c.empPassword?o<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.empLastName=e.removeLastSpace(s.empLastName),s.empFirstName=e.removeLastSpace(s.empFirstName),s.empMiddleName=e.removeLastSpace(s.empMiddleName),e.props.onSubmitForm(),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/insertEmployee.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){e.onReset();e.setState({submitError:!1,added:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:e})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.errors);t.id=e.generateCharacters(6),t.empLastName="",t.empFirstName="",t.empMiddleName="",t.empType="",t.empPassword="",a.empLastName=" ",a.empFirstName=" ",a.empMiddleName="",a.empType="",a.empPassword=" ",a.confirmEmpPassword=" ",e.setState({record:t,confirmEmpPassword:"",errors:a,submitError:!1,added:!1})},e.generateCharacters=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateId()}},{key:"render",value:function(){var e=this,t=this.state,a=t.record,r=t.errors,c=t.confirmEmpPassword,l=t.added,o=t.empTypes;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"addEmployeeModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addEmployeeModalTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addEmployeeModalTitle",children:"Add Employee"}),Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[l?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:a.id,noValidate:!0,disabled:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onGenerateId,children:"Generate"})})]})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empLastName),type:"text",name:"empLastName",value:a.empLastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.empLastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empFirstName),type:"text",name:"empFirstName",value:a.empFirstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.empFirstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empMiddleName),type:"text",name:"empMiddleName",value:a.empMiddleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(r.empMiddleName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Employee Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("select",{className:this.inputFieldClasses(r.empType),name:"empType",value:a.empType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),o.length>0?o.filter((function(t){return"Admin"!==t&&"Admin"===e.props.empType||"Master Admin"===e.props.empType})).map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(r.empType)]}),Object(s.jsx)("div",{className:"form-group col-lg-6"}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empPassword),type:"password",name:"empPassword",value:a.empPassword,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.empPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.confirmEmpPassword),type:"password",name:"confirmEmpPassword",value:c,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(r.confirmEmpPassword)]})]}),l?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully added."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsxs)("div",{className:"d-flex justify-content-end w-100",children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:this.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-sign-in-alt"}),Object(s.jsx)("span",{className:"ml-1",children:"Submit"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto",onClick:this.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]})]})})]})})})})}}]),a}(r.Component),be=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={record:{id:"",empLastName:"",empFirstName:"",empMiddleName:"",empType:"",empPassword:""},confirmEmpPassword:"",errors:{empLastName:"",empFirstName:"",empMiddleName:"",empType:"",empPassword:"",confirmEmpPassword:" "},empTypes:["Admin","Groomer","Veterinarian"],submitError:!1,updated:!1,passwordState:{inputType:"password",buttonText:"Show"},deleteState:!1},e.onChangeState=function(t){var a=t.target,s=a.name,r=a.value;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(O.a)({},s,r))}),(function(){return e.onCheckRecordErrors(t)}))},e.onChangeRecord=function(t){var a=t.target,s=a.name,r=a.value;"empLastName"===s&&(r=e.toProperCase(r)),"empFirstName"!==s&&"empMiddleName"!==s||(r=e.toAbsProperCase(r)),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{record:Object(f.a)(Object(f.a)({},e.record),{},Object(O.a)({},s,r))})}),(function(){return e.onCheckRecordErrors(t)}))},e.onCheckRecordErrors=function(t){var a=t.target,s=a.name,r=a.value,n=Object(f.a)({},e.state.errors),c=Object(f.a)({},e.state.record),l=e.state.confirmEmpPassword,o=e.removeSpaces(r).length;switch(s){case"empLastName":n.empLastName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empFirstName":n.empFirstName=0===o?" ":o<2||r.length>24?"Must be at between 2 and 24 characters":"";break;case"empMiddleName":n.empMiddleName=r.length>24?"Must be at maximum of 24 characters":"";break;case"empType":n.empType=0===o?" ":"";break;case"empPassword":n.empPassword=0===o?" ":o<12||r.length>24?"Password must be at between 12 and 24 characters":"",n.confirmEmpPassword=r===l?l.length<12?" ":"":"Passwords do not match";break;case"confirmEmpPassword":n.confirmEmpPassword=0===o?" ":r===c.empPassword?o<12?" ":"":"Passwords do not match"}e.setState({errors:n})},e.onSubmit=function(){var t=Object(f.a)({},e.state.errors);if(e.validForm({errors:t})){var a=e.props.onRefresh,s=Object(f.a)({},e.state.record);s.empLastName=e.removeLastSpace(s.empLastName),s.empFirstName=e.removeLastSpace(s.empFirstName),s.empMiddleName=e.removeLastSpace(s.empMiddleName),e.props.onSubmitForm(),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/updateEmployee.php",s).then(a,e.postSubmit())}else{e.setState({submitError:!0})}},e.postSubmit=function(){var t=Object(f.a)({},e.state.errors);t.confirmEmpPassword=" ",e.setState({errors:t,confirmEmpPassword:"",submitError:!1,updated:!0})},e.validForm=function(e){var t=e.errors,a=!0;return Object.values(t).forEach((function(e){e.length>0&&(a=!1)})),a},e.renderErrors=function(t){if(e.state.submitError){var a=[];return Object.values(t).forEach((function(e){e.length>0&&a.push(Object(s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center my-1 py-0",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-2"}),Object(s.jsx)("span",{children:e})]},a.length))})),a.length>1?Object(s.jsx)("div",{className:"mb-3 mx-3",children:[a]}):null}},e.renderRecordErrors=function(t){if(e.state.submitError&&t.length>0&&" "!==t)return Object(s.jsxs)("small",{className:"text-danger ml-2",children:[Object(s.jsx)("i",{className:"fa fa-exclamation text-danger mr-1"}),t]})},e.onReset=function(){var t=Object(f.a)({},e.state.record),a=Object(f.a)({},e.state.errors),s=e.props.employee;t.empLastName=s.empLastName,t.empFirstName=s.empFirstName,t.empMiddleName=s.empMiddleName,t.empType=s.empType,t.empPassword=s.empPassword,a.empLastName="",a.empFirstName="",a.empMiddleName="",a.empType="",a.empPassword="",a.confirmEmpPassword=" ",e.setState({record:t,confirmEmpPassword:"",errors:a,submitError:!1,updated:!1})},e.onTogglePassword=function(t){t.preventDefault();var a=Object(f.a)({},e.state.passwordState);"password"===a.inputType?(a.inputType="text",a.buttonText="Hide"):(a.inputType="password",a.buttonText="Show"),e.setState({passwordState:a})},e.defaultButtons=function(){return e.props.connected?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-primary w-auto mr-1",onClick:e.onSubmit,children:[Object(s.jsx)("i",{className:"fa fa-pen fa-sm"}),Object(s.jsx)("span",{className:"ml-1",children:"Update"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onReset,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1",children:"Reset"})]}),Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Delete"})]})]}):null},e.onToggleDelete=function(){var t=!e.state.deleteState;e.setState({deleteState:t})},e.deleteButtons=function(){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("button",{className:"btn btn-danger w-auto mr-1","data-dismiss":"modal",onClick:e.onDelete,children:[Object(s.jsx)("i",{className:"fa fa-trash"}),Object(s.jsx)("span",{className:"ml-1",children:"Confirm Delete"})]}),Object(s.jsxs)("button",{className:"btn btn-success w-auto mr-1",onClick:e.onToggleDelete,children:[Object(s.jsx)("i",{className:"fa fa-arrow-left"}),Object(s.jsx)("span",{className:"ml-1",children:"Cancel Delete"})]})]})},e.onDelete=function(){var t=e.state.record,a=e.props.onRefresh;e.props.onSubmitForm(!1),v.a.post("http://localhost/reactPhpCrud/veterinaryClinic/deleteEmployee.php",t).then(a)},e.inputFieldClasses=function(t){var a="form-control ";return a+=t.length>0?e.state.submitError?"border border-danger":"":"border border-success"},e.toProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s);return t},e.toAbsProperCase=function(e){for(var t="",a=!1,s=0;s<e.length;s++)" "===e.charAt(s)?(0!==s&&" "!==e.charAt(s-1)&&(t+=e.charAt(s)),a=!0):0===s||!0===a?(t+=e.charAt(s).toUpperCase(),a=!1):t+=e.charAt(s).toLowerCase();return t},e.removeLastSpace=function(e){var t=e;return" "===e.charAt(e.length-1)&&(t=e.substring(0,e.length-1)),t},e.removeSpaces=function(e){for(var t="",a=0;a<e.length;a++)" "!==e.charAt(a)&&(t+=e.charAt(a));return t},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.employee,t=Object(f.a)({},this.state.record);t.id=e.id,t.empLastName=e.empLastName,t.empFirstName=e.empFirstName,t.empMiddleName=e.empMiddleName,t.empType=e.empType,t.empPassword=e.empPassword,this.setState({record:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.record,r=t.errors,c=t.confirmEmpPassword,l=t.updated,o=t.empTypes,i=t.passwordState,d=t.deleteState,m=this.props,h=m.employee,b=m.empType,j=m.connected,u=m.connectionFailed;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)("div",{className:"modal fade",id:"viewEmployeeModal-"+h.id,tabIndex:"-1",role:"dialog","aria-labelledby":"viewEmployeeModalTitle-"+h.id,"aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"viewEmployeeModalTitle-"+h.id,children:"View Employee"}),j||u?Object(s.jsx)("button",{className:"btn btn-light text-danger p-1","data-dismiss":"modal",onClick:this.onReset,children:Object(s.jsx)("i",{className:"fa fa-window-close fa-lg"})}):null]}),Object(s.jsxs)("div",{className:"modal-body",children:[l?j?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mb-3",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null,Object(s.jsxs)("form",{className:"row form-light mx-2 p-4",noValidate:!0,children:[Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Id"}),Object(s.jsx)("input",{className:"form-control zi-10",type:"text",name:"id",value:a.id,noValidate:!0,disabled:!0})]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Last Name",Object(s.jsxs)("span",{className:"text-danger ml-1",children:["*",Object(s.jsx)("span",{className:"small ml-1",children:"Required"})]})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empLastName),type:"text",name:"empLastName",value:a.empLastName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.empLastName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["First Name",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empFirstName),type:"text",name:"empFirstName",value:a.empFirstName,onChange:this.onChangeRecord,noValidate:!0}),this.renderRecordErrors(r.empFirstName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsx)("label",{className:"m-0 ml-2",children:"Middle Name"}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.empMiddleName),type:"text",name:"empMiddleName",value:a.empMiddleName,onChange:this.onChangeRecord,placeholder:"(Optional)",noValidate:!0}),this.renderRecordErrors(r.empMiddleName)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Employee Type",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),a.empType===b?Object(s.jsx)("input",{className:this.inputFieldClasses(r.empType),name:"empType",value:a.empType,onChange:this.onChangeRecord,noValidate:!0,disabled:!0}):Object(s.jsxs)("select",{className:this.inputFieldClasses(r.empType),name:"empType",value:a.empType,onChange:this.onChangeRecord,noValidate:!0,children:[Object(s.jsx)("option",{value:"",children:"Choose one"}),o.length>0?o.filter((function(t){return"Admin"!==t&&"Admin"===e.props.empType||"Master Admin"===e.props.empType})).map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)})):null]}),this.renderRecordErrors(r.empType)]}),Object(s.jsx)("div",{className:"form-group col-lg-6"}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"zi-10 "+this.inputFieldClasses(r.empPassword),type:i.inputType,name:"empPassword",value:a.empPassword,onChange:this.onChangeRecord,noValidate:!0}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{type:"button",className:"btn btn-light input-group-text",onClick:this.onTogglePassword,children:i.buttonText})})]}),this.renderRecordErrors(r.empPassword)]}),Object(s.jsxs)("div",{className:"form-group col-lg-6",children:[Object(s.jsxs)("label",{className:"m-0 ml-2",children:["Confirm Password",Object(s.jsx)("span",{className:"text-danger ml-1",children:"*"})]}),Object(s.jsx)("input",{className:this.inputFieldClasses(r.confirmEmpPassword),type:"password",name:"confirmEmpPassword",value:c,onChange:this.onChangeState,noValidate:!0}),this.renderRecordErrors(r.confirmEmpPassword)]})]}),l?j?Object(s.jsxs)("div",{className:"alert alert-success d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-check text-success mr-2"}),Object(s.jsx)("span",{children:"Record successfully updated."})]}):Object(s.jsxs)("div",{className:"alert alert-primary d-flex align-items-center mt-3 mb-1",children:[Object(s.jsx)("i",{className:"fa fa-pen text-primary mr-2"}),Object(s.jsx)("span",{children:"Updating a record..."})]}):null]}),Object(s.jsx)("div",{className:"modal-footer",children:Object(s.jsx)("div",{className:"d-flex justify-content-end w-100",children:d?this.deleteButtons():this.defaultButtons()})})]})})})})}}]),a}(r.Component),je=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={recordsPerPage:10,recordStartIndex:0,activePage:1},e.renderItems=function(t){for(var a=e.state,r=a.recordsPerPage,n=a.recordStartIndex,c=e.props,l=c.empType,o=c.id,i=[],d=t.length<=n+r?t.length:n+r,m=e.state.recordStartIndex;m<d;m++)i.push(Object(s.jsxs)("tr",{className:"table-row",children:[Object(s.jsx)("td",{children:t[m].empLastName+", "+t[m].empFirstName+" "+t[m].empMiddleName}),Object(s.jsx)("td",{className:"d-none d-sm-table-cell",children:t[m].empType}),Object(s.jsx)("td",{children:"Admin"===l&&("Master Admin"===t[m].empType||"Admin"===t[m].empType&&t[m].id!==o)?Object(s.jsxs)("button",{className:"btn btn-outline-secondary btn-sm mr-1",disabled:!0,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]}):Object(s.jsxs)("button",{className:"btn btn-outline-primary btn-sm mr-1","data-toggle":"modal","data-target":"#viewEmployeeModal-"+t[m].id,children:[Object(s.jsx)("i",{className:"fa fa-eye"}),Object(s.jsx)("span",{className:"ml-1",children:"View"})]})})]},t[m].id));return[i]},e.setPage=function(t,a){e.setState({recordStartIndex:t,activePage:a})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.employees,a=e.onRefresh,r=e.onSearch,c=e.searchValue,l=e.onClear,o=e.empType,i=e.connected,d=e.connectionFailed,m=e.onSubmitForm,h=this.state,b=h.recordsPerPage,j=h.recordStartIndex,u=h.activePage;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"d-flex mb-2",children:[Object(s.jsxs)("button",{className:"btn btn-outline-primary mr-auto","data-toggle":"modal","data-target":"#addEmployeeModal",children:[Object(s.jsx)("i",{className:"fa fa-plus"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"New"})]}),Object(s.jsxs)("button",{className:"btn btn-warning mr-2",onClick:a,children:[Object(s.jsx)("i",{className:"fa fa-sync"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Refresh"})]}),Object(s.jsx)("input",{type:"text",className:"form-control w-25 min-w-175px",placeholder:"Search",onChange:r,value:c}),Object(s.jsxs)("button",{className:"btn btn-danger ml-2",onClick:l,children:[Object(s.jsx)("i",{className:"fa fa-eraser"}),Object(s.jsx)("span",{className:"ml-1 d-sm-inline d-none",children:"Clear"})]})]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark text-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Employee Name"}),Object(s.jsx)("th",{className:"d-none d-sm-table-cell",children:"Employee Type"}),Object(s.jsx)("th",{className:"w-100px",children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.length>0&&i?this.renderItems(t):null})]}),t.length>0&&i?Object(s.jsx)(V,{setPage:this.setPage,recordsPerPage:b,recordStartIndex:j,activePage:u,totalRecords:t.length}):null,Object(s.jsx)(he,{onRefresh:a,empType:o,onSubmitForm:m}),t.map((function(e){return Object(s.jsx)(be,{employee:e,onRefresh:a,empType:o,connected:i,connectionFailed:d,onSubmitForm:m},e.id)}))]})}}]),a}(r.Component),ue=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={employees:[],connected:!1,connectionFailed:!1,searchValue:""},e.onSubmitForm=function(){e.setState({connected:!1,connectionFailed:!1})},e.onRefresh=function(){e.getData();e.setState({connected:!1,connectionFailed:!1})},e.onSearch=function(t){var a=t.target.value;a.length>0?e.searchData(a):e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:a})},e.onClear=function(){e.getData();e.setState({connected:!1,connectionFailed:!1,searchValue:""})},e.onBackToHome=function(){e.props.history.replace("/admin",{verified:!0})},e.renderForbidden=function(){return Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row min-h-full justify-content-center align-items-center",children:Object(s.jsxs)("div",{className:"col-10 col-md-8 col-lg-6 form-light",children:[Object(s.jsxs)("div",{className:"alert alert-warning text-warning text-center my-3 mx-1 py-4",children:[Object(s.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(s.jsx)("i",{className:"fa fa-exclamation fa-lg"}),Object(s.jsx)("span",{className:"ml-2",children:Object(s.jsx)("h2",{className:"font-weight-normal",children:"Forbidden Access"})})]}),Object(s.jsx)("h5",{className:"font-weight-light",children:"Please login the Master account first."})]}),Object(s.jsx)("div",{className:"text-center mb-3",children:Object(s.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onBackToHome,children:"Back to Home"})})]})})})},e.renderContent=function(){var t=e.props.history.location.state;return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(z,{sourceId:3,activeId:7,history:e.props.history}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"min-h-full row bg-light justify-content-center text-dark py-4",children:Object(s.jsxs)("div",{className:"col-12 mt-5 table-responsive",children:[Object(s.jsx)("h3",{children:"Manage Employees"}),Object(s.jsx)(je,{employees:e.state.employees,empType:t.empType,id:t.id,onRefresh:e.onRefresh,onSearch:e.onSearch,searchValue:e.state.searchValue,onClear:e.onClear,connected:e.state.connected,connectionFailed:e.state.connectionFailed,onSubmitForm:e.onSubmitForm}),Object(s.jsx)("div",{className:"mt-5",children:e.state.connected?0===e.state.employees.length?Object(s.jsx)("h1",{className:"display-5 text-center mb-5",children:"No Record Found"}):null:e.state.connectionFailed?Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center text-danger",children:"Connection Failed"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center text-danger mb-5",children:"Please try again later."})]}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("h1",{className:"display-5 text-center",children:"Loading Records"}),Object(s.jsx)("h3",{className:"font-weight-normal text-center mb-5",children:"Please wait..."})]})})]})})}),Object(s.jsx)(S,{})]})},e.getData=function(){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php").then((function(t){var a=t.data;e.setState({employees:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e.searchData=function(t){v.a.get("http://localhost/reactPhpCrud/veterinaryClinic/searchEmployee.php?search="+t).then((function(t){var a=t.data;e.setState({employees:a,connected:!0})})).catch((function(t){console.log(t);e.setState({connectionFailed:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.history,t=!1;try{t=e.location.state.verified}catch(a){t=!1}return Object(s.jsx)(n.a.Fragment,{children:t?this.renderContent():this.renderForbidden()})}}]),a}(r.Component);var pe=function(){return Object(s.jsx)(o.a,{children:Object(s.jsxs)(i.c,{children:[Object(s.jsx)(i.a,{exact:!0,path:"/wiggly-tails",component:k}),Object(s.jsx)(i.a,{exact:!0,path:"/wiggly-tails/customer",component:E}),Object(s.jsx)(i.a,{path:"/wiggly-tails/customer/view-transactions",component:T}),Object(s.jsx)(i.a,{path:"/wiggly-tails/customer/view-admission",component:U}),Object(s.jsx)(i.a,{path:"/wiggly-tails/customer/manage-pets",component:W}),Object(s.jsx)(i.a,{path:"/wiggly-tails/customer/about-us",component:Z}),Object(s.jsx)(i.a,{exact:!0,path:"/wiggly-tails/admin",component:X}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-transactions",component:$}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-admission",component:ae}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-customers",component:le}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-pets",component:me}),Object(s.jsx)(i.a,{path:"/wiggly-tails/admin/manage-employees",component:ue})]})})};a(64),a(65),a(66),a(67),a(68),a(69);l.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(pe,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.4eea3b76.chunk.js.map