{"version":3,"sources":["img/wiggly-tails-icon.png","components/Index/Navbar.js","img/no-image.png","components/Index/IndexCarousel.js","components/Index/Forms/CustomerLoginForm.js","components/Index/Forms/EmployeeLoginForm.js","components/Index/Forms/RegistrationModal.js","components/Footer.js","components/Index/Index.js","components/Customer/CustomerNavbar.js","components/Customer/UpdateAccountInfoModal.js","components/Customer/Forbidden.js","components/Customer/Customer.js","components/Customer/Transactions/ViewTransactionModal.js","components/TablePagination.js","components/Customer/Transactions/TransactionsTable.js","components/Customer/Transactions/ViewTransactions.js","components/Customer/Admission/ViewAdmissionModal.js","components/Customer/Admission/AdmissionTable.js","components/Customer/Admission/ViewAdmission.js","components/Customer/Pets/AddPetModal.js","components/Customer/Pets/ViewPetModal.js","components/Customer/Pets/PetsTable.js","components/Customer/Pets/ManagePets.js","components/Customer/AboutUs.js","components/Admin/Employees/ManageEmployeesModal.js","components/Admin/AdminNavbar.js","components/Admin/Forbidden.js","components/Admin/Admin.js","components/Admin/Transactions/AddTransactionModal.js","components/Admin/Transactions/ViewTransactionModal.js","components/Admin/Transactions/TransactionsTable.js","components/Admin/Transactions/ManageTransactions.js","components/Admin/Admission/AddAdmissionModal.js","components/Admin/Admission/ViewAdmissionModal.js","components/Admin/Admission/AdmissionTable.js","components/Admin/Admission/ManageAdmission.js","components/Admin/Customers/AddCustomerModal.js","components/Admin/Customers/ViewCustomerModal.js","components/Admin/Customers/InitiateTransactionModal.js","components/Admin/Customers/CustomersTable.js","components/Admin/Customers/ManageCustomers.js","components/Admin/Pets/AddPetModal.js","components/Admin/Pets/ViewPetModal.js","components/Admin/Pets/PetsTable.js","components/Admin/Pets/ManagePets.js","components/Admin/Employees/AddEmployeeModal.js","components/Admin/Employees/ViewEmployeeModal.js","components/Admin/Employees/EmployeesTable.js","components/Admin/Employees/ManageEmployees.js","App.js","index.js"],"names":["Navbar","state","navs","id","text","link","items","linkItemClasses","props","activeId","sourceId","classes","dropdownItemClasses","switchActiveId","this","Fragment","className","href","src","wiggy_tails_icon","alt","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","map","nav","length","aria-labelledby","item","onClick","Component","IndexCarousel","data-ride","data-slide-to","noImage","role","data-slide","aria-hidden","CustomerLoginForm","record","emailAddress","email","userPassword","errors","submitError","loginError","onChangeRecord","e","target","name","value","removeSpaces","setState","currentState","onCheckRecordErrors","onSubmit","preventDefault","records","validForm","result","filter","row","toLowerCase","history","replace","verified","valid","Object","values","forEach","renderRecordErrors","errorMsg","renderLoginError","onReset","inputFieldClasses","i","charAt","connected","noValidate","onChange","connectionFailed","getData","EmployeeLoginForm","empLastName","empPassword","toUpperCase","toAbsProperCase","propervalue","isCapital","maxLength","RegistrationModal","lastName","firstName","middleName","homeAddress","lotBlock","street","subdivision","barangay","municipality","province","birthdate","mobileNumber","pet","petName","petClass","lastVisit","pcciRegNo","confirmUserPassword","homeAddressErrors","petErrors","petClasses","submitted","registered","failed","onGenerateId","generateCharacters","onChangeState","toProperCase","properLength","isNumeric","isValidEmail","emailAddressExists","customers","RegExp","test","onChangeHomeAddress","onCheckHomeAddressErrors","onChangePet","onCheckPetErrors","console","log","removeLastSpace","mbNo","push","substring","join","onRegister","submission","axios","post","then","postSubmit","catch","error","failedSubmit","setTimeout","renderErrors","errorItems","isObject","data","renderHomeAddressErrors","characters","charactersLength","Math","floor","random","removeMultipleSpaces","tabIndex","disabled","data-dismiss","placeholder","Footer","EmployeeLogin","customerConnected","customerConnectionFailed","employees","employeeConnected","employeeConnectionFailed","componentDidMount","getCustomersData","getEmployeesData","retryCustomersData","retryEmployeesData","get","res","CustomerNavbar","onClickLink","location","onClickBrand","onClickSignOut","UpdateAccountInfoModal","passwordState","inputType","buttonText","updated","customer","onRefresh","onTogglePassword","onSubmitForm","split","defaultButtons","deleteState","deleteButtons","Forbidden","onBackToLogin","Customer","searchData","renderContent","formatDate","searchValue","dateValue","day","Date","getDate","month","getMonth","getFullYear","ViewTransactionModal","transType","transDate","petId","customerId","customerLastName","customerFirstName","customerMiddleName","customerName","petWeight","remarks","empId","empFirstName","empMiddleName","checkUp","findings","treatment","admissionDate","releasedDate","addInfo","groom","activity","checkUpConnected","checkUpConnectionFailed","groomConnected","groomConnectionFailed","transaction","getCheckUpData","getGroomData","onChangeCheckUp","onChangeGroom","onViewAdmission","transId","checkUpForm","rows","retryCheckUpData","groomForm","retryGroomData","TablePagination","onClickPage","page","recordStartIndex","recordsPerPage","activePage","setPage","onClickPagePrev","onClickPageNext","noOfPages","renderPagination","totalRecords","pages","ceil","indexPage","stopPage","getPageClasses","getPrevPageClasses","renderBackPage","renderContinuePage","getNextPageClasses","pageLowerLimit","pageNo","pageUpperLimit","TransactionsTable","renderItems","transactions","recordStopIndex","formatTransType","onSearch","onClear","ViewTransactions","ViewAdmissionModal","title","content","admission","AdmissionTable","colSpan","ViewAdmission","admissionId","AddPetModal","ownerId","added","ViewPetModal","onToggleDelete","onDelete","PetsTable","pets","ManagePets","AboutUs","ManageEmployeesModal","adminId","adminPassword","document","getElementById","click","empType","renderModal","AdminNavbar","Admin","AddTransactionModal","checkUpErrors","groomErrors","search","employee","currentDate","getCurrentDate","dateObj","currentMonth","currentDay","toSentenceCase","onTogglePetSearch","onCheckCheckUpErrors","onCheckGroomErrors","onToggleCustomerSearch","onClearCustomerSearch","onChangeCustomerSearch","onClearPetSearch","onChangePetSearch","onToggleEmployeeSearch","onClearEmployeeSearch","onChangeEmployeeSearch","match","petConnected","petConnectionFailed","retryPetsData","ManageTransactions","getPetsData","AddAdmissionModal","ManageAdmission","AddCustomerModal","ViewCustomerModal","InitiateTransactionModal","CustomersTable","noOfPets","ManageCustomers","onToggleSearch","onClearSearch","ownerLastName","ownerFirstName","ownerMiddleName","AddEmployeeModal","confirmEmpPassword","empTypes","ViewEmployeeModal","EmployeesTable","ManageEmployees","renderForbidden","App","exact","path","component","Index","CustomerManagePets","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.de4c6693.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/wiggly-tails-icon.1d629afe.png\";","import React, { Component } from 'react';\r\nimport wiggy_tails_icon from '../../img/wiggly-tails-icon.png';\r\n\r\nclass Navbar extends Component {\r\n    state = {\r\n        navs:\r\n        [\r\n            {\r\n                id: 1,\r\n                text: \"Login\",\r\n                link: null,\r\n                items: \r\n                [\r\n                    {\r\n                        id: 2,\r\n                        text: \"Customer\",\r\n                        link: null\r\n                    },\r\n                    {\r\n                        id: 3,\r\n                        text: \"Employee\",\r\n                        link: null\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                id: 10,\r\n                text: \"Register\",\r\n                link: null,\r\n                items: []\r\n            }\r\n        ]\r\n    }\r\n\r\n    render() { \r\n        const { switchActiveId } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <nav className=\"navbar navbar-expand-sm navbar-dark bg-dark fixed-top\">\r\n                    <a href=\"/wiggly-tails\" className=\"navbar-brand py-0\">\r\n                        <img src={wiggy_tails_icon} alt=\"\" className=\"mr-2\" />Veterinary Clinic\r\n                    </a>\r\n\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                    data-target=\"#main-navbar\" aria-controls=\"main-navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"main-navbar\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {\r\n                                this.state.navs.map(nav =>\r\n                                    nav.items.length > 0 ?\r\n                                    <li key={nav.id} className=\"nav-item dropdown mr-1\">\r\n                                        <a className={\"dropdown-toggle \" + this.linkItemClasses(nav.id)} id={\"dropdown\" + nav.id}\r\n                                        href=\"/\" data-toggle=\"dropdown\">{nav.text}</a>\r\n                                        <div className=\"dropdown-menu\" aria-labelledby={\"dropdown\" + nav.id}>\r\n                                            {\r\n                                                nav.items.map(item =>\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    href={item.link} onClick={() => switchActiveId(item.id)}>{item.text}</a>\r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </li> :\r\n                                    <li key={nav.id} className=\"nav-item mr-1\">\r\n                                        {\r\n                                            nav.id === 10 ?\r\n                                            <a className={this.linkItemClasses(nav.id)}\r\n                                            data-toggle=\"modal\" data-target=\"#registrationModal\">\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            <a href={nav.link} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a>\r\n                                        }\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    linkItemClasses = id => {\r\n        const { activeId, sourceId } = this.props;\r\n\r\n        let classes = \"nav-link \";\r\n        classes+= id === activeId ? \"active\" :\r\n        id === sourceId ? \"active\" : \r\n        id === 10 ?  \"text-warning\" : \"inactive\"\r\n        return classes;\r\n    }\r\n\r\n    dropdownItemClasses = id => {\r\n        const { activeId } = this.props;\r\n\r\n        let classes = \"dropdown-item text-dark \"\r\n        classes+= id === activeId ? \"active-dropdown\" : \"inactive-dropdown\"\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default Navbar;","export default \"data:image/png;base64,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\"","import React, { Component } from 'react';\r\n\r\nimport noImage from '../../img/no-image.png';\r\n// import consultation from '../../img/employees.jpg';\r\n// import treatmentVaccination from '../../img/treatment-vaccination.jpg';\r\n// import confinement from '../../img/confinement.jpg';\r\n// import grooming from '../../img/grooming.jpg';\r\n\r\nclass IndexCarousel extends Component {\r\n    state = {  }\r\n    render() { \r\n        return (\r\n            <React.Fragment>\r\n                <div id=\"index-carousel\" className=\"carousel slide\" data-ride='carousel'>\r\n                    <ul className=\"carousel-indicators\">\r\n                        <li data-target=\"#index-carousel\" data-slide-to='0' className=\"active\"></li>\r\n                        <li data-target=\"#index-carousel\" data-slide-to='1'></li>\r\n                        <li data-target=\"#index-carousel\" data-slide-to='2'></li>\r\n                        <li data-target=\"#index-carousel\" data-slide-to='3'></li>\r\n                    </ul>\r\n                    \r\n                    <div className=\"carousel-inner\">\r\n                        <div className=\"carousel-item bg-dark active\">\r\n                            <img className=\"d-block w-100\" src={noImage} alt=\"consultation\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-45\">\r\n                                <h5>Consultation</h5>\r\n                                <p>Please suggest a Caption</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img className=\"d-block w-100\" src={noImage} alt=\"treatment_vaccination\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-45\">\r\n                                <h5>Treatment and Vaccination</h5>\r\n                                <p>Please suggest a Caption</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img className=\"d-block w-100\" src={noImage} alt=\"confinement\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-45\">\r\n                                <h5>Confinement</h5>\r\n                                <p>Please suggest a Caption</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img className=\"d-block w-100\" src={noImage} alt=\"grooming\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-45\">\r\n                                <h5>Grooming</h5>\r\n                                <p>Please suggest a Caption</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <a className=\"carousel-control-prev\" href=\"#index-carousel\" role=\"button\" data-slide=\"prev\">\r\n                        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Previous</span>\r\n                    </a>\r\n                    <a className=\"carousel-control-next\" href=\"#index-carousel\" role=\"button\" data-slide=\"next\">\r\n                        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Next</span>\r\n                    </a>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default IndexCarousel;","import React, { Component } from 'react';\r\n\r\nclass CustomerLoginForm extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        errors:\r\n        {\r\n            emailAddress: 'Please input your Email Address',\r\n            userPassword: 'Please input your Password'\r\n        },\r\n        submitError: false,\r\n        loginError: false\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"emailAddress\") {\r\n            value = this.removeSpaces(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'emailAddress':\r\n                errors.emailAddress=  value.length === 0 ? \"Please input your Email Address\" : \"\"\r\n                break;\r\n            \r\n            case 'userPassword':\r\n                errors.userPassword= value.length === 0 ? \"Please input your Password\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const { records } = this.props;\r\n        const errors  = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n\r\n        if(this.validForm({ errors })) {\r\n            let submitError = false;\r\n            let loginError = false;\r\n\r\n            this.setState({ submitError, loginError });\r\n\r\n            const result = records.filter(row => \r\n                (row.emailAddress + row.email).toLowerCase() === (record.emailAddress + record.email).toLowerCase() &&\r\n                row.userPassword === record.userPassword\r\n            )\r\n\r\n            if(result.length > 0) {\r\n                const { history } = this.props;\r\n                history.replace('/wiggly-tails/customer', {verified: true, id: result[0].id});\r\n            }\r\n            else {\r\n                submitError = true;\r\n                loginError = true;\r\n                record.userPassword = '';\r\n                errors.userPassword = 'Please input your Password';\r\n            }\r\n\r\n            this.setState({ record, errors, submitError, loginError });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0) {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderLoginError = () => {\r\n        if(this.state.loginError) {\r\n            return(\r\n                <div className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                    <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                    <span className=\"lh-0 my-1\">Incorrect Email Address or Password</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    onReset = e => {\r\n        e.preventDefault();\r\n        const record = {...this.state.record};\r\n        record.emailAddress = '';\r\n        record.email = '@yahoo.com';\r\n        record.userPassword = '';\r\n\r\n        const errors = {...this.state.errors};\r\n        errors.emailAddress = 'Please input your Email Address';\r\n        errors.userPassword = 'Please input your Password';\r\n\r\n        const submitError = false;\r\n        const loginError = false;\r\n\r\n        this.setState({ record, errors, submitError, loginError });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors } = this.state;\r\n        return (\r\n            this.props.connected ?\r\n            <form className=\"form-light p-5 mt-4\" noValidate\r\n            onSubmit={this.onSubmit} onReset={this.onReset}>\r\n                <h2 className=\"font-weight-normal text-center\">Customer Login</h2>\r\n                <h5 className=\"font-weight-light text-center mb-4\">\r\n                    Please input your credentials.\r\n                </h5> { this.renderLoginError() }\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Email Address</label>\r\n                    <div className=\"input-group d-block d-sm-flex px-0\">\r\n                        <input className={\"w-sm-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                        <div className=\"input-group-append justify-content-end\">\r\n                            <span className=\"input-group-text\">@</span>\r\n                            <select className=\"input-group-text form-control\"\r\n                            name=\"email\" value={record.email}\r\n                            onChange={this.onChangeRecord} noValidate>\r\n                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                <option value=\"@outlook.com\">outlook.com</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    { this.renderRecordErrors(errors.emailAddress) }\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Password</label>\r\n                    <input className={this.inputFieldClasses(errors.userPassword)}\r\n                        type=\"password\" name=\"userPassword\" value={record.userPassword}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    { this.renderRecordErrors(errors.userPassword) }\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-between align-items-center mt-4\">\r\n                    <button type=\"submit\" className=\"btn btn-primary w-49\">\r\n                        <i className=\"fa fa-sign-in-alt\"></i>\r\n                        <span className=\"ml-1\">Login</span>\r\n                    </button>\r\n                    <button type=\"reset\" className=\"btn btn-danger w-49\">\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                </div>\r\n            </form> :\r\n            this.props.connectionFailed ?\r\n            <div className=\"text-center\">\r\n                <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                onClick={this.props.getData}>Retry</button>\r\n            </div> :\r\n            <React.Fragment>\r\n                <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 && this.state.submitError ? \"border border-danger\" : \"\"\r\n        return classes;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default CustomerLoginForm;","import React, { Component } from 'react';\r\n\r\nclass EmployeeLoginForm extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            empLastName: '',\r\n            empPassword: ''\r\n        },\r\n        errors:\r\n        {\r\n            id: 'Please input your Id',\r\n            empLastName: 'Please input your Last Name',\r\n            empPassword: 'Please input your Password'\r\n        },\r\n        submitError: false,\r\n        loginError: false\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if (name === \"id\") {\r\n            value = value.toUpperCase();\r\n        }\r\n\r\n        if (name === \"empLastName\") {\r\n            value = this.toAbsProperCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = { ...this.state.errors };\r\n\r\n        switch (name) {\r\n            case 'id':\r\n                errors.id = value.length === 0 ? \"Please input your Id\" :\r\n                    value.length !== 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empLastName':\r\n                errors.empLastName = value.length === 0 ? \"Please input your Last Name\" :\r\n                    value.length < 2 || value.length > 24 ?\r\n                        \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empPassword':\r\n                errors.empPassword = value.length === 0 ? \"Please input your Password\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const { records } = this.props;\r\n        const errors = { ...this.state.errors };\r\n        const record = { ...this.state.record };\r\n\r\n        if (this.validForm({ errors })) {\r\n            let submitError = false;\r\n            let loginError = false;\r\n\r\n            const result = records.filter(row =>\r\n                row.id === record.id &&\r\n                row.empLastName === record.empLastName &&\r\n                row.empPassword === record.empPassword\r\n            )\r\n\r\n            if (result.length > 0) {\r\n                const { history } = this.props;\r\n                history.replace('/wiggly-tails/admin', { verified: true });\r\n            }\r\n            else {\r\n                submitError = true;\r\n                loginError = true;\r\n                record.empPassword = '';\r\n                errors.empPassword = 'Please input your Password';\r\n            }\r\n\r\n            this.setState({ record, errors, submitError, loginError });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n\r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if (this.state.submitError) {\r\n            if (errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return (\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    renderLoginError = () => {\r\n        if (this.state.loginError) {\r\n            return (\r\n                <div className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                    <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                    <span className=\"lh-0 my-1\">Incorrect Id, Last Name or Password</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    onReset = e => {\r\n        e.preventDefault();\r\n        const record = { ...this.state.record };\r\n        record.id = '';\r\n        record.empLastName = '';\r\n        record.empPassword = '';\r\n\r\n        const errors = { ...this.state.errors };\r\n        errors.id = 'Please input your Id';\r\n        errors.empLastName = 'Please input your Last Name';\r\n        errors.empPassword = 'Please input your Password';\r\n\r\n        const submitError = false;\r\n        const loginError = false;\r\n\r\n        this.setState({ record, errors, submitError, loginError });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors } = this.state;\r\n        return (\r\n            this.props.connected ?\r\n            <form className=\"form-light p-5 mt-4\" noValidate\r\n                onSubmit={this.onSubmit} onReset={this.onReset}>\r\n                <h2 className=\"font-weight-normal text-center\">Employee Login</h2>\r\n                <h5 className=\"font-weight-light text-center mb-4\">\r\n                    Please input your credentials.\r\n                </h5> { this.renderLoginError()}\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Id</label>\r\n                    <input className={this.inputFieldClasses(errors.id)}\r\n                        type=\"text\" name=\"id\" value={record.id} maxLength=\"6\"\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    {this.renderRecordErrors(errors.id)}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Last Name</label>\r\n                    <input className={this.inputFieldClasses(errors.empLastName)}\r\n                        type=\"text\" name=\"empLastName\" value={record.empLastName}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    {this.renderRecordErrors(errors.empLastName)}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Password</label>\r\n                    <input className={this.inputFieldClasses(errors.empPassword)}\r\n                        type=\"password\" name=\"empPassword\" value={record.empPassword}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    {this.renderRecordErrors(errors.empPassword)}\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-between align-items-center mt-4\">\r\n                    <button type=\"submit\" className=\"btn btn-primary w-49\">\r\n                        <i className=\"fa fa-sign-in-alt\"></i>\r\n                        <span className=\"ml-1\">Login</span>\r\n                    </button>\r\n                    <button type=\"reset\" className=\"btn btn-danger w-49\">\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                </div>\r\n            </form> :\r\n            this.props.connectionFailed ?\r\n            <div className=\"text-center\">\r\n                <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                onClick={this.props.getData}>Retry</button>\r\n            </div> :\r\n            <React.Fragment>\r\n                <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes += errorMsg.length > 0 && this.state.submitError ? \"border border-danger\" : \"\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for (var i = 0; i < value.length; i++) {\r\n            if (value.charAt(i) === \" \") {\r\n                if (i !== 0 && value.charAt(i - 1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if (i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }\r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n\r\nexport default EmployeeLoginForm;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass RegistrationModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: '',\r\n            pet:\r\n            {\r\n                petName: '',\r\n                birthdate: '',\r\n                petClass: '',\r\n                lastVisit: '',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: ' ',\r\n            firstName: ' ',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: ' ',\r\n                subdivision: ' ',\r\n                barangay: ' ',\r\n                municipality: ' ',\r\n                province: ''\r\n            },\r\n            birthdate: ' ',\r\n            mobileNumber: ' ',\r\n            emailAddress: ' ',\r\n            userPassword: ' ',\r\n            confirmUserPassword: ' ',\r\n            petErrors:\r\n            {\r\n                petName: ' ',\r\n                birthdate: ' ',\r\n                petClass: ' ',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        petClasses:\r\n        [ 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Iguana', 'Jaguar', 'Lizard', 'Mantis', 'Monkey', 'Newt', 'Octopus', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake','Spider', 'Tortoise', 'Turtle', 'Whale'],\r\n        submitError: false,\r\n        submitted: false,\r\n        registered: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    record.emailAddress.length === 0 ? \" \" :\r\n                                    record.emailAddress.length < 8 || record.emailAddress.length > 24 ?\r\n                                    \"Must be at between 8 and 24 characters\" :\r\n                                    !this.isValidEmail(record.emailAddress) ?\r\n                                    \"Please input a valid value\" :\r\n                                    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record } = this.state;\r\n        const { customers } = this.props;\r\n\r\n        const result = customers.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() ===\r\n            (record.emailAddress + record.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n\r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  properLength === 0 ? \" \" :\r\n                                                properLength < 2  || value.length > 24 ?\r\n                                                \"Subdivision must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangePet = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                pet: {\r\n                    ...currentState.record.pet,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckPetErrors(e))\r\n    }\r\n\r\n    onCheckPetErrors = e => {\r\n        const { name, value } = e.target;\r\n        const petErrors = {...this.state.errors.petErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                petErrors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                petErrors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                petErrors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                petErrors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                petErrors\r\n            }\r\n        }), () => console.log(this.state))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { getData } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n            record.pet.petName = this.removeLastSpace(record.pet.petName);\r\n\r\n            // record.homeAddress.street += \" St.\";\r\n            // record.homeAddress.barangay = \"Brgy. \" + record.homeAddress.barangay;\r\n            // record.homeAddress.municipality += \" City\";\r\n\r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            this.props.onRegister();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertCustomerPet.php', record)\r\n            .then(() => {\r\n                getData();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                getData();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let registered = true;\r\n        this.setState({ submitted, registered });\r\n        setTimeout(() => {\r\n            registered = false;\r\n            this.setState({ registered });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0  && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n        const pet = {...this.state.record.pet};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const petErrors = {...this.state.errors.petErrors};\r\n\r\n        const confirmUserPassword = '';\r\n        const submitError = false;\r\n        const registered = false;\r\n        const failed = false;\r\n\r\n        homeAddress.lotBlock = '';\r\n        homeAddress.street = '';\r\n        homeAddress.subdivision = '';\r\n        homeAddress.barangay = '';\r\n        homeAddress.municipality = '';\r\n        homeAddress.province = '';\r\n        \r\n        pet.petName = '';\r\n        pet.birthdate = '';\r\n        pet.petClass = '';\r\n        pet.pcciRegNo = '';\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.lastName = '';\r\n        record.firstName = '';\r\n        record.middleName = ''\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = '';\r\n        record.mobileNumber = '';\r\n        record.emailAddress = '';\r\n        record.email = '@yahoo.com';\r\n        record.userPassword = '';\r\n        record.pet = pet;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = ' ';\r\n        homeAddressErrors.subdivision = ' ';\r\n        homeAddressErrors.barangay = ' ';\r\n        homeAddressErrors.municipality = ' ';\r\n        homeAddressErrors.province = '';\r\n\r\n        petErrors.petName = ' ';\r\n        petErrors.birthdate = ' ';\r\n        petErrors.petClass = ' ';\r\n\r\n        errors.lastName = ' ';\r\n        errors.firstName = ' ';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ' ';\r\n        errors.mobileNumber = ' ';\r\n        errors.emailAddress = ' ';\r\n        errors.userPassword = ' ';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, submitError, registered, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, petClasses, submitted, registered, failed } = this.state;\r\n        const { homeAddress, pet } = record;\r\n        const { homeAddressErrors, petErrors } = errors;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"registrationModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"registrationModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"registrationModalTitle\">Register</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Registering an account...</span>\r\n                                    </div> :\r\n                                    registered ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Account was successfully registered.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>Generate</button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"lastName\"\r\n                                            value={record.lastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.lastName)}\r\n                                            type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"firstName\"\r\n                                            value={record.firstName} onChange={this.onChangeRecord} noValidate disabled /> : \r\n                                            <input className={this.inputFieldClasses(errors.firstName)}\r\n                                            type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"middleName\"\r\n                                            value={record.middleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.middleName)}\r\n                                            type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"lotBlock\"\r\n                                                    value={homeAddress.lotBlock} placeholder=\"Lot/Block (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                    type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"street\"\r\n                                                    value={homeAddress.street} placeholder=\"Street\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                    type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Street\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"subdivision\"\r\n                                                    value={homeAddress.subdivision} placeholder=\"Subdivision\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                    type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Subdivision\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"barangay\"\r\n                                                    value={homeAddress.barangay} placeholder=\"Barangay\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                    type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Barangay\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"municipality\"\r\n                                                    value={homeAddress.municipality} placeholder=\"Municipality\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                    type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Municipality\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"province\"\r\n                                                    value={homeAddress.province} placeholder=\"Province (Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                    type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Province (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate}  noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"tel\" maxLength=\"10\"\r\n                                                name=\"mobileNumber\" value={record.mobileNumber} onChange={this.onChangeRecord}\r\n                                                noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                                type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <input className=\"w-sm-100 form-control\" type=\"text\"\r\n                                                        name=\"emailAddress\" value={record.emailAddress} noValidate disabled /> :\r\n                                                        <input className={\"w-sm-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    }\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        {\r\n                                                            submitted ?\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email} noValidate disabled>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select> :\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email}\r\n                                                            onChange={this.onChangeRecord} noValidate>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.getData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"userPassword\"\r\n                                            value={record.userPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.userPassword)}\r\n                                            type=\"password\" name=\"userPassword\" value={record.userPassword}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmUserPassword\"\r\n                                            value={confirmUserPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                            type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                                        <div className=\"row mt-3\">\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Name <span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                                    value={pet.petName} noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.petName)}\r\n                                                    type=\"text\" name=\"petName\" value={pet.petName}\r\n                                                    onChange={this.onChangePet} noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.petName) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                                    value={pet.birthdate} noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.birthdate)}\r\n                                                    type=\"date\" name=\"birthdate\" value={pet.birthdate}\r\n                                                    onChange={this.onChangePet} noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.birthdate) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <select className=\"form-control\" name=\"petClass\"\r\n                                                    value={pet.petClass} noValidate disabled >\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            petClasses.length > 0 ?\r\n                                                            petClasses.map(value =>\r\n                                                                <option key={value} value={value}>{value}</option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select> :\r\n                                                    <select className={this.inputFieldClasses(petErrors.petClass)}\r\n                                                    name=\"petClass\" value={pet.petClass} onChange={this.onChangePet}\r\n                                                    noValidate>\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            petClasses.length > 0 ?\r\n                                                            petClasses.map(value =>\r\n                                                                <option key={value} value={value}>{value}</option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.petClass) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                                    value={pet.pcciRegNo} maxLength=\"6\" placeholder=\"(Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.pcciRegNo)}\r\n                                                    type=\"text\" name=\"pcciRegNo\" value={pet.pcciRegNo}\r\n                                                    onChange={this.onChangePet} maxLength=\"6\"\r\n                                                    placeholder=\"(Optional)\" noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.pcciRegNo) }\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Registering an account...</span>\r\n                                    </div> :\r\n                                    registered ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Account was successfully registered.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        this.props.connected && !submitted ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n \r\nexport default RegistrationModal;","import React, { Component } from 'react';\r\n\r\nclass Footer extends Component {\r\n    state = {  }\r\n    render() { \r\n        return (\r\n            <div className=\"bg-dark text-light w-100 fixed-bottom\">\r\n                <p className=\"m-0 p-0 text-right small my-1 mr-3\">Copyright &copy; 2020</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Footer;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport Navbar from './Navbar.js';\r\nimport IndexCarousel from './IndexCarousel.js';\r\nimport CustomerLoginForm from './Forms/CustomerLoginForm.js';\r\nimport EmployeeLoginForm from './Forms/EmployeeLoginForm.js';\r\nimport RegistrationModal from './Forms/RegistrationModal.js';\r\nimport Footer from '../Footer.js';\r\n\r\nclass EmployeeLogin extends Component {\r\n    state = {\r\n        activeId: 2,\r\n        customers: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false,\r\n        employees: [],\r\n        employeeConnected: false,\r\n        employeeConnectionFailed: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.getCustomersData();\r\n        this.getEmployeesData();\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        this.onRegister();\r\n    }\r\n\r\n    retryEmployeesData = () => {\r\n        this.getEmployeesData();\r\n        const employeeConnected = false;\r\n        const employeeConnectionFailed = false;\r\n        this.setState({ employeeConnected, employeeConnectionFailed })\r\n    }\r\n\r\n    onRegister = () => {\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    switchActiveId = id => {\r\n        const activeId = id;\r\n        this.setState({ activeId });\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <React.Fragment>\r\n                <Navbar activeId={this.state.activeId} sourceId={1} switchActiveId={this.switchActiveId}/>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"h-full row bg-warning justify-content-center text-dark\">\r\n                        <div className=\"col-lg-7 d-lg-inline d-none align-self-center\">\r\n                            <IndexCarousel />\r\n                        </div>\r\n                        <div className=\"col-lg-5 bg-light\">\r\n                            <div className=\"row h-full justify-content-center align-items-center\">\r\n                                <div className=\"col-sm-10 col-md-8 col-lg-12\">\r\n                                    {\r\n                                        this.state.activeId === 2 ?\r\n                                        <CustomerLoginForm history={this.props.history}\r\n                                        records={ this.state.customers }\r\n                                        connected={this.state.customerConnected}\r\n                                        connectionFailed={this.state.customerConnectionFailed}\r\n                                        getData={this.retryCustomersData} /> :\r\n                                        <EmployeeLoginForm history={this.props.history} \r\n                                        records={ this.state.employees }\r\n                                        connected={this.state.employeeConnected}\r\n                                        connectionFailed={this.state.employeeConnectionFailed}\r\n                                        getData={this.retryEmployeesData} />\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <RegistrationModal\r\n                customers={this.state.customers} onRegister={this.onRegister} getData={this.retryCustomersData}\r\n                connected={this.state.customerConnected} connectionFailed={this.state.customerConnectionFailed} />\r\n                <Footer />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const customerConnected = true;\r\n            this.setState({ customers, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed })\r\n        });\r\n    }\r\n\r\n    getEmployeesData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n            .then(res => {\r\n                const employees = res.data;\r\n                const employeeConnected = true;\r\n                this.setState({ employees, employeeConnected });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                const employeeConnectionFailed = true;\r\n                this.setState({ employeeConnectionFailed })\r\n            });\r\n    }\r\n}\r\n \r\nexport default EmployeeLogin;","import React, { Component } from 'react';\r\nimport wiggy_tails_icon from '../../img/wiggly-tails-icon.png';\r\n\r\nclass CustomerNavbar extends Component {\r\n    state = {\r\n        navs:\r\n        [\r\n            {\r\n                id: 0,\r\n                text: \"Account\",\r\n                link: \"/wiggly-tails/customer\",\r\n                items: []\r\n            },\r\n            {\r\n                id: 1,\r\n                text: \"Transactions\",\r\n                link: \"/wiggly-tails/customer/view-transactions\",\r\n                items: [],\r\n            },\r\n            {\r\n                id: 2,\r\n                text: \"Pets\",\r\n                link: \"/wiggly-tails/customer/manage-pets\",\r\n                items: [],\r\n            },\r\n            {\r\n                id: 3,\r\n                text: \"About us\",\r\n                link: \"/wiggly-tails/customer/about-us\",\r\n                items: [],\r\n            },\r\n            {\r\n                id: 10,\r\n                text: \"Sign out\",\r\n                link: \"/wiggly-tails\",\r\n                items: []\r\n            }\r\n        ]\r\n    }\r\n\r\n    onClickLink = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link, {verified: true, id: history.location.state.id});\r\n    }\r\n\r\n    onClickBrand = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails/customer\";\r\n        history.replace(link, {verified: true, id: history.location.state.id});\r\n    }\r\n\r\n    onClickSignOut = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link);\r\n    }\r\n\r\n\r\n    render() { \r\n        return (\r\n            <React.Fragment>\r\n                <nav className=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\r\n                    <a onClick={this.onClickBrand} className=\"navbar-brand py-0\">\r\n                        <img src={wiggy_tails_icon} alt=\"\" className=\"mr-2\" />Veterinary Clinic\r\n                    </a>\r\n\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                    data-target=\"#customer-navbar\" aria-controls=\"customer-navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"customer-navbar\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {\r\n                                this.state.navs.map(nav =>\r\n                                    nav.items.length > 0 ?\r\n                                    <li key={nav.id} className=\"nav-item dropdown mr-1\">\r\n                                        <a className={\"dropdown-toggle \" + this.linkItemClasses(nav.id)} id={\"dropdown\" + nav.id}\r\n                                        href={nav.link} data-toggle=\"dropdown\">{nav.text}</a>\r\n                                        <div className=\"dropdown-menu\" aria-labelledby={\"dropdown\" + nav.id}>\r\n                                            {\r\n                                                nav.items.map(item =>\r\n                                                    item.id === 7 ?\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    data-toggle=\"modal\" data-target=\"#manageEmployeesModal\">\r\n                                                        {item.text}</a> :\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    onClick={() => this.onClickLink(item)}>{item.text}</a>\r\n                                                    \r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </li> :\r\n                                    <li key={nav.id} className=\"nav-item mr-1\">\r\n                                        {\r\n                                            nav.id === 10 ?\r\n                                            <a onClick={() => this.onClickSignOut(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            <a onClick={() => this.onClickLink(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a>\r\n                                        }\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    linkItemClasses = id => {\r\n        const { activeId, sourceId } = this.props;\r\n\r\n        let classes = \"nav-link \";\r\n        classes+= id === activeId ? \"active\" :\r\n        id === sourceId ? \"active\" : \r\n        id === 10  ? \"text-danger\" : \"inactive\"\r\n        return classes;\r\n    }\r\n\r\n    dropdownItemClasses = id => {\r\n        const { activeId } = this.props;\r\n\r\n        let classes = \"dropdown-item \"\r\n        classes+= id === 7 ? \"text-danger \" : \"text-dark \"\r\n        classes+= id === activeId ? \"active-dropdown\" : \"inactive-dropdown\"\r\n\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default CustomerNavbar;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass UpdateAccountInfoModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            userPassword: '',\r\n            confirmUserPassword: ' ',\r\n        },\r\n        passwordState:\r\n        {\r\n            inputType: 'password',\r\n            buttonText: 'Show'\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { customer } = this.props;\r\n        const record = {...this.state.record};\r\n        record.id = customer.id;\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName;\r\n        record.homeAddress.lotBlock = customer.lotBlock;\r\n        record.homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        record.homeAddress.subdivision = customer.subdivision;\r\n        record.homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        record.homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        record.homeAddress.province = customer.province;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    record.emailAddress.length === 0 ? \" \" :\r\n                                    record.emailAddress.length < 8 || record.emailAddress.length > 24 ?\r\n                                    \"Must be at between 8 and 24 characters\" :\r\n                                    !this.isValidEmail(record.emailAddress) ?\r\n                                    \"Please input a valid value\" :\r\n                                    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record } = this.state;\r\n        const { customer, records } = this.props;\r\n\r\n        const result = records.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() ===\r\n            (record.emailAddress + record.email).toLowerCase() &&\r\n            (row.emailAddress + row.email).toLowerCase() !==\r\n            (customer.emailAddress + customer.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n    \r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  properLength === 0 ? \" \" :\r\n                                                properLength < 2  || value.length > 24 ?\r\n                                                \"Subdivision must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n            \r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            if(this.state.passwordState.inputType === \"text\") {\r\n                this.onTogglePassword()\r\n            }\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateCustomer.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.props.retryCustomersData();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const confirmUserPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmUserPassword = ' '\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ errors, confirmUserPassword, submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0 && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const { customer } = this.props;\r\n\r\n        const confirmUserPassword = '';\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { passwordState } = this.state;\r\n\r\n        passwordState.buttonText = \"Show\";\r\n        passwordState.inputType = \"password\";\r\n\r\n        homeAddress.lotBlock = customer.lotBlock;\r\n        homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        homeAddress.subdivision = customer.subdivision;\r\n        homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        homeAddress.province = customer.province;\r\n\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = '';\r\n        homeAddressErrors.subdivision = '';\r\n        homeAddressErrors.barangay = '';\r\n        homeAddressErrors.municipality = '';\r\n        homeAddressErrors.province = '';\r\n\r\n        errors.lastName = '';\r\n        errors.firstName = '';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ''\r\n        errors.mobileNumber = '';\r\n        errors.emailAddress = '';\r\n        errors.userPassword = '';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, passwordState, submitError, updated, failed });\r\n    }\r\n\r\n    onTogglePassword = () => {\r\n        const passwordState = {...this.state.passwordState};\r\n        if(passwordState.inputType === 'password') {\r\n            passwordState.inputType = 'text';\r\n            passwordState.buttonText = 'Hide';\r\n        }\r\n        else {\r\n            passwordState.inputType = 'password';\r\n            passwordState.buttonText = 'Show';\r\n        }\r\n        this.setState({ passwordState });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, passwordState, deleteState, submitted, updated, failed } = this.state;\r\n        const { homeAddress } = this.state.record;\r\n        const { homeAddressErrors } = errors;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"updateAccountInfoModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"updateAccountInfoModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"updateAccountInfoModalTitle\">View Customer</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating an Account Info...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Account Info was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"lastName\"\r\n                                            value={record.lastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.lastName)}\r\n                                            type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"firstName\"\r\n                                            value={record.firstName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.firstName)}\r\n                                            type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"middleName\"\r\n                                            value={record.middleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.middleName)}\r\n                                            type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"lotBlock\"\r\n                                                    value={homeAddress.lotBlock} placeholder=\"Lot/Block (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                    type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"street\"\r\n                                                    value={homeAddress.street} placeholder=\"Street\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                    type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Street\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"subdivision\"\r\n                                                    value={homeAddress.subdivision} placeholder=\"Subdivision\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                    type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Subdivision\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"barangay\"\r\n                                                    value={homeAddress.barangay} placeholder=\"Barangay\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                    type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Barangay\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"municipality\"\r\n                                                    value={homeAddress.municipality} placeholder=\"Municipality\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                    type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Municipality\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"province\"\r\n                                                    value={homeAddress.province} placeholder=\"Province (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                    type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Province (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"tel\" maxLength=\"10\" name=\"mobileNumber\"\r\n                                                value={record.mobileNumber} noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                                type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <input className=\"w-sm-100 form-control\" type=\"text\" name=\"emailAddress\"\r\n                                                        value={record.emailAddress} noValidate disabled /> :\r\n                                                        <input className={\"w-sm-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    }\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        {\r\n                                                            submitted ?\r\n                                                            <select className=\"input-group-text form-control\" name=\"email\"\r\n                                                            value={record.email} noValidate disabled>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select> :\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email}\r\n                                                            onChange={this.onChangeRecord} noValidate>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"zi-10 form-control\" type={passwordState.inputType} name=\"userPassword\"\r\n                                                value={record.userPassword} noValidate disabled /> :\r\n                                                <React.Fragment>\r\n                                                    <input className={\"zi-10 \" + this.inputFieldClasses(errors.userPassword)}\r\n                                                    type={passwordState.inputType} name=\"userPassword\" value={record.userPassword}\r\n                                                    onChange={this.onChangeRecord} noValidate />\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onTogglePassword}>\r\n                                                            {passwordState.buttonText}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </React.Fragment>\r\n\r\n                                            }\r\n                                        </div> { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmUserPassword\"\r\n                                            value={confirmUserPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                            type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating an Account Info...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Account Info was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            this.props.connected && !this.state.submitted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onReset}>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n            </React.Fragment> : null\r\n        )\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n \r\nexport default UpdateAccountInfoModal;","import React, { Component } from 'react';\r\n\r\nclass Forbidden extends Component {\r\n    state = {  }\r\n\r\n    onBackToLogin = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row min-h-full justify-content-center align-items-center\">\r\n                    <div className=\"col-10 col-md-8 col-lg-6 form-light\">\r\n                        <div className=\"alert alert-warning text-warning text-center my-3 mx-1 py-4\">\r\n                            <div className=\"d-flex justify-content-center align-items-center\">\r\n                                <i className=\"fa fa-exclamation fa-lg\"></i>\r\n                                <span className=\"ml-2\">\r\n                                    <h2 className=\"font-weight-normal\">Forbidden Access</h2>\r\n                                </span>\r\n                            </div>\r\n                            <h5 className=\"font-weight-light\">\r\n                                Please login your Customer account first.\r\n                            </h5>\r\n                        </div>\r\n                        <div className=\"text-center mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                onClick={this.onBackToLogin}>\r\n                                Back to Login\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Forbidden;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from './CustomerNavbar.js';\r\nimport UpdateAccountInfoModal from './UpdateAccountInfoModal.js';\r\nimport Footer from '../Footer.js';\r\nimport Forbidden from './Forbidden.js';\r\n\r\nclass Customer extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            lotBlock: '',\r\n            street: '',\r\n            subdivision: '',\r\n            barangay: '',\r\n            municipality: '',\r\n            province: '',\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        connected: false,\r\n        connectionFailed: false,\r\n        records: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        const { history } = this.props;\r\n        const { id } = history.location.state;\r\n        this.searchData(id);\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onClickLink = link => {\r\n        const { history } = this.props;\r\n        history.replace(link, {verified: true, id: history.location.state.id});\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { record } = this.state;\r\n        try {\r\n            this.onRefresh();\r\n            this.getCustomersData();\r\n        }\r\n        catch(error) { record.id = ''; }\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        const { record, connected, connectionFailed } = this.state;\r\n        return(\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={0} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row min-h-full justify-content-center align-items-center pt-5 pt-md-3 pt-xl-0\">\r\n                        <div className=\"col-11 col-sm-10 col-md-8 col-lg-6 form-light my-5\">\r\n                            <div className=\"row mx-2 mt-4\">\r\n                                {\r\n                                    connected ?\r\n                                    <React.Fragment>\r\n                                        <div className=\"col-4 col-sm-3 d-flex justify-content-center align-items-center p-0\">\r\n                                            <div className=\"square-100px bg-warning\r\n                                            d-flex justify-content-center align-items-center\">\r\n                                                <h4 className=\"m-0\">{record.id}</h4>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-8 col-sm-9 py-3 pr-1\">\r\n                                            <h2 className=\"mb-0\">{record.lastName}</h2>\r\n                                            <h5 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {record.firstName + \" \" + record.middleName}</h5>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 py-3 pl-md-5 pr-1\">\r\n                                            <h5 className=\"font-weight-normal mb-1\">Home Address</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {\r\n                                                    record.lotBlock + \" \" + record.street + \", \" + record.subdivision + \", \" +\r\n                                                    record.barangay + \", \" + record.municipality + \", \" + record.province \r\n                                                }\r\n                                            </h6>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 py-3 pl-md-5 pr-1\">\r\n                                            <h5 className=\"font-weight-normal mb-1\">Birthdate</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {this.formatDate(record.birthdate)}\r\n                                            </h6>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 col-md-5 col-lg-6 col-xl-5 py-3 pl-md-5 pr-1\">\r\n                                            <h5 className=\"font-weight-normal mb-1\">Mobile Number</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {record.mobileNumber}\r\n                                            </h6>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 col-md-7 col-lg-6 col-xl-7 py-3 pr-1\">\r\n                                            <h5 className=\"font-weight-normal mb-1\">Email Address</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {record.emailAddress  + \"\" + record.email}\r\n                                            </h6>\r\n                                        </div>\r\n                                    </React.Fragment> :\r\n                                    connectionFailed ?\r\n                                    <div className=\"col-12 text-center mt-3\">\r\n                                        <h3 className=\"text-danger mb-0\">Database Connection Failed</h3>\r\n                                        <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h5>\r\n                                        <button type=\"button\" className=\"btn btn-primary\" onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <div className=\"col-12 text-center mt-3\">\r\n                                        <h3 className=\"mb-0\">Loading Data</h3>\r\n                                        <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                                    </div>\r\n                                }\r\n\r\n                                <div className=\"d-flex justify-content-end w-100 my-3\">\r\n                                    <button className=\"btn btn-warning w-auto mr-1\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/customer/view-transactions\")}>\r\n                                            <i className=\"fa fa-exchange-alt\"></i>\r\n                                            <span className=\"d-none d-sm-inline ml-1\">Transactions</span>\r\n                                        </button>\r\n                                    <button className=\"btn btn-secondary w-auto mr-1\"\r\n                                    onClick={() => this.onClickLink(\"/wiggly-tails/customer/manage-pets\")}>\r\n                                        <i className=\"fa fa-cat\"></i>\r\n                                        <span className=\"d-none d-sm-inline ml-1\">Pets</span>\r\n                                    </button>\r\n                                    {\r\n                                        connected ?\r\n                                        <button className=\"btn btn-primary w-auto mr-1\"\r\n                                        data-toggle=\"modal\" data-target=\"#updateAccountInfoModal\">\r\n                                            <i className=\"fa fa-user-edit fa-sm\"></i>\r\n                                            <span className=\"ml-1\">Update Info</span>\r\n                                        </button> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    record.id.length > 0 ?\r\n                    <UpdateAccountInfoModal\r\n                    customer={record}\r\n                    onRefresh={this.onRefresh}\r\n                    records={this.state.records}\r\n                    connected={this.state.customerConnected}\r\n                    connectionFailed={this.state.customerConnectionFailed}\r\n                    onSubmitForm={this.onSubmitForm}\r\n                    retryCustomersData={this.retryCustomersData} /> : null\r\n                }\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAccountInfo.php?search='+searchValue)\r\n        .then(res => {\r\n            let record = res.data;\r\n            const connected = true;\r\n            record = record[0];\r\n            this.setState({ record, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const customerConnected = true;\r\n            this.setState({ records, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed });\r\n        });\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default Customer;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            petName: '',\r\n            customerId: '',\r\n            customerLastName: '',\r\n            customerFirstName: '',\r\n            customerMiddleName: '',\r\n            customerName: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        checkUpConnected: false,\r\n        checkUpConnectionFailed: false,\r\n        groomConnected: false,\r\n        groomConnectionFailed: false,\r\n        connected: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { transaction } = this.props;\r\n        if(transaction.transType === 'C') {\r\n            this.getCheckUpData(transaction.id);\r\n        }\r\n        else if(transaction.transType === 'G') {\r\n            this.getGroomData(transaction.id);\r\n        }\r\n\r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n\r\n        record.id = transaction.id;\r\n        record.transType = transaction.transType;\r\n        record.transDate = transaction.transDate;\r\n        record.petId = transaction.petId;\r\n        record.petName = transaction.petName;\r\n        record.customerId = transaction.customerId;\r\n        record.customerLastName = transaction.lastName;\r\n        record.customerFirstName = transaction.firstName;\r\n        record.customerMiddleName = transaction.middleName;\r\n        record.customerName = transaction.lastName + \", \" + transaction.firstName + \" \" + transaction.middleName;\r\n        record.petWeight = transaction.petWeight;\r\n        record.remarks = transaction.remarks;\r\n        record.empId = transaction.empId;\r\n        record.empLastName = transaction.empLastName;\r\n        record.empFirstName = transaction.empFirstName;\r\n        record.empMiddleName = transaction.empMiddleName;\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record } = this.state;\r\n        const { transaction } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewTransactionModal-\" + transaction.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewTransactionModalTitle-\" + transaction.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewTransactionModalTitle-\" + transaction.id}>\r\n                                    View Transaction\r\n                                </h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Transaction Date</label>\r\n                                        <input className=\"form-control\"\r\n                                        type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                        noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Transaction Type</label>\r\n                                        <input className=\"zi-10 form-control\"\r\n                                            name=\"transType\"\r\n                                            value={ record.transType === 'C' ? \"Check-up\" : \"Groom\" }\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Employee Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"zi-10 form-control\"\r\n                                            name=\"empId\" value={record.empId + \" | \" +\r\n                                            record.empLastName + \", \" + record.empFirstName + \" \" +\r\n                                            record.empMiddleName}\r\n                                            noValidate disabled />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Customer Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"zi-10 form-control\"\r\n                                                name=\"customerId\" value={record.customerId + \" | \" +\r\n                                                record.customerLastName + \", \" + record.customerFirstName + \" \" +\r\n                                                record.customerMiddleName}\r\n                                                noValidate disabled />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Pet Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"zi-10 form-control\"\r\n                                                    name=\"petId\" value={record.petId + \" | \" + record.petName}\r\n                                                    noValidate disabled />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Pet Weight</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control\"\r\n                                            type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                            noValidate disabled />\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">Remarks</label>\r\n                                        <textarea className=\"form-control\"\r\n                                        type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                        onChange={this.onChangeRecord} rows=\"2\" noValidate disabled />\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        record.transType === 'C' ? this.state.connected ?\r\n                                        <button className=\"btn btn-success w-auto mr-1\" data-dismiss=\"modal\"\r\n                                        onClick={() => this.onViewAdmission(\"/wiggly-tails/customer/view-admission\")}>\r\n                                            <i className=\"fa fa-hand-holding-medical fa-sm\"></i>\r\n                                            <span className=\"ml-1\">Admissions</span>\r\n                                        </button> :\r\n                                        <button className=\"btn btn-success w-auto mr-1\" disabled>\r\n                                            <i className=\"fa fa-hand-holding-medical fa-sm\"></i>\r\n                                            <span className=\"ml-1\">Admissions</span>\r\n                                        </button> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    onViewAdmission = link => {\r\n        const { record } = this.state;\r\n        const { history } = this.props;\r\n        history.push(link, {\r\n            ...history.location.state,\r\n            transId: record.id,\r\n            petName: record.petName,\r\n            transDate: record.transDate\r\n        });\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { checkUp } = this.state.record;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.checkUpConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Findings</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Treatment</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Admission Date</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Released Date</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate} \r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">Additional Information</label>\r\n                                <textarea className=\"form-control\"\r\n                                type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                                rows=\"2\" noValidate disabled />\r\n                            </div>\r\n                        </React.Fragment> :\r\n                        this.state.checkUpConnectionFailed ?\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal text-danger mb-0\">Database Connection Failed</h3>\r\n                            <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later...</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryCheckUpData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal mb-0\">Loading Data</h3>\r\n                            <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { groom } = this.state.record;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.groomConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">Activity</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"text\" name=\"activity\" value={groom.activity} noValidate disabled/>\r\n                            </div>\r\n                        </React.Fragment> :\r\n                        this.state.groomConnectionFailed ?\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal text-danger mb-0\">Database Connection Failed</h3>\r\n                            <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later...</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryGroomData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal mb-0\">Loading Data</h3>\r\n                            <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    retryCheckUpData = () => {\r\n        this.getCheckUpData();\r\n        const checkUpConnected = false;\r\n        const checkUpConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ checkUpConnected, checkUpConnectionFailed, connected })\r\n    }\r\n\r\n    getCheckUpData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionCheckUp.php?id='+id)\r\n        .then(res => {\r\n            let checkUp = res.data;\r\n            const checkUpConnected = true;\r\n            const connected = true;\r\n            checkUp = checkUp[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp\r\n                }, checkUpConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const checkUpConnectionFailed = true;\r\n            this.setState({ checkUpConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryGroomData = () => {\r\n        this.getGroomData();\r\n        const groomConnected = false;\r\n        const groomConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ groomConnected, groomConnectionFailed, connected })\r\n    }\r\n\r\n    getGroomData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionGroom.php?id='+id)\r\n        .then(res => {\r\n            let groom = res.data;\r\n            const groomConnected = true;\r\n            const connected = true;\r\n            groom = groom[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    groom\r\n                }, groomConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const groomConnectionFailed = true;\r\n            this.setState({ groomConnectionFailed });\r\n        });\r\n    }\r\n}\r\n \r\nexport default ViewTransactionModal;","import React, { Component } from 'react';\r\n\r\nclass TablePagination extends Component {\r\n    onClickPage = page => {\r\n        const recordStartIndex = this.props.recordsPerPage * (page-1);\r\n        const activePage = page;\r\n        this.props.setPage(recordStartIndex, activePage);\r\n    }\r\n\r\n    onClickPagePrev = () => {\r\n        let page = this.props.activePage;\r\n        if(page !== 1) page--;\r\n        this.onClickPage(page);\r\n    }\r\n\r\n    onClickPageNext = noOfPages => {\r\n        let page = this.props.activePage;\r\n        if(page !== noOfPages) page++;\r\n        this.onClickPage(page);\r\n    }\r\n\r\n    renderPagination = (totalRecords) => {\r\n        let pages = [];   \r\n        const noOfPages = Math.ceil(totalRecords / this.props.recordsPerPage);\r\n        const indexPage = this.props.activePage > 2 ? \r\n        this.props.activePage + 1 >= noOfPages ? \r\n        noOfPages > 5 ? noOfPages - 4 : 1 : this.props.activePage - 2 : 1\r\n        const stopPage = noOfPages <= indexPage + 4 ? noOfPages : indexPage + 4\r\n\r\n        for(var i = indexPage; i <= stopPage; i++){\r\n            const page = i;\r\n            pages.push(\r\n                <button key={page} className={this.getPageClasses(page)}\r\n                onClick={() => this.onClickPage(page)}>{page}</button>\r\n            )\r\n        }\r\n\r\n        return(\r\n            <div className=\"btn-toolbar justify-content-end mb-4\" role=\"toolbar\">\r\n                <div className=\"btn-group\" role=\"group\">\r\n                    <button className={this.getPrevPageClasses()}\r\n                    onClick={() => this.onClickPagePrev()}>\r\n                        <i className=\"fa fa-long-arrow-alt-left\"></i>\r\n                        <span className=\"d-none d-sm-inline ml-1\">Prev</span>\r\n                    </button>\r\n                    { this.renderBackPage(indexPage, 1) }\r\n                    { [pages] }\r\n                    { this.renderContinuePage(stopPage, noOfPages) }\r\n                    <button className={this.getNextPageClasses(noOfPages)}\r\n                    onClick={() => this.onClickPageNext(noOfPages)}>\r\n                        <i className=\"fa fa-long-arrow-alt-right\"></i>\r\n                        <span className=\"d-none d-sm-inline ml-1\">Next</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderBackPage = (indexPage, pageLowerLimit) => {\r\n        if(indexPage > pageLowerLimit) {\r\n            const pageNo = indexPage - 1;\r\n            return (\r\n                <button key={pageNo} className={this.getPageClasses(pageNo)}\r\n                onClick={() => this.onClickPage(pageNo)}>...</button>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderContinuePage = (stopPage, pageUpperLimit) => {\r\n        if(stopPage < pageUpperLimit) {\r\n            const pageNo = stopPage + 1;\r\n            return (\r\n                <button key={pageNo} className={this.getPageClasses(pageNo)}\r\n                onClick={() => this.onClickPage(pageNo)}>...</button>\r\n            );\r\n        }\r\n    }\r\n\r\n    getPageClasses = page => {\r\n        let classes = \"btn pagination-nav \";\r\n        classes+= page === this.props.activePage ? \"btn-outline-primary-active\" : \"btn-outline-primary\"\r\n        return classes;\r\n    }\r\n\r\n    getPrevPageClasses = () => {\r\n        let classes = \"btn \";\r\n        classes+= this.props.activePage === 1 ? \"pagination-disabled\" : \"btn-outline-primary pagination-nav\"\r\n        return classes;\r\n    }\r\n\r\n    getNextPageClasses = noOfPages => {\r\n        let classes = \"btn \";\r\n        classes+= this.props.activePage === noOfPages ? \"pagination-disabled\" : \"btn-outline-primary pagination-nav\"\r\n        return classes;\r\n    }\r\n\r\n    render() { \r\n        const { totalRecords } = this.props;\r\n        return (this.renderPagination(totalRecords));\r\n    }\r\n}\r\n \r\nexport default TablePagination;","import React, { Component } from 'react';\r\n\r\nimport ViewTransactionModal from './ViewTransactionModal.js';\r\nimport TablePagination from '../../TablePagination';\r\n\r\n\r\nclass TransactionsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (transactions) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = transactions.length <= recordStartIndex + recordsPerPage ?\r\n        transactions.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={transactions[i].id} className=\"table-row\">\r\n                    <td>{this.formatDate(transactions[i].transDate)}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].lastName + \", \" + transactions[i].firstName + \" \" + transactions[i].middleName}</td>\r\n                    <td>{transactions[i].petName}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].petWeight}</td>\r\n                    <td className=\"d-none d-md-table-cell\">\r\n                        {transactions[i].empLastName + \", \" + transactions[i].empFirstName + \" \" + transactions[i].empMiddleName}\r\n                    </td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewTransactionModal-\" + transactions[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { transactions, onRefresh, onSearch, searchValue, onClear, history, connected } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-warning mr-2 ml-auto\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Transaction Date</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Customer Name</th>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"w-110px d-none d-lg-table-cell\">Pet Weight</th>\r\n                            <th className=\"w-285px d-none d-md-table-cell\">Served by</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            transactions.length > 0 && connected ?\r\n                            this.renderItems(transactions) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    transactions.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={transactions.length} /> : null\r\n                }\r\n                {\r\n                    transactions.map(transaction => <ViewTransactionModal key={transaction.id}\r\n                    transaction={transaction} onRefresh={onRefresh} history={history} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {\r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n\r\n    formatTransType = transType => {\r\n        return transType === 'C' ? \"Check-up\" : \"Groom\"\r\n    }\r\n}\r\n \r\nexport default TransactionsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from '../CustomerNavbar.js';\r\nimport TransactionsTable from './TransactionsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ViewTransactions extends Component {\r\n    state = {\r\n        transactions: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={1} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>View Transactions</h3>\r\n                            <TransactionsTable transactions={this.state.transactions}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch} history={history}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.transactions.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAccountTransactions.php?id='+\r\n        history.location.state.id)\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            const connected = true;\r\n            this.setState({ transactions, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchAccountTransaction.php?id='+\r\n        history.location.state.id+\"&search=\"+searchValue)\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            this.setState({ transactions });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n\r\nexport default ViewTransactions;","import React, { Component } from 'react';\r\n\r\nclass ViewAdmissionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transId: '',\r\n            title: '',\r\n            content: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { admission } = this.props;\r\n        const record = {...this.state.record};\r\n\r\n        record.id = admission.id;\r\n        record.transId = admission.transId;\r\n        record.title = admission.title;\r\n        record.content = admission.content;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    render() {\r\n        const { record } = this.state;\r\n        const { admission } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewAdmissionModal-\" + admission.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewAdmissionModalTitle-\" + admission.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewAdmissionModalTitle-\" + admission.id}>\r\n                                    View Admission\r\n                                </h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"title\" value={record.title}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <textarea className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"content\" value={record.content} rows=\"7\"\r\n                                            noValidate disabled />\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default ViewAdmissionModal;","import React, { Component } from 'react';\r\n\r\nimport ViewAdmissionModal from './ViewAdmissionModal.js';\r\nimport TablePagination from '../../TablePagination';\r\n\r\nclass AdmissionTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (admission) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = admission.length <= recordStartIndex + recordsPerPage ?\r\n        admission.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={admission[i].id} className=\"table-row\">\r\n                    <td>{admission[i].title}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{admission[i].content}</td>\r\n                    <td className=\"d-table-cell d-md-none\">\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewAdmissionModal-\" + admission[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { admission, onRefresh, onSearch, searchValue, onClear, history, connected } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { state } = history.location;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-warning mr-2 ml-auto\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th colSpan=\"3\">\r\n                                <div className=\"row align-items-center\">\r\n                                    <div className=\"col-12 col-md-6 text-center mb-2 pb-2\r\n                                    m-md-0 p-md-0 bottom-border-dark border-md-0\">\r\n                                        {\"Pet Name: \" + state.petName}\r\n                                    </div>\r\n                                    <div className=\"col-12 col-md-6 text-center\">\r\n                                        {\"Transaction Date: \" + state.transDate}\r\n                                    </div>\r\n                                </div>\r\n                            </th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>Title</th>\r\n                            <th className=\"d-none d-md-table-cell\">Content</th>\r\n                            <th className=\"d-table-cell d-md-none w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            admission.length > 0 && connected ?\r\n                            this.renderItems(admission) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    admission.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={admission.length} /> : null\r\n                }\r\n                {\r\n                    admission.map(admission => <ViewAdmissionModal key={admission.id}\r\n                    admission={admission} onRefresh={onRefresh} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default AdmissionTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from '../CustomerNavbar.js';\r\nimport AdmissionTable from './AdmissionTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ViewAdmission extends Component {\r\n    state = {\r\n        admission: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={1} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>View Admission</h3>\r\n                            <AdmissionTable admission={this.state.admission} history={history}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.admission.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionAdmission.php?id='+\r\n        history.location.state.transId)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchTransactionAdmission.php?id='+\r\n        history.location.state.admissionId+\"&search=\"+searchValue)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default ViewAdmission;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: ' ',\r\n            birthdate: ' ',\r\n            petClass: ' ',\r\n            pcciRegNo: ''\r\n        },\r\n        petClasses:\r\n        [ 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Iguana', 'Jaguar', 'Lizard', 'Mantis', 'Monkey', 'Newt', 'Octopus', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake','Spider', 'Tortoise', 'Turtle', 'Whale'],\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        record.ownerId = this.props.ownerId;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n        \r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length > 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertPet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        this.onGenerateId();\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.petName = '';\r\n        record.birthdate = '';\r\n        record.petClass = '';\r\n        record.pcciRegNo = '';\r\n\r\n        errors.petName = 'Pet Name is required';\r\n        errors.birthdate = 'Birthdate is required';\r\n        errors.petClass = 'Pet Class is required';\r\n        errors.pcciRegNo = '';\r\n\r\n        this.setState({ record, errors, submitError, added, failed});\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, submitted, added, failed  } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addPetModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"addPetModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addPetModalTitle\">Add Pet</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }                                \r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            placeholder=\"Please click 'Generate'\"\r\n                                            noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>\r\n                                                        Generate\r\n                                                    </button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                            value={record.petName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.petName)}\r\n                                            type=\"text\" name=\"petName\" value={record.petName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"ownerId\" value={record.ownerId}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"petClass\"\r\n                                            value={record.petClass} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.petClass)}\r\n                                            name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                            value={record.pcciRegNo} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                            type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                            onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddPetModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: '',\r\n            birthdate: '',\r\n            petClass: '',\r\n            pcciRegNo: ''\r\n        },\r\n        petClasses:\r\n        [ 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Iguana', 'Jaguar', 'Lizard', 'Mantis', 'Monkey', 'Newt', 'Octopus', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake','Spider', 'Tortoise', 'Turtle', 'Whale'],\r\n        deleteState: false,\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { pet } = this.props;\r\n        const record = {...this.state.record};\r\n        \r\n        record.id = pet.id;\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.ownerId = pet.ownerId;\r\n        record.petClass = pet.petClass;\r\n        record.lastVisit = pet.lastVisit;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length > 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updatePet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        const deleteState = false;\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { pet } = this.props;\r\n\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.petClass = pet.petClass;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        errors.petName = '';\r\n        errors.birthdate = '';\r\n        errors.petClass = '';\r\n        errors.pcciRegNo = '';\r\n\r\n        this.setState({ record, errors, deleteState, submitError, updated, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, deleteState, submitted, updated, failed } = this.state;\r\n        const { pet } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewPetModal\"+ pet.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewPetModalTitle\" + pet.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewPetModalTitle\" + pet.id}>View Pet</h5>\r\n                                {\r\n                                    !submitted && this.props.connected ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                            value={record.petName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.petName)}\r\n                                            type=\"text\" name=\"petName\" value={record.petName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"ownerId\" value={record.ownerId}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"petClass\"\r\n                                            value={record.petClass} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.petClass)}\r\n                                            name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                            value={record.pcciRegNo} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                            type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                            onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            !this.state.submitted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                {\r\n                    this.props.connected ?\r\n                    <button className=\"btn btn-danger w-auto mr-1\"\r\n                    onClick={this.onReset}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button> :\r\n                    <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                }\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                data-dismiss=\"modal\" onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n\r\n        this.props.onSubmitForm();\r\n\r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deletePet.php', record)\r\n        .then(onRefresh);\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewPetModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination.js';\r\nimport AddPetModal from './AddPetModal.js';\r\nimport ViewPetModal from './ViewPetModal.js';\r\n\r\nclass PetsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (pets) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = pets.length <= recordStartIndex + recordsPerPage ?\r\n        pets.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={pets[i].id}>\r\n                    <td>{pets[i].petName}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{this.formatDate(pets[i].birthdate)}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{pets[i].petClass}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">\r\n                        {\r\n                            pets[i].lastVisit === null ?\r\n                            \"Not visiting yet\" :\r\n                            this.formatDate(pets[i].lastVisit)\r\n                        }\r\n                    </td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewPetModal\" + pets[i].id}>\r\n                            <i className=\"fa fa-eye\"></i><span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { pets, ownerId, onRefresh, onSearch, searchValue, onClear, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                        data-toggle=\"modal\" data-target=\"#addPetModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"d-none d-md-table-cell\">Birthdate</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Pet Class</th>\r\n                            <th className=\"d-none d-sm-table-cell\">Last Visit</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            pets.length > 0 && connected ?\r\n                            this.renderItems(pets) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    pets.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={pets.length} /> : null\r\n                }\r\n                <AddPetModal onRefresh={onRefresh} ownerId={ownerId} onSubmitForm={onSubmitForm} />\r\n                { pets.map(pet => <ViewPetModal key={pet.id} pet={pet} onRefresh={onRefresh}\r\n                connected={connected} onSubmitForm={onSubmitForm} /> ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default PetsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from '../CustomerNavbar.js';\r\nimport PetsTable from './PetsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManagePets extends Component {\r\n    state = {\r\n        pets: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {        \r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={2} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Pets</h3>\r\n                            <PetsTable pets={this.state.pets} ownerId={history.location.state.id}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.pets.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAccountPets.php?id='+\r\n        history.location.state.id)\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchAccountPet.php?id='+\r\n        history.location.state.id+'&search='+searchValue)\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManagePets;","import React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from './CustomerNavbar.js';\r\nimport Footer from '../Footer.js';\r\nimport Forbidden from './Forbidden.js';\r\n\r\nclass AboutUs extends Component {\r\n    state = { }\r\n\r\n    onClickLink = link => {\r\n        const { history } = this.props;\r\n        history.push(link, {verified: true});\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return(\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={3} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row min-h-full justify-content-center align-items-center pt-5 pt-md-3 pt-xl-0\">\r\n                        <div className=\"col-11 col-sm-10 col-md-8 col-lg-6 form-light my-5 my-md-0 mt-md-5\">\r\n                            <div className=\"row mx-2 mt-4\">\r\n                                <div className=\"col-12 pr-1\">\r\n                                    <h2 className=\"mb-3\">About us</h2>\r\n                                    <h5 className=\"px-2 text-center font-weight-light\">\r\n                                        Roma Ador Dionisio-Pajarillo's (DVM)\r\n                                        <br />Veterinary Clinic - Wiggly Tails\r\n                                    </h5>\r\n                                    <h6 className=\"px-3 font-weight-light\">\r\n                                        Lorem ipsum dolor sit amet consectetur adipisicing elit.\r\n                                        Quo qui quaerat maxime, dolores nemo soluta reiciendis deleniti\r\n                                        possimus illum temporibus, odio maiores velit inventore architecto!\r\n                                        Aut est maxime quam doloribus!\r\n                                    </h6>\r\n                                    <h6 className=\"px-3 text-center pb-3 bottom-border-light font-weight-light\">\r\n                                        <b>Open on Monday to Saturday at 8:00am to 5:00pm</b>\r\n                                    </h6>\r\n                                </div>\r\n\r\n                                <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                    <h5 className=\"font-weight-normal mb-3\">Offers</h5>\r\n                                    <h6 className=\"pl-3 bottom-border-light font-weight-light\">\r\n                                        <ul className=\"row\">\r\n                                            <li className=\"col-sm-4 px-0\">Consultation</li>\r\n                                            <li className=\"col-sm-4 px-0\">Treatment</li>\r\n                                            <li className=\"col-sm-4 px-0\">Vaccination</li>\r\n                                            <li className=\"col-sm-4 px-0\">Confinement</li>\r\n                                            <li className=\"col-sm-4 px-0\">Grooming</li>\r\n                                        </ul>\r\n                                    </h6>\r\n                                </div>\r\n\r\n                                <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                    <h5 className=\"font-weight-normal mb-3\">Clinic Address</h5>\r\n                                    <h6 className=\"pl-3 pb-3 bottom-border-light font-weight-light\">\r\n                                        Brgy. Sta Cruz, Zaragoza, Nueva Ecija\r\n                                    </h6>\r\n                                </div>\r\n\r\n                                <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                    <h5 className=\"font-weight-normal mb-3\">Contact Information</h5>\r\n                                    <h6 className=\"pl-3 bottom-border-light font-weight-light\">\r\n                                        <ul className=\"list-unstyled\">\r\n                                            <li><b>Mobile Number: </b>+63923-119-0591</li>\r\n                                        </ul>\r\n                                    </h6>\r\n                                </div>\r\n\r\n                                <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                    <h5 className=\"font-weight-normal mb-3\">Developers</h5>\r\n                                    <h6 className=\"pl-3 font-weight-light\">\r\n                                        <ul className=\"list-unstyled\">\r\n                                            <li><b>Main Developer: </b>Casindad, Mc Allain Sanchez (BSIT Student)</li>\r\n                                            <li><b>Database Source: </b>Dr. Roma's Veterinary Clinic (Owner)</li>\r\n                                            <li><b>Interviewer: </b>Dela Torre, Emmanuel (BSIT Student)</li>\r\n                                            <li className=\"d-block d-md-flex\">\r\n                                                <b className=\"mr-2\">Others: </b>\r\n                                                <ul className=\"list-unstyled\">\r\n                                                    <li>Enriquez, Ryan (BSIT Student)</li>\r\n                                                    <li>Flores, Jaizen Ann Noble (BSIT Student)</li>\r\n                                                    <li>Ruiz, Jehiele Jeff (BSIT Student)</li>\r\n                                                </ul>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </h6>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AboutUs;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ManageEmployeesModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            adminId: '',\r\n            adminPassword: ''\r\n        },\r\n        errors:\r\n        {\r\n            adminId: 'Please input your Admin Id',\r\n            adminPassword: 'Please input your Admin Password'\r\n        },\r\n        records: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        submitError: false,\r\n        loginError: false\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"adminId\") {\r\n            value = value.toUpperCase();\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'adminId':\r\n                errors.adminId=    value.length === 0 ? \"Please input your Admin Id\" :\r\n                                    value.length !== 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            case 'adminPassword':\r\n                errors.adminPassword=  value.length === 0 ? \"Please input your Admin Password\" : \r\n                                        value.length > 24 ? \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n        const records = [...this.state.records];\r\n        const record = {...this.state.record};\r\n\r\n        if(this.validForm({ errors })) {\r\n            let submitError = false;\r\n            let loginError = false;\r\n\r\n            const result = records.filter(row => \r\n                row.id === record.adminId &&\r\n                row.empPassword === record.adminPassword\r\n            )\r\n\r\n            if(result.length > 0) {\r\n                const btnClose = document.getElementById(\"btnClose\");\r\n                btnClose.click();\r\n                \r\n                const { history } = this.props;\r\n                history.replace('/wiggly-tails/admin/manage-employees',\r\n                {verified: true, id: result[0].id, empType: result[0].empType});\r\n            }\r\n            else {\r\n                submitError = true;\r\n                loginError = true;\r\n                record.adminPassword = '';\r\n                errors.adminPassword = 'Please input your Admin Password';\r\n            }\r\n\r\n            this.setState({ record, errors, submitError, loginError });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const submitError = false;\r\n        const loginError = false;\r\n\r\n        record.adminId = '';\r\n        record.adminPassword = '';\r\n\r\n        errors.adminId = 'Please input your Admin Id';\r\n        errors.adminPassword = 'Please input your Admin Password';\r\n\r\n        this.setState({ record, errors, submitError, loginError});\r\n    }\r\n\r\n    renderLoginError = () => {\r\n        if(this.state.loginError) {\r\n            return(\r\n                <div className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                    <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                    <span className=\"lh-0 my-1\">Incorrect Admin Id or Admin Password</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    renderModal = () => {\r\n        const { record, errors } = this.state;\r\n        return(\r\n            <div className=\"modal fade\" id=\"manageEmployeesModal\" tabIndex=\"-1\" role=\"dialog\"\r\n            aria-labelledby=\"manageEmployeesModalTitle\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h5 className=\"modal-title\" id=\"manageEmployeesModalTitle\">Manage Employees</h5>\r\n                            <button id=\"btnClose\" className=\"btn btn-light text-danger p-1\"\r\n                            data-dismiss=\"modal\" onClick={this.onReset}>\r\n                                <i className=\"fa fa-window-close fa-lg\"></i>\r\n                            </button>\r\n                        </div>\r\n                        \r\n                        <div className=\"modal-body\">\r\n                            { this.renderLoginError() }\r\n                            {\r\n                                this.state.connected ?\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Admin Id</label>\r\n                                        <input className={this.inputFieldClasses(errors.adminId)}\r\n                                        type=\"text\" name=\"adminId\" value={record.adminId} maxLength=\"6\"\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.adminId) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Admin Password</label>\r\n                                        <input className={this.inputFieldClasses(errors.adminPassword)}\r\n                                        type=\"password\" name=\"adminPassword\" value={record.adminPassword}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.adminPassword) }\r\n                                    </div>\r\n                                </form> :\r\n                                this.state.connectionFailed ?\r\n                                <div className=\"text-center\">\r\n                                    <h3 className=\"text-danger mb-0\">Database Connection Failed</h3>\r\n                                    <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h5>\r\n                                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.onRefresh}>Retry</button>\r\n                                </div> :\r\n                                <React.Fragment>\r\n                                    <h3 className=\"text-center mb-0\">Loading Records</h3>\r\n                                    <h5 className=\"font-weight-normal text-center\">Please wait...</h5>\r\n                                </React.Fragment>\r\n                                \r\n                            }\r\n                        </div>\r\n\r\n                        <div className=\"modal-footer\">\r\n                            <div className=\"d-flex justify-content-end w-100\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    <React.Fragment>\r\n                                        <button className=\"btn btn-primary w-auto mr-1\"\r\n                                        onClick={this.onSubmit}>\r\n                                            <i className=\"fa fa-sign-in-alt\"></i>\r\n                                            <span className=\"ml-1\">Submit</span>\r\n                                        </button>\r\n                                        <button className=\"btn btn-danger w-auto\"\r\n                                        onClick={this.onReset}>\r\n                                            <i className=\"fa fa-eraser\"></i>\r\n                                            <span className=\"ml-1\">Reset</span>\r\n                                        </button>\r\n                                    </React.Fragment> : null\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                {  this.renderModal() }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.getData();\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAdmins.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const connected = true;\r\n            this.setState({ records, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default ManageEmployeesModal;","import React, { Component } from 'react';\r\n\r\nimport wiggy_tails_icon from '../../img/wiggly-tails-icon.png';\r\nimport ManageEmployeesModal from './Employees/ManageEmployeesModal.js';\r\n\r\nclass AdminNavbar extends Component {\r\n    state = {\r\n        navs:\r\n        [\r\n            {\r\n                id: 0,\r\n                text: \"Home\",\r\n                link: \"/wiggly-tails/admin\",\r\n                items: []\r\n            },\r\n            {\r\n                id: 3,\r\n                text: \"Manage\",\r\n                link: null,\r\n                items:\r\n                [\r\n                    {\r\n                        id: 4,\r\n                        text: \"Transactions\",\r\n                        link: \"/wiggly-tails/admin/manage-transactions\"\r\n                    },\r\n                    {\r\n                        id: 5,\r\n                        text: \"Customers\",\r\n                        link: \"/wiggly-tails/admin/manage-customers\"\r\n                    },\r\n                    {\r\n                        id: 6,\r\n                        text: \"Pets\",\r\n                        link: \"/wiggly-tails/admin/manage-pets\"\r\n                    },\r\n                    {\r\n                        id: 7,\r\n                        text: \"Employees\",\r\n                        link: \"/wiggly-tails/admin/manage-employees\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                id: 10,\r\n                text: \"Sign out\",\r\n                link: \"/wiggly-tails\",\r\n                items: []\r\n            }\r\n        ]\r\n    }\r\n\r\n    onClickLink = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    onClickBrand = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails/admin\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    onClickSignOut = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link);\r\n    }\r\n\r\n    render() { \r\n        const { activeId, history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <nav className=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\r\n                    <a onClick={this.onClickBrand} className=\"navbar-brand py-0\">\r\n                        <img src={wiggy_tails_icon} alt=\"\" className=\"mr-2\" />Veterinary Clinic\r\n                    </a>\r\n\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                    data-target=\"#admin-navbar\" aria-controls=\"admin-navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"admin-navbar\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {\r\n                                this.state.navs.map(nav =>\r\n                                    nav.items.length > 0 ?\r\n                                    <li key={nav.id} className=\"nav-item dropdown mr-1\">\r\n                                        <a className={\"dropdown-toggle \" + this.linkItemClasses(nav.id)} id={\"dropdown\" + nav.id}\r\n                                        href={nav.link} data-toggle=\"dropdown\">{nav.text}</a>\r\n                                        <div className=\"dropdown-menu\" aria-labelledby={\"dropdown\" + nav.id}>\r\n                                            {\r\n                                                nav.items.map(item =>\r\n                                                    item.id === 7 && item.id !== activeId ?\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    data-toggle=\"modal\" data-target=\"#manageEmployeesModal\">\r\n                                                        {item.text}</a> :\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    onClick={() => this.onClickLink(item)}>{item.text}</a>\r\n                                                    \r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </li> :\r\n                                    <li key={nav.id} className=\"nav-item mr-1\">\r\n                                        {\r\n                                            nav.id === 10 ?\r\n                                            <a onClick={() => this.onClickSignOut(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            <a onClick={() => this.onClickLink(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a>\r\n                                        }\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n\r\n                <ManageEmployeesModal history={history} />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    linkItemClasses = id => {\r\n        const { activeId, sourceId } = this.props;\r\n\r\n        let classes = \"nav-link \";\r\n        classes+= id === activeId ? \"active\" :\r\n        id === sourceId ? \"active\" : \r\n        id === 10  ? \"text-danger\" : \"inactive\"\r\n        return classes;\r\n    }\r\n\r\n    dropdownItemClasses = id => {\r\n        const { activeId } = this.props;\r\n\r\n        let classes = \"dropdown-item \"\r\n        classes+= id === 7 ? \"text-danger \" : \"text-dark \"\r\n        classes+= id === activeId ? \"active-dropdown\" : \"inactive-dropdown\"\r\n\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default AdminNavbar;","import React, { Component } from 'react';\r\n\r\nclass Forbidden extends Component {\r\n    state = {  }\r\n\r\n    onBackToLogin = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row min-h-full justify-content-center align-items-center\">\r\n                    <div className=\"col-10 col-md-8 col-lg-6 form-light\">\r\n                        <div className=\"alert alert-warning text-warning text-center my-3 mx-1 py-4\">\r\n                            <div className=\"d-flex justify-content-center align-items-center\">\r\n                                <i className=\"fa fa-exclamation fa-lg\"></i>\r\n                                <span className=\"ml-2\">\r\n                                    <h2 className=\"font-weight-normal\">Forbidden Access</h2>\r\n                                </span>\r\n                            </div>\r\n                            <h5 className=\"font-weight-light\">\r\n                                Please login your Employee account first.\r\n                            </h5>\r\n                        </div>\r\n                        <div className=\"text-center mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                onClick={this.onBackToLogin}>\r\n                                Back to Login\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Forbidden;","import React, { Component } from 'react';\r\n\r\nimport AdminNavbar from './AdminNavbar.js';\r\nimport ManageEmployeesModal from './Employees/ManageEmployeesModal.js';\r\nimport Footer from '../Footer.js';\r\nimport Forbidden from './Forbidden.js';\r\n\r\nimport noImage from '../../img/no-image.png';\r\n\r\nclass Admin extends Component {\r\n    state = { }\r\n\r\n    onClickLink = link => {\r\n        const { history } = this.props;\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return(\r\n            <React.Fragment>\r\n                <AdminNavbar activeId={0} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row min-h-full align-items-center mx-1 py-5\">\r\n                        <div className=\"col\">\r\n                            <div className=\"row mt-5 mb-3\">\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"font-weight-normal mt-3\">\r\n                                            Transactions</h3>\r\n                                        <img src={noImage} alt=\"transactions\"\r\n                                        className=\"card-img d-none d-md-inline my-4\" />\r\n                                        \r\n                                        <div className=\"p-3 mt-2\">\r\n                                            <h5>Please suggest a Header</h5>\r\n                                            <p>and Description</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-warning border w-75 mt-3\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/admin/manage-transactions\")}>\r\n                                            <i className=\"fa fa-exchange-alt\"></i>\r\n                                            <span className=\"ml-1\">Manage</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"font-weight-normal mt-3\">\r\n                                            Customers</h3>\r\n                                        <img src={noImage} alt=\"customers\"\r\n                                        className=\"card-img d-none d-md-inline my-4\" />\r\n                                        \r\n                                        <div className=\"p-3 mt-2\">\r\n                                            <h5>Please suggest a Header</h5>\r\n                                            <p>and Description</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-primary border w-75 mt-3\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/admin/manage-customers\")}>\r\n                                            <i className=\"fa fa-users\"></i>\r\n                                            <span className=\"ml-1\">Manage</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"font-weight-normal mt-3\">\r\n                                            Pets</h3>\r\n                                        <img src={noImage} alt=\"pets\"\r\n                                        className=\"card-img d-none d-md-inline my-4\" />\r\n\r\n                                        <div className=\"p-3 mt-2\">\r\n                                            <h5>Please suggest a Header</h5>\r\n                                            <p>and Description</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-secondary border w-75 mt-3\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/admin/manage-pets\")}>\r\n                                            <i className=\"fa fa-cat\"></i>\r\n                                            <span className=\"ml-1\">Manage</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"font-weight-normal mt-3\">\r\n                                            Employees</h3>\r\n                                        <img src={noImage} alt=\"employees\"\r\n                                        className=\"card-img d-none d-md-inline my-4\" />\r\n\r\n                                        <div className=\"p-3 mt-2\">\r\n                                            <h5>Please suggest a Header</h5>\r\n                                            <p>and Description</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-danger border w-75 mt-3\"\r\n                                        data-toggle=\"modal\" data-target=\"#manageEmployeesModal\">\r\n                                            <i className=\"fa fa-user-md\"></i>\r\n                                            <span className=\"ml-1\">Manage</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <ManageEmployeesModal history={history} />\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Admin;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            customerId: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        errors:\r\n        {\r\n            transType: ' ',\r\n            petId: ' ',\r\n            customerId: ' ',\r\n            petWeight: ' ',\r\n            remarks: '',\r\n            empId: ' ',\r\n            checkUpErrors:\r\n            {\r\n                findings: ' ',\r\n                treatment: ' ',\r\n                addInfo: ''\r\n            },\r\n            groomErrors:\r\n            {\r\n                activity: ' '\r\n            }\r\n        },\r\n        customer:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        pet:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        employee:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n\r\n        const currentDate = this.getCurrentDate();\r\n        record.transDate = currentDate;\r\n        record.checkUp.admissionDate = currentDate;\r\n        record.checkUp.releasedDate = currentDate;\r\n        \r\n        this.setState({ record });\r\n    }\r\n\r\n    getCurrentDate = () => {\r\n        const dateObj = new Date(); \r\n        const currentMonth = dateObj.getMonth()+1 < 10 ? \"0\"+(dateObj.getMonth()+1) : dateObj.getMonth()+1\r\n        const currentDay = dateObj.getDate() < 10 ? \"0\"+dateObj.getDate() : dateObj.getDate() \r\n        const currentDate = dateObj.getFullYear() + \"-\" + currentMonth + \"-\" + currentDay;\r\n        return currentDate;\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"remarks\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n\r\n        if(name === 'transType') {\r\n            const checkUp = {...this.state.record.checkUp};\r\n            const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n\r\n            checkUp.findings = '';\r\n            checkUp.treatment = '';\r\n            const currentDate = this.getCurrentDate();\r\n            checkUp.admissionDate = currentDate;\r\n            checkUp.releasedDate = currentDate;\r\n            checkUp.addInfo = ''\r\n\r\n            checkUpErrors.findings = ' ';\r\n            checkUpErrors.treatment = ' ';\r\n            checkUpErrors.addInfo = ''\r\n\r\n            const groom = {...this.state.record.groom};\r\n            const groomErrors = {...this.state.errors.groomErrors};\r\n\r\n            groom.activity = '';\r\n            \r\n            groomErrors.activity = ' ';\r\n\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp,\r\n                    groom\r\n                },\r\n                errors: {\r\n                    ...currentState.errors,\r\n                    checkUpErrors,\r\n                    groomErrors\r\n                }\r\n            }))\r\n        }\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'transType':\r\n                errors.transType=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'empId':\r\n                errors.empId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'customerId':\r\n                errors.customerId=  value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petId':\r\n                errors.petId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petWeight':\r\n                errors.petWeight=   value.length === 0 ? \" \" :\r\n                                    !isNumeric(value) ? \"Please input a valid value\" :\r\n                                    value.length > 6 ? \"Must be at maximum of 6 numbers\" : \"\"\r\n                break;\r\n\r\n            case 'remarks':\r\n            errors.remarks= value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n            break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors }, () => {\r\n            if(name === 'customerId') {\r\n                const record = {...this.state.record};\r\n                record.petId = '';\r\n                errors.petId = ' ';\r\n                this.setState({ record, errors });\r\n                const pet = {...this.state.pet};\r\n                if(pet.search) this.onTogglePetSearch()\r\n            }\r\n        });\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"admissionDate\" && name !== \"releasedDate\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckCheckUpErrors(e))\r\n    }\r\n\r\n    onCheckCheckUpErrors = e => {\r\n        const { name, value } = e.target;\r\n        const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'findings':\r\n                checkUpErrors.findings= properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 128 ?\r\n                                        \"Must be at between 2 and 128 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            case 'treatment':\r\n                checkUpErrors.treatment=    properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 128 ?\r\n                                            \"Must be at between 2 and 128 characters\" :\r\n                                            properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'addInfo':\r\n                checkUpErrors.addInfo=  value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                checkUpErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"activity\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckGroomErrors(e))\r\n    }\r\n\r\n    onCheckGroomErrors = e => {\r\n        const { name, value } = e.target;\r\n        const groomErrors = {...this.state.errors.groomErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'activity':\r\n                groomErrors.activity=   properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 32 ?\r\n                                        \"Must be at between 2 and 32 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                groomErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.remarks = this.removeLastSpace(record.remarks);\r\n            record.checkUp.findings = this.removeLastSpace(record.checkUp.findings);\r\n            record.checkUp.treatment = this.removeLastSpace(record.checkUp.treatment);\r\n            record.checkUp.addInfo = this.removeLastSpace(record.checkUp.addInfo);\r\n            record.groom.activity = this.removeLastSpace(record.groom.activity);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission()\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertTransaction.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        const { record } = this.state;\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        if(record.transType === 'C') {\r\n            Object.values(errors.checkUpErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n        else if(record.transType === 'G') {\r\n            Object.values(errors.groomErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {        \r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n        const errors = {...this.state.errors};\r\n        const checkUpErrors = {...this.state.errors.checkUp};\r\n        const groomErrors = {...this.state.errors.groom};\r\n\r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        const currentDate = this.getCurrentDate();\r\n\r\n        const id = this.generateCharacters(6);\r\n        groom.activity = '';\r\n        checkUp.findings = '';\r\n        checkUp.treatment = '';\r\n        checkUp.admissionDate = currentDate;\r\n        checkUp.releasedDate = currentDate;\r\n        checkUp.addInfo = '';\r\n\r\n        record.id = id;\r\n        record.transType = '';\r\n        record.transDate = currentDate;\r\n        record.petId = ''\r\n        record.customerId = '';\r\n        record.petWeight = '';\r\n        record.remarks = '';\r\n        record.empId = '';\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        groomErrors.activity = ' ';\r\n        checkUpErrors.findings = ' ';\r\n        checkUpErrors.treatment = ' ';\r\n        checkUpErrors.addInfo = '';\r\n\r\n        errors.transType = ' ';\r\n        errors.petId = ' '\r\n        errors.customerId = ' ';\r\n        errors.remarks = '';\r\n        errors.empId = ' ';\r\n        errors.checkUpErrors = checkUpErrors;\r\n        errors.groomErrors = groomErrors;\r\n\r\n        this.setState({ record, errors, submitError, added, failed });\r\n    }\r\n\r\n    onToggleCustomerSearch = () => {\r\n        const customer = {...this.state.customer};\r\n        customer.search = !customer.search;\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onClearCustomerSearch = () => {\r\n        const customer = {...this.state.customer};\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onChangeCustomerSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.customerId = '';\r\n        errors.customerId = ' ';\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            customer: {\r\n                ...currentState.customer,\r\n                [name] : value\r\n            }\r\n        }), () => {\r\n            const pet = {...this.state.pet};\r\n            if(pet.search) this.onTogglePetSearch()\r\n        })\r\n    }\r\n\r\n    onTogglePetSearch = () => {\r\n        const pet = {...this.state.pet};\r\n        pet.search = !pet.search;\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onClearPetSearch = () => {\r\n        const pet = {...this.state.pet};\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onChangePetSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            pet: {\r\n                ...currentState.pet,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onToggleEmployeeSearch = () => {\r\n        const employee = {...this.state.employee};\r\n        employee.search = !employee.search;\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onClearEmployeeSearch = () => {\r\n        const employee = {...this.state.employee};\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onChangeEmployeeSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.empId = '';\r\n        errors.empId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            employee: {\r\n                ...currentState.employee,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, customer, pet, employee, submitted, added, failed } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addTransactionModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"addTransactionModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addTransactionModalTitle\">Add Transaction</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Date\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"transDate\"\r\n                                            value={record.transDate} noValidate disabled /> :\r\n                                            <input className=\"form-control border border-success\"\r\n                                            type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"transType\"\r\n                                            value={record.transType} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.transType)}\r\n                                            name=\"transType\" value={record.transType} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.transType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.employeeConnected ?\r\n                                                <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"empId\"\r\n                                                        value={record.empId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.employees.length > 0 ?\r\n                                                                this.props.employees.filter(row =>\r\n                                                                    (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                    .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                    employee.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.empId)}\r\n                                                            name=\"empId\" value={record.empId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.employees.length > 0 ?\r\n                                                                    this.props.employees.filter(row =>\r\n                                                                        (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                        .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                        employee.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleEmployeeSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    employee.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={employee.searchValue} onChange={this.onChangeEmployeeSearch}\r\n                                                        placeholder=\"Search by Employee Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearEmployeeSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.empId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.employeeConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryEmployeesData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Customer Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.customerConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"customerId\"\r\n                                                        value={record.customerId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.customers.length > 0 ?\r\n                                                                this.props.customers.filter(row =>\r\n                                                                    (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                    .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                    customer.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.customerId)}\r\n                                                            name=\"customerId\" value={record.customerId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.customers.length > 0 ?\r\n                                                                    this.props.customers.filter(row =>\r\n                                                                        (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                        .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                        customer.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleCustomerSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    customer.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={customer.searchValue} onChange={this.onChangeCustomerSearch}\r\n                                                        placeholder=\"Search by Customer Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearCustomerSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.customerId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.customerConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.petConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"petId\"\r\n                                                        value={record.petId} noValidate disabled>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer Id is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <select className={\"zi-10 \" + this.inputFieldClasses(errors.petId)}\r\n                                                        name=\"petId\" value={record.petId} onChange={this.onChangeRecord}\r\n                                                        noValidate>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer Id is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select>\r\n                                                    }\r\n                                                    {\r\n                                                        (this.props.pets.filter(row =>\r\n                                                            (row.petName.match(pet.searchValue) && row.ownerId === record.customerId) ||\r\n                                                            (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                        ).length > 0 || pet.searchValue.length > 0) && !submitted ?\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onTogglePetSearch}>\r\n                                                                Search\r\n                                                            </button>\r\n                                                        </div> : null\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    pet.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={pet.searchValue} onChange={this.onChangePetSearch}\r\n                                                        placeholder=\"Search by Pet Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearPetSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.petId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.petConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryPetsData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Weight<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"text\" name=\"petWeight\"\r\n                                                value={record.petWeight} noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.petWeight)}\r\n                                                type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>{ this.renderRecordErrors(errors.petWeight) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Remarks\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"remarks\"\r\n                                            value={record.remarks} rows=\"2\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.remarks)}\r\n                                            type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                            onChange={this.onChangeRecord} rows=\"2\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.remarks) }\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted && this.props.customerConnected &&\r\n                                        this.props.petConnected && this.props.employeeConnected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { submitted } = this.state;\r\n        const { checkUp } = this.state.record;\r\n        const { checkUpErrors } = this.state.errors;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Findings<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"findings\"\r\n                            value={checkUp.findings} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(checkUpErrors.findings)}\r\n                            type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.findings) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Treatment<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"treatment\"\r\n                            value={checkUp.treatment} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(checkUpErrors.treatment)}\r\n                            type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.treatment) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Admission Date<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"date\" name=\"admissionDate\"\r\n                            value={checkUp.admissionDate} noValidate disabled /> :\r\n                            <input className=\"form-control border border-success\"\r\n                            type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Released Date<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"date\" name=\"releasedDate\"\r\n                            value={checkUp.releasedDate} noValidate disabled /> :\r\n                            <input className=\"form-control border border-success\"\r\n                            type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Additional Information\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <textarea className=\"form-control\" type=\"text\" name=\"addInfo\"\r\n                            value={checkUp.addInfo} rows=\"2\" noValidate disabled /> : \r\n                            <textarea className={this.inputFieldClasses(checkUpErrors.addInfo)}\r\n                            type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                            onChange={this.onChangeCheckUp} rows=\"2\" noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.addInfo) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { submitted } = this.state;\r\n        const { groom } = this.state.record;\r\n        const { groomErrors } = this.state.errors;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Activity<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"activity\"\r\n                            value={groom.activity} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(groomErrors.activity)}\r\n                            type=\"text\" name=\"activity\" value={groom.activity}\r\n                            onChange={this.onChangeGroom} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(groomErrors.activity) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default AddTransactionModal;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            petName: '',\r\n            customerId: '',\r\n            customerName: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        errors:\r\n        {\r\n            transType: '',\r\n            petId: '',\r\n            customerId: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUpErrors:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                addInfo: ''\r\n            },\r\n            groomErrors:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        checkUpConnected: false,\r\n        checkUpConnectionFailed: false,\r\n        groomConnected: false,\r\n        groomConnectionFailed: false,\r\n        connected: false,\r\n        customer:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        pet:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        employee:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { transaction } = this.props;\r\n        if(transaction.transType === 'C') {\r\n            this.getCheckUpData(transaction.id);\r\n        }\r\n        else if(transaction.transType === 'G') {\r\n            this.getGroomData(transaction.id);\r\n        }\r\n\r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n\r\n        record.id = transaction.id;\r\n        record.transType = transaction.transType;\r\n        record.transDate = transaction.transDate;\r\n        record.petId = transaction.petId;\r\n        record.petName = transaction.petName;\r\n        record.customerId = transaction.customerId;\r\n        record.customerName = transaction.lastName + \", \" + transaction.firstName + \" \" + transaction.middleName;\r\n        record.petWeight = transaction.petWeight;\r\n        record.remarks = transaction.remarks;\r\n        record.empId = transaction.empId;\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    getCurrentDate = () => {\r\n        const dateObj = new Date(); \r\n        const currentMonth = dateObj.getMonth()+1 < 10 ? \"0\"+(dateObj.getMonth()+1) : dateObj.getMonth()+1\r\n        const currentDay = dateObj.getDate() < 10 ? \"0\"+dateObj.getDate() : dateObj.getDate() \r\n        const currentDate = dateObj.getFullYear() + \"-\" + currentMonth + \"-\" + currentDay;\r\n        return currentDate;\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"remarks\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n\r\n        if(name === 'transType') {\r\n            const checkUp = {...this.state.record.checkUp};\r\n            const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n\r\n            checkUp.findings = '';\r\n            checkUp.treatment = '';\r\n            const currentDate = this.getCurrentDate();\r\n            checkUp.admissionDate = currentDate;\r\n            checkUp.releasedDate = currentDate;\r\n            checkUp.addInfo = ''\r\n\r\n            checkUpErrors.findings = ' ';\r\n            checkUpErrors.treatment = ' ';\r\n            checkUpErrors.addInfo = ''\r\n\r\n            const groom = {...this.state.record.groom};\r\n            const groomErrors = {...this.state.errors.groomErrors};\r\n\r\n            groom.activity = '';\r\n            \r\n            groomErrors.activity = ' ';\r\n\r\n            const checkUpConnected = true;\r\n            const groomConnected = true;\r\n            const connected = true;\r\n\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp,\r\n                    groom\r\n                },\r\n                errors: {\r\n                    ...currentState.errors,\r\n                    checkUpErrors,\r\n                    groomErrors\r\n                }, checkUpConnected, groomConnected, connected\r\n            }))\r\n        }\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'transType':\r\n                errors.transType=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'empId':\r\n                errors.empId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'customerId':\r\n                errors.customerId=  value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petId':\r\n                errors.petId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petWeight':\r\n                errors.petWeight=   value.length === 0 ? \" \" :\r\n                                    !isNumeric(value) ? \"Please input a valid value\" :\r\n                                    value.length > 6 ? \"Must be at maximum of 6 numbers\" : \"\"\r\n                break;\r\n\r\n            case 'remarks':\r\n            errors.remarks= value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n            break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors }, () => {\r\n            if(name === 'customerId') {\r\n                const record = {...this.state.record};\r\n                record.petId = '';\r\n                errors.petId = ' ';\r\n                this.setState({ record, errors });\r\n                const pet = {...this.state.pet};\r\n                if(pet.search) this.onTogglePetSearch()\r\n            }\r\n        });\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"admissionDate\" && name !== \"releasedDate\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckCheckUpErrors(e))\r\n    }\r\n\r\n    onCheckCheckUpErrors = e => {\r\n        const { name, value } = e.target;\r\n        const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'findings':\r\n                checkUpErrors.findings= properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 128 ?\r\n                                        \"Must be at between 2 and 128 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            case 'treatment':\r\n                checkUpErrors.treatment=    properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 128 ?\r\n                                            \"Must be at between 2 and 128 characters\" :\r\n                                            properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'addInfo':\r\n                checkUpErrors.addInfo=  value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                checkUpErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"activity\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckGroomErrors(e))\r\n    }\r\n\r\n    onCheckGroomErrors = e => {\r\n        const { name, value } = e.target;\r\n        const groomErrors = {...this.state.errors.groomErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'activity':\r\n                groomErrors.activity=   properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 32 ?\r\n                                        \"Must be at between 2 and 32 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                groomErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.remarks = this.removeLastSpace(record.remarks);\r\n            record.checkUp.findings = this.removeLastSpace(record.checkUp.findings);\r\n            record.checkUp.treatment = this.removeLastSpace(record.checkUp.treatment);\r\n            record.checkUp.addInfo = this.removeLastSpace(record.checkUp.addInfo);\r\n            record.groom.activity = this.removeLastSpace(record.groom.activity);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateTransaction.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        const { record } = this.state;\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        if(record.transType === 'C') {\r\n            Object.values(errors.checkUpErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n        else if(record.transType === 'G') {\r\n            Object.values(errors.groomErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {  \r\n        const { transaction } = this.props;\r\n        const checkUpConnected = false;\r\n        const groomConnected = false;\r\n        const connected = false;\r\n\r\n        this.setState({ checkUpConnected, groomConnected, connected })\r\n\r\n        if(transaction.transType === 'C') {\r\n            this.getCheckUpData(transaction.id);\r\n        }\r\n        else if(transaction.transType === 'G') {\r\n            this.getGroomData(transaction.id);\r\n        }      \r\n\r\n        const record = {...this.state.record};\r\n        let checkUp = {...this.state.record.checkUp};\r\n        let groom = {...this.state.record.groom};\r\n        const errors = {...this.state.errors};\r\n        const checkUpErrors = {...this.state.errors.checkUp};\r\n        const groomErrors = {...this.state.errors.groom};\r\n\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        record.id = transaction.id;\r\n        record.transType = transaction.transType;\r\n        record.transDate = transaction.transDate;\r\n        record.petId = transaction.petId;\r\n        record.customerId = transaction.customerId;\r\n        record.petWeight = transaction.petWeight;\r\n        record.remarks = transaction.remarks;\r\n        record.empId = transaction.empId;\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        groomErrors.activity = '';\r\n        checkUpErrors.findings = '';\r\n        checkUpErrors.treatment = '';\r\n        checkUpErrors.addInfo = '';\r\n\r\n        errors.transType = '';\r\n        errors.petId = ''\r\n        errors.customerId = '';\r\n        errors.remarks = '';\r\n        errors.empId = '';\r\n\r\n        errors.checkUpErrors = checkUpErrors;\r\n        errors.groomErrors = groomErrors;\r\n\r\n        this.setState({ record, errors, submitError, updated, failed });\r\n    }\r\n\r\n    onToggleCustomerSearch = () => {\r\n        const customer = {...this.state.customer};\r\n        customer.search = !customer.search;\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onClearCustomerSearch = () => {\r\n        const customer = {...this.state.customer};\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onChangeCustomerSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.customerId = '';\r\n        errors.customerId = ' ';\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            customer: {\r\n                ...currentState.customer,\r\n                [name] : value\r\n            }\r\n        }), () => {\r\n            const pet = {...this.state.pet};\r\n            if(pet.search) this.onTogglePetSearch()\r\n        })\r\n    }\r\n\r\n    onTogglePetSearch = () => {\r\n        const pet = {...this.state.pet};\r\n        pet.search = !pet.search;\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onClearPetSearch = () => {\r\n        const pet = {...this.state.pet};\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onChangePetSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            pet: {\r\n                ...currentState.pet,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onToggleEmployeeSearch = () => {\r\n        const employee = {...this.state.employee};\r\n        employee.search = !employee.search;\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onClearEmployeeSearch = () => {\r\n        const employee = {...this.state.employee};\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onChangeEmployeeSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.empId = '';\r\n        errors.empId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            employee: {\r\n                ...currentState.employee,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, customer, employee, pet, connected, submitted, updated, failed } = this.state;\r\n        const { transaction } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewTransactionModal-\" + transaction.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewTransactionModalTitle-\" + transaction.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewTransactionModalTitle-\" + transaction.id}>\r\n                                    View Transaction\r\n                                </h5>\r\n                                {\r\n                                    !submitted && this.props.connected ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Date\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"transDate\"\r\n                                            value={record.transDate} noValidate disabled /> :\r\n                                            <input className=\"form-control border border-success\"\r\n                                            type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"transType\"\r\n                                            value={record.transType} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.transType)}\r\n                                            name=\"transType\" value={record.transType} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.transType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.employeeConnected ?\r\n                                                <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"empId\"\r\n                                                        value={record.empId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.employees.length > 0 ?\r\n                                                                this.props.employees.filter(row =>\r\n                                                                    (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                    .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                    employee.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.empId)}\r\n                                                            name=\"empId\" value={record.empId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.employees.length > 0 ?\r\n                                                                    this.props.employees.filter(row =>\r\n                                                                        (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                        .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                        employee.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleEmployeeSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                    </div>\r\n                                                {\r\n                                                    employee.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={employee.searchValue} onChange={this.onChangeEmployeeSearch}\r\n                                                        placeholder=\"Search by Employee Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearEmployeeSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.empId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.employeeConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryEmployeesData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Customer Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.customerConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"customerId\"\r\n                                                        value={record.customerId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.customers.length > 0 ?\r\n                                                                this.props.customers.filter(row =>\r\n                                                                    (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                    .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                    customer.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.customerId)}\r\n                                                            name=\"customerId\" value={record.customerId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.customers.length > 0 ?\r\n                                                                    this.props.customers.filter(row =>\r\n                                                                        (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                        .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                        customer.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleCustomerSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    customer.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={customer.searchValue} onChange={this.onChangeCustomerSearch}\r\n                                                        placeholder=\"Search by Customer Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearCustomerSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.customerId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.customerConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.petConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"petId\"\r\n                                                        value={record.petId} noValidate disabled>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer Id is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <select className={\"zi-10 \" + this.inputFieldClasses(errors.petId)}\r\n                                                        name=\"petId\" value={record.petId} onChange={this.onChangeRecord}\r\n                                                        noValidate>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer Id is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select>\r\n                                                    }\r\n                                                    {\r\n                                                        (this.props.pets.filter(row =>\r\n                                                            (row.petName.match(pet.searchValue) && row.ownerId === record.customerId) ||\r\n                                                            (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                        ).length > 0 || pet.searchValue.length > 0) && !submitted ?\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onTogglePetSearch}>\r\n                                                                Search\r\n                                                            </button>\r\n                                                        </div> : null\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    pet.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={pet.searchValue} onChange={this.onChangePetSearch}\r\n                                                        placeholder=\"Search by Pet Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearPetSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.petId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.petConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryPetsData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Weight<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"text\" name=\"petWeight\"\r\n                                                value={record.petWeight} noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.petWeight)}\r\n                                                type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>{ this.renderRecordErrors(errors.petWeight) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Remarks\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"remarks\"\r\n                                            value={record.remarks} rows=\"2\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.remarks)}\r\n                                            type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                            onChange={this.onChangeRecord} rows=\"2\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.remarks) }\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted && connected && this.props.customerConnected &&\r\n                                        this.props.petConnected && this.props.employeeConnected ?\r\n                                        <React.Fragment>\r\n                                            {\r\n                                                record.transType === 'C' ?\r\n                                                <button className=\"btn btn-success w-auto mr-1\" data-dismiss=\"modal\"\r\n                                                onClick={() => this.onViewAdmission(\"/wiggly-tails/admin/manage-admission\")}>\r\n                                                    <i className=\"fa fa-hand-holding-medical fa-sm\"></i>\r\n                                                    <span className=\"ml-1\">Admissions</span>\r\n                                                </button> : null\r\n                                            }\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"d-none d-sm-inline ml-1\">Update</span>\r\n                                            </button>\r\n                                            {\r\n                                                this.props.connected ?\r\n                                                <button className=\"btn btn-danger w-auto mr-1\"\r\n                                                onClick={this.onReset}>\r\n                                                    <i className=\"fa fa-eraser\"></i>\r\n                                                    <span className=\"d-none d-sm-inline ml-1\">Reset</span>\r\n                                                </button> :\r\n                                                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                                                    <i className=\"fa fa-eraser\"></i>\r\n                                                    <span className=\"d-none d-sm-inline ml-1\">Reset</span>\r\n                                                </button>\r\n                                            }\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            {\r\n                                                record.transType === 'C' ?\r\n                                                <button className=\"btn btn-success w-auto mr-1\" disabled>\r\n                                                    <i className=\"fa fa-hand-holding-medical fa-sm\"></i>\r\n                                                    <span className=\"ml-1\">Admissions</span>\r\n                                                </button> : null\r\n                                            }\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"d-none d-sm-inline ml-1\">Update</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"d-none d-sm-inline ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    onViewAdmission = link => {\r\n        const { record } = this.state;\r\n        const { history } = this.props;\r\n        history.push(link, {\r\n            ...history.location.state,\r\n            transId: record.id,\r\n            customerName: record.customerName,\r\n            petName: record.petName,\r\n            transDate: record.transDate\r\n        });\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { submitted } = this.state;\r\n        const { checkUp } = this.state.record;\r\n        const { checkUpErrors } = this.state.errors;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.checkUpConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Findings<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"text\" name=\"findings\"\r\n                                    value={checkUp.findings} noValidate disabled /> :\r\n                                    <input className={this.inputFieldClasses(checkUpErrors.findings)}\r\n                                    type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                                    onChange={this.onChangeCheckUp} noValidate />\r\n                                }\r\n                                { this.renderRecordErrors(checkUpErrors.findings) }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Treatment<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"text\" name=\"treatment\"\r\n                                    value={checkUp.treatment} noValidate disabled /> :\r\n                                    <input className={this.inputFieldClasses(checkUpErrors.treatment)}\r\n                                    type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                                    onChange={this.onChangeCheckUp} noValidate />\r\n                                }\r\n                                { this.renderRecordErrors(checkUpErrors.treatment) }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Admission Date<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"date\" name=\"admissionDate\"\r\n                                    value={checkUp.admissionDate} noValidate disabled /> :\r\n                                    <input className=\"form-control border border-success\"\r\n                                    type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                                    onChange={this.onChangeCheckUp} noValidate />\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Released Date<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"date\" name=\"releasedDate\"\r\n                                    value={checkUp.releasedDate} noValidate disabled /> :\r\n                                    <input className=\"form-control border border-success\"\r\n                                    type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate}\r\n                                    onChange={this.onChangeCheckUp} noValidate />\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Additional Information\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <textarea className=\"form-control\" type=\"text\" name=\"addInfo\"\r\n                                    value={checkUp.addInfo} rows=\"2\" noValidate disabled /> :\r\n                                    <textarea className={this.inputFieldClasses(checkUpErrors.addInfo)}\r\n                                    type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                                    onChange={this.onChangeCheckUp} rows=\"2\" noValidate />\r\n                                }\r\n                                { this.renderRecordErrors(checkUpErrors.addInfo) }\r\n                            </div>\r\n                        </React.Fragment> : \r\n                        this.state.checkUpConnectionFailed ?\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal text-danger mb-0\">Database Connection Failed</h3>\r\n                            <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later...</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryCheckUpData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal mb-0\">Loading Data</h3>\r\n                            <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { submitted } = this.state;\r\n        const { groom } = this.state.record;\r\n        const { groomErrors } = this.state.errors;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.groomConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Activity<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"text\" name=\"activity\"\r\n                                    value={groom.activity} noValidate disabled /> :\r\n                                    <input className={this.inputFieldClasses(groomErrors.activity)}\r\n                                    type=\"text\" name=\"activity\" value={groom.activity}\r\n                                    onChange={this.onChangeGroom} noValidate />\r\n                                }\r\n                                { this.renderRecordErrors(groomErrors.activity) }\r\n                            </div>\r\n                        </React.Fragment> :\r\n                        this.state.groomConnectionFailed ?\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal text-danger mb-0\">Database Connection Failed</h3>\r\n                            <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later...</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryGroomData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal mb-0\">Loading Data</h3>\r\n                            <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    retryCheckUpData = () => {\r\n        this.getCheckUpData();\r\n        const checkUpConnected = false;\r\n        const checkUpConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ checkUpConnected, checkUpConnectionFailed, connected })\r\n    }\r\n\r\n    getCheckUpData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionCheckUp.php?id='+id)\r\n        .then(res => {\r\n            let checkUp = res.data;\r\n            const checkUpConnected = true;\r\n            const connected = true;\r\n            checkUp = checkUp[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp\r\n                }, checkUpConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const checkUpConnectionFailed = true;\r\n            this.setState({ checkUpConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryGroomData = () => {\r\n        this.getGroomData();\r\n        const groomConnected = false;\r\n        const groomConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ groomConnected, groomConnectionFailed, connected })\r\n    }\r\n\r\n    getGroomData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionGroom.php?id='+id)\r\n        .then(res => {\r\n            let groom = res.data;\r\n            const groomConnected = true;\r\n            const connected = true;\r\n            groom = groom[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    groom\r\n                }, groomConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const groomConnectionFailed = true;\r\n            this.setState({ groomConnectionFailed });\r\n        });\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default ViewTransactionModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination';\r\nimport AddTransactionModal from './AddTransactionModal.js';\r\nimport ViewTransactionModal from './ViewTransactionModal.js';\r\n\r\nclass TransactionsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (transactions) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = transactions.length <= recordStartIndex + recordsPerPage ?\r\n        transactions.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={transactions[i].id} className=\"table-row\">\r\n                    <td>{this.formatDate(transactions[i].transDate)}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].lastName + \", \" + transactions[i].firstName + \" \" + transactions[i].middleName}</td>\r\n                    <td>{transactions[i].petName}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].petWeight}</td>\r\n                    <td className=\"d-none d-md-table-cell\">\r\n                        {transactions[i].empLastName + \", \" + transactions[i].empFirstName + \" \" + transactions[i].empMiddleName}\r\n                    </td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewTransactionModal-\" + transactions[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { transactions, onRefresh, onSearch, searchValue, onClear, history, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { customers, retryCustomersData, customerConnected, customerConnectionFailed } = this.props;\r\n        const { pets, retryPetsData, petConnected, petConnectionFailed } = this.props;\r\n        const { employees, retryEmployeesData, employeeConnected, employeeConnectionFailed } = this.props;\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addTransactionModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue} ></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Transaction Date</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Customer Name</th>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"w-110px d-none d-lg-table-cell\">Pet Weight</th>\r\n                            <th className=\"w-285px d-none d-md-table-cell\">Served by</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            transactions.length > 0 && connected ?\r\n                            this.renderItems(transactions) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    transactions.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={transactions.length} /> : null\r\n                }\r\n                <AddTransactionModal onRefresh={onRefresh} customerId='' onSubmitForm={onSubmitForm}\r\n                customers={customers} retryCustomersData={retryCustomersData}\r\n                customerConnected={customerConnected} customerConnectionFailed={customerConnectionFailed}\r\n                pets={pets} retryPetsData={retryPetsData}\r\n                petConnected={petConnected} petConnectionFailed={petConnectionFailed}\r\n                employees={employees} retryEmployeesData={retryEmployeesData}\r\n                employeeConnected={employeeConnected} employeeConnectionFailed={employeeConnectionFailed} />\r\n                {\r\n                    transactions.map(transaction => <ViewTransactionModal key={transaction.id}\r\n                    transaction={transaction} onRefresh={onRefresh} history={history}\r\n                    connected={connected} onSubmitForm={onSubmitForm}\r\n                    customers={customers} retryCustomersData={retryCustomersData}\r\n                    customerConnected={customerConnected} customerConnectionFailed={customerConnectionFailed}\r\n                    pets={pets} retryPetsData={retryPetsData}\r\n                    petConnected={petConnected} petConnectionFailed={petConnectionFailed}\r\n                    employees={employees} retryEmployeesData={retryEmployeesData}\r\n                    employeeConnected={employeeConnected} employeeConnectionFailed={employeeConnectionFailed} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {\r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n\r\n    formatTransType = transType => {\r\n        return transType === 'C' ? \"Check-up\" : \"Groom\"\r\n    }\r\n}\r\n \r\nexport default TransactionsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport TransactionsTable from './TransactionsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManageTransactions extends Component {\r\n    state = {\r\n        transactions: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\",\r\n        customers: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false,\r\n        pets: [],\r\n        petConnected: false,\r\n        petConnectionFailed: false,\r\n        employees: [],\r\n        employeeConnected: false,\r\n        employeeConnectionFailed: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n        this.getCustomersData();\r\n        this.getPetsData();\r\n        this.getEmployeesData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={3} activeId={4} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Transactions</h3>\r\n                            <TransactionsTable transactions={this.state.transactions}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch} history={history}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} onSubmitForm={this.onSubmitForm}\r\n                            customers={this.state.customers} retryCustomersData={this.retryCustomersData}\r\n                            customerConnected={this.state.customerConnected} customerConnectionFailed={this.state.customerConnectionFailed}\r\n                            pets={this.state.pets} retryPetsData={this.retryPetsData}\r\n                            petConnected={this.state.petConnected} petConnectionFailed={this.state.petConnectionFailed}\r\n                            employees={this.state.employees} retryEmployeesData={this.retryEmployeesData}\r\n                            employeeConnected={this.state.employeeConnected} employeeConnectionFailed={this.state.employeeConnectionFailed} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.transactions.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactions.php')\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            const connected = true;\r\n            this.setState({ transactions, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchTransaction.php?search='+searchValue)\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            const connected = true;\r\n            this.setState({ transactions, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const customerConnected = true\r\n            this.setState({ customers, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryPetsData = () => {\r\n        this.getPetsData();\r\n        const petConnected = false;\r\n        const petConnectionFailed = false;\r\n        this.setState({ petConnected, petConnectionFailed })\r\n    }\r\n\r\n    getPetsData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php')\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const petConnected = true\r\n            this.setState({ pets, petConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const petConnectionFailed = true;\r\n            this.setState({ petConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryEmployeesData = () => {\r\n        this.getEmployeesData();\r\n        const employeeConnected = false;\r\n        const employeeConnectionFailed = false;\r\n        this.setState({ employeeConnected, employeeConnectionFailed })\r\n    }\r\n\r\n    getEmployeesData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const employeeConnected = true\r\n            this.setState({ employees, employeeConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const employeeConnectionFailed = true;\r\n            this.setState({ employeeConnectionFailed });\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManageTransactions;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewAdmissionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transId: '',\r\n            title: '',\r\n            content: ''\r\n        },\r\n        errors:\r\n        {\r\n            title: ' ',\r\n            content: ' '\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false,\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const { history } = this.props;\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        record.transId = history.location.state.transId;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"title\" ?\r\n        this.toAbsProperCase(value) :\r\n        this.toSentenceCase(value)\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'title':\r\n                errors.title=   properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 24 ?\r\n                                \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'content':\r\n                errors.content= properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 128 ?\r\n                                \"Must be at between 2 and 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.title = this.removeLastSpace(record.title);\r\n            record.content = this.removeLastSpace(record.content);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertAdmission.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const { history } = this.props;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.transId = history.location.state.transId;\r\n        record.title = '';\r\n        record.content = '';\r\n\r\n        errors.title = ' ';\r\n        errors.content = ' ';\r\n\r\n        this.setState({ record, errors, submitError, added, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, submitted, added, failed } = this.state;\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addAdmissionModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"addAdmissionModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addAdmissionModalTitle\">\r\n                                    Add Admission\r\n                                </h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Title\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"title\"\r\n                                            value={record.title} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.title)}\r\n                                            type=\"text\" name=\"title\" value={record.title}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.title) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Content<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"content\"\r\n                                            value={record.content} rows=\"7\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.content)}\r\n                                            type=\"text\" name=\"content\" value={record.content} rows=\"7\"\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.content) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto mr-1\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default ViewAdmissionModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewAdmissionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transId: '',\r\n            title: '',\r\n            content: ''\r\n        },\r\n        errors:\r\n        {\r\n            title: '',\r\n            content: ''\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false,\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { admission } = this.props;\r\n        const record = {...this.state.record};\r\n\r\n        record.id = admission.id;\r\n        record.transId = admission.transId;\r\n        record.title = admission.title;\r\n        record.content = admission.content;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"title\" ?\r\n        this.toAbsProperCase(value) :\r\n        this.toSentenceCase(value)\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'title':\r\n                errors.title=   properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 24 ?\r\n                                \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'content':\r\n                errors.content= properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 128 ?\r\n                                \"Must be at between 2 and 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.title = this.removeLastSpace(record.title);\r\n            record.content = this.removeLastSpace(record.content);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateAdmission.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const confirmUserPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmUserPassword = ' '\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ errors, confirmUserPassword, submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const { admission } = this.props;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        record.id = admission.id;\r\n        record.transId = admission.transId;\r\n        record.title = admission.title;\r\n        record.content = admission.content;\r\n\r\n        errors.title = '';\r\n        errors.content = '';\r\n\r\n        this.setState({ record, errors, submitError, updated, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, submitted, updated, failed } = this.state;\r\n        const { admission } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewAdmissionModal-\" + admission.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewAdmissionModalTitle-\" + admission.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewAdmissionModalTitle-\" + admission.id}>\r\n                                    View Admission\r\n                                </h5>\r\n                                {\r\n                                    !submitted && this.props.connected ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Title\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"title\"\r\n                                            value={record.title} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.title)}\r\n                                            type=\"text\" name=\"title\" value={record.title}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.title) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Content<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"content\"\r\n                                            value={record.content} rows=\"7\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.content)}\r\n                                            type=\"text\" name=\"content\" value={record.content} rows=\"7\"\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.content) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted  ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"ml-1\">Update</span>\r\n                                            </button>\r\n                                            {\r\n                                                this.props.connected ?\r\n                                                <button className=\"btn btn-danger w-auto mr-1\"\r\n                                                onClick={this.onReset}>\r\n                                                    <i className=\"fa fa-eraser\"></i>\r\n                                                    <span className=\"ml-1\">Reset</span>\r\n                                                </button> :\r\n                                                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                                                    <i className=\"fa fa-eraser\"></i>\r\n                                                    <span className=\"ml-1\">Reset</span>\r\n                                                </button>\r\n                                            }\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"ml-1\">Update</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default ViewAdmissionModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination';\r\nimport AddAdmissionModal from './AddAdmissionModal.js';\r\nimport ViewAdmissionModal from './ViewAdmissionModal.js';\r\n\r\nclass AdmissionTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (admission) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = admission.length <= recordStartIndex + recordsPerPage ?\r\n        admission.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={admission[i].id} className=\"table-row\">\r\n                    <td>{admission[i].title}</td>\r\n                    <td>{admission[i].content}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewAdmissionModal-\" + admission[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { admission, onRefresh, onSearch, searchValue, onClear, history, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { state } = history.location;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addAdmissionModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2 ml-auto\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th colSpan=\"3\">\r\n                                <div className=\"row align-items-center\">\r\n                                    <div className=\"col-12 col-md-4 text-center mb-2 pb-2\r\n                                    m-md-0 p-md-0 bottom-border-dark border-md-0\">\r\n                                        {\"Customer Name: \" + state.customerName}\r\n                                    </div>\r\n                                    <div className=\"col-12 col-md-4 text-center mb-2 pb-2\r\n                                    m-md-0 p-md-0 bottom-border-dark border-md-0\">\r\n                                        {\"Pet Name: \" + state.petName}\r\n                                    </div>\r\n                                    <div className=\"col-12 col-md-4 text-center\">\r\n                                        {\"Transaction Date: \" + state.transDate}\r\n                                    </div>\r\n                                </div>\r\n                            </th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>Title</th>\r\n                            <th>Content</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            admission.length > 0 && connected ?\r\n                            this.renderItems(admission) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    admission.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={admission.length} /> : null\r\n                }\r\n                <AddAdmissionModal history={history} onRefresh={onRefresh} onSubmitForm={onSubmitForm} />\r\n                {\r\n                    admission.map(admission => <ViewAdmissionModal key={admission.id} admission={admission}\r\n                    onRefresh={onRefresh} connected={connected} onSubmitForm={onSubmitForm} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default AdmissionTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from '../AdminNavbar.js';\r\nimport AdmissionTable from './AdmissionTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManageAdmission extends Component {\r\n    state = {\r\n        admission: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={3} activeId={4} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Admission</h3>\r\n                            <AdmissionTable admission={this.state.admission} history={history}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch} \r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} connectionFailed={this.state.connectionFailed}\r\n                            onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.admission.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionAdmission.php?id='+\r\n        history.location.state.transId)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchTransactionAdmission.php?id='+\r\n        history.location.state.admissionId+\"&search=\"+searchValue)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default ManageAdmission;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddCustomerModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: '',\r\n            pet:\r\n            {\r\n                petName: '',\r\n                birthdate: '',\r\n                petClass: '',\r\n                lastVisit: '',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: ' ',\r\n            firstName: ' ',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: ' ',\r\n                subdivision: ' ',\r\n                barangay: ' ',\r\n                municipality: ' ',\r\n                province: ''\r\n            },\r\n            birthdate: ' ',\r\n            mobileNumber: ' ',\r\n            emailAddress: ' ',\r\n            userPassword: ' ',\r\n            confirmUserPassword: ' ',\r\n            petErrors:\r\n            {\r\n                petName: ' ',\r\n                birthdate: ' ',\r\n                petClass: ' ',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        petClasses:\r\n        [ 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Iguana', 'Jaguar', 'Lizard', 'Mantis', 'Monkey', 'Newt', 'Octopus', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake','Spider', 'Tortoise', 'Turtle', 'Whale'],\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    record.emailAddress.length === 0 ? \" \" :\r\n                                    record.emailAddress.length < 8 || record.emailAddress.length > 24 ?\r\n                                    \"Must be at between 8 and 24 characters\" :\r\n                                    !this.isValidEmail(record.emailAddress) ?\r\n                                    \"Please input a valid value\" :\r\n                                    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record } = this.state;\r\n        const { customers } = this.props;\r\n\r\n        const result = customers.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() ===\r\n            (record.emailAddress + record.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n\r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  properLength === 0 ? \" \" :\r\n                                                properLength < 2  || value.length > 24 ?\r\n                                                \"Subdivision must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangePet = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                pet: {\r\n                    ...currentState.record.pet,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckPetErrors(e))\r\n    }\r\n\r\n    onCheckPetErrors = e => {\r\n        const { name, value } = e.target;\r\n        const petErrors = {...this.state.errors.petErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                petErrors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                petErrors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                petErrors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                petErrors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                petErrors\r\n            }\r\n        }), () => console.log(this.state))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n            record.pet.petName = this.removeLastSpace(record.pet.petName);\r\n\r\n            // record.homeAddress.street += \" St.\";\r\n            // record.homeAddress.barangay = \"Brgy. \" + record.homeAddress.barangay;\r\n            // record.homeAddress.municipality += \" City\";\r\n\r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertCustomerPet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0  && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n        const pet = {...this.state.record.pet};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const petErrors = {...this.state.errors.petErrors};\r\n\r\n        const confirmUserPassword = '';\r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        homeAddress.lotBlock = '';\r\n        homeAddress.street = '';\r\n        homeAddress.subdivision = '';\r\n        homeAddress.barangay = '';\r\n        homeAddress.municipality = '';\r\n        homeAddress.province = '';\r\n        \r\n        pet.petName = '';\r\n        pet.birthdate = '';\r\n        pet.petClass = '';\r\n        pet.pcciRegNo = '';\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.lastName = '';\r\n        record.firstName = '';\r\n        record.middleName = ''\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = '';\r\n        record.mobileNumber = '';\r\n        record.emailAddress = '';\r\n        record.email = '@yahoo.com';\r\n        record.userPassword = '';\r\n        record.pet = pet;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = ' ';\r\n        homeAddressErrors.subdivision = ' ';\r\n        homeAddressErrors.barangay = ' ';\r\n        homeAddressErrors.municipality = ' ';\r\n        homeAddressErrors.province = '';\r\n\r\n        petErrors.petName = ' ';\r\n        petErrors.birthdate = ' ';\r\n        petErrors.petClass = ' ';\r\n\r\n        errors.lastName = ' ';\r\n        errors.firstName = ' ';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ' ';\r\n        errors.mobileNumber = ' ';\r\n        errors.emailAddress = ' ';\r\n        errors.userPassword = ' ';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, submitError, added, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, petClasses, submitted, added, failed } = this.state;\r\n        const { homeAddress, pet } = record;\r\n        const { homeAddressErrors, petErrors } = errors;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addCustomerModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"addCustomerModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addCustomerModalTitle\">Add Customer</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>Generate</button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"lastName\"\r\n                                            value={record.lastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.lastName)}\r\n                                            type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"firstName\"\r\n                                            value={record.firstName} onChange={this.onChangeRecord} noValidate disabled /> : \r\n                                            <input className={this.inputFieldClasses(errors.firstName)}\r\n                                            type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"middleName\"\r\n                                            value={record.middleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.middleName)}\r\n                                            type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"lotBlock\"\r\n                                                    value={homeAddress.lotBlock} placeholder=\"Lot/Block (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                    type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"street\"\r\n                                                    value={homeAddress.street} placeholder=\"Street\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                    type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Street\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"subdivision\"\r\n                                                    value={homeAddress.subdivision} placeholder=\"Subdivision\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                    type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Subdivision\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"barangay\"\r\n                                                    value={homeAddress.barangay} placeholder=\"Barangay\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                    type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Barangay\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"municipality\"\r\n                                                    value={homeAddress.municipality} placeholder=\"Municipality\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                    type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Municipality\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"province\"\r\n                                                    value={homeAddress.province} placeholder=\"Province (Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                    type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Province (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate}  noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"tel\" maxLength=\"10\"\r\n                                                name=\"mobileNumber\" value={record.mobileNumber} onChange={this.onChangeRecord}\r\n                                                noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                                type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <input className=\"w-sm-100 form-control\" type=\"text\"\r\n                                                        name=\"emailAddress\" value={record.emailAddress} noValidate disabled /> :\r\n                                                        <input className={\"w-sm-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    }\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        {\r\n                                                            submitted ?\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email} noValidate disabled>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select> :\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email}\r\n                                                            onChange={this.onChangeRecord} noValidate>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.onRefresh}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"userPassword\"\r\n                                            value={record.userPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.userPassword)}\r\n                                            type=\"password\" name=\"userPassword\" value={record.userPassword}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmUserPassword\"\r\n                                            value={confirmUserPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                            type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                                        <div className=\"row mt-3\">\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Name <span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                                    value={pet.petName} noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.petName)}\r\n                                                    type=\"text\" name=\"petName\" value={pet.petName}\r\n                                                    onChange={this.onChangePet} noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.petName) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                                    value={pet.birthdate} noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.birthdate)}\r\n                                                    type=\"date\" name=\"birthdate\" value={pet.birthdate}\r\n                                                    onChange={this.onChangePet} noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.birthdate) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <select className=\"form-control\" name=\"petClass\"\r\n                                                    value={pet.petClass} noValidate disabled >\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            petClasses.length > 0 ?\r\n                                                            petClasses.map(value =>\r\n                                                                <option key={value} value={value}>{value}</option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select> :\r\n                                                    <select className={this.inputFieldClasses(petErrors.petClass)}\r\n                                                    name=\"petClass\" value={pet.petClass} onChange={this.onChangePet}\r\n                                                    noValidate>\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            petClasses.length > 0 ?\r\n                                                            petClasses.map(value =>\r\n                                                                <option key={value} value={value}>{value}</option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.petClass) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                                    value={pet.pcciRegNo} maxLength=\"6\" placeholder=\"(Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.pcciRegNo)}\r\n                                                    type=\"text\" name=\"pcciRegNo\" value={pet.pcciRegNo}\r\n                                                    onChange={this.onChangePet} maxLength=\"6\"\r\n                                                    placeholder=\"(Optional)\" noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.pcciRegNo) }\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        this.props.connected && !submitted ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddCustomerModal;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewCustomerModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            userPassword: '',\r\n            confirmUserPassword: ' ',\r\n        },\r\n        passwordState:\r\n        {\r\n            inputType: 'password',\r\n            buttonText: 'Show'\r\n        },\r\n        deleteState: false,\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { customer } = this.props;\r\n        const record = {...this.state.record};\r\n        record.id = customer.id;\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName;\r\n        record.homeAddress.lotBlock = customer.lotBlock;\r\n        record.homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        record.homeAddress.subdivision = customer.subdivision;\r\n        record.homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        record.homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        record.homeAddress.province = customer.province;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    record.emailAddress.length === 0 ? \" \" :\r\n                                    record.emailAddress.length < 8 || record.emailAddress.length > 24 ?\r\n                                    \"Must be at between 8 and 24 characters\" :\r\n                                    !this.isValidEmail(record.emailAddress) ?\r\n                                    \"Please input a valid value\" :\r\n                                    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record } = this.state;\r\n        const { customer, customers } = this.props;\r\n\r\n        const result = customers.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() ===\r\n            (record.emailAddress + record.email).toLowerCase() &&\r\n            (row.emailAddress + row.email).toLowerCase() !==\r\n            (customer.emailAddress + customer.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n    \r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  properLength === 0 ? \" \" :\r\n                                                properLength < 2  || value.length > 24 ?\r\n                                                \"Subdivision must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n            \r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            if(this.state.passwordState.inputType === \"text\") {\r\n                this.onTogglePassword()\r\n            }\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateCustomer.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const confirmUserPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmUserPassword = ' '\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ errors, confirmUserPassword, submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0 && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const { customer } = this.props;\r\n\r\n        const confirmUserPassword = '';\r\n        const deleteState = false;\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { passwordState } = this.state;\r\n\r\n        passwordState.buttonText = \"Show\";\r\n        passwordState.inputType = \"password\";\r\n\r\n        homeAddress.lotBlock = customer.lotBlock;\r\n        homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        homeAddress.subdivision = customer.subdivision;\r\n        homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        homeAddress.province = customer.province;\r\n\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = '';\r\n        homeAddressErrors.subdivision = '';\r\n        homeAddressErrors.barangay = '';\r\n        homeAddressErrors.municipality = '';\r\n        homeAddressErrors.province = '';\r\n\r\n        errors.lastName = '';\r\n        errors.firstName = '';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ''\r\n        errors.mobileNumber = '';\r\n        errors.emailAddress = '';\r\n        errors.userPassword = '';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, passwordState, deleteState, submitError, updated, failed });\r\n    }\r\n\r\n    onTogglePassword = () => {\r\n        const passwordState = {...this.state.passwordState};\r\n        if(passwordState.inputType === 'password') {\r\n            passwordState.inputType = 'text';\r\n            passwordState.buttonText = 'Hide';\r\n        }\r\n        else {\r\n            passwordState.inputType = 'password';\r\n            passwordState.buttonText = 'Show';\r\n        }\r\n        this.setState({ passwordState });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, passwordState, deleteState, submitted, updated, failed } = this.state;\r\n        const { homeAddress } = this.state.record;\r\n        const { homeAddressErrors } = errors;\r\n        const { customer } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewCustomerModal-\" + customer.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewCustomerrModalTitle-\" + customer.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewCustomerModalTitle-\" + customer.id}>View Customer</h5>\r\n                                {\r\n                                    !submitted && this.props.connected ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"lastName\"\r\n                                            value={record.lastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.lastName)}\r\n                                            type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"firstName\"\r\n                                            value={record.firstName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.firstName)}\r\n                                            type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"middleName\"\r\n                                            value={record.middleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.middleName)}\r\n                                            type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"lotBlock\"\r\n                                                    value={homeAddress.lotBlock} placeholder=\"Lot/Block (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                    type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                            {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"street\"\r\n                                                    value={homeAddress.street} placeholder=\"Street\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                    type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Street\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"subdivision\"\r\n                                                    value={homeAddress.subdivision} placeholder=\"Subdivision\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                    type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Subdivision\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"barangay\"\r\n                                                    value={homeAddress.barangay} placeholder=\"Barangay\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                    type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Barangay\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"municipality\"\r\n                                                    value={homeAddress.municipality} placeholder=\"Municipality\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                    type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Municipality\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"province\"\r\n                                                    value={homeAddress.province} placeholder=\"Province (Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                    type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Province (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate}  noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"tel\" maxLength=\"10\"\r\n                                                name=\"mobileNumber\" value={record.mobileNumber} onChange={this.onChangeRecord}\r\n                                                noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                                type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <input className=\"w-sm-100 form-control\" type=\"text\"\r\n                                                        name=\"emailAddress\" value={record.emailAddress} noValidate disabled /> :\r\n                                                        <input className={\"w-sm-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    }\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        {\r\n                                                            submitted ?\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email} noValidate disabled>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select> :\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email}\r\n                                                            onChange={this.onChangeRecord} noValidate>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.onRefresh}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"zi-10 form-control\" type={passwordState.inputType}\r\n                                                name=\"userPassword\" value={record.userPassword} noValidate disabled /> :\r\n                                                <React.Fragment>\r\n                                                    <input className={\"zi-10 \" + this.inputFieldClasses(errors.userPassword)}\r\n                                                    type={passwordState.inputType} name=\"userPassword\" value={record.userPassword}\r\n                                                    onChange={this.onChangeRecord} noValidate />\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onTogglePassword}>\r\n                                                            {passwordState.buttonText}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                        </div> { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmUserPassword\"\r\n                                            value={confirmUserPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                            type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            this.props.connected && !this.state.submitted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                {\r\n                    this.props.connected ?\r\n                    <button className=\"btn btn-danger w-auto mr-1\"\r\n                    onClick={this.onReset}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button> :\r\n                    <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                }\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                data-dismiss=\"modal\" onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n\r\n        this.props.onSubmitForm();\r\n\r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deleteCustomer.php', record)\r\n        .then(onRefresh);\r\n    }\r\n\r\n    // retryCustomersData = () => {\r\n    //     this.getCustomersData();\r\n    //     const connected = false;\r\n    //     const connectionFailed = false;\r\n    //     this.setState({ connected, connectionFailed })\r\n    // }\r\n\r\n    // getCustomersData = () => {\r\n    //     axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n    //     .then(res => {\r\n    //         const records = res.data;\r\n    //         const connected = true;\r\n    //         this.setState({ records, connected });\r\n    //     })\r\n    //     .catch(error => {\r\n    //         console.log(error);\r\n    //         const connectionFailed = true;\r\n    //         this.setState({ connectionFailed });\r\n    //     });\r\n    // }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewCustomerModal;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass InitiateTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            customerId: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        errors:\r\n        {\r\n            transType: ' ',\r\n            petId: ' ',\r\n            customerId: ' ',\r\n            petWeight: ' ',\r\n            remarks: '',\r\n            empId: ' ',\r\n            checkUpErrors:\r\n            {\r\n                findings: ' ',\r\n                treatment: ' ',\r\n                addInfo: ''\r\n            },\r\n            groomErrors:\r\n            {\r\n                activity: ' '\r\n            }\r\n        },\r\n        pet:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        employee:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        const { customer } = this.props;\r\n\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n\r\n        record.customerId = customer.id;\r\n        errors.customerId = '';\r\n\r\n        const currentDate = this.getCurrentDate();\r\n        record.transDate = currentDate;\r\n        record.checkUp.admissionDate = currentDate;\r\n        record.checkUp.releasedDate = currentDate;\r\n\r\n        this.setState({ record, errors });\r\n    }\r\n\r\n    getCurrentDate = () => {\r\n        const dateObj = new Date(); \r\n        const currentMonth = dateObj.getMonth()+1 < 10 ? \"0\"+(dateObj.getMonth()+1) : dateObj.getMonth()+1\r\n        const currentDay = dateObj.getDate() < 10 ? \"0\"+dateObj.getDate() : dateObj.getDate() \r\n        const currentDate = dateObj.getFullYear() + \"-\" + currentMonth + \"-\" + currentDay;\r\n        return currentDate;\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n        \r\n        if(name === \"remarks\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n\r\n        if(name === 'transType') {\r\n            const checkUp = {...this.state.record.checkUp};\r\n            const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n\r\n            checkUp.findings = '';\r\n            checkUp.treatment = '';\r\n            const currentDate = this.getCurrentDate();\r\n            checkUp.admissionDate = currentDate;\r\n            checkUp.releasedDate = currentDate;\r\n            checkUp.addInfo = ''\r\n\r\n            checkUpErrors.findings = ' ';\r\n            checkUpErrors.treatment = ' ';\r\n            checkUpErrors.addInfo = ''\r\n\r\n            const groom = {...this.state.record.groom};\r\n            const groomErrors = {...this.state.errors.groomErrors};\r\n\r\n            groom.activity = '';\r\n            \r\n            groomErrors.activity = '';\r\n\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp,\r\n                    groom\r\n                },\r\n                errors: {\r\n                    ...currentState.errors,\r\n                    checkUpErrors,\r\n                    groomErrors\r\n                }\r\n            }))\r\n        }\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'transType':\r\n                errors.transType=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'empId':\r\n                errors.empId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'customerId':\r\n                errors.customerId=  value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petId':\r\n                errors.petId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petWeight':\r\n                errors.petWeight=   value.length === 0 ? \" \" :\r\n                                    !isNumeric(value) ? \"Please input a valid value\" :\r\n                                    value.length > 6 ? \"Must be at maximum of 6 numbers\" : \"\"\r\n                break;\r\n\r\n            case 'remarks':\r\n            errors.remarks= value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n            break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"admissionDate\" && name !== \"releasedDate\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckCheckUpErrors(e))\r\n    }\r\n\r\n    onCheckCheckUpErrors = e => {\r\n        const { name, value } = e.target;\r\n        const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'findings':\r\n                checkUpErrors.findings= properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 128 ?\r\n                                        \"Must be at between 2 and 128 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            case 'treatment':\r\n                checkUpErrors.treatment=    properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 128 ?\r\n                                            \"Must be at between 2 and 128 characters\" :\r\n                                            properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'addInfo':\r\n                checkUpErrors.addInfo=  value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                checkUpErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"activity\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckGroomErrors(e))\r\n    }\r\n\r\n    onCheckGroomErrors = e => {\r\n        const { name, value } = e.target;\r\n        const groomErrors = {...this.state.errors.groomErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'activity':\r\n                groomErrors.activity=   properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 32 ?\r\n                                        \"Must be at between 2 and 32 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                groomErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const record = {...this.state.record};\r\n\r\n            record.remarks = this.removeLastSpace(record.remarks);\r\n            record.checkUp.findings = this.removeLastSpace(record.checkUp.findings);\r\n            record.checkUp.treatment = this.removeLastSpace(record.checkUp.treatment);\r\n            record.checkUp.addInfo = this.removeLastSpace(record.checkUp.addInfo);\r\n            record.groom.activity = this.removeLastSpace(record.groom.activity);\r\n\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertTransaction.php', record)\r\n            .then(() => {\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        this.onReset();\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        const { record } = this.state;\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        if(record.transType === 'C') {\r\n            Object.values(errors.checkUpErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n        else if(record.transType === 'G') {\r\n            Object.values(errors.groomErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {        \r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n        const errors = {...this.state.errors};\r\n        const checkUpErrors = {...this.state.errors.checkUp};\r\n        const groomErrors = {...this.state.errors.groom};\r\n        \r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        const currentDate = this.getCurrentDate();\r\n\r\n        const id = this.generateCharacters(6);\r\n        groom.activity = '';\r\n        checkUp.findings = '';\r\n        checkUp.treatment = '';\r\n        checkUp.admissionDate = currentDate;\r\n        checkUp.releasedDate = currentDate;\r\n        checkUp.addInfo = '';\r\n\r\n        record.id = id;\r\n        record.transType = '';\r\n        record.transDate = currentDate;\r\n        record.petId = ''\r\n        record.petWeight = '';\r\n        record.remarks = '';\r\n        record.empId = '';\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        groomErrors.activity = ' ';\r\n        checkUpErrors.findings = ' ';\r\n        checkUpErrors.treatment = ' ';\r\n        checkUpErrors.addInfo = '';\r\n\r\n        errors.transType = ' ';\r\n        errors.petId = ' '\r\n        errors.customerId = ' ';\r\n        errors.remarks = '';\r\n        errors.empId = ' ';\r\n        errors.checkUpErrors = checkUpErrors;\r\n        errors.groomErrors = groomErrors;\r\n\r\n        this.setState({ record, errors, submitError, added, failed});\r\n    }\r\n\r\n    onTogglePetSearch = e => {\r\n        e.preventDefault();\r\n        const pet = {...this.state.pet};\r\n        pet.search = !pet.search;\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onClearPetSearch = e => {\r\n        e.preventDefault();\r\n        const pet = {...this.state.pet};\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onChangePetSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            pet: {\r\n                ...currentState.pet,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onToggleEmployeeSearch = e => {\r\n        e.preventDefault();\r\n        const employee = {...this.state.employee};\r\n        employee.search = !employee.search;\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onClearEmployeeSearch = e => {\r\n        e.preventDefault();\r\n        const employee = {...this.state.employee};\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onChangeEmployeeSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.empId = '';\r\n        errors.empId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            employee: {\r\n                ...currentState.employee,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, pet, employee, submitted, added, failed } = this.state;\r\n        const { customer } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"addTransactionModal-\"+customer.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"addTransactionModalTitle-\"+customer.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"addTransactionModalTitle-\"+customer.id}>\r\n                                    {\"Add Transaction for \" + customer.id + \" | \"\r\n                                    + customer.lastName + \", \" + customer.firstName + \" \" + customer.middleName}\r\n                                </h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Date\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"transDate\"\r\n                                            value={record.transDate} noValidate disabled /> :\r\n                                            <input className=\"form-control border border-success\"\r\n                                            type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"transType\"\r\n                                            value={record.transType} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.transType)}\r\n                                            name=\"transType\" value={record.transType} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.transType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.employeeConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"zi-10 form-control\" name=\"empId\"\r\n                                                        value={record.empId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.employees.length > 0 ?\r\n                                                                this.props.employees.filter(row =>\r\n                                                                    (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                    .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                    employee.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.empId)}\r\n                                                            name=\"empId\" value={record.empId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.employees.length > 0 ?\r\n                                                                    this.props.employees.filter(row =>\r\n                                                                        (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                        .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                        employee.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleEmployeeSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    employee.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={employee.searchValue} onChange={this.onChangeEmployeeSearch}\r\n                                                        placeholder=\"Search by Employee Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearEmployeeSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.empId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.employeeConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryEmployeesData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Customer Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className=\"form-control\" name=\"customerId\"\r\n                                        value={record.customerId} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.petConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"zi-10 form-control\" name=\"petId\"\r\n                                                        value={record.petId} noValidate disabled>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer Id is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <select className={\"zi-10 \" + this.inputFieldClasses(errors.petId)}\r\n                                                        name=\"petId\" value={record.petId} onChange={this.onChangeRecord}\r\n                                                        noValidate>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer Id is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select>\r\n                                                    }\r\n                                                    {\r\n                                                        (this.props.pets.filter(row =>\r\n                                                            (row.petName.match(pet.searchValue) && row.ownerId === record.customerId) ||\r\n                                                            (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                        ).length > 0 || pet.searchValue.length > 0) && !submitted ?\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onTogglePetSearch}>\r\n                                                                Search\r\n                                                            </button>\r\n                                                        </div> : null\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    pet.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={pet.searchValue} onChange={this.onChangePetSearch}\r\n                                                        placeholder=\"Search by Pet Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearPetSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.petId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.customerConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryPetsData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Weight<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"text\" name=\"petWeight\"\r\n                                                value={record.petWeight} noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.petWeight)}\r\n                                                type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>{ this.renderRecordErrors(errors.petWeight) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Remarks\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"remarks\"\r\n                                            value={record.remarks} rows=\"2\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.remarks)}\r\n                                            type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                            onChange={this.onChangeRecord} rows=\"2\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.remarks) }\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted && this.props.petConnected &&\r\n                                        this.props.employeeConnected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { submitted } = this.state;\r\n        const { checkUp } = this.state.record;\r\n        const { checkUpErrors } = this.state.errors;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Findings<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"findings\"\r\n                            value={checkUp.findings} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(checkUpErrors.findings)}\r\n                            type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.findings) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Treatment<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"treatment\"\r\n                            value={checkUp.treatment} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(checkUpErrors.treatment)}\r\n                            type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.treatment) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Admission Date<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"date\" name=\"admissionDate\"\r\n                            value={checkUp.admissionDate} noValidate disabled /> :\r\n                            <input className=\"form-control border border-success\"\r\n                            type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Released Date<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"date\" name=\"releasedDate\"\r\n                            value={checkUp.releasedDate} noValidate disabled /> :\r\n                            <input className=\"form-control border border-success\"\r\n                            type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Additional Information\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <textarea className=\"form-control\" type=\"text\" name=\"addInfo\"\r\n                            value={checkUp.addInfo} rows=\"2\" noValidate /> :\r\n                            <textarea className={this.inputFieldClasses(checkUpErrors.addInfo)}\r\n                            type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                            onChange={this.onChangeCheckUp} rows=\"2\" noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.addInfo) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { submitted } = this.state;\r\n        const { groom } = this.state.record;\r\n        const { groomErrors } = this.state.errors;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Activity<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"activity\"\r\n                            value={groom.activity} noValidate /> :\r\n                            <input className={this.inputFieldClasses(groomErrors.activity)}\r\n                            type=\"text\" name=\"activity\" value={groom.activity}\r\n                            onChange={this.onChangeGroom} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(groomErrors.activity) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default InitiateTransactionModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination.js';\r\nimport AddCustomerModal from './AddCustomerModal.js';\r\nimport ViewCustomerModal from './ViewCustomerModal.js';\r\nimport InitiateTransactionModal from './InitiateTransactionModal.js'\r\n\r\nclass CustomersTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (customers) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = customers.length <= recordStartIndex + recordsPerPage ?\r\n        customers.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={customers[i].id} className=\"table-row\">\r\n                    <td>{customers[i].lastName + \", \" + customers[i].firstName + \" \" + customers[i].middleName}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{customers[i].emailAddress+customers[i].email}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{customers[i].mobileNumber}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">{customers[i].noOfPets}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewCustomerModal-\" + customers[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"d-none d-sm-inline ml-1\">View</span>\r\n                        </button>\r\n                        <button className=\"btn btn-outline-primary btn-sm\"\r\n                        data-toggle=\"modal\" data-target={\"#addTransactionModal-\" + customers[i].id}>\r\n                            <i className=\"fa fa-pencil-alt\"></i>\r\n                            <span className=\"d-none d-sm-inline ml-1\">Transact</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { customers, onRefresh, onSearch, searchValue, onClear, connected, connectionFailed, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { pets, retryPetsData, petConnected, petConnectionFailed } = this.props;\r\n        const { employees, retryEmployeesData, employeeConnected, employeeConnectionFailed } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addCustomerModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue} ></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th className=\"min-w-170px\">Name</th>\r\n                            <th className=\"d-none d-md-table-cell\">Email Address</th>\r\n                            <th className=\"d-none d-lg-table-cell w-155px\">Mobile Number</th>\r\n                            <th className=\"d-none d-sm-table-cell w-30px\">Pets</th>\r\n                            <th className=\"w-190px min-w-95px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            customers.length > 0 && connected ?\r\n                            this.renderItems(customers) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    customers.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={customers.length} /> : null\r\n                }\r\n                <AddCustomerModal onRefresh={onRefresh} customers={customers}\r\n                connected={connected} connectionFailed={connectionFailed} onSubmitForm={onSubmitForm} />\r\n                { customers.map(customer => \r\n                    <React.Fragment key={customer.id}>\r\n                        <ViewCustomerModal customer={customer} onRefresh={onRefresh} customers={customers}\r\n                        connected={connected} connectionFailed={connectionFailed} onSubmitForm={onSubmitForm} />\r\n                        <InitiateTransactionModal customer={customer}\r\n                        pets={pets} retryPetsData={retryPetsData}\r\n                        petConnected={petConnected} petConnectionFailed={petConnectionFailed}\r\n                        employees={employees} retryEmployeesData={retryEmployeesData}\r\n                        employeeConnected={employeeConnected} employeeConnectionFailed={employeeConnectionFailed} />\r\n                    </React.Fragment>\r\n                ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default CustomersTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport CustomersTable from './CustomersTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManageCustomers extends Component {\r\n    state = {\r\n        customers: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\",\r\n        pets: [],\r\n        petConnected: false,\r\n        petConnectionFailed: false,\r\n        employees: [],\r\n        employeeConnected: false,\r\n        employeeConnectionFailed: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n        this.getPetsData();\r\n        this.getEmployeesData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={3} activeId={5} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5\">\r\n                            <h3>Manage Customers</h3>\r\n                            <CustomersTable customers={this.state.customers}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} connectionFailed={this.state.connectionFailed} onSubmitForm={this.onSubmitForm}\r\n                            pets={this.state.pets} retryPetsData={this.retryPetsData}\r\n                            petConnected={this.state.petConnected} petConnectionFailed={this.state.petConnectionFailed}\r\n                            employees={this.state.employees} retryEmployeesData={this.retryEmployeesData}\r\n                            employeeConnected={this.state.employeeConnected} employeeConnectionFailed={this.state.employeeConnectionFailed} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.customers.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const connected = true;\r\n            this.setState({ customers, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchCustomer.php?search='+searchValue)\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const connected = true;\r\n            this.setState({ customers, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    retryPetsData = () => {\r\n        this.getPetsData();\r\n        const petConnected = false;\r\n        const petConnectionFailed = false;\r\n        this.setState({ petConnected, petConnectionFailed })\r\n    }\r\n\r\n    getPetsData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php')\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const petConnected = true\r\n            this.setState({ pets, petConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const petConnectionFailed = true;\r\n            this.setState({ petConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryEmployeesData = () => {\r\n        this.getEmployeesData();\r\n        const employeeConnected = false;\r\n        const employeeConnectionFailed = false;\r\n        this.setState({ employeeConnected, employeeConnectionFailed })\r\n    }\r\n\r\n    getEmployeesData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const employeeConnected = true\r\n            this.setState({ employees, employeeConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const employeeConnectionFailed = true;\r\n            this.setState({ employeeConnectionFailed });\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManageCustomers;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: ' ',\r\n            birthdate: ' ',\r\n            ownerId: ' ',\r\n            petClass: ' ',\r\n            pcciRegNo: ''\r\n        },\r\n        petClasses:\r\n        [ 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Iguana', 'Jaguar', 'Lizard', 'Mantis', 'Monkey', 'Newt', 'Octopus', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake','Spider', 'Tortoise', 'Turtle', 'Whale'],\r\n        search: false,\r\n        searchValue: '',\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        if(name === \"searchValue\") {\r\n            record.ownerId = '';\r\n            errors.ownerId = ' ';\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertPet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        this.onGenerateId();\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.petName = '';\r\n        record.birthdate = '';\r\n        record.ownerId = '';\r\n        record.petClass = '';\r\n        record.pcciRegNo = '';\r\n\r\n        errors.petName = 'Pet Name is required';\r\n        errors.birthdate = 'Birthdate is required';\r\n        errors.ownerId = 'Owner Id is required'\r\n        errors.petClass = 'Pet Class is required';\r\n        errors.pcciRegNo = '';\r\n\r\n        const searchValue = '';\r\n\r\n        this.setState({ record, errors, searchValue, submitError, added, failed });\r\n    }\r\n\r\n    onToggleSearch = e => {\r\n        e.preventDefault();\r\n        const search = !this.state.search;\r\n        const searchValue = '';\r\n        this.setState({ search, searchValue });\r\n    }\r\n\r\n    onClearSearch = e => {\r\n        e.preventDefault();\r\n        const searchValue = '';\r\n        this.setState({ searchValue });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, search, searchValue, submitted, added, failed } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addPetModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"addPetModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addPetModalTitle\">Add Pet</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>\r\n                                                        Generate\r\n                                                    </button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                            value={record.petName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.petName)}\r\n                                            type=\"text\" name=\"petName\" value={record.petName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"ownerId\"\r\n                                                        value={record.ownerId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.records.length > 0 ?\r\n                                                                this.props.records.filter(row =>\r\n                                                                    (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                    .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                    searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.ownerId)}\r\n                                                            name=\"ownerId\" value={record.ownerId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.records.length > 0 ?\r\n                                                                    this.props.records.filter(row =>\r\n                                                                        (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                        .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                        searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={searchValue} onChange={this.onChangeState}\r\n                                                        placeholder=\"Search by Owner Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.ownerId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"petClass\"\r\n                                            value={record.petClass} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.petClass)}\r\n                                            name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                            value={record.pcciRegNo} maxLength=\"6\" placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                            type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                            onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted && this.props.connected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const connected = true;\r\n            this.setState({ records, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddPetModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            pcciRegNo: ''\r\n        },\r\n        petClasses:\r\n        [ 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Iguana', 'Jaguar', 'Lizard', 'Mantis', 'Monkey', 'Newt', 'Octopus', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake','Spider', 'Tortoise', 'Turtle', 'Whale'],\r\n        search: false,\r\n        searchValue: '',\r\n        deleteState: false,\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { pet } = this.props;\r\n        const record = {...this.state.record};\r\n        \r\n        record.id = pet.id;\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.ownerId = pet.ownerId;\r\n        record.petClass = pet.petClass;\r\n        record.lastVisit = pet.lastVisit;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        if(name === \"searchValue\") {\r\n            record.ownerId = '';\r\n            errors.ownerId = ' ';\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updatePet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const deleteState = false;\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { pet } = this.props;\r\n\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.ownerId = pet.ownerId;\r\n        record.petClass = pet.petClass;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        errors.petName = '';\r\n        errors.birthdate = '';\r\n        errors.ownerId = '';\r\n        errors.petClass = '';\r\n        errors.pcciRegNo = '';\r\n\r\n        const searchValue = '';\r\n\r\n        this.setState({ record, errors, searchValue, deleteState, submitError, updated, failed });\r\n    }\r\n\r\n    onToggleSearch = e => {\r\n        e.preventDefault();\r\n        const search = !this.state.search;\r\n        this.setState({ search });\r\n    }\r\n\r\n    onClearSearch = e => {\r\n        e.preventDefault();\r\n        const searchValue = '';\r\n        this.setState({ searchValue });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, search, searchValue, deleteState, submitted, updated, failed } = this.state;\r\n        const { pet } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewPetModal-\" + pet.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewPetModalTitle-\" + pet.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewPetModalTitle-\" + pet.id}>View Pet</h5>\r\n                                {\r\n                                    !submitted && this.props.connected ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            placeholder=\"Please click 'Generate'\"\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                            value={record.petName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.petName)}\r\n                                            type=\"text\" name=\"petName\" value={record.petName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.customerConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"ownerId\"\r\n                                                        value={record.ownerId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.records.length > 0 ?\r\n                                                                this.props.records.filter(row =>\r\n                                                                    (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                    .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                    searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.ownerId)}\r\n                                                            name=\"ownerId\" value={record.ownerId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.records.length > 0 ?\r\n                                                                    this.props.records.filter(row =>\r\n                                                                        (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                        .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                        searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={searchValue} onChange={this.onChangeState}\r\n                                                        placeholder=\"Search by Owner Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.ownerId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.customerConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"petClass\"\r\n                                            value={record.petClass} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.petClass)}\r\n                                            name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                            value={record.pcciRegNo} maxLength=\"6\" placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                            type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                            onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            !this.state.submitted && this.props.customerConnected ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                {\r\n                    this.props.connected ?\r\n                    <button className=\"btn btn-danger w-auto mr-1\"\r\n                    onClick={this.onReset}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button> :\r\n                    <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                }\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                data-dismiss=\"modal\" onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n\r\n        this.props.onSubmitForm();\r\n        \r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deletePet.php', record)\r\n        .then(onRefresh);\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewPetModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination.js';\r\nimport AddPetModal from './AddPetModal.js';\r\nimport ViewPetModal from './ViewPetModal.js';\r\n\r\nclass PetsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (pets) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = pets.length <= recordStartIndex + recordsPerPage ?\r\n        pets.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={pets[i].id}>\r\n                    <td>{pets[i].ownerLastName + \", \" + pets[i].ownerFirstName + \" \" + pets[i].ownerMiddleName}</td>\r\n                    <td>{pets[i].petName}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{this.formatDate(pets[i].birthdate)}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{pets[i].petClass}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">\r\n                        {\r\n                            pets[i].lastVisit === null ?\r\n                            \"Not visiting yet\" :\r\n                            this.formatDate(pets[i].lastVisit)\r\n                        }\r\n                    </td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewPetModal-\" + pets[i].id}>\r\n                            <i className=\"fa fa-eye\"></i><span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { pets, onRefresh, onSearch, searchValue, onClear, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                        data-toggle=\"modal\" data-target=\"#addPetModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Owner Name</th>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Birthdate</th>\r\n                            <th className=\"d-none d-md-table-cell\">Pet Class</th>\r\n                            <th className=\"d-none d-sm-table-cell\">Last Visit</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            pets.length > 0 && connected ?\r\n                            this.renderItems(pets) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    pets.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={pets.length} /> : null\r\n                }\r\n                <AddPetModal onRefresh={onRefresh} onSubmitForm={onSubmitForm} records={this.props.customers} retryCustomersData={this.props.retryCustomersData}\r\n                connected={this.props.customerConnected} connectionFailed={this.props.customerConnectionFailed} />\r\n                { pets.map(pet => <ViewPetModal key={pet.id} pet={pet} onRefresh={onRefresh} connected={connected}\r\n                onSubmitForm={onSubmitForm} records={this.props.customers} retryCustomersData={this.props.retryCustomersData}\r\n                customerConnected={this.props.customerConnected} customerConnectionFailed={this.props.customerConnectionFailed} /> ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default PetsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport PetsTable from './PetsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManagePets extends Component {\r\n    state = {\r\n        pets: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\",\r\n        customers: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false\r\n    }\r\n\r\n    componentDidMount() {        \r\n        this.getData();\r\n        this.getCustomersData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar  sourceId={3} activeId={6} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Pets</h3>\r\n                            <PetsTable pets={this.state.pets}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} onSubmitForm={this.onSubmitForm}\r\n                            customers={this.state.customers} retryCustomersData={this.retryCustomersData}\r\n                            customerConnected={this.state.customerConnected} customerConnectionFailed={this.state.customerConnectionFailed} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.pets.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php')\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchPet.php?search='+searchValue)\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const customerConnected = true;\r\n            this.setState({ customers, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed });\r\n        });\r\n    }\r\n}\r\n \r\nexport default ManagePets;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddEmployeeModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            empType: '',\r\n            empPassword: ''\r\n        },\r\n        confirmEmpPassword: '',\r\n        errors:\r\n        {\r\n            empLastName: ' ',\r\n            empFirstName: ' ',\r\n            empMiddleName: '',\r\n            empType: ' ',\r\n            empPassword: ' ',\r\n            confirmEmpPassword: ' ',\r\n        },\r\n        empTypes: ['Admin', 'Groomer', 'Veterinarian' ],\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"empLastName\") {\r\n            value = this.toProperCase(value);\r\n        }\r\n\r\n        if(name === \"empFirstName\" || name === \"empMiddleName\") {\r\n            value = this.toAbsProperCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmEmpPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'empLastName':\r\n                errors.empLastName= properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empFirstName':\r\n                errors.empFirstName=    properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 24 ?\r\n                                        \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empMiddleName':\r\n                errors.empMiddleName=   value.length > 24 ?\r\n                                        \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empType':\r\n                errors.empType= properLength === 0 ?\r\n                                \" \" : \"\"\r\n                break;\r\n\r\n            case 'empPassword':\r\n                errors.empPassword=         properLength === 0 ? \" \" :\r\n                                            properLength < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmEmpPassword=  value === confirmEmpPassword ? \r\n                                            confirmEmpPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmEmpPassword':\r\n                errors.confirmEmpPassword=  properLength === 0 ? \" \" :\r\n                                            value === record.empPassword ?\r\n                                            properLength < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.empLastName = this.removeLastSpace(record.empLastName);\r\n            record.empFirstName = this.removeLastSpace(record.empFirstName);\r\n            record.empMiddleName = this.removeLastSpace(record.empMiddleName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertEmployee.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(value.length > 0) {\r\n                    errorItems.push (\r\n                        <div key={errorItems.length}\r\n                            className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                            <span>{value}</span>\r\n                        </div>\r\n                    )\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const confirmEmpPassword = '';\r\n        const submitError = false;\r\n        const submitted = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.empLastName = '';\r\n        record.empFirstName = '';\r\n        record.empMiddleName = ''\r\n        record.empType = '';\r\n        record.empPassword = '';\r\n\r\n        errors.empLastName = ' ';\r\n        errors.empFirstName = ' ';\r\n        errors.empMiddleName = ''\r\n        errors.empType = ' ';\r\n        errors.empPassword = ' ';\r\n        errors.confirmEmpPassword = ' ';\r\n\r\n        this.setState({ record, confirmEmpPassword, errors, submitError, submitted, added, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmEmpPassword, empTypes, submitted, added, failed } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addEmployeeModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"addEmployeeModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addEmployeeModalTitle\">Add Employee</h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>Generate</button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empLastName\"\r\n                                            value={record.empLastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empLastName)}\r\n                                            type=\"text\" name=\"empLastName\" value={record.empLastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empLastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empFirstName\"\r\n                                            value={record.empFirstName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empFirstName)}\r\n                                            type=\"text\" name=\"empFirstName\" value={record.empFirstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empFirstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empMiddleName\"\r\n                                            value={record.empMiddleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empMiddleName)}\r\n                                            type=\"text\" name=\"empMiddleName\" value={record.empMiddleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empMiddleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"empType\"\r\n                                            value={record.empType} onChange={this.onChangeRecord} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    empTypes.length > 0 ?\r\n                                                    empTypes.filter( value =>\r\n                                                        (value !== \"Admin\" && this.props.empType === \"Admin\") ||\r\n                                                        this.props.empType === \"Master Admin\"\r\n                                                    ).map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.empType)}\r\n                                            name=\"empType\" value={record.empType} onChange={this.onChangeRecord} noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    empTypes.length > 0 ?\r\n                                                    empTypes.filter( value =>\r\n                                                        (value !== \"Admin\" && this.props.empType === \"Admin\") ||\r\n                                                        this.props.empType === \"Master Admin\"\r\n                                                    ).map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\"></div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"empPassword\"\r\n                                            value={record.empPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empPassword)}\r\n                                            type=\"password\" name=\"empPassword\" value={record.empPassword}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmEmpPassword\"\r\n                                            value={confirmEmpPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmEmpPassword)}\r\n                                            type=\"password\" name=\"confirmEmpPassword\" value={confirmEmpPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmEmpPassword) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    <button className=\"btn btn-primary w-auto mr-1\"\r\n                                    onClick={this.onSubmit}>\r\n                                        <i className=\"fa fa-sign-in-alt\"></i>\r\n                                        <span className=\"ml-1\">Submit</span>\r\n                                    </button>\r\n                                    <button className=\"btn btn-danger w-auto\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-eraser\"></i>\r\n                                        <span className=\"ml-1\">Reset</span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddEmployeeModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewEmployeeModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            empType: '',\r\n            empPassword: ''\r\n        },\r\n        confirmEmpPassword: '',\r\n        errors:\r\n        {\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            empType: '',\r\n            empPassword: '',\r\n            confirmEmpPassword: ' ',\r\n        },\r\n        empTypes: ['Admin', 'Groomer', 'Veterinarian' ],\r\n        passwordState:\r\n        {\r\n            inputType: 'password',\r\n            buttonText: 'Show'\r\n        },\r\n        deleteState: false,\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { employee } = this.props;\r\n        const record = {...this.state.record};\r\n\r\n        record.id = employee.id;        \r\n        record.empLastName = employee.empLastName;\r\n        record.empFirstName = employee.empFirstName;\r\n        record.empMiddleName = employee.empMiddleName;\r\n        record.empType = employee.empType;\r\n        record.empPassword = employee.empPassword;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"empLastName\") {\r\n            value = this.toProperCase(value);\r\n        }\r\n\r\n        if(name === \"empFirstName\" || name === \"empMiddleName\") {\r\n            value = this.toAbsProperCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmEmpPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'empLastName':\r\n                errors.empLastName= properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empFirstName':\r\n                errors.empFirstName=    properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 24 ?\r\n                                        \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empMiddleName':\r\n                errors.empMiddleName=   value.length > 24 ?\r\n                                        \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empType':\r\n                errors.empType= properLength === 0 ?\r\n                                \" \" : \"\"\r\n                break;\r\n\r\n            case 'empPassword':\r\n                errors.empPassword=         properLength === 0 ? \" \" :\r\n                                            properLength < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmEmpPassword=  value === confirmEmpPassword ? \r\n                                            confirmEmpPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmEmpPassword':\r\n                errors.confirmEmpPassword=  properLength === 0 ? \" \" :\r\n                                            value === record.empPassword ?\r\n                                            properLength < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.empLastName = this.removeLastSpace(record.empLastName);\r\n            record.empFirstName = this.removeLastSpace(record.empFirstName);\r\n            record.empMiddleName = this.removeLastSpace(record.empMiddleName);\r\n\r\n            if(this.state.passwordState.inputType === \"text\") {\r\n                this.onTogglePassword()\r\n            }\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateEmployee.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const confirmEmpPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmEmpPassword = ' '\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ errors, confirmEmpPassword, submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(value.length > 0) {\r\n                    errorItems.push (\r\n                        <div key={errorItems.length}\r\n                            className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                            <span>{value}</span>\r\n                        </div>\r\n                    )\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const { employee } = this.props;\r\n\r\n        const confirmEmpPassword = '';\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { passwordState } = this.state;\r\n\r\n        passwordState.buttonText = \"Show\";\r\n        passwordState.inputType = \"password\";\r\n        \r\n        record.empLastName = employee.empLastName;\r\n        record.empFirstName = employee.empFirstName;\r\n        record.empMiddleName = employee.empMiddleName;\r\n        record.empType = employee.empType;\r\n        record.empPassword = employee.empPassword;\r\n\r\n        errors.empLastName = '';\r\n        errors.empFirstName = '';\r\n        errors.empMiddleName = ''\r\n        errors.empType = '';\r\n        errors.empPassword = '';\r\n        errors.confirmEmpPassword = ' ';\r\n\r\n        this.setState({ record, confirmEmpPassword, errors, submitError, updated, failed });\r\n    }\r\n\r\n    onTogglePassword = () => {\r\n        const passwordState = {...this.state.passwordState};\r\n        if(passwordState.inputType === 'password') {\r\n            passwordState.inputType = 'text';\r\n            passwordState.buttonText = 'Hide';\r\n        }\r\n        else {\r\n            passwordState.inputType = 'password';\r\n            passwordState.buttonText = 'Show';\r\n        }\r\n        this.setState({ passwordState });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmEmpPassword, empTypes, passwordState, deleteState, submitted, updated, failed } = this.state;\r\n        const { employee, empType } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewEmployeeModal-\" + employee.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"viewEmployeeModalTitle-\" + employee.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewEmployeeModalTitle-\" + employee.id}>View Employee</h5>\r\n                                {\r\n                                    !submitted && this.props.connected ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empLastName\"\r\n                                            value={record.empLastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empLastName)}\r\n                                            type=\"text\" name=\"empLastName\" value={record.empLastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empLastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empFirstName\"\r\n                                            value={record.empFirstName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empFirstName)}\r\n                                            type=\"text\" name=\"empFirstName\" value={record.empFirstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empFirstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empMiddleName\"\r\n                                            value={record.empMiddleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empMiddleName)}\r\n                                            type=\"text\" name=\"empMiddleName\" value={record.empMiddleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empMiddleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            record.empType === empType ?\r\n                                            <input className={this.inputFieldClasses(errors.empType)}\r\n                                            name=\"empType\" value={record.empType} onChange={this.onChangeRecord}\r\n                                            noValidate disabled /> :\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"empType\"\r\n                                            value={record.empType} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    empTypes.length > 0 ?\r\n                                                    empTypes.filter( value =>\r\n                                                        (value !== \"Admin\" && this.props.empType === \"Admin\") ||\r\n                                                        this.props.empType === \"Master Admin\"\r\n                                                    ).map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.empType)}\r\n                                            name=\"empType\" value={record.empType} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    empTypes.length > 0 ?\r\n                                                    empTypes.filter( value =>\r\n                                                        (value !== \"Admin\" && this.props.empType === \"Admin\") ||\r\n                                                        this.props.empType === \"Master Admin\"\r\n                                                    ).map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\"></div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type={passwordState.inputType} name=\"empPassword\"\r\n                                                value={record.empPassword} noValidate disabled /> :\r\n                                                <React.Fragment>\r\n                                                    <input className={\"zi-10 \" + this.inputFieldClasses(errors.empPassword)}\r\n                                                        type={passwordState.inputType} name=\"empPassword\" value={record.empPassword}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onTogglePassword}>\r\n                                                            {passwordState.buttonText}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </React.Fragment>\r\n\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.empPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmEmpPassword\"\r\n                                            value={confirmEmpPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmEmpPassword)}\r\n                                            type=\"password\" name=\"confirmEmpPassword\" value={confirmEmpPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmEmpPassword) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n    \r\n    defaultButtons = () => {\r\n        return(\r\n            !this.state.submitted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                {\r\n                    this.props.connected ?\r\n                    <button className=\"btn btn-danger w-auto mr-1\"\r\n                    onClick={this.onReset}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button> :\r\n                    <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                }\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                data-dismiss=\"modal\" onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n        \r\n        this.props.onSubmitForm();\r\n\r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deleteEmployee.php', record)\r\n        .then(onRefresh);\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewEmployeeModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination';\r\nimport AddEmployeeModal from './AddEmployeeModal';\r\nimport ViewEmployeeModal from './ViewEmployeeModal';\r\n\r\nclass EmployeesTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (employees) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        const { empType, id } = this.props;\r\n        let items = [];\r\n        const recordStopIndex = employees.length <= recordStartIndex + recordsPerPage ?\r\n        employees.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={employees[i].id} className=\"table-row\">\r\n                    <td>{employees[i].empLastName + \", \" + employees[i].empFirstName + \" \" + employees[i].empMiddleName}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">{employees[i].empType}</td>\r\n                    <td>\r\n                        {\r\n                            empType === 'Admin' && (employees[i].empType === 'Master Admin' ||\r\n                            (employees[i].empType === 'Admin' && employees[i].id !== id)) ?\r\n                            <button className=\"btn btn-outline-secondary btn-sm mr-1\" disabled>\r\n                                <i className=\"fa fa-eye\"></i>\r\n                                <span className=\"ml-1\">View</span>\r\n                            </button> :\r\n                            <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                            data-toggle=\"modal\" data-target={\"#viewEmployeeModal-\" + employees[i].id}>\r\n                                <i className=\"fa fa-eye\"></i>\r\n                                <span className=\"ml-1\">View</span>\r\n                            </button>\r\n                        }\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n    \r\n    render() {\r\n        const { employees, onRefresh, onSearch, searchValue, onClear, empType, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addEmployeeModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue} ></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Employee Name</th>\r\n                            <th className=\"d-none d-sm-table-cell\">Employee Type</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            employees.length > 0 && connected ?\r\n                            this.renderItems(employees) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    employees.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={employees.length} /> : null\r\n                }\r\n                <AddEmployeeModal onRefresh={onRefresh} empType={empType} onSubmitForm={onSubmitForm} />\r\n                { employees.map(employee => <ViewEmployeeModal key={employee.id} employee={employee}\r\n                onRefresh={onRefresh} empType={empType} connected={connected} onSubmitForm={onSubmitForm} /> ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default EmployeesTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport EmployeesTable from './EmployeesTable.js';\r\nimport Footer from '../../Footer.js';\r\n\r\nclass ManageEmployees extends Component {\r\n    state = {\r\n        employees: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onBackToLogin = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    renderForbidden = () => {\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row min-h-full justify-content-center align-items-center\">\r\n                    <div className=\"col-10 col-md-8 col-lg-6 form-light\">\r\n                        <div className=\"alert alert-warning text-warning text-center my-3 mx-1 py-4\">\r\n                            <div className=\"d-flex justify-content-center align-items-center\">\r\n                                <i className=\"fa fa-exclamation fa-lg\"></i>\r\n                                <span className=\"ml-2\">\r\n                                    <h2 className=\"font-weight-normal\">Forbidden Access</h2>\r\n                                </span>\r\n                            </div>\r\n                            <h5 className=\"font-weight-light\">\r\n                                Please login the Master account first.\r\n                            </h5>\r\n                        </div>\r\n                        <div className=\"text-center mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                onClick={this.onBackToLogin}>\r\n                                Back to Login\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        const { state } = history.location;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={3} activeId={7} history={this.props.history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark py-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Employees</h3>\r\n                            <EmployeesTable employees={this.state.employees}\r\n                            empType={state.empType} id={state.id}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.employees.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : this.renderForbidden() }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const connected = true;\r\n            this.setState({ employees, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchEmployee.php?search='+searchValue)\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const connected = true;\r\n            this.setState({ employees, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManageEmployees;","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport React from 'react';\n\nimport './App.css';\n\nimport Index from './components/Index/Index.js';\n\nimport Customer from './components/Customer/Customer.js';\nimport ViewTransactions from './components/Customer/Transactions/ViewTransactions.js';\nimport ViewAdmission from './components/Customer/Admission/ViewAdmission.js';\nimport CustomerManagePets from './components/Customer/Pets/ManagePets.js';\nimport AboutUs from './components/Customer/AboutUs.js';\n\nimport Admin from './components/Admin/Admin.js';\nimport ManageTransactions from './components/Admin/Transactions/ManageTransactions.js';\nimport ManageAdmission from './components/Admin/Admission/ManageAdmission.js';\nimport ManageCustomers from './components/Admin/Customers/ManageCustomers';\nimport ManagePets from './components/Admin/Pets/ManagePets';\nimport ManageEmployees from './components/Admin/Employees/ManageEmployees.js';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/wiggly-tails\" component={Index} />\n\n        <Route exact path=\"/wiggly-tails/customer\" component={Customer} />\n        <Route path=\"/wiggly-tails/customer/view-transactions\" component={ViewTransactions} />\n        <Route path=\"/wiggly-tails/customer/view-admission\" component={ViewAdmission} />\n        <Route path=\"/wiggly-tails/customer/manage-pets\" component={CustomerManagePets} />\n        <Route path=\"/wiggly-tails/customer/about-us\" component={AboutUs} />\n\n        <Route exact path=\"/wiggly-tails/admin\" component={Admin} />\n        <Route path=\"/wiggly-tails/admin/manage-transactions\" component={ManageTransactions} />\n        <Route path=\"/wiggly-tails/admin/manage-admission\" component={ManageAdmission} />\n        <Route path=\"/wiggly-tails/admin/manage-customers\" component={ManageCustomers} />\n        <Route path=\"/wiggly-tails/admin/manage-pets\" component={ManagePets} />\n        <Route path=\"/wiggly-tails/admin/manage-employees\" component={ManageEmployees} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.js';\nimport 'bootstrap-table/dist/bootstrap-table.css';\nimport 'bootstrap-table/dist/bootstrap-table.js'\nimport 'jquery/dist/jquery.js';\nimport 'jquery/dist/jquery.slim.js';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport '@popperjs/core/dist/cjs/popper.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}