{"version":3,"sources":["img/wiggly-tails-icon.png","components/AboutUsModal.js","components/Index/Navbar.js","img/consultation.png","img/treatment-vaccination.png","img/confinement.png","img/grooming.png","components/Index/IndexCarousel.js","components/Index/Forms/CustomerLoginForm.js","components/Index/Forms/EmployeeLoginForm.js","components/Index/Forms/RegistrationModal.js","components/Footer.js","components/Index/Index.js","components/Customer/CustomerNavbar.js","components/Customer/UpdateAccountInfoModal.js","components/Customer/Forbidden.js","components/Customer/Customer.js","components/Customer/Transactions/ViewTransactionModal.js","components/TablePagination.js","components/Customer/Transactions/TransactionsTable.js","components/Customer/Transactions/ViewTransactions.js","components/Customer/Admission/ViewAdmissionModal.js","components/Customer/Admission/AdmissionTable.js","components/Customer/Admission/ViewAdmission.js","components/Customer/Pets/AddPetModal.js","components/Customer/Pets/ViewPetModal.js","components/Customer/Pets/PetsTable.js","components/Customer/Pets/ManagePets.js","components/Admin/Employees/ManageEmployeesModal.js","components/Admin/AdminNavbar.js","components/Admin/Forbidden.js","components/Admin/Admin.js","components/Admin/Transactions/AddTransactionModal.js","components/Admin/Transactions/ViewTransactionModal.js","components/Admin/Transactions/TransactionsTable.js","components/Admin/Transactions/ManageTransactions.js","components/Admin/Admission/AddAdmissionModal.js","components/Admin/Admission/ViewAdmissionModal.js","components/Admin/Admission/AdmissionTable.js","components/Admin/Admission/ManageAdmission.js","components/Admin/Customers/AddCustomerModal.js","components/Admin/Customers/ViewCustomerModal.js","components/Admin/Customers/InitiateTransactionModal.js","components/Admin/Customers/CustomersTable.js","components/Admin/Customers/ManageCustomers.js","components/Admin/Pets/AddPetModal.js","components/Admin/Pets/ViewPetModal.js","components/Admin/Pets/PetsTable.js","components/Admin/Pets/ManagePets.js","components/Admin/Employees/AddEmployeeModal.js","components/Admin/Employees/ViewEmployeeModal.js","components/Admin/Employees/EmployeesTable.js","components/Admin/Employees/ManageEmployees.js","App.js","index.js"],"names":["AboutUsModal","state","onVisitFBPage","window","open","Fragment","className","id","tabIndex","role","data-backdrop","aria-labelledby","aria-hidden","data-dismiss","src","allowfullscreen","tabindex","title","onClick","this","Component","Navbar","navs","text","link","items","linkItemClasses","props","activeId","sourceId","classes","dropdownItemClasses","switchActiveId","href","wiggy_tails_icon","alt","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","map","nav","length","item","IndexCarousel","data-ride","data-slide-to","consultation","treatmentVaccination","confinement","grooming","data-slide","CustomerLoginForm","record","emailAddress","email","userPassword","errors","submitError","loginError","onChangeRecord","e","target","name","value","removeSpaces","setState","currentState","onCheckRecordErrors","onSubmit","preventDefault","records","validForm","result","filter","row","toLowerCase","history","replace","verified","valid","Object","values","forEach","renderRecordErrors","errorMsg","renderLoginError","onReset","inputFieldClasses","i","charAt","connected","noValidate","onChange","connectionFailed","getData","EmployeeLoginForm","empLastName","empPassword","toUpperCase","toAbsProperCase","propervalue","isCapital","maxLength","RegistrationModal","lastName","firstName","middleName","homeAddress","lotBlock","street","subdivision","barangay","municipality","province","birthdate","mobileNumber","pet","petName","petClass","lastVisit","pcciRegNo","confirmUserPassword","homeAddressErrors","petErrors","petClasses","submitted","registered","failed","onGenerateId","generateCharacters","onChangeState","toProperCase","properLength","isNumeric","isValidEmail","emailAddressExists","spaceFound","customers","RegExp","test","onChangeHomeAddress","onCheckHomeAddressErrors","onChangePet","onCheckPetErrors","console","log","removeLastSpace","mbNo","push","substring","join","onRegister","submission","axios","post","then","postSubmit","catch","error","failedSubmit","setTimeout","renderErrors","errorItems","isObject","data","renderHomeAddressErrors","characters","charactersLength","Math","floor","random","removeMultipleSpaces","match","disabled","placeholder","Footer","EmployeeLogin","customerConnected","customerConnectionFailed","employees","employeeConnected","employeeConnectionFailed","componentDidMount","getCustomersData","getEmployeesData","retryCustomersData","retryEmployeesData","get","res","CustomerNavbar","onClickLink","location","onClickBrand","onClickSignOut","UpdateAccountInfoModal","passwordState","inputType","buttonText","updated","customer","onRefresh","onTogglePassword","onSubmitForm","split","defaultButtons","deleteState","deleteButtons","Forbidden","onBackToLogin","Customer","searchData","renderContent","formatHomeAddress","formatDate","searchValue","dateValue","day","Date","getDate","month","getMonth","getFullYear","ViewTransactionModal","transType","transDate","petId","customerId","customerLastName","customerFirstName","customerMiddleName","customerName","petWeight","remarks","empId","empFirstName","empMiddleName","checkUp","findings","treatment","admissionDate","releasedDate","addInfo","groom","activity","checkUpConnected","checkUpConnectionFailed","groomConnected","groomConnectionFailed","transaction","getCheckUpData","getGroomData","onViewAdmission","transId","checkUpForm","rows","retryCheckUpData","groomForm","retryGroomData","TablePagination","onClickPage","page","recordStartIndex","recordsPerPage","activePage","setPage","onClickPagePrev","onClickPageNext","noOfPages","renderPagination","totalRecords","pages","ceil","indexPage","stopPage","getPageClasses","getPrevPageClasses","renderBackPage","renderContinuePage","getNextPageClasses","pageLowerLimit","pageNo","pageUpperLimit","TransactionsTable","renderItems","transactions","recordStopIndex","formatTransType","onSearch","onClear","ViewTransactions","ViewAdmissionModal","content","admission","AdmissionTable","colSpan","ViewAdmission","admissionId","AddPetModal","ownerId","added","ViewPetModal","deleting","deleted","onToggleDelete","onDelete","deletion","postDelete","failedDelete","document","getElementById","click","PetsTable","pets","ManagePets","ManageEmployeesModal","adminId","adminPassword","empType","handleKeyPress","which","renderModal","onKeyPress","AdminNavbar","Admin","AddTransactionModal","checkUpErrors","groomErrors","search","employee","currentDate","getCurrentDate","dateObj","currentMonth","currentDay","toSentenceCase","onTogglePetSearch","onChangeCheckUp","onCheckCheckUpErrors","onChangeGroom","onCheckGroomErrors","onToggleCustomerSearch","onClearCustomerSearch","onChangeCustomerSearch","onClearPetSearch","onChangePetSearch","onToggleEmployeeSearch","onClearEmployeeSearch","onChangeEmployeeSearch","petConnected","petConnectionFailed","retryPetsData","empName","prevVisit","petRecord","onClearRecordCustomerId","onClearRecordPetId","customerIdExists","onClearRecordEmpId","empIdExists","petIdExists","ManageTransactions","getPetsData","AddAdmissionModal","ManageAdmission","AddCustomerModal","ViewCustomerModal","InitiateTransactionModal","CustomersTable","noOfPets","ManageCustomers","onToggleSearch","onClearSearch","ownerLastName","ownerFirstName","ownerMiddleName","AddEmployeeModal","confirmEmpPassword","empTypes","ViewEmployeeModal","EmployeesTable","ManageEmployees","renderForbidden","App","exact","path","component","Index","CustomerManagePets","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d82eadfa.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","import React, { Component } from 'react';\r\n\r\nclass AboutUsModal extends Component {\r\n    state = { }\r\n\r\n    onVisitFBPage = () => {\r\n        window.open(\"https://www.facebook.com/wigglytailsvetclinic/\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"aboutUsModal\" tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"aboutUsModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"aboutUsModalTitle\">About us</h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <div className=\"row mx-2 mt-4\">\r\n                                    <div className=\"col-12 pr-1\">\r\n                                        <h5 className=\"px-2 text-center\">\r\n                                            Dr. Roma Ador Dionisio-Pajarillo's (DVM)\r\n                                            <br />Veterinary Clinic - Wiggly Tails\r\n                                        </h5>\r\n                                        <h6 className=\"px-3 font-weight-normal\">\r\n                                            <span className=\"ml-4\">Here</span> at Wiggly Tails Veterinary Clinic,\r\n                                            we understand the special role of your pet as another part of your family member\r\n                                            and it is our commitment to provide quality care to make them comfortable\r\n                                            and healthy for a lifetime. Our services and facilities are designed for routine preventive care,\r\n                                            early detection and treatment of diseases, emergency and surgical care.\r\n                                        </h6>\r\n                                        <h6 className=\"px-3 text-center pb-3 bottom-border-light\">\r\n                                            <b>Open from Monday to Saturday at 9:00am to 5:00pm</b>\r\n                                        </h6>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                        <h5 className=\"mb-3\">Offers</h5>\r\n                                        <h6 className=\"pl-3 bottom-border-light font-weight-normal\">\r\n                                            <ul className=\"row\">\r\n                                                <li className=\"col-sm-4 px-0\">Consultation</li>\r\n                                                <li className=\"col-sm-4 px-0\">Treatment</li>\r\n                                                <li className=\"col-sm-4 px-0\">Vaccination</li>\r\n                                                <li className=\"col-sm-4 px-0\">Confinement</li>\r\n                                                <li className=\"col-sm-4 px-0\">Grooming</li>\r\n                                            </ul>\r\n                                        </h6>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                        <h5 className=\"mb-3\">Clinic Address</h5>\r\n                                        <h6 className=\"pl-3 font-weight-normal\">\r\n                                            Santa Rosa - Tarlac Road, Brgy. Sta Cruz, Zaragoza, Nueva Ecija\r\n                                        </h6>\r\n                                        <div className=\"row justify-content-center align-items-center bottom-border-light mt-3 pb-3\">\r\n                                            <iframe src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3845.67146241087!2d120.8062437152265!3d15.44827345988108!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3396d98621cad99f%3A0x8fe641df89530131!2sWiggly%20Tails%20Veterinary%20Clinic%20and%20Pet%20Supplies!5e0!3m2!1sen!2sph!4v1610805951302!5m2!1sen!2sph\"\r\n                                            allowfullscreen=\"\" aria-hidden=\"false\" tabindex=\"0\" title=\"clinic-address\"\r\n                                            className=\"col-12 border-0 h-400px\" />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                        <h5 className=\"mb-3\">Contact Information</h5>\r\n                                        <h6 className=\"pl-3 bottom-border-light font-weight-normal\">\r\n                                            <ul className=\"list-unstyled list-lh-2\">\r\n                                                <li><b>Mobile Number: </b>+63923-119-0591</li>\r\n                                                <li><b>Gmail: </b>wigglytailsvetclinic@gmail.com</li>\r\n                                                <li><b>Facebook: </b>@wigglytailsvetclinic\r\n                                                    <button className=\"btn btn-primary btn-sm p-0 px-1 ml-1\"\r\n                                                    onClick={this.onVisitFBPage}>Visit</button>\r\n                                                </li>\r\n                                            </ul>\r\n                                        </h6>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                        <h5 className=\"mb-3\">Developers</h5>\r\n                                        <h6 className=\"pl-3 bottom-border-light font-weight-normal\">\r\n                                            <ul className=\"list-unstyled list-lh-1\">\r\n                                                <li><b>Main Developer: </b>Casindad, Mc Allain Sanchez (BSIT Student)</li>\r\n                                                <li><b>Database Source: </b>Dr. Roma Ador Dionisio-Pajarillo (Veterinary Clinic Owner)</li>\r\n                                                <li><b>Interviewer: </b>Dela Torre, Emmanuel (BSIT Student)</li>\r\n                                                <li className=\"d-block d-md-flex\">\r\n                                                    <b className=\"mr-2\">Others: </b>\r\n                                                    <ul className=\"list-unstyled list-lh-1\">\r\n                                                        <li>Enriquez, Ryan Tonido (BSIT Student)</li>\r\n                                                        <li>Flores, Jaizel Ann Noble (BSIT Student)</li>\r\n                                                        <li>Ruiz, Jehiele Jeff (BSIT Student)</li>\r\n                                                    </ul>\r\n                                                </li>\r\n                                            </ul>\r\n                                        </h6>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                        <h5 className=\"mb-3\">Libraries and Frameworks</h5>\r\n                                        <h6 className=\"pl-3 bottom-border-light font-weight-normal\">\r\n                                            <ul className=\"list-unstyled list-lh-1\">\r\n                                                <li><b>Main Language: </b>ReactJS (Javascript Framework)</li>\r\n                                                <li><b>CSS Library: </b>Bootstrap</li>\r\n                                                <li><b>Database: </b>PhpMyAdmin (Php)</li>\r\n                                                <li className=\"d-block d-md-flex\">\r\n                                                    <b className=\"mr-2\">Others: </b>\r\n                                                    <ul className=\"list-unstyled list-lh-1\">\r\n                                                        <li>Font Awesome (Font Icons)</li>\r\n                                                        <li>Axios (API Connector)</li>\r\n                                                        <li>JQuery (Javascript Library)</li>\r\n                                                        <li>Developers' Customized CSS</li>\r\n                                                    </ul>\r\n                                                </li>\r\n                                            </ul>\r\n                                        </h6>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                        <h5 className=\"mb-3\">Copyright &copy; 2021: Some Rights Reserved</h5>\r\n                                        <h6 className=\"px-3 font-weight-normal\">\r\n                                            <span className=\"ml-4\">This</span> Website was developed for the purpose of University Project.\r\n                                            Most of the content and data that has been put in this website are not originally ours\r\n                                            but from the owner of the clinic. Owner was interviewed as a reference and source to\r\n                                            meet the expectation of the project's actual function. \r\n                                        </h6>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <button className=\"btn btn-danger w-auto\" data-dismiss=\"modal\">\r\n                                    <i className=\"fa fa-window-close\"></i>\r\n                                    <span className=\"ml-1\">Close</span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default AboutUsModal;","import React, { Component } from 'react';\r\n\r\nimport wiggy_tails_icon from '../../img/wiggly-tails-icon.png';\r\nimport AboutUsModal from '../AboutUsModal.js';\r\n\r\nclass Navbar extends Component {\r\n    state = {\r\n        navs:\r\n        [\r\n            {\r\n                id: 1,\r\n                text: \"Login\",\r\n                link: null,\r\n                items: \r\n                [\r\n                    {\r\n                        id: 2,\r\n                        text: \"Customer\",\r\n                        link: null\r\n                    },\r\n                    {\r\n                        id: 3,\r\n                        text: \"Employee\",\r\n                        link: null\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                id: 10,\r\n                text: \"Register\",\r\n                link: null,\r\n                items: []\r\n            },\r\n            \r\n            {\r\n                id: 11,\r\n                text: \"About us\",\r\n                link: null,\r\n                items: []\r\n            }\r\n        ]\r\n    }\r\n\r\n    render() { \r\n        const { switchActiveId } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <nav className=\"navbar navbar-expand-sm navbar-dark bg-dark fixed-top\">\r\n                    <a href=\"/wiggly-tails\" className=\"navbar-brand py-0\">\r\n                        <img src={wiggy_tails_icon} alt=\"\" className=\"mr-2\" />Veterinary Clinic\r\n                    </a>\r\n\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                    data-target=\"#main-navbar\" aria-controls=\"main-navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"main-navbar\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {\r\n                                this.state.navs.map(nav =>\r\n                                    nav.items.length > 0 ?\r\n                                    <li key={nav.id} className=\"nav-item dropdown mr-1\">\r\n                                        <a className={\"dropdown-toggle \" + this.linkItemClasses(nav.id)} id={\"dropdown\" + nav.id}\r\n                                        href=\"/\" data-toggle=\"dropdown\">{nav.text}</a>\r\n                                        <div className=\"dropdown-menu\" aria-labelledby={\"dropdown\" + nav.id}>\r\n                                            {\r\n                                                nav.items.map(item =>\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    href={item.link} onClick={() => switchActiveId(item.id)}>{item.text}</a>\r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </li> :\r\n                                    <li key={nav.id} className=\"nav-item mr-1\">\r\n                                        {\r\n                                            nav.id === 10 ?\r\n                                            <a className={this.linkItemClasses(nav.id)}\r\n                                            data-toggle=\"modal\" data-target=\"#registrationModal\">\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            nav.id === 11 ?\r\n                                            <a key={nav.id} className={this.linkItemClasses(nav.id)}\r\n                                            data-toggle=\"modal\" data-target=\"#aboutUsModal\">\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            <a href={nav.link} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a>\r\n                                        }\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n\r\n                <AboutUsModal />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    linkItemClasses = id => {\r\n        const { activeId, sourceId } = this.props;\r\n\r\n        let classes = \"nav-link \";\r\n        classes+= id === 10 || id === 11 ?\r\n        \"btn rounded-pill text-center py-1 my-1 px-3 \" : \"\"\r\n\r\n        classes+= id === activeId ? \"active\" :\r\n        id === sourceId ? \"active\" : \r\n        id === 10 ? \"btn-warning text-dark\" :\r\n        id === 11 ? \"btn-primary text-light\" : \"inactive\"\r\n\r\n        return classes;\r\n    }\r\n\r\n    dropdownItemClasses = id => {\r\n        const { activeId } = this.props;\r\n\r\n        let classes = \"dropdown-item text-dark \"\r\n        classes+= id === activeId ? \"active-dropdown\" : \"inactive-dropdown\"\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default Navbar;","export default __webpack_public_path__ + \"static/media/consultation.8360a131.png\";","export default __webpack_public_path__ + \"static/media/treatment-vaccination.48e2ecb9.png\";","export default __webpack_public_path__ + \"static/media/confinement.4f112f92.png\";","export default __webpack_public_path__ + \"static/media/grooming.10fefb29.png\";","import React, { Component } from 'react';\r\n\r\nimport consultation from '../../img/consultation.png';\r\nimport treatmentVaccination from '../../img/treatment-vaccination.png';\r\nimport confinement from '../../img/confinement.png';\r\nimport grooming from '../../img/grooming.png';\r\n\r\nclass IndexCarousel extends Component {\r\n    state = {  }\r\n    render() { \r\n        return (\r\n            <React.Fragment>\r\n                <div id=\"index-carousel\" className=\"carousel slide\" data-ride='carousel'>\r\n                    <ul className=\"carousel-indicators\">\r\n                        <li data-target=\"#index-carousel\" data-slide-to='0' className=\"active\"></li>\r\n                        <li data-target=\"#index-carousel\" data-slide-to='1'></li>\r\n                        <li data-target=\"#index-carousel\" data-slide-to='2'></li>\r\n                        <li data-target=\"#index-carousel\" data-slide-to='3'></li>\r\n                    </ul>\r\n                    \r\n                    <div className=\"carousel-inner\">\r\n                        <div className=\"carousel-item bg-dark active\">\r\n                            <img className=\"d-block w-100\" src={consultation} alt=\"consultation\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-40 px-1 py-2\">\r\n                                <h5>Consultation</h5>\r\n                                <p>You will find our veterinarians focusing on preventive measures\r\n                                    to help how to maintain your pet's in great health.</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img className=\"d-block w-100\" src={treatmentVaccination} alt=\"treatment_vaccination\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-40 px-1 py-2\">\r\n                                <h5>Treatment and Vaccination</h5>\r\n                                <p>Our preventive care plans include vaccinations,\r\n                                    parasite prevention plans, and wellness screening.</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img className=\"d-block w-100\" src={confinement} alt=\"confinement\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-40 px-1 py-2\">\r\n                                <h5>Confinement</h5>\r\n                                <p>We can accommodate pets that needed to be confined for treatment while\r\n                                    recovering from a disease, injury, or elective surgery.</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img className=\"d-block w-100\" src={grooming} alt=\"grooming\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-40 px-1 py-2\">\r\n                                <h5>Grooming</h5>\r\n                                <p>By being regularly groomed, they'll be feeling, smelling,\r\n                                    and looking their best, and of course, the cuddles from their owners\r\n                                    after the grooming session is a win-win.</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <a className=\"carousel-control-prev text-dark\" href=\"#index-carousel\" role=\"button\" data-slide=\"prev\">\r\n                        <i className=\"fa fa-arrow-left fa-lg\"></i>\r\n                    </a>\r\n                    <a className=\"carousel-control-next text-dark\" href=\"#index-carousel\" role=\"button\" data-slide=\"next\">\r\n                        <i className=\"fa fa-arrow-right fa-lg\"></i>\r\n                    </a>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default IndexCarousel;","import React, { Component } from 'react';\r\n\r\nclass CustomerLoginForm extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        errors:\r\n        {\r\n            emailAddress: 'Please input your Email Address',\r\n            userPassword: 'Please input your Password'\r\n        },\r\n        submitError: false,\r\n        loginError: false\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"emailAddress\") {\r\n            value = this.removeSpaces(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'emailAddress':\r\n                errors.emailAddress=  value.length === 0 ? \"Please input your Email Address\" : \"\"\r\n                break;\r\n            \r\n            case 'userPassword':\r\n                errors.userPassword= value.length === 0 ? \"Please input your Password\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const { records } = this.props;\r\n        const errors  = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n\r\n        if(this.validForm({ errors })) {\r\n            let submitError = false;\r\n            let loginError = false;\r\n\r\n            this.setState({ submitError, loginError });\r\n\r\n            const result = records.filter(row => \r\n                (row.emailAddress + row.email).toLowerCase() === (record.emailAddress + record.email).toLowerCase() &&\r\n                row.userPassword === record.userPassword\r\n            )\r\n\r\n            if(result.length > 0) {\r\n                const { history } = this.props;\r\n                history.replace('/wiggly-tails/customer', {verified: true, id: result[0].id});\r\n            }\r\n            else {\r\n                submitError = true;\r\n                loginError = true;\r\n                record.userPassword = '';\r\n                errors.userPassword = 'Please input your Password';\r\n            }\r\n\r\n            this.setState({ record, errors, submitError, loginError });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0) {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderLoginError = () => {\r\n        if(this.state.loginError) {\r\n            return(\r\n                <div className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                    <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                    <span className=\"lh-0 my-1\">Incorrect Email Address or Password</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    onReset = e => {\r\n        e.preventDefault();\r\n        const record = {...this.state.record};\r\n        record.emailAddress = '';\r\n        record.email = '@yahoo.com';\r\n        record.userPassword = '';\r\n\r\n        const errors = {...this.state.errors};\r\n        errors.emailAddress = 'Please input your Email Address';\r\n        errors.userPassword = 'Please input your Password';\r\n\r\n        const submitError = false;\r\n        const loginError = false;\r\n\r\n        this.setState({ record, errors, submitError, loginError });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors } = this.state;\r\n        return (\r\n            this.props.connected ?\r\n            <form className=\"form-light p-5 mt-4\" noValidate\r\n            onSubmit={this.onSubmit} onReset={this.onReset}>\r\n                <h2 className=\"text-center\">Customer Login</h2>\r\n                <h5 className=\"font-weight-normal text-center mb-4\">\r\n                    Please input your credentials.\r\n                </h5> { this.renderLoginError() }\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Email Address</label>\r\n                    <div className=\"input-group d-block d-sm-flex px-0\">\r\n                        <input className={\"w-xs-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                        <div className=\"input-group-append justify-content-end\">\r\n                            <span className=\"input-group-text\">@</span>\r\n                            <select className=\"input-group-text form-control\"\r\n                            name=\"email\" value={record.email}\r\n                            onChange={this.onChangeRecord} noValidate>\r\n                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                <option value=\"@outlook.com\">outlook.com</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    { this.renderRecordErrors(errors.emailAddress) }\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Password</label>\r\n                    <input className={this.inputFieldClasses(errors.userPassword)}\r\n                        type=\"password\" name=\"userPassword\" value={record.userPassword}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    { this.renderRecordErrors(errors.userPassword) }\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-between align-items-center mt-4\">\r\n                    <button type=\"submit\" className=\"btn btn-primary w-49\">\r\n                        <i className=\"fa fa-sign-in-alt\"></i>\r\n                        <span className=\"ml-1\">Login</span>\r\n                    </button>\r\n                    <button type=\"reset\" className=\"btn btn-danger w-49\">\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                </div>\r\n            </form> :\r\n            this.props.connectionFailed ?\r\n            <div className=\"text-center text-danger\">\r\n                <h1 className=\"mb-1\">Database Connection Failed</h1>\r\n                <h3 className=\"mb-3\">Please try again later.</h3>\r\n                <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                onClick={this.props.getData}>Retry</button>\r\n            </div> :\r\n            <div className=\"text-center\">\r\n                <h1 className=\"mb-1\">Loading Data</h1>\r\n                <h3>Please wait...</h3>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 && this.state.submitError ? \"border border-danger\" : \"\"\r\n        return classes;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default CustomerLoginForm;","import React, { Component } from 'react';\r\n\r\nclass EmployeeLoginForm extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            empLastName: '',\r\n            empPassword: ''\r\n        },\r\n        errors:\r\n        {\r\n            id: 'Please input your ID',\r\n            empLastName: 'Please input your Last Name',\r\n            empPassword: 'Please input your Password'\r\n        },\r\n        submitError: false,\r\n        loginError: false\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if (name === \"id\") {\r\n            value = value.toUpperCase();\r\n        }\r\n\r\n        if (name === \"empLastName\") {\r\n            value = this.toAbsProperCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = { ...this.state.errors };\r\n\r\n        switch (name) {\r\n            case 'id':\r\n                errors.id = value.length === 0 ? \"Please input your ID\" :\r\n                    value.length !== 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empLastName':\r\n                errors.empLastName = value.length === 0 ? \"Please input your Last Name\" :\r\n                    value.length < 2 || value.length > 24 ?\r\n                        \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empPassword':\r\n                errors.empPassword = value.length === 0 ? \"Please input your Password\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const { records } = this.props;\r\n        const errors = { ...this.state.errors };\r\n        const record = { ...this.state.record };\r\n\r\n        if (this.validForm({ errors })) {\r\n            let submitError = false;\r\n            let loginError = false;\r\n\r\n            const result = records.filter(row =>\r\n                row.id === record.id &&\r\n                row.empLastName === record.empLastName &&\r\n                row.empPassword === record.empPassword\r\n            )\r\n\r\n            if (result.length > 0) {\r\n                const { history } = this.props;\r\n                history.replace('/wiggly-tails/admin', { verified: true });\r\n            }\r\n            else {\r\n                submitError = true;\r\n                loginError = true;\r\n                record.empPassword = '';\r\n                errors.empPassword = 'Please input your Password';\r\n            }\r\n\r\n            this.setState({ record, errors, submitError, loginError });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n\r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if (this.state.submitError) {\r\n            if (errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return (\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    renderLoginError = () => {\r\n        if (this.state.loginError) {\r\n            return (\r\n                <div className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                    <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                    <span className=\"lh-0 my-1\">Incorrect ID, Last Name or Password</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    onReset = e => {\r\n        e.preventDefault();\r\n        const record = { ...this.state.record };\r\n        record.id = '';\r\n        record.empLastName = '';\r\n        record.empPassword = '';\r\n\r\n        const errors = { ...this.state.errors };\r\n        errors.id = 'Please input your ID';\r\n        errors.empLastName = 'Please input your Last Name';\r\n        errors.empPassword = 'Please input your Password';\r\n\r\n        const submitError = false;\r\n        const loginError = false;\r\n\r\n        this.setState({ record, errors, submitError, loginError });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors } = this.state;\r\n        return (\r\n            this.props.connected ?\r\n            <form className=\"form-light p-5 mt-4\" noValidate\r\n                onSubmit={this.onSubmit} onReset={this.onReset}>\r\n                <h2 className=\"text-center\">Employee Login</h2>\r\n                <h5 className=\"font-weight-normal text-center mb-4\">\r\n                    Please input your credentials.\r\n                </h5> { this.renderLoginError()}\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">ID</label>\r\n                    <input className={this.inputFieldClasses(errors.id)}\r\n                        type=\"text\" name=\"id\" value={record.id} maxLength=\"6\"\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    {this.renderRecordErrors(errors.id)}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Last Name</label>\r\n                    <input className={this.inputFieldClasses(errors.empLastName)}\r\n                        type=\"text\" name=\"empLastName\" value={record.empLastName}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    {this.renderRecordErrors(errors.empLastName)}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Password</label>\r\n                    <input className={this.inputFieldClasses(errors.empPassword)}\r\n                        type=\"password\" name=\"empPassword\" value={record.empPassword}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    {this.renderRecordErrors(errors.empPassword)}\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-between align-items-center mt-4\">\r\n                    <button type=\"submit\" className=\"btn btn-primary w-49\">\r\n                        <i className=\"fa fa-sign-in-alt\"></i>\r\n                        <span className=\"ml-1\">Login</span>\r\n                    </button>\r\n                    <button type=\"reset\" className=\"btn btn-danger w-49\">\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                </div>\r\n            </form> :\r\n            this.props.connectionFailed ?\r\n            <div className=\"text-center text-danger\">\r\n                <h1 className=\"mb-1\">Database Connection Failed</h1>\r\n                <h3 className=\"mb-3\">Please try again later.</h3>\r\n                <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                onClick={this.props.getData}>Retry</button>\r\n            </div> :\r\n            <div className=\"text-center\">\r\n                <h1 className=\"mb-1\">Loading Data</h1>\r\n                <h3>Please wait...</h3>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes += errorMsg.length > 0 && this.state.submitError ? \"border border-danger\" : \"\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for (var i = 0; i < value.length; i++) {\r\n            if (value.charAt(i) === \" \") {\r\n                if (i !== 0 && value.charAt(i - 1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if (i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }\r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n\r\nexport default EmployeeLoginForm;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass RegistrationModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: '',\r\n            pet:\r\n            {\r\n                petName: '',\r\n                birthdate: '',\r\n                petClass: '',\r\n                lastVisit: '',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: ' ',\r\n            firstName: ' ',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: ' ',\r\n                subdivision: '',\r\n                barangay: ' ',\r\n                municipality: ' ',\r\n                province: ''\r\n            },\r\n            birthdate: ' ',\r\n            mobileNumber: ' ',\r\n            emailAddress: ' ',\r\n            userPassword: ' ',\r\n            confirmUserPassword: ' ',\r\n            petErrors:\r\n            {\r\n                petName: ' ',\r\n                birthdate: ' ',\r\n                petClass: ' ',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        petClasses:\r\n        [ 'Alligator', 'Alpaca', 'Ant', 'Bear', 'Bird', 'Bull', 'Cat', 'Chicken', 'Crab', 'Crocodile', 'Deer', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Fox', 'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Gorilla', 'Grasshopper', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Jaguar', 'Lion', 'Lizard', 'Mantis', 'Monkey', 'Mouse', 'Octopus', 'Orangutan', 'Orstrich', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Raccoon', 'Rat', 'Reindeer', 'Salamander', 'Sheep', 'Snake', 'Spider', 'Squirrel', 'Tiger', 'Tortoise', 'Turtle', 'Wolf', 'Whale', 'Zebra' ],\r\n        submitError: false,\r\n        submitted: false,\r\n        registered: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    record.emailAddress.length === 0 ? \" \" :\r\n                                    record.emailAddress.length < 8 || record.emailAddress.length > 24 ?\r\n                                    \"Must be at between 8 and 24 characters\" :\r\n                                    !this.isValidEmail(record.emailAddress) ?\r\n                                    \"Please input a valid value\" :\r\n                                    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            this.spaceFound(value) ? \"Password must not have spacing\" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 || this.spaceFound(value) ? \" \" :\r\n                                            \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 || this.spaceFound(value) ? \" \" :\r\n                                            \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record } = this.state;\r\n        const { customers } = this.props;\r\n\r\n        const result = customers.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() ===\r\n            (record.emailAddress + record.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n\r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  value.length > 24 ?\r\n                                                \"Subdivision must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangePet = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                pet: {\r\n                    ...currentState.record.pet,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckPetErrors(e))\r\n    }\r\n\r\n    onCheckPetErrors = e => {\r\n        const { name, value } = e.target;\r\n        const petErrors = {...this.state.errors.petErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                petErrors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                petErrors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                petErrors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                petErrors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                petErrors\r\n            }\r\n        }), () => console.log(this.state))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { getData } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n            record.pet.petName = this.removeLastSpace(record.pet.petName);\r\n\r\n            // record.homeAddress.street += \" St.\";\r\n            // record.homeAddress.barangay = \"Brgy. \" + record.homeAddress.barangay;\r\n            // record.homeAddress.municipality += \" City\";\r\n\r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            this.props.onRegister();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertCustomerPet.php', record)\r\n            .then(() => {\r\n                getData();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                getData();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let registered = true;\r\n        this.setState({ submitted, registered });\r\n        setTimeout(() => {\r\n            registered = false;\r\n            this.setState({ registered });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0  && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n        const pet = {...this.state.record.pet};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const petErrors = {...this.state.errors.petErrors};\r\n\r\n        const confirmUserPassword = '';\r\n        const submitError = false;\r\n        const registered = false;\r\n        const failed = false;\r\n\r\n        homeAddress.lotBlock = '';\r\n        homeAddress.street = '';\r\n        homeAddress.subdivision = '';\r\n        homeAddress.barangay = '';\r\n        homeAddress.municipality = '';\r\n        homeAddress.province = '';\r\n        \r\n        pet.petName = '';\r\n        pet.birthdate = '';\r\n        pet.petClass = '';\r\n        pet.pcciRegNo = '';\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.lastName = '';\r\n        record.firstName = '';\r\n        record.middleName = ''\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = '';\r\n        record.mobileNumber = '';\r\n        record.emailAddress = '';\r\n        record.email = '@yahoo.com';\r\n        record.userPassword = '';\r\n        record.pet = pet;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = ' ';\r\n        homeAddressErrors.subdivision = '';\r\n        homeAddressErrors.barangay = ' ';\r\n        homeAddressErrors.municipality = ' ';\r\n        homeAddressErrors.province = '';\r\n\r\n        petErrors.petName = ' ';\r\n        petErrors.birthdate = ' ';\r\n        petErrors.petClass = ' ';\r\n\r\n        errors.lastName = ' ';\r\n        errors.firstName = ' ';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ' ';\r\n        errors.mobileNumber = ' ';\r\n        errors.emailAddress = ' ';\r\n        errors.userPassword = ' ';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, submitError, registered, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, petClasses, submitted, registered, failed } = this.state;\r\n        const { homeAddress, pet } = record;\r\n        const { homeAddressErrors, petErrors } = errors;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"registrationModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"registrationModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"registrationModalTitle\">Register</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Registering an account...</span>\r\n                                    </div> :\r\n                                    registered ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Account was successfully registered.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">ID</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>Generate</button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"lastName\"\r\n                                            value={record.lastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.lastName)}\r\n                                            type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"firstName\"\r\n                                            value={record.firstName} onChange={this.onChangeRecord} noValidate disabled /> : \r\n                                            <input className={this.inputFieldClasses(errors.firstName)}\r\n                                            type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"middleName\"\r\n                                            value={record.middleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.middleName)}\r\n                                            type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"lotBlock\"\r\n                                                    value={homeAddress.lotBlock} placeholder=\"Lot/Block (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                    type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"street\"\r\n                                                    value={homeAddress.street} placeholder=\"Street\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                    type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Street\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"subdivision\"\r\n                                                    value={homeAddress.subdivision} placeholder=\"Subdivision (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                    type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Subdivision (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"barangay\"\r\n                                                    value={homeAddress.barangay} placeholder=\"Barangay\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                    type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Barangay\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"municipality\"\r\n                                                    value={homeAddress.municipality} placeholder=\"Municipality\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                    type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Municipality\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"province\"\r\n                                                    value={homeAddress.province} placeholder=\"Province (Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                    type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Province (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate}  noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"tel\" maxLength=\"10\"\r\n                                                name=\"mobileNumber\" value={record.mobileNumber} onChange={this.onChangeRecord}\r\n                                                noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                                type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <input className=\"w-xs-100 form-control\" type=\"text\"\r\n                                                        name=\"emailAddress\" value={record.emailAddress} noValidate disabled /> :\r\n                                                        <input className={\"w-xs-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    }\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        {\r\n                                                            submitted ?\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email} noValidate disabled>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select> :\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email}\r\n                                                            onChange={this.onChangeRecord} noValidate>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.getData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"userPassword\"\r\n                                            value={record.userPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.userPassword)}\r\n                                            type=\"password\" name=\"userPassword\" value={record.userPassword}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmUserPassword\"\r\n                                            value={confirmUserPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                            type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                                        <div className=\"row mt-3\">\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Name <span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                                    value={pet.petName} noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.petName)}\r\n                                                    type=\"text\" name=\"petName\" value={pet.petName}\r\n                                                    onChange={this.onChangePet} noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.petName) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                                    value={pet.birthdate} noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.birthdate)}\r\n                                                    type=\"date\" name=\"birthdate\" value={pet.birthdate}\r\n                                                    onChange={this.onChangePet} noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.birthdate) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <select className=\"form-control\" name=\"petClass\"\r\n                                                    value={pet.petClass} noValidate disabled >\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            petClasses.length > 0 ?\r\n                                                            petClasses.map(value =>\r\n                                                                <option key={value} value={value}>{value}</option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select> :\r\n                                                    <select className={this.inputFieldClasses(petErrors.petClass)}\r\n                                                    name=\"petClass\" value={pet.petClass} onChange={this.onChangePet}\r\n                                                    noValidate>\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            petClasses.length > 0 ?\r\n                                                            petClasses.map(value =>\r\n                                                                <option key={value} value={value}>{value}</option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.petClass) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                                    value={pet.pcciRegNo} maxLength=\"6\" placeholder=\"(Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.pcciRegNo)}\r\n                                                    type=\"text\" name=\"pcciRegNo\" value={pet.pcciRegNo}\r\n                                                    onChange={this.onChangePet} maxLength=\"6\"\r\n                                                    placeholder=\"(Optional)\" noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.pcciRegNo) }\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Registering an account...</span>\r\n                                    </div> :\r\n                                    registered ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Account was successfully registered.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        this.props.connected && !submitted ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\n    spaceFound = value => {\r\n        if(value.match(' ')) return true;\r\n        return false;\r\n    }\r\n}\r\n \r\nexport default RegistrationModal;","import React, { Component } from 'react';\r\n\r\nclass Footer extends Component {\r\n    state = {  }\r\n    render() { \r\n        return (\r\n            <div className=\"bg-dark text-light w-100 fixed-bottom\">\r\n                <p className=\"m-0 p-0 text-right small my-1 mr-3\">\r\n                    Copyright &copy; 2021: Some Rights Reserved</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Footer;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport Navbar from './Navbar.js';\r\nimport IndexCarousel from './IndexCarousel.js';\r\nimport CustomerLoginForm from './Forms/CustomerLoginForm.js';\r\nimport EmployeeLoginForm from './Forms/EmployeeLoginForm.js';\r\nimport RegistrationModal from './Forms/RegistrationModal.js';\r\nimport Footer from '../Footer.js';\r\n\r\nclass EmployeeLogin extends Component {\r\n    state = {\r\n        activeId: 2,\r\n        customers: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false,\r\n        employees: [],\r\n        employeeConnected: false,\r\n        employeeConnectionFailed: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.getCustomersData();\r\n        this.getEmployeesData();\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        this.onRegister();\r\n    }\r\n\r\n    retryEmployeesData = () => {\r\n        this.getEmployeesData();\r\n        const employeeConnected = false;\r\n        const employeeConnectionFailed = false;\r\n        this.setState({ employeeConnected, employeeConnectionFailed })\r\n    }\r\n\r\n    onRegister = () => {\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    switchActiveId = id => {\r\n        const activeId = id;\r\n        this.setState({ activeId });\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <React.Fragment>\r\n                <Navbar activeId={this.state.activeId} sourceId={1} switchActiveId={this.switchActiveId}/>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"h-full row bg-warning justify-content-center text-dark\">\r\n                        <div className=\"col-lg-7 d-lg-inline d-none align-self-center\">\r\n                            <IndexCarousel />\r\n                        </div>\r\n                        <div className=\"col-lg-5 bg-light\">\r\n                            <div className=\"row h-full justify-content-center align-items-center\">\r\n                                <div className=\"col-sm-10 col-md-8 col-lg-12\">\r\n                                    {\r\n                                        this.state.activeId === 2 ?\r\n                                        <CustomerLoginForm history={this.props.history}\r\n                                        records={ this.state.customers }\r\n                                        connected={this.state.customerConnected}\r\n                                        connectionFailed={this.state.customerConnectionFailed}\r\n                                        getData={this.retryCustomersData} /> :\r\n                                        <EmployeeLoginForm history={this.props.history} \r\n                                        records={ this.state.employees }\r\n                                        connected={this.state.employeeConnected}\r\n                                        connectionFailed={this.state.employeeConnectionFailed}\r\n                                        getData={this.retryEmployeesData} />\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <RegistrationModal\r\n                customers={this.state.customers} onRegister={this.onRegister} getData={this.retryCustomersData}\r\n                connected={this.state.customerConnected} connectionFailed={this.state.customerConnectionFailed} />\r\n                <Footer />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const customerConnected = true;\r\n            this.setState({ customers, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed })\r\n        });\r\n    }\r\n\r\n    getEmployeesData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n            .then(res => {\r\n                const employees = res.data;\r\n                const employeeConnected = true;\r\n                this.setState({ employees, employeeConnected });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                const employeeConnectionFailed = true;\r\n                this.setState({ employeeConnectionFailed })\r\n            });\r\n    }\r\n}\r\n \r\nexport default EmployeeLogin;","import React, { Component } from 'react';\r\n\r\nimport wiggy_tails_icon from '../../img/wiggly-tails-icon.png';\r\nimport AboutUsModal from '../AboutUsModal.js';\r\n\r\nclass CustomerNavbar extends Component {\r\n    state = {\r\n        navs:\r\n        [\r\n            {\r\n                id: 0,\r\n                text: \"Account\",\r\n                link: \"/wiggly-tails/customer\",\r\n                items: []\r\n            },\r\n            {\r\n                id: 1,\r\n                text: \"Transactions\",\r\n                link: \"/wiggly-tails/customer/view-transactions\",\r\n                items: [],\r\n            },\r\n            {\r\n                id: 2,\r\n                text: \"Pets\",\r\n                link: \"/wiggly-tails/customer/manage-pets\",\r\n                items: [],\r\n            },\r\n            {\r\n                id: 3,\r\n                text: \"About us\",\r\n                link: null,\r\n                items: [],\r\n            },\r\n            {\r\n                id: 10,\r\n                text: \"Sign out\",\r\n                link: \"/wiggly-tails\",\r\n                items: []\r\n            }\r\n        ]\r\n    }\r\n\r\n    onClickLink = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link, {verified: true, id: history.location.state.id});\r\n    }\r\n\r\n    onClickBrand = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails/customer\";\r\n        history.replace(link, {verified: true, id: history.location.state.id});\r\n    }\r\n\r\n    onClickSignOut = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link);\r\n    }\r\n\r\n\r\n    render() { \r\n        return (\r\n            <React.Fragment>\r\n                <nav className=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\r\n                    <a onClick={this.onClickBrand} className=\"navbar-brand py-0\">\r\n                        <img src={wiggy_tails_icon} alt=\"\" className=\"mr-2\" />Veterinary Clinic\r\n                    </a>\r\n\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                    data-target=\"#customer-navbar\" aria-controls=\"customer-navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"customer-navbar\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {\r\n                                this.state.navs.map(nav =>\r\n                                    nav.items.length > 0 ?\r\n                                    <li key={nav.id} className=\"nav-item dropdown mr-1\">\r\n                                        <a className={\"dropdown-toggle \" + this.linkItemClasses(nav.id)} id={\"dropdown\" + nav.id}\r\n                                        href={nav.link} data-toggle=\"dropdown\">{nav.text}</a>\r\n                                        <div className=\"dropdown-menu\" aria-labelledby={\"dropdown\" + nav.id}>\r\n                                            {\r\n                                                nav.items.map(item =>\r\n                                                    item.id === 7 ?\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    data-toggle=\"modal\" data-target=\"#manageEmployeesModal\">\r\n                                                        {item.text}</a> :\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    onClick={() => this.onClickLink(item)}>{item.text}</a>\r\n                                                    \r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </li> :\r\n                                    <li key={nav.id} className=\"nav-item mr-1\">\r\n                                        {\r\n                                            nav.id === 10 ?\r\n                                            <a onClick={() => this.onClickSignOut(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            nav.id === 3 ?\r\n                                            <a key={nav.id} className={this.linkItemClasses(nav.id)}\r\n                                            data-toggle=\"modal\" data-target=\"#aboutUsModal\">\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            <a onClick={() => this.onClickLink(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a>\r\n                                        }\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n\r\n                <AboutUsModal />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    linkItemClasses = id => {\r\n        const { activeId, sourceId } = this.props;\r\n\r\n        let classes = \"nav-link \";\r\n        classes+= id === 10 || id === 3 ?\r\n        \"btn rounded-pill text-center text-light py-1 my-1 px-3 \" : \"\"\r\n\r\n        classes+= id === activeId ? \"active\" :\r\n        id === sourceId ? \"active\" : \r\n        id === 10 ? \"btn-danger\" :\r\n        id === 3 ? \"btn-primary\" : \"inactive\"\r\n\r\n        return classes;\r\n    }\r\n\r\n    dropdownItemClasses = id => {\r\n        const { activeId } = this.props;\r\n\r\n        let classes = \"dropdown-item \"\r\n        classes+= id === 7 ? \"text-danger \" : \"text-dark \"\r\n        classes+= id === activeId ? \"active-dropdown\" : \"inactive-dropdown\"\r\n\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default CustomerNavbar;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass UpdateAccountInfoModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            userPassword: '',\r\n            confirmUserPassword: ' ',\r\n        },\r\n        passwordState:\r\n        {\r\n            inputType: 'password',\r\n            buttonText: 'Show'\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { customer } = this.props;\r\n        const record = {...this.state.record};\r\n        record.id = customer.id;\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName;\r\n        record.homeAddress.lotBlock = customer.lotBlock;\r\n        record.homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        record.homeAddress.subdivision = customer.subdivision;\r\n        record.homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        record.homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        record.homeAddress.province = customer.province;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    record.emailAddress.length === 0 ? \" \" :\r\n                                    record.emailAddress.length < 8 || record.emailAddress.length > 24 ?\r\n                                    \"Must be at between 8 and 24 characters\" :\r\n                                    !this.isValidEmail(record.emailAddress) ?\r\n                                    \"Please input a valid value\" :\r\n                                    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            this.spaceFound(value) ? \"Password must not have spacing\" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 || this.spaceFound(value) ? \" \" :\r\n                                            \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 || this.spaceFound(value) ? \" \" :\r\n                                            \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record } = this.state;\r\n        const { customer, records } = this.props;\r\n\r\n        const result = records.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() ===\r\n            (record.emailAddress + record.email).toLowerCase() &&\r\n            (row.emailAddress + row.email).toLowerCase() !==\r\n            (customer.emailAddress + customer.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n    \r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  value.length > 24 ?\r\n                                                \"Subdivision must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n            \r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            if(this.state.passwordState.inputType === \"text\") {\r\n                this.onTogglePassword()\r\n            }\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateCustomer.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.props.retryCustomersData();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const confirmUserPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmUserPassword = ' '\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ errors, confirmUserPassword, submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0 && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const { customer } = this.props;\r\n\r\n        const confirmUserPassword = '';\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { passwordState } = this.state;\r\n\r\n        passwordState.buttonText = \"Show\";\r\n        passwordState.inputType = \"password\";\r\n\r\n        homeAddress.lotBlock = customer.lotBlock;\r\n        homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        homeAddress.subdivision = customer.subdivision;\r\n        homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        homeAddress.province = customer.province;\r\n\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = '';\r\n        homeAddressErrors.subdivision = '';\r\n        homeAddressErrors.barangay = '';\r\n        homeAddressErrors.municipality = '';\r\n        homeAddressErrors.province = '';\r\n\r\n        errors.lastName = '';\r\n        errors.firstName = '';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ''\r\n        errors.mobileNumber = '';\r\n        errors.emailAddress = '';\r\n        errors.userPassword = '';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, passwordState, submitError, updated, failed });\r\n    }\r\n\r\n    onTogglePassword = () => {\r\n        const passwordState = {...this.state.passwordState};\r\n        if(passwordState.inputType === 'password') {\r\n            passwordState.inputType = 'text';\r\n            passwordState.buttonText = 'Hide';\r\n        }\r\n        else {\r\n            passwordState.inputType = 'password';\r\n            passwordState.buttonText = 'Show';\r\n        }\r\n        this.setState({ passwordState });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, passwordState, deleteState, submitted, updated, failed } = this.state;\r\n        const { homeAddress } = this.state.record;\r\n        const { homeAddressErrors } = errors;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"updateAccountInfoModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"updateAccountInfoModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"updateAccountInfoModalTitle\">Account Info</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating an Account Info...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Account Info was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">ID</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"lastName\"\r\n                                            value={record.lastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.lastName)}\r\n                                            type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"firstName\"\r\n                                            value={record.firstName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.firstName)}\r\n                                            type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"middleName\"\r\n                                            value={record.middleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.middleName)}\r\n                                            type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"lotBlock\"\r\n                                                    value={homeAddress.lotBlock} placeholder=\"Lot/Block (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                    type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"street\"\r\n                                                    value={homeAddress.street} placeholder=\"Street\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                    type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Street\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"subdivision\"\r\n                                                    value={homeAddress.subdivision} placeholder=\"Subdivision (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                    type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Subdivision (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"barangay\"\r\n                                                    value={homeAddress.barangay} placeholder=\"Barangay\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                    type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Barangay\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"municipality\"\r\n                                                    value={homeAddress.municipality} placeholder=\"Municipality\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                    type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Municipality\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"province\"\r\n                                                    value={homeAddress.province} placeholder=\"Province (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                    type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Province (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"tel\" maxLength=\"10\" name=\"mobileNumber\"\r\n                                                value={record.mobileNumber} noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                                type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <input className=\"w-xs-100 form-control\" type=\"text\" name=\"emailAddress\"\r\n                                                        value={record.emailAddress} noValidate disabled /> :\r\n                                                        <input className={\"w-xs-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    }\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        {\r\n                                                            submitted ?\r\n                                                            <select className=\"input-group-text form-control\" name=\"email\"\r\n                                                            value={record.email} noValidate disabled>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select> :\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email}\r\n                                                            onChange={this.onChangeRecord} noValidate>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"zi-10 form-control\" type={passwordState.inputType} name=\"userPassword\"\r\n                                                value={record.userPassword} noValidate disabled /> :\r\n                                                <React.Fragment>\r\n                                                    <input className={\"zi-10 \" + this.inputFieldClasses(errors.userPassword)}\r\n                                                    type={passwordState.inputType} name=\"userPassword\" value={record.userPassword}\r\n                                                    onChange={this.onChangeRecord} noValidate />\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onTogglePassword}>\r\n                                                            {passwordState.buttonText}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </React.Fragment>\r\n\r\n                                            }\r\n                                        </div> { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmUserPassword\"\r\n                                            value={confirmUserPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                            type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating an Account Info...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Account Info was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            this.props.connected && !this.state.submitted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onReset}>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n            </React.Fragment> : null\r\n        )\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\n    spaceFound = value => {\r\n        if(value.match(' ')) return true;\r\n        return false;\r\n    }\r\n}\r\n \r\nexport default UpdateAccountInfoModal;","import React, { Component } from 'react';\r\n\r\nclass Forbidden extends Component {\r\n    state = {  }\r\n\r\n    onBackToLogin = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row min-h-full justify-content-center align-items-center\">\r\n                    <div className=\"col-10 col-md-8 col-lg-6 form-light\">\r\n                        <div className=\"alert alert-warning text-warning text-center my-3 mx-1 py-4\">\r\n                            <div className=\"d-flex justify-content-center align-items-center\">\r\n                                <i className=\"fa fa-exclamation fa-lg\"></i>\r\n                                <span className=\"ml-2\">\r\n                                    <h2 className=\"font-weight-normal\">Forbidden Access</h2>\r\n                                </span>\r\n                            </div>\r\n                            <h5 className=\"font-weight-light\">\r\n                                Please login your Customer account first.\r\n                            </h5>\r\n                        </div>\r\n                        <div className=\"text-center mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                onClick={this.onBackToLogin}>\r\n                                Back to Login\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Forbidden;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from './CustomerNavbar.js';\r\nimport UpdateAccountInfoModal from './UpdateAccountInfoModal.js';\r\nimport Footer from '../Footer.js';\r\nimport Forbidden from './Forbidden.js';\r\n\r\nclass Customer extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            lotBlock: '',\r\n            street: '',\r\n            subdivision: '',\r\n            barangay: '',\r\n            municipality: '',\r\n            province: '',\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        connected: false,\r\n        connectionFailed: false,\r\n        records: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        const { history } = this.props;\r\n        const { id } = history.location.state;\r\n        this.searchData(id);\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onClickLink = link => {\r\n        const { history } = this.props;\r\n        history.replace(link, {verified: true, id: history.location.state.id});\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { record } = this.state;\r\n        try {\r\n            this.onRefresh();\r\n            this.getCustomersData();\r\n        }\r\n        catch(error) { record.id = ''; }\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        const { record, connected, connectionFailed } = this.state;\r\n        return(\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={0} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row min-h-full justify-content-center align-items-center pt-5 pt-md-3 pt-xl-0\">\r\n                        <div className=\"col-11 col-sm-10 col-md-8 col-lg-6 form-light my-5\">\r\n                            <div className=\"row mx-2 mt-4\">\r\n                                {\r\n                                    connected ?\r\n                                    <React.Fragment>\r\n                                        <div className=\"col-4 col-sm-3 d-flex justify-content-center align-items-center p-0\">\r\n                                            <div className=\"square-100px bg-warning d-flex justify-content-center align-items-center\">\r\n                                                <h4 className=\"m-0\">{record.id}</h4>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-8 col-sm-9 py-3 pr-1\">\r\n                                            <h2 className=\"mb-0\">{record.lastName}</h2>\r\n                                            <h5 className=\"pl-3 pb-2 bottom-border-light font-weight-normal\">\r\n                                                {record.firstName + \" \" + record.middleName}</h5>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 py-3 pl-md-5 pr-1\">\r\n                                            <h5 className=\"mb-1\">Home Address</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-normal\">\r\n                                                { this.formatHomeAddress(record) }\r\n                                            </h6>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 py-3 pl-md-5 pr-1\">\r\n                                            <h5 className=\"mb-1\">Birthdate</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-normal\">\r\n                                                {this.formatDate(record.birthdate)}\r\n                                            </h6>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 col-md-5 col-lg-6 col-xl-5 py-3 pl-md-5 pr-1\">\r\n                                            <h5 className=\"mb-1\">Mobile Number</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-normal\">\r\n                                                {record.mobileNumber}\r\n                                            </h6>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 col-md-7 col-lg-6 col-xl-7 py-3 pr-1\">\r\n                                            <h5 className=\"mb-1\">Email Address</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-normal\">\r\n                                                {record.emailAddress  + \"\" + record.email}\r\n                                            </h6>\r\n                                        </div>\r\n                                    </React.Fragment> :\r\n                                    connectionFailed ?\r\n                                    <div className=\"col-12 text-center text-danger\">\r\n                                        <h3 className=\"mb-1\">Database Connection Failed</h3>\r\n                                        <h5 className=\"mb-3\">Please try again later</h5>\r\n                                        <button type=\"button\" className=\"btn btn-primary\" onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <div className=\"col-12 text-center\">\r\n                                        <h3 className=\"mb-1\">Loading Data</h3>\r\n                                        <h5>Please wait...</h5>\r\n                                    </div>\r\n                                }\r\n\r\n                                <div className=\"d-flex justify-content-end w-100 my-3\">\r\n                                    <button className=\"btn btn-warning w-auto mr-1\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/customer/view-transactions\")}>\r\n                                            <i className=\"fa fa-exchange-alt\"></i>\r\n                                            <span className=\"d-none d-sm-inline ml-1\">Transactions</span>\r\n                                        </button>\r\n                                    <button className=\"btn btn-secondary w-auto mr-1\"\r\n                                    onClick={() => this.onClickLink(\"/wiggly-tails/customer/manage-pets\")}>\r\n                                        <i className=\"fa fa-cat\"></i>\r\n                                        <span className=\"d-none d-sm-inline ml-1\">Pets</span>\r\n                                    </button>\r\n                                    {\r\n                                        connected ?\r\n                                        <button className=\"btn btn-primary w-auto mr-1\"\r\n                                        data-toggle=\"modal\" data-target=\"#updateAccountInfoModal\">\r\n                                            <i className=\"fa fa-user-edit fa-sm\"></i>\r\n                                            <span className=\"ml-1\">Update Info</span>\r\n                                        </button> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    record.id.length > 0 ?\r\n                    <UpdateAccountInfoModal\r\n                    customer={record}\r\n                    onRefresh={this.onRefresh}\r\n                    records={this.state.records}\r\n                    connected={this.state.customerConnected}\r\n                    connectionFailed={this.state.customerConnectionFailed}\r\n                    onSubmitForm={this.onSubmitForm}\r\n                    retryCustomersData={this.retryCustomersData} /> : null\r\n                }\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAccountInfo.php?search='+searchValue)\r\n        .then(res => {\r\n            let record = res.data;\r\n            const connected = true;\r\n            record = record[0];\r\n            this.setState({ record, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const customerConnected = true;\r\n            this.setState({ records, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed });\r\n        });\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n\r\n    formatHomeAddress = record => {\r\n        let homeAddress = '';\r\n        homeAddress += record.lotBlock.length > 0 ? record.lotBlock + \" \" : \"\"\r\n        homeAddress += record.street.length > 0 ? record.street + \", \" : \"\"\r\n        homeAddress += record.subdivision.length > 0 ? record.subdivision + \", \" : \"\"\r\n        homeAddress += record.barangay.length > 0 ? record.barangay + \", \" : \"\"\r\n        homeAddress += record.municipality.length > 0 ? record.municipality : \"\"\r\n        homeAddress += record.province.length > 0 ? \", \" + record.province : \"\"\r\n        return homeAddress;\r\n    }\r\n}\r\n\r\nexport default Customer;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            petName: '',\r\n            customerId: '',\r\n            customerLastName: '',\r\n            customerFirstName: '',\r\n            customerMiddleName: '',\r\n            customerName: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        checkUpConnected: false,\r\n        checkUpConnectionFailed: false,\r\n        groomConnected: false,\r\n        groomConnectionFailed: false,\r\n        connected: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { transaction } = this.props;\r\n        if(transaction.transType === 'C') {\r\n            this.getCheckUpData(transaction.id);\r\n        }\r\n        else if(transaction.transType === 'G') {\r\n            this.getGroomData(transaction.id);\r\n        }\r\n\r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n\r\n        record.id = transaction.id;\r\n        record.transType = transaction.transType;\r\n        record.transDate = transaction.transDate;\r\n        record.petId = transaction.petId;\r\n        record.petName = transaction.petName;\r\n        record.customerId = transaction.customerId;\r\n        record.customerLastName = transaction.lastName;\r\n        record.customerFirstName = transaction.firstName;\r\n        record.customerMiddleName = transaction.middleName;\r\n        record.customerName = transaction.lastName + \", \" + transaction.firstName + \" \" + transaction.middleName;\r\n        record.petWeight = transaction.petWeight;\r\n        record.remarks = transaction.remarks;\r\n        record.empId = transaction.empId;\r\n        record.empLastName = transaction.empLastName;\r\n        record.empFirstName = transaction.empFirstName;\r\n        record.empMiddleName = transaction.empMiddleName;\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    render() {\r\n        const { record } = this.state;\r\n        const { transaction } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewTransactionModal-\" + transaction.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewTransactionModalTitle-\" + transaction.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewTransactionModalTitle-\" + transaction.id}>Transaction Info</h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Transaction Date</label>\r\n                                        <input className=\"form-control\"\r\n                                        type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                        noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Transaction Type</label>\r\n                                        <input className=\"zi-10 form-control\"\r\n                                            name=\"transType\"\r\n                                            value={ record.transType === 'C' ? \"Check-up\" : \"Groom\" }\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Served by</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"zi-10 form-control\"\r\n                                            name=\"empId\" value={record.empFirstName}\r\n                                            noValidate disabled />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Customer Name</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"zi-10 form-control\"\r\n                                                name=\"customerId\" value={record.customerLastName + \", \" +\r\n                                                record.customerFirstName + \" \" + record.customerMiddleName}\r\n                                                noValidate disabled />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Pet Name</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"zi-10 form-control\"\r\n                                                    name=\"petId\" value={record.petName}\r\n                                                    noValidate disabled />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Pet Weight</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control\"\r\n                                            type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                            noValidate disabled />\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">Remarks</label>\r\n                                        <textarea className=\"form-control\"\r\n                                        type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                        onChange={this.onChangeRecord} rows=\"2\" noValidate disabled />\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        <button className=\"btn btn-success w-auto mr-1\" data-dismiss=\"modal\"\r\n                                        onClick={() => this.onViewAdmission(\"/wiggly-tails/customer/view-admission\")}>\r\n                                            <i className=\"fa fa-hand-holding-medical fa-sm\"></i>\r\n                                            <span className=\"ml-1\">Admissions</span>\r\n                                        </button> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    onViewAdmission = link => {\r\n        const { record } = this.state;\r\n        const { history } = this.props;\r\n        history.push(link, {\r\n            ...history.location.state,\r\n            transId: record.id,\r\n            petName: record.petName,\r\n            transDate: record.transDate\r\n        });\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { checkUp } = this.state.record;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.checkUpConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Findings</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Treatment</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Admission Date</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Released Date</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate} \r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">Additional Information</label>\r\n                                <textarea className=\"form-control\"\r\n                                type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                                rows=\"2\" noValidate disabled />\r\n                            </div>\r\n                        </React.Fragment> :\r\n                        this.state.checkUpConnectionFailed ?\r\n                        <div className=\"col-12 text-center text-danger\">\r\n                            <h3 className=\"mb-1\">Database Connection Failed</h3>\r\n                            <h5 className=\"mb-3\">Please try again later.</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryCheckUpData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"mb-1\">Loading Data</h3>\r\n                            <h5>Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { groom } = this.state.record;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.groomConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">Activity</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"text\" name=\"activity\" value={groom.activity} noValidate disabled/>\r\n                            </div>\r\n                        </React.Fragment> :\r\n                        this.state.groomConnectionFailed ?\r\n                        <div className=\"col-12 text-center text-danger\">\r\n                            <h3 className=\"mb-1\">Database Connection Failed</h3>\r\n                            <h5 className=\"mb-3\">Please try again later.</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryGroomData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"mb-1\">Loading Data</h3>\r\n                            <h5>Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    retryCheckUpData = () => {\r\n        this.getCheckUpData(this.state.record.id);\r\n        const checkUpConnected = false;\r\n        const checkUpConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ checkUpConnected, checkUpConnectionFailed, connected })\r\n    }\r\n\r\n    getCheckUpData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionCheckUp.php?id='+id)\r\n        .then(res => {\r\n            let checkUp = res.data;\r\n            const checkUpConnected = true;\r\n            const connected = true;\r\n            checkUp = checkUp[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp\r\n                }, checkUpConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const checkUpConnectionFailed = true;\r\n            this.setState({ checkUpConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryGroomData = () => {\r\n        this.getGroomData(this.state.record.id);\r\n        const groomConnected = false;\r\n        const groomConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ groomConnected, groomConnectionFailed, connected })\r\n    }\r\n\r\n    getGroomData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionGroom.php?id='+id)\r\n        .then(res => {\r\n            let groom = res.data;\r\n            const groomConnected = true;\r\n            const connected = true;\r\n            groom = groom[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    groom\r\n                }, groomConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const groomConnectionFailed = true;\r\n            this.setState({ groomConnectionFailed });\r\n        });\r\n    }\r\n}\r\n \r\nexport default ViewTransactionModal;","import React, { Component } from 'react';\r\n\r\nclass TablePagination extends Component {\r\n    onClickPage = page => {\r\n        const recordStartIndex = this.props.recordsPerPage * (page-1);\r\n        const activePage = page;\r\n        this.props.setPage(recordStartIndex, activePage);\r\n    }\r\n\r\n    onClickPagePrev = () => {\r\n        let page = this.props.activePage;\r\n        if(page !== 1) page--;\r\n        this.onClickPage(page);\r\n    }\r\n\r\n    onClickPageNext = noOfPages => {\r\n        let page = this.props.activePage;\r\n        if(page !== noOfPages) page++;\r\n        this.onClickPage(page);\r\n    }\r\n\r\n    renderPagination = (totalRecords) => {\r\n        let pages = [];   \r\n        const noOfPages = Math.ceil(totalRecords / this.props.recordsPerPage);\r\n        const indexPage = this.props.activePage > 2 ? \r\n        this.props.activePage + 1 >= noOfPages ? \r\n        noOfPages > 5 ? noOfPages - 4 : 1 : this.props.activePage - 2 : 1\r\n        const stopPage = noOfPages <= indexPage + 4 ? noOfPages : indexPage + 4\r\n\r\n        for(var i = indexPage; i <= stopPage; i++){\r\n            const page = i;\r\n            pages.push(\r\n                <button key={page} className={this.getPageClasses(page)}\r\n                onClick={() => this.onClickPage(page)}>{page}</button>\r\n            )\r\n        }\r\n\r\n        return(\r\n            <div className=\"btn-toolbar justify-content-end\" role=\"toolbar\">\r\n                <div className=\"btn-group\" role=\"group\">\r\n                    <button className={this.getPrevPageClasses()}\r\n                    onClick={() => this.onClickPagePrev()}>\r\n                        <i className=\"fa fa-long-arrow-alt-left\"></i>\r\n                        <span className=\"d-none d-sm-inline ml-1\">Prev</span>\r\n                    </button>\r\n                    { this.renderBackPage(indexPage, 1) }\r\n                    { [pages] }\r\n                    { this.renderContinuePage(stopPage, noOfPages) }\r\n                    <button className={this.getNextPageClasses(noOfPages)}\r\n                    onClick={() => this.onClickPageNext(noOfPages)}>\r\n                        <i className=\"fa fa-long-arrow-alt-right\"></i>\r\n                        <span className=\"d-none d-sm-inline ml-1\">Next</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderBackPage = (indexPage, pageLowerLimit) => {\r\n        if(indexPage > pageLowerLimit) {\r\n            const pageNo = indexPage - 1;\r\n            return (\r\n                <button key={pageNo} className={this.getPageClasses(pageNo)}\r\n                onClick={() => this.onClickPage(pageNo)}>...</button>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderContinuePage = (stopPage, pageUpperLimit) => {\r\n        if(stopPage < pageUpperLimit) {\r\n            const pageNo = stopPage + 1;\r\n            return (\r\n                <button key={pageNo} className={this.getPageClasses(pageNo)}\r\n                onClick={() => this.onClickPage(pageNo)}>...</button>\r\n            );\r\n        }\r\n    }\r\n\r\n    getPageClasses = page => {\r\n        let classes = \"btn pagination-nav \";\r\n        classes+= page === this.props.activePage ? \"btn-outline-primary-active\" : \"btn-outline-primary\"\r\n        return classes;\r\n    }\r\n\r\n    getPrevPageClasses = () => {\r\n        let classes = \"btn \";\r\n        classes+= this.props.activePage === 1 ? \"pagination-disabled\" : \"btn-outline-primary pagination-nav\"\r\n        return classes;\r\n    }\r\n\r\n    getNextPageClasses = noOfPages => {\r\n        let classes = \"btn \";\r\n        classes+= this.props.activePage === noOfPages ? \"pagination-disabled\" : \"btn-outline-primary pagination-nav\"\r\n        return classes;\r\n    }\r\n\r\n    render() { \r\n        const { totalRecords } = this.props;\r\n        return (this.renderPagination(totalRecords));\r\n    }\r\n}\r\n \r\nexport default TablePagination;","import React, { Component } from 'react';\r\n\r\nimport ViewTransactionModal from './ViewTransactionModal.js';\r\nimport TablePagination from '../../TablePagination';\r\n\r\n\r\nclass TransactionsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (transactions) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = transactions.length <= recordStartIndex + recordsPerPage ?\r\n        transactions.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={transactions[i].id} className=\"table-row\">\r\n                    <td>{this.formatDate(transactions[i].transDate)}</td>\r\n                    <td>{transactions[i].petName}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].petWeight}</td>\r\n                    <td className=\"d-none d-md-table-cell\">\r\n                        {transactions[i].empLastName + \", \" + transactions[i].empFirstName + \" \" + transactions[i].empMiddleName}\r\n                    </td>\r\n                    <td className=\"d-none d-sm-table-cell\">{this.formatTransType(transactions[i].transType)}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewTransactionModal-\" + transactions[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { transactions, onRefresh, onSearch, searchValue, onClear, history, connected } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-warning mr-2 ml-auto\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Transaction Date</th>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"w-110px d-none d-lg-table-cell\">Pet Weight</th>\r\n                            <th className=\"d-none d-md-table-cell\">Served by</th>\r\n                            <th className=\"w-110px d-none d-sm-table-cell\">Trans. Type</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            transactions.length > 0 && connected ?\r\n                            this.renderItems(transactions) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    transactions.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={transactions.length} /> : null\r\n                }\r\n                {\r\n                    transactions.map(transaction => <ViewTransactionModal key={transaction.id}\r\n                    transaction={transaction} onRefresh={onRefresh} history={history} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {\r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n\r\n    formatTransType = transType => {\r\n        return transType === 'C' ? \"Check-up\" : \"Groom\"\r\n    }\r\n}\r\n \r\nexport default TransactionsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from '../CustomerNavbar.js';\r\nimport TransactionsTable from './TransactionsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ViewTransactions extends Component {\r\n    state = {\r\n        transactions: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={1} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>View Transactions</h3>\r\n                            <TransactionsTable transactions={this.state.transactions}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch} history={history}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} />\r\n                            <div className=\"text-center mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.transactions.length === 0 ?\r\n                                    <h1>No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-danger\">\r\n                                        <h1 className=\"mb-1\">Database Connection Failed</h1>\r\n                                        <h3 className=\"mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"mb-1\">Loading Data</h1>\r\n                                        <h3>Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAccountTransactions.php?id='+\r\n        history.location.state.id)\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            const connected = true;\r\n            this.setState({ transactions, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchAccountTransaction.php?id='+\r\n        history.location.state.id+\"&search=\"+searchValue)\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            this.setState({ transactions });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n\r\nexport default ViewTransactions;","import React, { Component } from 'react';\r\n\r\nclass ViewAdmissionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transId: '',\r\n            title: '',\r\n            content: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { admission } = this.props;\r\n        const record = {...this.state.record};\r\n\r\n        record.id = admission.id;\r\n        record.transId = admission.transId;\r\n        record.title = admission.title;\r\n        record.content = admission.content;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    render() {\r\n        const { record } = this.state;\r\n        const { admission } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewAdmissionModal-\" + admission.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewAdmissionModalTitle-\" + admission.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewAdmissionModalTitle-\" + admission.id}>Admission Info</h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">ID</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"title\" value={record.title}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">ID</label>\r\n                                        <textarea className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"content\" value={record.content} rows=\"7\"\r\n                                            noValidate disabled />\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default ViewAdmissionModal;","import React, { Component } from 'react';\r\n\r\nimport ViewAdmissionModal from './ViewAdmissionModal.js';\r\nimport TablePagination from '../../TablePagination';\r\n\r\nclass AdmissionTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (admission) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = admission.length <= recordStartIndex + recordsPerPage ?\r\n        admission.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={admission[i].id} className=\"table-row\">\r\n                    <td>{admission[i].title}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{admission[i].content}</td>\r\n                    <td className=\"d-table-cell d-md-none\">\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewAdmissionModal-\" + admission[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { admission, onRefresh, onSearch, searchValue, onClear, history, connected } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { state } = history.location;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-warning mr-2 ml-auto\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th colSpan=\"3\">\r\n                                <div className=\"row align-items-center\">\r\n                                    <div className=\"col-12 col-md-6 text-center mb-2 pb-2\r\n                                    m-md-0 p-md-0 bottom-border-dark border-md-0\">\r\n                                        {\"Pet Name: \" + state.petName}\r\n                                    </div>\r\n                                    <div className=\"col-12 col-md-6 text-center\">\r\n                                        {\"Transaction Date: \" + state.transDate}\r\n                                    </div>\r\n                                </div>\r\n                            </th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>Title</th>\r\n                            <th className=\"d-none d-md-table-cell\">Content</th>\r\n                            <th className=\"d-table-cell d-md-none w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            admission.length > 0 && connected ?\r\n                            this.renderItems(admission) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    admission.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={admission.length} /> : null\r\n                }\r\n                {\r\n                    admission.map(admission => <ViewAdmissionModal key={admission.id}\r\n                    admission={admission} onRefresh={onRefresh} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default AdmissionTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from '../CustomerNavbar.js';\r\nimport AdmissionTable from './AdmissionTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ViewAdmission extends Component {\r\n    state = {\r\n        admission: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={1} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>View Admission</h3>\r\n                            <AdmissionTable admission={this.state.admission} history={history}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} />\r\n                            <div className=\"text-center mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.admission.length === 0 ?\r\n                                    <h1>No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-danger\">\r\n                                        <h1 className=\"mb-1\">Database Connection Failed</h1>\r\n                                        <h3 className=\"mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"mb-1\">Loading Data</h1>\r\n                                        <h3>Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionAdmission.php?id='+\r\n        history.location.state.transId)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchTransactionAdmission.php?id='+\r\n        history.location.state.admissionId+\"&search=\"+searchValue)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default ViewAdmission;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: ' ',\r\n            birthdate: ' ',\r\n            petClass: ' ',\r\n            pcciRegNo: ''\r\n        },\r\n        petClasses:\r\n        [ 'Alligator', 'Alpaca', 'Ant', 'Bear', 'Bird', 'Bull', 'Cat', 'Chicken', 'Crab', 'Crocodile', 'Deer', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Fox', 'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Gorilla', 'Grasshopper', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Jaguar', 'Lion', 'Lizard', 'Mantis', 'Monkey', 'Mouse', 'Octopus', 'Orangutan', 'Orstrich', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Raccoon', 'Rat', 'Reindeer', 'Salamander', 'Sheep', 'Snake', 'Spider', 'Squirrel', 'Tiger', 'Tortoise', 'Turtle', 'Wolf', 'Whale', 'Zebra' ],\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        record.ownerId = this.props.ownerId;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n        \r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length > 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertPet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        this.onGenerateId();\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.petName = '';\r\n        record.birthdate = '';\r\n        record.petClass = '';\r\n        record.pcciRegNo = '';\r\n\r\n        errors.petName = 'Pet Name is required';\r\n        errors.birthdate = 'Birthdate is required';\r\n        errors.petClass = 'Pet Class is required';\r\n        errors.pcciRegNo = '';\r\n\r\n        this.setState({ record, errors, submitError, added, failed});\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, submitted, added, failed  } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addPetModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"addPetModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addPetModalTitle\">Add Pet</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }                                \r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">ID</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            placeholder=\"Please click 'Generate'\"\r\n                                            noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>\r\n                                                        Generate\r\n                                                    </button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                            value={record.petName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.petName)}\r\n                                            type=\"text\" name=\"petName\" value={record.petName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner ID<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"ownerId\" value={record.ownerId}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"petClass\"\r\n                                            value={record.petClass} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.petClass)}\r\n                                            name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                            value={record.pcciRegNo} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                            type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                            onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddPetModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: '',\r\n            birthdate: '',\r\n            petClass: '',\r\n            pcciRegNo: ''\r\n        },\r\n        petClasses:\r\n        [ 'Alligator', 'Alpaca', 'Ant', 'Bear', 'Bird', 'Bull', 'Cat', 'Chicken', 'Crab', 'Crocodile', 'Deer', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Fox', 'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Gorilla', 'Grasshopper', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Jaguar', 'Lion', 'Lizard', 'Mantis', 'Monkey', 'Mouse', 'Octopus', 'Orangutan', 'Orstrich', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Raccoon', 'Rat', 'Reindeer', 'Salamander', 'Sheep', 'Snake', 'Spider', 'Squirrel', 'Tiger', 'Tortoise', 'Turtle', 'Wolf', 'Whale', 'Zebra' ],\r\n        deleteState: false,\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false,\r\n        deleting: false,\r\n        deleted: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { pet } = this.props;\r\n        const record = {...this.state.record};\r\n        \r\n        record.id = pet.id;\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.ownerId = pet.ownerId;\r\n        record.petClass = pet.petClass;\r\n        record.lastVisit = pet.lastVisit;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length > 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updatePet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        const deleteState = false;\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { pet } = this.props;\r\n\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.petClass = pet.petClass;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        errors.petName = '';\r\n        errors.birthdate = '';\r\n        errors.petClass = '';\r\n        errors.pcciRegNo = '';\r\n\r\n        this.setState({ record, errors, deleteState, submitError, updated, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, deleteState, submitted, updated, failed, deleting, deleted } = this.state;\r\n        const { pet } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewPetModal\"+ pet.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewPetModalTitle\" + pet.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewPetModalTitle\" + pet.id}>Pet Info</h5>\r\n                                {\r\n                                    (!submitted && this.props.connected) || deleted ?\r\n                                    <button id={\"btnClose-\" + pet.id} className=\"btn btn-light text-danger p-1\"\r\n                                    data-dismiss=\"modal\" onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> :\r\n                                    deleting ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-trash text-primary mr-2\"></i>\r\n                                        <span>Deleting a record...</span>\r\n                                    </div> :\r\n                                    deleted ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully deleted.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">ID</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                            value={record.petName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.petName)}\r\n                                            type=\"text\" name=\"petName\" value={record.petName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner ID<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"ownerId\" value={record.ownerId}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <select className=\"form-control\" name=\"petClass\"\r\n                                            value={record.petClass} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.petClass)}\r\n                                            name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                            value={record.pcciRegNo} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                            type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                            onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            !this.state.submitted && !this.state.deleting && !this.state.deleted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                {\r\n                    this.props.connected ?\r\n                    <button className=\"btn btn-danger w-auto mr-1\"\r\n                    onClick={this.onReset}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button> :\r\n                    <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                }\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n\r\n        this.props.onSubmitForm();\r\n        this.deletion();\r\n\r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deletePet.php', record)\r\n        .then(this.postDelete)\r\n        .catch(error => {\r\n            console.log(error);\r\n            onRefresh();\r\n            this.failedDelete();\r\n        });\r\n    }\r\n\r\n    deletion = () => {\r\n        const deleteState = false;\r\n        const deleting = true;\r\n        this.setState({ deleteState, deleting });\r\n    }\r\n\r\n    postDelete = () => {\r\n        const deleting = false;\r\n        const deleted = true;\r\n        this.setState({ deleting, deleted }, () => {\r\n            setTimeout(() => {\r\n                document.getElementById(\"btnClose-\" + this.props.pet.id).click();\r\n                this.props.onRefresh();\r\n            }, 5000);\r\n        });\r\n    }\r\n\r\n    failedDelete = () => {\r\n        const deleting = false;\r\n        let failed = true;\r\n        this.setState({ deleting, failed }, () => {\r\n            setTimeout(() => {\r\n                failed = false;\r\n                this.setState({ failed });\r\n            }, 5000)\r\n        });\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewPetModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination.js';\r\nimport AddPetModal from './AddPetModal.js';\r\nimport ViewPetModal from './ViewPetModal.js';\r\n\r\nclass PetsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (pets) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = pets.length <= recordStartIndex + recordsPerPage ?\r\n        pets.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={pets[i].id} className=\"table-row\">\r\n                    <td>{pets[i].petName}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{this.formatDate(pets[i].birthdate)}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{pets[i].petClass}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">\r\n                        {\r\n                            pets[i].lastVisit === null ?\r\n                            \"Not visiting yet\" :\r\n                            this.formatDate(pets[i].lastVisit)\r\n                        }\r\n                    </td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewPetModal\" + pets[i].id}>\r\n                            <i className=\"fa fa-eye\"></i><span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { pets, ownerId, onRefresh, onSearch, searchValue, onClear, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                        data-toggle=\"modal\" data-target=\"#addPetModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"d-none d-md-table-cell\">Birthdate</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Pet Class</th>\r\n                            <th className=\"d-none d-sm-table-cell\">Last Visit</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            pets.length > 0 && connected ?\r\n                            this.renderItems(pets) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    pets.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={pets.length} /> : null\r\n                }\r\n                <AddPetModal onRefresh={onRefresh} ownerId={ownerId} onSubmitForm={onSubmitForm} />\r\n                { pets.map(pet => <ViewPetModal key={pet.id} pet={pet} onRefresh={onRefresh}\r\n                connected={connected} onSubmitForm={onSubmitForm} /> ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default PetsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from '../CustomerNavbar.js';\r\nimport PetsTable from './PetsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManagePets extends Component {\r\n    state = {\r\n        pets: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {        \r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={2} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Pets</h3>\r\n                            <PetsTable pets={this.state.pets} ownerId={history.location.state.id}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"text-center mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.pets.length === 0 ?\r\n                                    <h1>No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-danger\">\r\n                                        <h1 className=\"mb-1\">Database Connection Failed</h1>\r\n                                        <h3 className=\"mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"mb-1\">Loading Data</h1>\r\n                                        <h3>Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAccountPets.php?id='+\r\n        history.location.state.id)\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchAccountPet.php?id='+\r\n        history.location.state.id+'&search='+searchValue)\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManagePets;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ManageEmployeesModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            adminId: '',\r\n            adminPassword: ''\r\n        },\r\n        errors:\r\n        {\r\n            adminId: 'Please input your Admin ID',\r\n            adminPassword: 'Please input your Admin Password'\r\n        },\r\n        records: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        submitError: false,\r\n        loginError: false\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"adminId\") {\r\n            value = value.toUpperCase();\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'adminId':\r\n                errors.adminId=    value.length === 0 ? \"Please input your Admin ID\" :\r\n                                    value.length !== 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            case 'adminPassword':\r\n                errors.adminPassword=  value.length === 0 ? \"Please input your Admin Password\" : \r\n                                        value.length > 24 ? \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n        const records = [...this.state.records];\r\n        const record = {...this.state.record};\r\n\r\n        if(this.validForm({ errors })) {\r\n            let submitError = false;\r\n            let loginError = false;\r\n\r\n            const result = records.filter(row => \r\n                row.id === record.adminId &&\r\n                row.empPassword === record.adminPassword\r\n            )\r\n\r\n            if(result.length > 0) {\r\n                document.getElementById(\"btnClose\").click();\r\n                \r\n                const { history } = this.props;\r\n                history.replace('/wiggly-tails/admin/manage-employees',\r\n                {verified: true, id: result[0].id, empType: result[0].empType});\r\n            }\r\n            else {\r\n                submitError = true;\r\n                loginError = true;\r\n                record.adminPassword = '';\r\n                errors.adminPassword = 'Please input your Admin Password';\r\n            }\r\n\r\n            this.setState({ record, errors, submitError, loginError });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const submitError = false;\r\n        const loginError = false;\r\n\r\n        record.adminId = '';\r\n        record.adminPassword = '';\r\n\r\n        errors.adminId = 'Please input your Admin ID';\r\n        errors.adminPassword = 'Please input your Admin Password';\r\n\r\n        this.setState({ record, errors, submitError, loginError});\r\n    }\r\n\r\n    handleKeyPress = e => {\r\n        if(e.which === 13) {\r\n            document.getElementById(\"btnSubmit\").click();\r\n        }\r\n    }\r\n\r\n    renderLoginError = () => {\r\n        if(this.state.loginError) {\r\n            return(\r\n                <div className=\"alert alert-danger d-flex align-items-center mb-2 py-0\">\r\n                    <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                    <span className=\"lh-0 my-1\">Incorrect Admin ID or Admin Password</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    renderModal = () => {\r\n        const { record, errors } = this.state;\r\n        return(\r\n            <div className=\"modal fade\" id=\"manageEmployeesModal\"\r\n                tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                aria-labelledby=\"manageEmployeesModalTitle\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h5 className=\"modal-title\" id=\"manageEmployeesModalTitle\">Manage Employees</h5>\r\n                            <button id=\"btnClose\" className=\"btn btn-light text-danger p-1\"\r\n                            data-dismiss=\"modal\" onClick={this.onReset}>\r\n                                <i className=\"fa fa-window-close fa-lg\"></i>\r\n                            </button>\r\n                        </div>\r\n                        \r\n                        <div className=\"modal-body\">\r\n                            { this.renderLoginError() }\r\n                            {\r\n                                this.state.connected ?\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Admin ID</label>\r\n                                        <input className=\"form-control\" type=\"text\"\r\n                                        name=\"adminId\" value={record.adminId} maxLength=\"6\"\r\n                                        onChange={this.onChangeRecord} onKeyPress={this.handleKeyPress}\r\n                                        noValidate />\r\n                                        { this.renderRecordErrors(errors.adminId) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Admin Password</label>\r\n                                        <input className=\"form-control\" type=\"password\"\r\n                                        name=\"adminPassword\" value={record.adminPassword}\r\n                                        onChange={this.onChangeRecord} onKeyPress={this.handleKeyPress}\r\n                                        noValidate />\r\n                                        { this.renderRecordErrors(errors.adminPassword) }\r\n                                    </div>\r\n                                </form> :\r\n                                this.state.connectionFailed ?\r\n                                <div className=\"col-12 text-center text-danger\">\r\n                                    <h3 className=\"mb-1\">Database Connection Failed</h3>\r\n                                    <h5 className=\"mb-3\">Please try again later</h5>\r\n                                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.onRefresh}>Retry</button>\r\n                                </div> :\r\n                                <div className=\"col-12 text-center\">\r\n                                    <h3 className=\"mb-1\">Loading Data</h3>\r\n                                    <h5>Please wait...</h5>\r\n                                </div>\r\n                                \r\n                            }\r\n                        </div>\r\n\r\n                        <div className=\"modal-footer\">\r\n                            <div className=\"d-flex justify-content-end w-100\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    <React.Fragment>\r\n                                        <button className=\"btn btn-primary w-auto mr-1\"\r\n                                        id=\"btnSubmit\" onClick={this.onSubmit}>\r\n                                            <i className=\"fa fa-sign-in-alt\"></i>\r\n                                            <span className=\"ml-1\">Submit</span>\r\n                                        </button>\r\n                                        <button className=\"btn btn-danger w-auto\"\r\n                                        onClick={this.onReset}>\r\n                                            <i className=\"fa fa-eraser\"></i>\r\n                                            <span className=\"ml-1\">Reset</span>\r\n                                        </button>\r\n                                    </React.Fragment> :\r\n                                    <React.Fragment>\r\n                                        <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                            <i className=\"fa fa-sign-in-alt\"></i>\r\n                                            <span className=\"ml-1\">Submit</span>\r\n                                        </button>\r\n                                        <button className=\"btn btn-danger w-auto\" disabled>\r\n                                            <i className=\"fa fa-eraser\"></i>\r\n                                            <span className=\"ml-1\">Reset</span>\r\n                                        </button>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                {  this.renderModal() }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.getData();\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAdmins.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const connected = true;\r\n            this.setState({ records, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n \r\nexport default ManageEmployeesModal;","import React, { Component } from 'react';\r\n\r\nimport wiggy_tails_icon from '../../img/wiggly-tails-icon.png';\r\nimport ManageEmployeesModal from './Employees/ManageEmployeesModal.js';\r\nimport AboutUsModal from '../AboutUsModal.js';\r\n\r\nclass AdminNavbar extends Component {\r\n    state = {\r\n        navs:\r\n        [\r\n            {\r\n                id: 0,\r\n                text: \"Home\",\r\n                link: \"/wiggly-tails/admin\",\r\n                items: []\r\n            },\r\n            {\r\n                id: 1,\r\n                text: \"Manage\",\r\n                link: null,\r\n                items:\r\n                [\r\n                    {\r\n                        id: 2,\r\n                        text: \"Transactions\",\r\n                        link: \"/wiggly-tails/admin/manage-transactions\"\r\n                    },\r\n                    {\r\n                        id: 3,\r\n                        text: \"Customers\",\r\n                        link: \"/wiggly-tails/admin/manage-customers\"\r\n                    },\r\n                    {\r\n                        id: 4,\r\n                        text: \"Pets\",\r\n                        link: \"/wiggly-tails/admin/manage-pets\"\r\n                    },\r\n                    {\r\n                        id: 5,\r\n                        text: \"Employees\",\r\n                        link: \"/wiggly-tails/admin/manage-employees\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                id: 6,\r\n                text: \"About us\",\r\n                link: null,\r\n                items: []\r\n            },\r\n            {\r\n                id: 10,\r\n                text: \"Sign out\",\r\n                link: \"/wiggly-tails\",\r\n                items: []\r\n            }\r\n        ]\r\n    }\r\n\r\n    onClickLink = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    onClickBrand = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails/admin\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    onClickSignOut = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link);\r\n    }\r\n\r\n    render() { \r\n        const { activeId, history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <nav className=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\r\n                    <a onClick={this.onClickBrand} className=\"navbar-brand py-0\">\r\n                        <img src={wiggy_tails_icon} alt=\"\" className=\"mr-2\" />Veterinary Clinic\r\n                    </a>\r\n\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                    data-target=\"#admin-navbar\" aria-controls=\"admin-navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"admin-navbar\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {\r\n                                this.state.navs.map(nav =>\r\n                                    nav.items.length > 0 ?\r\n                                    <li key={nav.id} className=\"nav-item dropdown mr-1\">\r\n                                        <a className={\"dropdown-toggle \" + this.linkItemClasses(nav.id)} id={\"dropdown\" + nav.id}\r\n                                        href={nav.link} data-toggle=\"dropdown\">{nav.text}</a>\r\n                                        <div className=\"dropdown-menu\" aria-labelledby={\"dropdown\" + nav.id}>\r\n                                            {\r\n                                                nav.items.map(item =>\r\n                                                    item.id === 5 && item.id !== activeId ?\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    data-toggle=\"modal\" data-target=\"#manageEmployeesModal\">\r\n                                                        {item.text}</a> :\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    onClick={() => this.onClickLink(item)}>{item.text}</a>\r\n                                                    \r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </li> :\r\n                                    <li key={nav.id} className=\"nav-item mr-1\">\r\n                                        {\r\n                                            nav.id === 10 ?\r\n                                            <a onClick={() => this.onClickSignOut(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            nav.id === 6 ?\r\n                                            <a key={nav.id} className={this.linkItemClasses(nav.id)}\r\n                                            data-toggle=\"modal\" data-target=\"#aboutUsModal\">\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            <a onClick={() => this.onClickLink(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a>\r\n                                        }\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n\r\n                <ManageEmployeesModal history={history} />\r\n                <AboutUsModal />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    linkItemClasses = id => {\r\n        const { activeId, sourceId } = this.props;\r\n\r\n        let classes = \"nav-link \";\r\n        classes+= id === 10 || id === 6 ?\r\n        \"btn rounded-pill text-center text-light py-1 my-1 px-3 \" : \"\"\r\n\r\n        classes+= id === activeId ? \"active\" :\r\n        id === sourceId ? \"active\" : \r\n        id === 10 ? \"btn-danger\" :\r\n        id === 6 ? \"btn-primary\" : \"inactive\"\r\n        \r\n        return classes;\r\n    }\r\n\r\n    dropdownItemClasses = id => {\r\n        const { activeId } = this.props;\r\n\r\n        let classes = \"dropdown-item \"\r\n        classes+= id === 5 ? \"text-danger \" : \"text-dark \"\r\n        classes+= id === activeId ? \"active-dropdown\" : \"inactive-dropdown\"\r\n\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default AdminNavbar;","import React, { Component } from 'react';\r\n\r\nclass Forbidden extends Component {\r\n    state = {  }\r\n\r\n    onBackToLogin = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row min-h-full justify-content-center align-items-center\">\r\n                    <div className=\"col-10 col-md-8 col-lg-6 form-light\">\r\n                        <div className=\"alert alert-warning text-warning text-center my-3 mx-1 py-4\">\r\n                            <div className=\"d-flex justify-content-center align-items-center\">\r\n                                <i className=\"fa fa-exclamation fa-lg\"></i>\r\n                                <span className=\"ml-2\">\r\n                                    <h2 className=\"font-weight-normal\">Forbidden Access</h2>\r\n                                </span>\r\n                            </div>\r\n                            <h5 className=\"font-weight-light\">\r\n                                Please login your Employee account first.\r\n                            </h5>\r\n                        </div>\r\n                        <div className=\"text-center mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                onClick={this.onBackToLogin}>\r\n                                Back to Login\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Forbidden;","import React, { Component } from 'react';\r\n\r\nimport AdminNavbar from './AdminNavbar.js';\r\nimport ManageEmployeesModal from './Employees/ManageEmployeesModal.js';\r\nimport Footer from '../Footer.js';\r\nimport Forbidden from './Forbidden.js';\r\n\r\nclass Admin extends Component {\r\n    state = { }\r\n\r\n    onClickLink = link => {\r\n        const { history } = this.props;\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return(\r\n            <React.Fragment>\r\n                <AdminNavbar activeId={0} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row min-h-full align-items-center mx-1 py-5\">\r\n                        <div className=\"col\">\r\n                            <div className=\"row mt-5 mb-3\">\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"mt-3\">\r\n                                            Transactions</h3>\r\n                                        <h1 className=\"display-1 text-primary\">\r\n                                            <i className=\"fa fa-exchange-alt\"></i>\r\n                                        </h1>\r\n                                        \r\n                                        <div className=\"p-3 mt-2 admin-card-content-height h-md-130px h-sm-150px h-lg-200px h-xl-160px\">\r\n                                            <h5>Manage transaction records here</h5>\r\n                                            <p>This is where all services offered to a customer are recorded.</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-primary border w-75 mt-3\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/admin/manage-transactions\")}>\r\n                                            Manage\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"mt-3\">\r\n                                            Customers</h3>\r\n                                        <h1 className=\"display-1 text-secondary\">\r\n                                            <i className=\"fa fa-users\"></i>\r\n                                        </h1>\r\n                                        \r\n                                        <div className=\"p-3 mt-2 admin-card-content-height h-md-130px h-sm-150px h-lg-200px h-xl-160px\">\r\n                                            <h5>Manage customer records here</h5>\r\n                                            <p>This is where all customer informations are recorded.</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-secondary border w-75 mt-3\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/admin/manage-customers\")}>\r\n                                            Manage\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"mt-3\">\r\n                                            Pets</h3>\r\n                                        <h1 className=\"display-1 text-warning\">\r\n                                            <i className=\"fa fa-cat\"></i>\r\n                                        </h1>\r\n\r\n                                        <div className=\"p-3 mt-2 admin-card-content-height h-md-130px h-sm-150px h-lg-200px h-xl-160px\">\r\n                                            <h5>Manage pet records here</h5>\r\n                                            <p>This is where all customer's pet informations are recorded.</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-warning border w-75 mt-3\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/admin/manage-pets\")}>\r\n                                            Manage\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"mt-3\">\r\n                                            Employees</h3>\r\n                                        <h1 className=\"display-1 text-danger\">\r\n                                            <i className=\"fa fa-user-md\"></i>\r\n                                        </h1>\r\n\r\n                                        <div className=\"p-3 mt-2 admin-card-content-height h-md-130px h-sm-150px h-lg-200px h-xl-160px\">\r\n                                            <h5>Manage employee records here</h5>\r\n                                            <p>This is where all employee informations are recorded.</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-danger border w-75 mt-3\"\r\n                                        data-toggle=\"modal\" data-target=\"#manageEmployeesModal\">\r\n                                            Manage\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <ManageEmployeesModal history={history} />\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Admin;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            customerId: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        errors:\r\n        {\r\n            transType: ' ',\r\n            petId: ' ',\r\n            customerId: ' ',\r\n            petWeight: ' ',\r\n            remarks: '',\r\n            empId: ' ',\r\n            checkUpErrors:\r\n            {\r\n                findings: ' ',\r\n                treatment: ' ',\r\n                addInfo: ''\r\n            },\r\n            groomErrors:\r\n            {\r\n                activity: ' '\r\n            }\r\n        },\r\n        customer:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        pet:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        employee:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n\r\n        const currentDate = this.getCurrentDate();\r\n        record.transDate = currentDate;\r\n        record.checkUp.admissionDate = currentDate;\r\n        record.checkUp.releasedDate = currentDate;\r\n        \r\n        this.setState({ record });\r\n    }\r\n\r\n    getCurrentDate = () => {\r\n        const dateObj = new Date(); \r\n        const currentMonth = dateObj.getMonth()+1 < 10 ? \"0\"+(dateObj.getMonth()+1) : dateObj.getMonth()+1\r\n        const currentDay = dateObj.getDate() < 10 ? \"0\"+dateObj.getDate() : dateObj.getDate() \r\n        const currentDate = dateObj.getFullYear() + \"-\" + currentMonth + \"-\" + currentDay;\r\n        return currentDate;\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"remarks\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n\r\n        if(name === 'transType') {\r\n            const checkUp = {...this.state.record.checkUp};\r\n            const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n\r\n            checkUp.findings = '';\r\n            checkUp.treatment = '';\r\n            const currentDate = this.getCurrentDate();\r\n            checkUp.admissionDate = currentDate;\r\n            checkUp.releasedDate = currentDate;\r\n            checkUp.addInfo = ''\r\n\r\n            checkUpErrors.findings = ' ';\r\n            checkUpErrors.treatment = ' ';\r\n            checkUpErrors.addInfo = ''\r\n\r\n            const groom = {...this.state.record.groom};\r\n            const groomErrors = {...this.state.errors.groomErrors};\r\n\r\n            groom.activity = '';\r\n            \r\n            groomErrors.activity = ' ';\r\n\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp,\r\n                    groom\r\n                },\r\n                errors: {\r\n                    ...currentState.errors,\r\n                    checkUpErrors,\r\n                    groomErrors\r\n                }\r\n            }))\r\n        }\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'transType':\r\n                errors.transType=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'empId':\r\n                errors.empId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'customerId':\r\n                errors.customerId=  value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petId':\r\n                errors.petId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petWeight':\r\n                errors.petWeight=   value.length === 0 ? \" \" :\r\n                                    !isNumeric(value) ? \"Please input a valid value\" :\r\n                                    value.length > 6 ? \"Must be at maximum of 6 numbers\" : \"\"\r\n                break;\r\n\r\n            case 'remarks':\r\n            errors.remarks= value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n            break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors }, () => {\r\n            if(name === 'customerId') {\r\n                const record = {...this.state.record};\r\n                record.petId = '';\r\n                errors.petId = ' ';\r\n                this.setState({ record, errors });\r\n                const pet = {...this.state.pet};\r\n                if(pet.search) this.onTogglePetSearch()\r\n            }\r\n        });\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"admissionDate\" && name !== \"releasedDate\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckCheckUpErrors(e))\r\n    }\r\n\r\n    onCheckCheckUpErrors = e => {\r\n        const { name, value } = e.target;\r\n        const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'findings':\r\n                checkUpErrors.findings= properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 128 ?\r\n                                        \"Must be at between 2 and 128 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            case 'treatment':\r\n                checkUpErrors.treatment=    properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 128 ?\r\n                                            \"Must be at between 2 and 128 characters\" :\r\n                                            properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'addInfo':\r\n                checkUpErrors.addInfo=  value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                checkUpErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"activity\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckGroomErrors(e))\r\n    }\r\n\r\n    onCheckGroomErrors = e => {\r\n        const { name, value } = e.target;\r\n        const groomErrors = {...this.state.errors.groomErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'activity':\r\n                groomErrors.activity=   properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 32 ?\r\n                                        \"Must be at between 2 and 32 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                groomErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.remarks = this.removeLastSpace(record.remarks);\r\n            record.checkUp.findings = this.removeLastSpace(record.checkUp.findings);\r\n            record.checkUp.treatment = this.removeLastSpace(record.checkUp.treatment);\r\n            record.checkUp.addInfo = this.removeLastSpace(record.checkUp.addInfo);\r\n            record.groom.activity = this.removeLastSpace(record.groom.activity);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission()\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertTransaction.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        const { record } = this.state;\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        if(record.transType === 'C') {\r\n            Object.values(errors.checkUpErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n        else if(record.transType === 'G') {\r\n            Object.values(errors.groomErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {        \r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n        const errors = {...this.state.errors};\r\n        const checkUpErrors = {...this.state.errors.checkUp};\r\n        const groomErrors = {...this.state.errors.groom};\r\n\r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        const currentDate = this.getCurrentDate();\r\n\r\n        const id = this.generateCharacters(6);\r\n        groom.activity = '';\r\n        checkUp.findings = '';\r\n        checkUp.treatment = '';\r\n        checkUp.admissionDate = currentDate;\r\n        checkUp.releasedDate = currentDate;\r\n        checkUp.addInfo = '';\r\n\r\n        record.id = id;\r\n        record.transType = '';\r\n        record.transDate = currentDate;\r\n        record.petId = ''\r\n        record.customerId = '';\r\n        record.petWeight = '';\r\n        record.remarks = '';\r\n        record.empId = '';\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        groomErrors.activity = ' ';\r\n        checkUpErrors.findings = ' ';\r\n        checkUpErrors.treatment = ' ';\r\n        checkUpErrors.addInfo = '';\r\n\r\n        errors.transType = ' ';\r\n        errors.petId = ' '\r\n        errors.customerId = ' ';\r\n        errors.remarks = '';\r\n        errors.empId = ' ';\r\n        errors.checkUpErrors = checkUpErrors;\r\n        errors.groomErrors = groomErrors;\r\n\r\n        this.setState({ record, errors, submitError, added, failed });\r\n    }\r\n\r\n    onToggleCustomerSearch = () => {\r\n        const customer = {...this.state.customer};\r\n        customer.search = !customer.search;\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onClearCustomerSearch = () => {\r\n        const customer = {...this.state.customer};\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onChangeCustomerSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.customerId = '';\r\n        errors.customerId = ' ';\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            customer: {\r\n                ...currentState.customer,\r\n                [name] : value\r\n            }\r\n        }), () => {\r\n            const pet = {...this.state.pet};\r\n            if(pet.search) this.onTogglePetSearch()\r\n        })\r\n    }\r\n\r\n    onTogglePetSearch = () => {\r\n        const pet = {...this.state.pet};\r\n        pet.search = !pet.search;\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onClearPetSearch = () => {\r\n        const pet = {...this.state.pet};\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onChangePetSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            pet: {\r\n                ...currentState.pet,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onToggleEmployeeSearch = () => {\r\n        const employee = {...this.state.employee};\r\n        employee.search = !employee.search;\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onClearEmployeeSearch = () => {\r\n        const employee = {...this.state.employee};\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onChangeEmployeeSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.empId = '';\r\n        errors.empId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            employee: {\r\n                ...currentState.employee,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, customer, pet, employee, submitted, added, failed } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addTransactionModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"addTransactionModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addTransactionModalTitle\">Add Transaction</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Date\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"transDate\"\r\n                                            value={record.transDate} noValidate disabled /> :\r\n                                            <input className=\"form-control border border-success\"\r\n                                            type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"transType\"\r\n                                            value={record.transType} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.transType)}\r\n                                            name=\"transType\" value={record.transType} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.transType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Served by<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.employeeConnected || submitted ?\r\n                                                <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"empId\"\r\n                                                        value={record.empId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.employees.length > 0 ?\r\n                                                                this.props.employees.filter(row =>\r\n                                                                    (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                    .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                    employee.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.empId)}\r\n                                                            name=\"empId\" value={record.empId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.employees.length > 0 ?\r\n                                                                    this.props.employees.filter(row =>\r\n                                                                        (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                        .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                        employee.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleEmployeeSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    employee.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={employee.searchValue} onChange={this.onChangeEmployeeSearch}\r\n                                                        placeholder=\"Search by Employee Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearEmployeeSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.empId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.employeeConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryEmployeesData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Customer ID<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.customerConnected || submitted ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"customerId\"\r\n                                                        value={record.customerId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.customers.length > 0 ?\r\n                                                                this.props.customers.filter(row =>\r\n                                                                    (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                    .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                    customer.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.customerId)}\r\n                                                            name=\"customerId\" value={record.customerId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.customers.length > 0 ?\r\n                                                                    this.props.customers.filter(row =>\r\n                                                                        (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                        .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                        customer.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleCustomerSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    customer.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={customer.searchValue} onChange={this.onChangeCustomerSearch}\r\n                                                        placeholder=\"Search by Customer Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearCustomerSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.customerId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.customerConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet ID<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.petConnected || submitted ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"petId\"\r\n                                                        value={record.petId} noValidate disabled>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer ID is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <select className={\"zi-10 \" + this.inputFieldClasses(errors.petId)}\r\n                                                        name=\"petId\" value={record.petId} onChange={this.onChangeRecord}\r\n                                                        noValidate>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer ID is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select>\r\n                                                    }\r\n                                                    {\r\n                                                        (this.props.pets.filter(row =>\r\n                                                            (row.petName.match(pet.searchValue) && row.ownerId === record.customerId) ||\r\n                                                            (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                        ).length > 0 || pet.searchValue.length > 0) && !submitted ?\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onTogglePetSearch}>\r\n                                                                Search\r\n                                                            </button>\r\n                                                        </div> : null\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    pet.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={pet.searchValue} onChange={this.onChangePetSearch}\r\n                                                        placeholder=\"Search by Pet Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearPetSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.petId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.petConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryPetsData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Weight<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"text\" name=\"petWeight\"\r\n                                                value={record.petWeight} noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.petWeight)}\r\n                                                type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>{ this.renderRecordErrors(errors.petWeight) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Remarks\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"remarks\"\r\n                                            value={record.remarks} rows=\"2\" placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.remarks)}\r\n                                            type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                            onChange={this.onChangeRecord} rows=\"2\" placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.remarks) }\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted && this.props.customerConnected &&\r\n                                        this.props.petConnected && this.props.employeeConnected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                        <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                            <i className=\"fa fa-sign-in-alt\"></i>\r\n                                            <span className=\"ml-1\">Submit</span>\r\n                                        </button>\r\n                                        <button className=\"btn btn-danger w-auto\" disabled>\r\n                                            <i className=\"fa fa-eraser\"></i>\r\n                                            <span className=\"ml-1\">Reset</span>\r\n                                        </button>\r\n                                    </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { submitted } = this.state;\r\n        const { checkUp } = this.state.record;\r\n        const { checkUpErrors } = this.state.errors;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Findings<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"findings\"\r\n                            value={checkUp.findings} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(checkUpErrors.findings)}\r\n                            type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.findings) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Treatment<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"treatment\"\r\n                            value={checkUp.treatment} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(checkUpErrors.treatment)}\r\n                            type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.treatment) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Admission Date<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"date\" name=\"admissionDate\"\r\n                            value={checkUp.admissionDate} noValidate disabled /> :\r\n                            <input className=\"form-control border border-success\"\r\n                            type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Released Date<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"date\" name=\"releasedDate\"\r\n                            value={checkUp.releasedDate} noValidate disabled /> :\r\n                            <input className=\"form-control border border-success\"\r\n                            type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Additional Information\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <textarea className=\"form-control\" type=\"text\" name=\"addInfo\"\r\n                            value={checkUp.addInfo} rows=\"2\" placeholder=\"(Optional)\" noValidate disabled /> : \r\n                            <textarea className={this.inputFieldClasses(checkUpErrors.addInfo)}\r\n                            type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                            onChange={this.onChangeCheckUp} rows=\"2\" placeholder=\"(Optional)\" noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.addInfo) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { submitted } = this.state;\r\n        const { groom } = this.state.record;\r\n        const { groomErrors } = this.state.errors;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Activity<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"activity\"\r\n                            value={groom.activity} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(groomErrors.activity)}\r\n                            type=\"text\" name=\"activity\" value={groom.activity}\r\n                            onChange={this.onChangeGroom} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(groomErrors.activity) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default AddTransactionModal;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            petName: '',\r\n            customerId: '',\r\n            customerName: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            empName: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            },\r\n            lastVisit: '',\r\n            prevVisit: ''\r\n        },\r\n        errors:\r\n        {\r\n            transType: '',\r\n            petId: '',\r\n            customerId: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUpErrors:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                addInfo: ''\r\n            },\r\n            groomErrors:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        checkUpConnected: false,\r\n        checkUpConnectionFailed: false,\r\n        groomConnected: false,\r\n        groomConnectionFailed: false,\r\n        connected: false,\r\n        customer:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        pet:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        employee:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { transaction } = this.props;\r\n        if(transaction.transType === 'C') {\r\n            this.getCheckUpData(transaction.id);\r\n        }\r\n        else if(transaction.transType === 'G') {\r\n            this.getGroomData(transaction.id);\r\n        }\r\n\r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n\r\n        record.id = transaction.id;\r\n        record.transType = transaction.transType;\r\n        record.transDate = transaction.transDate;\r\n        record.petId = transaction.petId;\r\n        record.petName = transaction.petName;\r\n        record.customerId = transaction.customerId;\r\n        record.customerName = transaction.lastName + \", \" + transaction.firstName + \" \" + transaction.middleName;\r\n        record.petWeight = transaction.petWeight;\r\n        record.remarks = transaction.remarks;\r\n        record.empId = transaction.empId;\r\n        record.empName = transaction.empLastName + \", \" + transaction.empFirstName + \" \" + transaction.empMiddleName;\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    getCurrentDate = () => {\r\n        const dateObj = new Date(); \r\n        const currentMonth = dateObj.getMonth()+1 < 10 ? \"0\"+(dateObj.getMonth()+1) : dateObj.getMonth()+1\r\n        const currentDay = dateObj.getDate() < 10 ? \"0\"+dateObj.getDate() : dateObj.getDate() \r\n        const currentDate = dateObj.getFullYear() + \"-\" + currentMonth + \"-\" + currentDay;\r\n        return currentDate;\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"remarks\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n\r\n        if(name === 'transType') {\r\n            const checkUp = {...this.state.record.checkUp};\r\n            const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n\r\n            checkUp.findings = '';\r\n            checkUp.treatment = '';\r\n            const currentDate = this.getCurrentDate();\r\n            checkUp.admissionDate = currentDate;\r\n            checkUp.releasedDate = currentDate;\r\n            checkUp.addInfo = '';\r\n\r\n            checkUpErrors.findings = ' ';\r\n            checkUpErrors.treatment = ' ';\r\n            checkUpErrors.addInfo = ''\r\n\r\n            const groom = {...this.state.record.groom};\r\n            const groomErrors = {...this.state.errors.groomErrors};\r\n\r\n            groom.activity = '';\r\n            \r\n            groomErrors.activity = ' ';\r\n\r\n            const checkUpConnected = true;\r\n            const groomConnected = true;\r\n            const connected = true;\r\n\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp,\r\n                    groom\r\n                },\r\n                errors: {\r\n                    ...currentState.errors,\r\n                    checkUpErrors,\r\n                    groomErrors\r\n                }, checkUpConnected, groomConnected, connected\r\n            }))\r\n        }\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'transType':\r\n                errors.transType=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'empId':\r\n                errors.empId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'customerId':\r\n                errors.customerId=  value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petId':\r\n                errors.petId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petWeight':\r\n                errors.petWeight=   value.length === 0 ? \" \" :\r\n                                    !isNumeric(value) ? \"Please input a valid value\" :\r\n                                    value.length > 6 ? \"Must be at maximum of 6 numbers\" : \"\"\r\n                break;\r\n\r\n            case 'remarks':\r\n            errors.remarks= value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n            break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors }, () => {\r\n            if(name === 'customerId') {\r\n                const record = {...this.state.record};\r\n                record.petId = '';\r\n                errors.petId = ' ';\r\n                this.setState({ record, errors });\r\n                const pet = {...this.state.pet};\r\n                if(pet.search) this.onTogglePetSearch()\r\n            }\r\n        });\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"admissionDate\" && name !== \"releasedDate\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckCheckUpErrors(e))\r\n    }\r\n\r\n    onCheckCheckUpErrors = e => {\r\n        const { name, value } = e.target;\r\n        const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'findings':\r\n                checkUpErrors.findings= properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 128 ?\r\n                                        \"Must be at between 2 and 128 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            case 'treatment':\r\n                checkUpErrors.treatment=    properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 128 ?\r\n                                            \"Must be at between 2 and 128 characters\" :\r\n                                            properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'addInfo':\r\n                checkUpErrors.addInfo=  value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                checkUpErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"activity\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckGroomErrors(e))\r\n    }\r\n\r\n    onCheckGroomErrors = e => {\r\n        const { name, value } = e.target;\r\n        const groomErrors = {...this.state.errors.groomErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'activity':\r\n                groomErrors.activity=   properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 32 ?\r\n                                        \"Must be at between 2 and 32 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                groomErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.remarks = this.removeLastSpace(record.remarks);\r\n            record.checkUp.findings = this.removeLastSpace(record.checkUp.findings);\r\n            record.checkUp.treatment = this.removeLastSpace(record.checkUp.treatment);\r\n            record.checkUp.addInfo = this.removeLastSpace(record.checkUp.addInfo);\r\n            record.groom.activity = this.removeLastSpace(record.groom.activity);\r\n\r\n            const petRecord = this.props.pets.filter(row =>\r\n                record.petId === row.id);\r\n\r\n            if(petRecord[0].lastVisit === null || petRecord[0].lastVisit === '') {\r\n                record.lastVisit = record.id;\r\n            }\r\n            else {\r\n                const lastVisit = this.props.transactions.filter(row =>\r\n                    petRecord[0].lastVisit === row.transDate);\r\n\r\n                record.lastVisit = petRecord[0].lastVisit > record.transDate ?\r\n                lastVisit[0].id : record.id\r\n            }\r\n\r\n            const transactions = this.props.transactions.filter(row =>\r\n                this.props.transaction.petId === row.petId);\r\n\r\n            record.prevVisit = transactions.length > 1 ? transactions[1].id : ''\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateTransaction.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        const { record } = this.state;\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        if(record.transType === 'C') {\r\n            Object.values(errors.checkUpErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n        else if(record.transType === 'G') {\r\n            Object.values(errors.groomErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {  \r\n        const { transaction } = this.props;\r\n        const checkUpConnected = false;\r\n        const groomConnected = false;\r\n        const connected = false;\r\n\r\n        this.setState({ checkUpConnected, groomConnected, connected })\r\n\r\n        if(transaction.transType === 'C') {\r\n            this.getCheckUpData(transaction.id);\r\n        }\r\n        else if(transaction.transType === 'G') {\r\n            this.getGroomData(transaction.id);\r\n        }      \r\n\r\n        const record = {...this.state.record};\r\n        let checkUp = {...this.state.record.checkUp};\r\n        let groom = {...this.state.record.groom};\r\n        const errors = {...this.state.errors};\r\n        const checkUpErrors = {...this.state.errors.checkUp};\r\n        const groomErrors = {...this.state.errors.groom};\r\n\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        record.id = transaction.id;\r\n        record.transType = transaction.transType;\r\n        record.transDate = transaction.transDate;\r\n        record.petId = transaction.petId;\r\n        record.customerId = transaction.customerId;\r\n        record.petWeight = transaction.petWeight;\r\n        record.remarks = transaction.remarks;\r\n        record.empId = transaction.empId;\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        groomErrors.activity = '';\r\n        checkUpErrors.findings = '';\r\n        checkUpErrors.treatment = '';\r\n        checkUpErrors.addInfo = '';\r\n\r\n        errors.transType = '';\r\n        errors.petId = ''\r\n        errors.customerId = '';\r\n        errors.remarks = '';\r\n        errors.empId = '';\r\n\r\n        errors.checkUpErrors = checkUpErrors;\r\n        errors.groomErrors = groomErrors;\r\n\r\n        this.setState({ record, errors, submitError, updated, failed });\r\n    }\r\n\r\n    onToggleCustomerSearch = () => {\r\n        const customer = {...this.state.customer};\r\n        customer.search = !customer.search;\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onClearCustomerSearch = () => {\r\n        const customer = {...this.state.customer};\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onChangeCustomerSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.customerId = '';\r\n        errors.customerId = ' ';\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            customer: {\r\n                ...currentState.customer,\r\n                [name] : value\r\n            }\r\n        }), () => {\r\n            const pet = {...this.state.pet};\r\n            if(pet.search) this.onTogglePetSearch()\r\n        })\r\n    }\r\n\r\n    onClearRecordCustomerId = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.customerId = '';\r\n        errors.customerId = ' ';\r\n        this.setState({ record, errors });\r\n    }\r\n\r\n    onTogglePetSearch = () => {\r\n        const pet = {...this.state.pet};\r\n        pet.search = !pet.search;\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onClearPetSearch = () => {\r\n        const pet = {...this.state.pet};\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onChangePetSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            pet: {\r\n                ...currentState.pet,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onClearRecordPetId = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        if(!this.customerIdExists()) {\r\n            record.customerId = '';\r\n            errors.customerId = ' ';\r\n        }\r\n        this.setState({ record, errors });\r\n    }\r\n\r\n    onToggleEmployeeSearch = () => {\r\n        const employee = {...this.state.employee};\r\n        employee.search = !employee.search;\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onClearEmployeeSearch = () => {\r\n        const employee = {...this.state.employee};\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onChangeEmployeeSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.empId = '';\r\n        errors.empId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            employee: {\r\n                ...currentState.employee,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onClearRecordEmpId = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.empId = '';\r\n        errors.empId = ' ';\r\n        this.setState({ record, errors });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, customer, employee, pet, connected, submitted, updated, failed } = this.state;\r\n        const { transaction } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewTransactionModal-\" + transaction.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewTransactionModalTitle-\" + transaction.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewTransactionModalTitle-\" + transaction.id}>Transaction Info</h5>\r\n                                {\r\n                                    !submitted && this.props.connected ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Date\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"transDate\"\r\n                                            value={record.transDate} noValidate disabled /> :\r\n                                            <input className=\"form-control border border-success\"\r\n                                            type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"transType\"\r\n                                            value={record.transType} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.transType)}\r\n                                            name=\"transType\" value={record.transType} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.transType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Served by<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.employeeConnected || submitted ?\r\n                                                <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"empId\"\r\n                                                        value={record.empId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.employees.length > 0 ?\r\n                                                                this.props.employees.filter(row =>\r\n                                                                    (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                    .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                    employee.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        this.empIdExists() || this.state.record.empId === '' ?\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.empId)}\r\n                                                            name=\"empId\" value={record.empId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.employees.length > 0 ?\r\n                                                                    this.props.employees.filter(row =>\r\n                                                                        (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                        .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                        employee.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleEmployeeSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment> :\r\n                                                        <div className=\"input-group\">\r\n                                                            <input className=\"form-control zi-10\"\r\n                                                            value={\"Deleted Record: \" + record.empId + \" | \" + record.empName}\r\n                                                            noValidate disabled />\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onClearRecordEmpId}>\r\n                                                                    Change\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    }\r\n                                                    </div>\r\n                                                {\r\n                                                    employee.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={employee.searchValue} onChange={this.onChangeEmployeeSearch}\r\n                                                        placeholder=\"Search by Employee Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearEmployeeSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.empId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.employeeConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryEmployeesData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Customer ID<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.customerConnected || submitted ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"customerId\"\r\n                                                        value={record.customerId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.customers.length > 0 ?\r\n                                                                this.props.customers.filter(row =>\r\n                                                                    (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                    .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                    customer.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        this.customerIdExists() || this.state.record.customerId === '' ?\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.customerId)}\r\n                                                            name=\"customerId\" value={record.customerId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.customers.length > 0 ?\r\n                                                                    this.props.customers.filter(row =>\r\n                                                                        (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                        .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                        customer.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleCustomerSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment> :\r\n                                                        <div className=\"input-group\">\r\n                                                            <input className=\"form-control zi-10\"\r\n                                                            value={\"Deleted Record: \" + record.customerId + \" | \" + record.customerName}\r\n                                                            noValidate disabled />\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onClearRecordCustomerId}>\r\n                                                                    Change\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    customer.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={customer.searchValue} onChange={this.onChangeCustomerSearch}\r\n                                                        placeholder=\"Search by Customer Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearCustomerSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.customerId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.customerConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet ID<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.petConnected || submitted ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"petId\"\r\n                                                        value={record.petId} noValidate disabled>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer ID is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        this.petIdExists() || this.state.record.petId === '' ?\r\n                                                        <select className={\"zi-10 \" + this.inputFieldClasses(errors.petId)}\r\n                                                        name=\"petId\" value={record.petId} onChange={this.onChangeRecord}\r\n                                                        noValidate>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer ID is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <div className=\"input-group\">\r\n                                                            <input className=\"form-control zi-10\"\r\n                                                            value={\"Deleted Record: \" + record.petId + \" | \" + record.petName}\r\n                                                            noValidate disabled />\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onClearRecordPetId}>\r\n                                                                    Change\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    }\r\n                                                    {\r\n                                                        (this.props.pets.filter(row =>\r\n                                                            (row.petName.match(pet.searchValue) && row.ownerId === record.customerId) ||\r\n                                                            (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                        ).length > 0 || pet.searchValue.length > 0) && !submitted &&\r\n                                                        (this.petIdExists() || record.petId === '') ?\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onTogglePetSearch}>\r\n                                                                Search\r\n                                                            </button>\r\n                                                        </div> : null\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    pet.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={pet.searchValue} onChange={this.onChangePetSearch}\r\n                                                        placeholder=\"Search by Pet Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearPetSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.petId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.petConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryPetsData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Weight<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"text\" name=\"petWeight\"\r\n                                                value={record.petWeight} noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.petWeight)}\r\n                                                type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>{ this.renderRecordErrors(errors.petWeight) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Remarks\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"remarks\"\r\n                                            value={record.remarks} rows=\"2\" placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.remarks)}\r\n                                            type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                            onChange={this.onChangeRecord} rows=\"2\" placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.remarks) }\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted && connected && this.props.customerConnected &&\r\n                                        this.props.petConnected && this.props.employeeConnected ?\r\n                                        <React.Fragment>\r\n                                            {\r\n                                                record.transType === 'C' ?\r\n                                                <button className=\"btn btn-success w-auto mr-1\" data-dismiss=\"modal\"\r\n                                                onClick={() => this.onViewAdmission(\"/wiggly-tails/admin/manage-admission\")}>\r\n                                                    <i className=\"fa fa-hand-holding-medical fa-sm\"></i>\r\n                                                    <span className=\"ml-1\">Admissions</span>\r\n                                                </button> : null\r\n                                            }\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"d-none d-sm-inline ml-1\">Update</span>\r\n                                            </button>\r\n                                            {\r\n                                                this.props.connected ?\r\n                                                <button className=\"btn btn-danger w-auto mr-1\"\r\n                                                onClick={this.onReset}>\r\n                                                    <i className=\"fa fa-eraser\"></i>\r\n                                                    <span className=\"d-none d-sm-inline ml-1\">Reset</span>\r\n                                                </button> :\r\n                                                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                                                    <i className=\"fa fa-eraser\"></i>\r\n                                                    <span className=\"d-none d-sm-inline ml-1\">Reset</span>\r\n                                                </button>\r\n                                            }\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            {\r\n                                                record.transType === 'C' ?\r\n                                                <button className=\"btn btn-success w-auto mr-1\" data-dismiss=\"modal\"\r\n                                                onClick={() => this.onViewAdmission(\"/wiggly-tails/admin/manage-admission\")}>\r\n                                                    <i className=\"fa fa-hand-holding-medical fa-sm\"></i>\r\n                                                    <span className=\"ml-1\">Admissions</span>\r\n                                                </button> : null\r\n                                            }\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"d-none d-sm-inline ml-1\">Update</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"d-none d-sm-inline ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    empIdExists = () => {\r\n        return this.props.employees.filter(row => this.state.record.empId === row.id).length === 1\r\n    }\r\n\r\n    customerIdExists = () => {\r\n        return this.props.customers.filter(row => this.state.record.customerId === row.id).length === 1\r\n    }\r\n\r\n    petIdExists = () => {\r\n        return this.props.pets.filter(row => this.state.record.petId === row.id).length === 1\r\n    }\r\n\r\n    onViewAdmission = link => {\r\n        const { record } = this.state;\r\n        const { history } = this.props;\r\n        history.push(link, {\r\n            ...history.location.state,\r\n            transId: record.id,\r\n            customerName: record.customerName,\r\n            petName: record.petName,\r\n            transDate: record.transDate\r\n        });\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { submitted } = this.state;\r\n        const { checkUp } = this.state.record;\r\n        const { checkUpErrors } = this.state.errors;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.checkUpConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Findings<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"text\" name=\"findings\"\r\n                                    value={checkUp.findings} noValidate disabled /> :\r\n                                    <input className={this.inputFieldClasses(checkUpErrors.findings)}\r\n                                    type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                                    onChange={this.onChangeCheckUp} noValidate />\r\n                                }\r\n                                { this.renderRecordErrors(checkUpErrors.findings) }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Treatment<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"text\" name=\"treatment\"\r\n                                    value={checkUp.treatment} noValidate disabled /> :\r\n                                    <input className={this.inputFieldClasses(checkUpErrors.treatment)}\r\n                                    type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                                    onChange={this.onChangeCheckUp} noValidate />\r\n                                }\r\n                                { this.renderRecordErrors(checkUpErrors.treatment) }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Admission Date<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"date\" name=\"admissionDate\"\r\n                                    value={checkUp.admissionDate} noValidate disabled /> :\r\n                                    <input className=\"form-control border border-success\"\r\n                                    type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                                    onChange={this.onChangeCheckUp} noValidate />\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Released Date<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"date\" name=\"releasedDate\"\r\n                                    value={checkUp.releasedDate} noValidate disabled /> :\r\n                                    <input className=\"form-control border border-success\"\r\n                                    type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate}\r\n                                    onChange={this.onChangeCheckUp} noValidate />\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Additional Information\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <textarea className=\"form-control\" type=\"text\" name=\"addInfo\"\r\n                                    value={checkUp.addInfo} rows=\"2\" placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                    <textarea className={this.inputFieldClasses(checkUpErrors.addInfo)}\r\n                                    type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                                    onChange={this.onChangeCheckUp} rows=\"2\" placeholder=\"(Optional)\" noValidate />\r\n                                }\r\n                                { this.renderRecordErrors(checkUpErrors.addInfo) }\r\n                            </div>\r\n                        </React.Fragment> : \r\n                        this.state.checkUpConnectionFailed ?\r\n                        <div className=\"col-12 text-center text-danger\">\r\n                            <h3 className=\"mb-1\">Database Connection Failed</h3>\r\n                            <h5 className=\"mb-3\">Please try again later.</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryCheckUpData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"mb-1\">Loading Data</h3>\r\n                            <h5>Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { submitted } = this.state;\r\n        const { groom } = this.state.record;\r\n        const { groomErrors } = this.state.errors;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.groomConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Activity<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"text\" name=\"activity\"\r\n                                    value={groom.activity} noValidate disabled /> :\r\n                                    <input className={this.inputFieldClasses(groomErrors.activity)}\r\n                                    type=\"text\" name=\"activity\" value={groom.activity}\r\n                                    onChange={this.onChangeGroom} noValidate />\r\n                                }\r\n                                { this.renderRecordErrors(groomErrors.activity) }\r\n                            </div>\r\n                        </React.Fragment> :\r\n                        this.state.groomConnectionFailed ?\r\n                        <div className=\"col-12 text-center text-danger\">\r\n                            <h3 className=\"mb-1\">Database Connection Failed</h3>\r\n                            <h5 className=\"mb-3\">Please try again later.</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryGroomData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"mb-1\">Loading Data</h3>\r\n                            <h5>Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    retryCheckUpData = () => {\r\n        this.getCheckUpData(this.state.record.id);\r\n        const checkUpConnected = false;\r\n        const checkUpConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ checkUpConnected, checkUpConnectionFailed, connected })\r\n    }\r\n\r\n    getCheckUpData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionCheckUp.php?id='+id)\r\n        .then(res => {\r\n            let checkUp = res.data;\r\n            const checkUpConnected = true;\r\n            const connected = true;\r\n            checkUp = checkUp[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp\r\n                }, checkUpConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const checkUpConnectionFailed = true;\r\n            this.setState({ checkUpConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryGroomData = () => {\r\n        this.getGroomData(this.state.record.id);\r\n        const groomConnected = false;\r\n        const groomConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ groomConnected, groomConnectionFailed, connected })\r\n    }\r\n\r\n    getGroomData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionGroom.php?id='+id)\r\n        .then(res => {\r\n            let groom = res.data;\r\n            const groomConnected = true;\r\n            const connected = true;\r\n            groom = groom[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    groom\r\n                }, groomConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const groomConnectionFailed = true;\r\n            this.setState({ groomConnectionFailed });\r\n        });\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default ViewTransactionModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination';\r\nimport AddTransactionModal from './AddTransactionModal.js';\r\nimport ViewTransactionModal from './ViewTransactionModal.js';\r\n\r\nclass TransactionsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (transactions) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = transactions.length <= recordStartIndex + recordsPerPage ?\r\n        transactions.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={transactions[i].id} className=\"table-row\">\r\n                    <td>{this.formatDate(transactions[i].transDate)}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].lastName + \", \" + transactions[i].firstName + \" \" + transactions[i].middleName}</td>\r\n                    <td>{transactions[i].petName}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].petWeight}</td>\r\n                    <td className=\"d-none d-md-table-cell\">\r\n                        {transactions[i].empLastName + \", \" + transactions[i].empFirstName + \" \" + transactions[i].empMiddleName}\r\n                    </td>\r\n                    <td className=\"d-none d-sm-table-cell\">{this.formatTransType(transactions[i].transType)}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewTransactionModal-\" + transactions[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { transactions, onRefresh, onSearch, searchValue, onClear, history, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { customers, retryCustomersData, customerConnected, customerConnectionFailed } = this.props;\r\n        const { pets, retryPetsData, petConnected, petConnectionFailed } = this.props;\r\n        const { employees, retryEmployeesData, employeeConnected, employeeConnectionFailed } = this.props;\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addTransactionModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue} ></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Transaction Date</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Customer Name</th>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"w-110px d-none d-lg-table-cell\">Pet Weight</th>\r\n                            <th className=\"d-none d-md-table-cell\">Served by</th>\r\n                            <th className=\"w-110px d-none d-sm-table-cell\">Trans. Type</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            transactions.length > 0 && connected ?\r\n                            this.renderItems(transactions) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    transactions.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={transactions.length} /> : null\r\n                }\r\n                <AddTransactionModal onRefresh={onRefresh} customerId='' onSubmitForm={onSubmitForm}\r\n                customers={customers} retryCustomersData={retryCustomersData}\r\n                customerConnected={customerConnected} customerConnectionFailed={customerConnectionFailed}\r\n                pets={pets} retryPetsData={retryPetsData}\r\n                petConnected={petConnected} petConnectionFailed={petConnectionFailed}\r\n                employees={employees} retryEmployeesData={retryEmployeesData}\r\n                employeeConnected={employeeConnected} employeeConnectionFailed={employeeConnectionFailed} />\r\n                {\r\n                    transactions.map(transaction => <ViewTransactionModal key={transaction.id}\r\n                    transaction={transaction} transactions={transactions} onRefresh={onRefresh} history={history}\r\n                    connected={connected} onSubmitForm={onSubmitForm}\r\n                    customers={customers} retryCustomersData={retryCustomersData}\r\n                    customerConnected={customerConnected} customerConnectionFailed={customerConnectionFailed}\r\n                    pets={pets} retryPetsData={retryPetsData}\r\n                    petConnected={petConnected} petConnectionFailed={petConnectionFailed}\r\n                    employees={employees} retryEmployeesData={retryEmployeesData}\r\n                    employeeConnected={employeeConnected} employeeConnectionFailed={employeeConnectionFailed} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {\r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n\r\n    formatTransType = transType => {\r\n        return transType === 'C' ? \"Check-up\" : \"Groom\"\r\n    }\r\n}\r\n \r\nexport default TransactionsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport TransactionsTable from './TransactionsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManageTransactions extends Component {\r\n    state = {\r\n        transactions: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\",\r\n        customers: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false,\r\n        pets: [],\r\n        petConnected: false,\r\n        petConnectionFailed: false,\r\n        employees: [],\r\n        employeeConnected: false,\r\n        employeeConnectionFailed: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n        this.getCustomersData();\r\n        this.getPetsData();\r\n        this.getEmployeesData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={1} activeId={2} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Transactions</h3>\r\n                            <TransactionsTable transactions={this.state.transactions}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch} history={history}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} onSubmitForm={this.onSubmitForm}\r\n                            customers={this.state.customers} retryCustomersData={this.retryCustomersData}\r\n                            customerConnected={this.state.customerConnected} customerConnectionFailed={this.state.customerConnectionFailed}\r\n                            pets={this.state.pets} retryPetsData={this.retryPetsData}\r\n                            petConnected={this.state.petConnected} petConnectionFailed={this.state.petConnectionFailed}\r\n                            employees={this.state.employees} retryEmployeesData={this.retryEmployeesData}\r\n                            employeeConnected={this.state.employeeConnected} employeeConnectionFailed={this.state.employeeConnectionFailed} />\r\n                            <div className=\"text-center mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.transactions.length === 0 ?\r\n                                    <h1>No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-danger\">\r\n                                        <h1 className=\"mb-1\">Database Connection Failed</h1>\r\n                                        <h3 className=\"mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"mb-1\">Loading Data</h1>\r\n                                        <h3>Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactions.php')\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            const connected = true;\r\n            this.setState({ transactions, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchTransaction.php?search='+searchValue)\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            const connected = true;\r\n            this.setState({ transactions, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const customerConnected = true\r\n            this.setState({ customers, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryPetsData = () => {\r\n        this.getPetsData();\r\n        const petConnected = false;\r\n        const petConnectionFailed = false;\r\n        this.setState({ petConnected, petConnectionFailed })\r\n    }\r\n\r\n    getPetsData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php')\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const petConnected = true\r\n            this.setState({ pets, petConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const petConnectionFailed = true;\r\n            this.setState({ petConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryEmployeesData = () => {\r\n        this.getEmployeesData();\r\n        const employeeConnected = false;\r\n        const employeeConnectionFailed = false;\r\n        this.setState({ employeeConnected, employeeConnectionFailed })\r\n    }\r\n\r\n    getEmployeesData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const employeeConnected = true\r\n            this.setState({ employees, employeeConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const employeeConnectionFailed = true;\r\n            this.setState({ employeeConnectionFailed });\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManageTransactions;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewAdmissionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transId: '',\r\n            title: '',\r\n            content: ''\r\n        },\r\n        errors:\r\n        {\r\n            title: ' ',\r\n            content: ' '\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false,\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const { history } = this.props;\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        record.transId = history.location.state.transId;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"title\" ?\r\n        this.toAbsProperCase(value) :\r\n        this.toSentenceCase(value)\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'title':\r\n                errors.title=   properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 24 ?\r\n                                \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'content':\r\n                errors.content= properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 128 ?\r\n                                \"Must be at between 2 and 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.title = this.removeLastSpace(record.title);\r\n            record.content = this.removeLastSpace(record.content);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertAdmission.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const { history } = this.props;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.transId = history.location.state.transId;\r\n        record.title = '';\r\n        record.content = '';\r\n\r\n        errors.title = ' ';\r\n        errors.content = ' ';\r\n\r\n        this.setState({ record, errors, submitError, added, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, submitted, added, failed } = this.state;\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addAdmissionModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"addAdmissionModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addAdmissionModalTitle\">\r\n                                    Add Admission\r\n                                </h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Title\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"title\"\r\n                                            value={record.title} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.title)}\r\n                                            type=\"text\" name=\"title\" value={record.title}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.title) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Content<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"content\"\r\n                                            value={record.content} rows=\"7\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.content)}\r\n                                            type=\"text\" name=\"content\" value={record.content} rows=\"7\"\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.content) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto mr-1\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default ViewAdmissionModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewAdmissionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transId: '',\r\n            title: '',\r\n            content: ''\r\n        },\r\n        errors:\r\n        {\r\n            title: '',\r\n            content: ''\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false,\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { admission } = this.props;\r\n        const record = {...this.state.record};\r\n\r\n        record.id = admission.id;\r\n        record.transId = admission.transId;\r\n        record.title = admission.title;\r\n        record.content = admission.content;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"title\" ?\r\n        this.toAbsProperCase(value) :\r\n        this.toSentenceCase(value)\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'title':\r\n                errors.title=   properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 24 ?\r\n                                \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'content':\r\n                errors.content= properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 128 ?\r\n                                \"Must be at between 2 and 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.title = this.removeLastSpace(record.title);\r\n            record.content = this.removeLastSpace(record.content);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateAdmission.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const { admission } = this.props;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        record.id = admission.id;\r\n        record.transId = admission.transId;\r\n        record.title = admission.title;\r\n        record.content = admission.content;\r\n\r\n        errors.title = '';\r\n        errors.content = '';\r\n\r\n        this.setState({ record, errors, submitError, updated, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, submitted, updated, failed } = this.state;\r\n        const { admission } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewAdmissionModal-\" + admission.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewAdmissionModalTitle-\" + admission.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewAdmissionModalTitle-\" + admission.id}>Admission Info</h5>\r\n                                {\r\n                                    !submitted && this.props.connected ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Title\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"title\"\r\n                                            value={record.title} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.title)}\r\n                                            type=\"text\" name=\"title\" value={record.title}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.title) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Content<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"content\"\r\n                                            value={record.content} rows=\"7\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.content)}\r\n                                            type=\"text\" name=\"content\" value={record.content} rows=\"7\"\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.content) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted  ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"ml-1\">Update</span>\r\n                                            </button>\r\n                                            {\r\n                                                this.props.connected ?\r\n                                                <button className=\"btn btn-danger w-auto mr-1\"\r\n                                                onClick={this.onReset}>\r\n                                                    <i className=\"fa fa-eraser\"></i>\r\n                                                    <span className=\"ml-1\">Reset</span>\r\n                                                </button> :\r\n                                                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                                                    <i className=\"fa fa-eraser\"></i>\r\n                                                    <span className=\"ml-1\">Reset</span>\r\n                                                </button>\r\n                                            }\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"ml-1\">Update</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default ViewAdmissionModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination';\r\nimport AddAdmissionModal from './AddAdmissionModal.js';\r\nimport ViewAdmissionModal from './ViewAdmissionModal.js';\r\n\r\nclass AdmissionTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (admission) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = admission.length <= recordStartIndex + recordsPerPage ?\r\n        admission.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={admission[i].id} className=\"table-row\">\r\n                    <td>{admission[i].title}</td>\r\n                    <td>{admission[i].content}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewAdmissionModal-\" + admission[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { admission, onRefresh, onSearch, searchValue, onClear, history, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { state } = history.location;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addAdmissionModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2 ml-auto\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th colSpan=\"3\">\r\n                                <div className=\"row align-items-center\">\r\n                                    <div className=\"col-12 col-md-4 text-center mb-2 pb-2\r\n                                    m-md-0 p-md-0 bottom-border-dark border-md-0\">\r\n                                        {\"Customer Name: \" + state.customerName}\r\n                                    </div>\r\n                                    <div className=\"col-12 col-md-4 text-center mb-2 pb-2\r\n                                    m-md-0 p-md-0 bottom-border-dark border-md-0\">\r\n                                        {\"Pet Name: \" + state.petName}\r\n                                    </div>\r\n                                    <div className=\"col-12 col-md-4 text-center\">\r\n                                        {\"Transaction Date: \" + state.transDate}\r\n                                    </div>\r\n                                </div>\r\n                            </th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>Title</th>\r\n                            <th>Content</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            admission.length > 0 && connected ?\r\n                            this.renderItems(admission) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    admission.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={admission.length} /> : null\r\n                }\r\n                <AddAdmissionModal history={history} onRefresh={onRefresh} onSubmitForm={onSubmitForm} />\r\n                {\r\n                    admission.map(admission => <ViewAdmissionModal key={admission.id} admission={admission}\r\n                    onRefresh={onRefresh} connected={connected} onSubmitForm={onSubmitForm} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default AdmissionTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from '../AdminNavbar.js';\r\nimport AdmissionTable from './AdmissionTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManageAdmission extends Component {\r\n    state = {\r\n        admission: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={1} activeId={2} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Admission</h3>\r\n                            <AdmissionTable admission={this.state.admission} history={history}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch} \r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} connectionFailed={this.state.connectionFailed}\r\n                            onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"text-center mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.admission.length === 0 ?\r\n                                    <h1>No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-danger\">\r\n                                        <h1 className=\"mb-1\">Database Connection Failed</h1>\r\n                                        <h3 className=\"mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"mb-1\">Loading Data</h1>\r\n                                        <h3>Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionAdmission.php?id='+\r\n        history.location.state.transId)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchTransactionAdmission.php?id='+\r\n        history.location.state.admissionId+\"&search=\"+searchValue)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default ManageAdmission;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddCustomerModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: '',\r\n            pet:\r\n            {\r\n                petName: '',\r\n                birthdate: '',\r\n                petClass: '',\r\n                lastVisit: '',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: ' ',\r\n            firstName: ' ',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: ' ',\r\n                subdivision: '',\r\n                barangay: ' ',\r\n                municipality: ' ',\r\n                province: ''\r\n            },\r\n            birthdate: ' ',\r\n            mobileNumber: ' ',\r\n            emailAddress: ' ',\r\n            userPassword: ' ',\r\n            confirmUserPassword: ' ',\r\n            petErrors:\r\n            {\r\n                petName: ' ',\r\n                birthdate: ' ',\r\n                petClass: ' ',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        petClasses:\r\n        [ 'Alligator', 'Alpaca', 'Ant', 'Bear', 'Bird', 'Bull', 'Cat', 'Chicken', 'Crab', 'Crocodile', 'Deer', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Fox', 'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Gorilla', 'Grasshopper', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Jaguar', 'Lion', 'Lizard', 'Mantis', 'Monkey', 'Mouse', 'Octopus', 'Orangutan', 'Orstrich', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Raccoon', 'Rat', 'Reindeer', 'Salamander', 'Sheep', 'Snake', 'Spider', 'Squirrel', 'Tiger', 'Tortoise', 'Turtle', 'Wolf', 'Whale', 'Zebra' ],\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    record.emailAddress.length === 0 ? \" \" :\r\n                                    record.emailAddress.length < 8 || record.emailAddress.length > 24 ?\r\n                                    \"Must be at between 8 and 24 characters\" :\r\n                                    !this.isValidEmail(record.emailAddress) ?\r\n                                    \"Please input a valid value\" :\r\n                                    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            this.spaceFound(value) ? \"Password must not have spacing\" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 || this.spaceFound(value) ? \" \" :\r\n                                            \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 || this.spaceFound(value) ? \" \" :\r\n                                            \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record } = this.state;\r\n        const { customers } = this.props;\r\n\r\n        const result = customers.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() ===\r\n            (record.emailAddress + record.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n\r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  value.length > 24 ?\r\n                                                \"Subdivision must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangePet = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                pet: {\r\n                    ...currentState.record.pet,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckPetErrors(e))\r\n    }\r\n\r\n    onCheckPetErrors = e => {\r\n        const { name, value } = e.target;\r\n        const petErrors = {...this.state.errors.petErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                petErrors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                petErrors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                petErrors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                petErrors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                petErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n            record.pet.petName = this.removeLastSpace(record.pet.petName);\r\n\r\n            // record.homeAddress.street += \" St.\";\r\n            // record.homeAddress.barangay = \"Brgy. \" + record.homeAddress.barangay;\r\n            // record.homeAddress.municipality += \" City\";\r\n\r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertCustomerPet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0  && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n        const pet = {...this.state.record.pet};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const petErrors = {...this.state.errors.petErrors};\r\n\r\n        const confirmUserPassword = '';\r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        homeAddress.lotBlock = '';\r\n        homeAddress.street = '';\r\n        homeAddress.subdivision = '';\r\n        homeAddress.barangay = '';\r\n        homeAddress.municipality = '';\r\n        homeAddress.province = '';\r\n        \r\n        pet.petName = '';\r\n        pet.birthdate = '';\r\n        pet.petClass = '';\r\n        pet.pcciRegNo = '';\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.lastName = '';\r\n        record.firstName = '';\r\n        record.middleName = ''\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = '';\r\n        record.mobileNumber = '';\r\n        record.emailAddress = '';\r\n        record.email = '@yahoo.com';\r\n        record.userPassword = '';\r\n        record.pet = pet;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = ' ';\r\n        homeAddressErrors.subdivision = '';\r\n        homeAddressErrors.barangay = ' ';\r\n        homeAddressErrors.municipality = ' ';\r\n        homeAddressErrors.province = '';\r\n\r\n        petErrors.petName = ' ';\r\n        petErrors.birthdate = ' ';\r\n        petErrors.petClass = ' ';\r\n\r\n        errors.lastName = ' ';\r\n        errors.firstName = ' ';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ' ';\r\n        errors.mobileNumber = ' ';\r\n        errors.emailAddress = ' ';\r\n        errors.userPassword = ' ';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, submitError, added, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, petClasses, submitted, added, failed } = this.state;\r\n        const { homeAddress, pet } = record;\r\n        const { homeAddressErrors, petErrors } = errors;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addCustomerModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"addCustomerModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addCustomerModalTitle\">Add Customer</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">ID</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>Generate</button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"lastName\"\r\n                                            value={record.lastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.lastName)}\r\n                                            type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"firstName\"\r\n                                            value={record.firstName} onChange={this.onChangeRecord} noValidate disabled /> : \r\n                                            <input className={this.inputFieldClasses(errors.firstName)}\r\n                                            type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"middleName\"\r\n                                            value={record.middleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.middleName)}\r\n                                            type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"lotBlock\"\r\n                                                    value={homeAddress.lotBlock} placeholder=\"Lot/Block (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                    type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"street\"\r\n                                                    value={homeAddress.street} placeholder=\"Street\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                    type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Street\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"subdivision\"\r\n                                                    value={homeAddress.subdivision} placeholder=\"Subdivision (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                    type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Subdivision (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"barangay\"\r\n                                                    value={homeAddress.barangay} placeholder=\"Barangay\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                    type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Barangay\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"municipality\"\r\n                                                    value={homeAddress.municipality} placeholder=\"Municipality\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                    type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Municipality\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"province\"\r\n                                                    value={homeAddress.province} placeholder=\"Province (Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                    type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Province (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate}  noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"tel\" maxLength=\"10\"\r\n                                                name=\"mobileNumber\" value={record.mobileNumber} onChange={this.onChangeRecord}\r\n                                                noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                                type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected || submitted ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <input className=\"w-xs-100 form-control\" type=\"text\"\r\n                                                        name=\"emailAddress\" value={record.emailAddress} noValidate disabled /> :\r\n                                                        <input className={\"w-xs-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    }\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        {\r\n                                                            submitted ?\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email} noValidate disabled>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select> :\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email}\r\n                                                            onChange={this.onChangeRecord} noValidate>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.onRefresh}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"userPassword\"\r\n                                            value={record.userPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.userPassword)}\r\n                                            type=\"password\" name=\"userPassword\" value={record.userPassword}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmUserPassword\"\r\n                                            value={confirmUserPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                            type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                                        <div className=\"row mt-3\">\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Name <span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                                    value={pet.petName} noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.petName)}\r\n                                                    type=\"text\" name=\"petName\" value={pet.petName}\r\n                                                    onChange={this.onChangePet} noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.petName) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                                    value={pet.birthdate} noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.birthdate)}\r\n                                                    type=\"date\" name=\"birthdate\" value={pet.birthdate}\r\n                                                    onChange={this.onChangePet} noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.birthdate) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <select className=\"form-control\" name=\"petClass\"\r\n                                                    value={pet.petClass} noValidate disabled >\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            petClasses.length > 0 ?\r\n                                                            petClasses.map(value =>\r\n                                                                <option key={value} value={value}>{value}</option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select> :\r\n                                                    <select className={this.inputFieldClasses(petErrors.petClass)}\r\n                                                    name=\"petClass\" value={pet.petClass} onChange={this.onChangePet}\r\n                                                    noValidate>\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            petClasses.length > 0 ?\r\n                                                            petClasses.map(value =>\r\n                                                                <option key={value} value={value}>{value}</option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.petClass) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                                    value={pet.pcciRegNo} maxLength=\"6\" placeholder=\"(Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.pcciRegNo)}\r\n                                                    type=\"text\" name=\"pcciRegNo\" value={pet.pcciRegNo}\r\n                                                    onChange={this.onChangePet} maxLength=\"6\"\r\n                                                    placeholder=\"(Optional)\" noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.pcciRegNo) }\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        this.props.connected && !submitted ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> \r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\n    spaceFound = value => {\r\n        if(value.match(' ')) return true;\r\n        return false;\r\n    }\r\n}\r\n \r\nexport default AddCustomerModal;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewCustomerModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            userPassword: '',\r\n            confirmUserPassword: ' ',\r\n        },\r\n        passwordState:\r\n        {\r\n            inputType: 'password',\r\n            buttonText: 'Show'\r\n        },\r\n        deleteState: false,\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false,\r\n        deleting: false,\r\n        deleted: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { customer } = this.props;\r\n        const record = {...this.state.record};\r\n        record.id = customer.id;\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName;\r\n        record.homeAddress.lotBlock = customer.lotBlock;\r\n        record.homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        record.homeAddress.subdivision = customer.subdivision;\r\n        record.homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        record.homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        record.homeAddress.province = customer.province;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    record.emailAddress.length === 0 ? \" \" :\r\n                                    record.emailAddress.length < 8 || record.emailAddress.length > 24 ?\r\n                                    \"Must be at between 8 and 24 characters\" :\r\n                                    !this.isValidEmail(record.emailAddress) ?\r\n                                    \"Please input a valid value\" :\r\n                                    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            this.spaceFound(value) ? \"Password must not have spacing\" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 || this.spaceFound(value) ? \" \" :\r\n                                            \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 || this.spaceFound(value) ? \" \" :\r\n                                            \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record } = this.state;\r\n        const { customer, customers } = this.props;\r\n\r\n        const result = customers.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() ===\r\n            (record.emailAddress + record.email).toLowerCase() &&\r\n            (row.emailAddress + row.email).toLowerCase() !==\r\n            (customer.emailAddress + customer.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n    \r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  value.length > 24 ?\r\n                                                \"Subdivision must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n            \r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            if(this.state.passwordState.inputType === \"text\") {\r\n                this.onTogglePassword()\r\n            }\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateCustomer.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const confirmUserPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmUserPassword = ' '\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ errors, confirmUserPassword, submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0 && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const { customer } = this.props;\r\n\r\n        const confirmUserPassword = '';\r\n        const deleteState = false;\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { passwordState } = this.state;\r\n\r\n        passwordState.buttonText = \"Show\";\r\n        passwordState.inputType = \"password\";\r\n\r\n        homeAddress.lotBlock = customer.lotBlock;\r\n        homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        homeAddress.subdivision = customer.subdivision;\r\n        homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        homeAddress.province = customer.province;\r\n\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = '';\r\n        homeAddressErrors.subdivision = '';\r\n        homeAddressErrors.barangay = '';\r\n        homeAddressErrors.municipality = '';\r\n        homeAddressErrors.province = '';\r\n\r\n        errors.lastName = '';\r\n        errors.firstName = '';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ''\r\n        errors.mobileNumber = '';\r\n        errors.emailAddress = '';\r\n        errors.userPassword = '';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, passwordState, deleteState, submitError, updated, failed });\r\n    }\r\n\r\n    onTogglePassword = () => {\r\n        const passwordState = {...this.state.passwordState};\r\n        if(passwordState.inputType === 'password') {\r\n            passwordState.inputType = 'text';\r\n            passwordState.buttonText = 'Hide';\r\n        }\r\n        else {\r\n            passwordState.inputType = 'password';\r\n            passwordState.buttonText = 'Show';\r\n        }\r\n        this.setState({ passwordState });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, passwordState, deleteState, submitted, updated, failed, deleting, deleted } = this.state;\r\n        const { homeAddress } = this.state.record;\r\n        const { homeAddressErrors } = errors;\r\n        const { customer } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewCustomerModal-\" + customer.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewCustomerrModalTitle-\" + customer.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewCustomerModalTitle-\" + customer.id}>Customer Info</h5>\r\n                                {\r\n                                    (!submitted && this.props.connected) || deleted ?\r\n                                    <button id={\"btnClose-\" + customer.id} className=\"btn btn-light text-danger p-1\"\r\n                                    data-dismiss=\"modal\" onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> :\r\n                                    deleting ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-trash text-primary mr-2\"></i>\r\n                                        <span>Deleting a record...</span>\r\n                                    </div> :\r\n                                    deleted ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully deleted.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">ID</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"lastName\"\r\n                                            value={record.lastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.lastName)}\r\n                                            type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"firstName\"\r\n                                            value={record.firstName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.firstName)}\r\n                                            type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"middleName\"\r\n                                            value={record.middleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.middleName)}\r\n                                            type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted || deleting || deleted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"lotBlock\"\r\n                                                    value={homeAddress.lotBlock} placeholder=\"Lot/Block (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                    type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                            {\r\n                                                    submitted || deleting || deleted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"street\"\r\n                                                    value={homeAddress.street} placeholder=\"Street\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                    type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Street\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted || deleting || deleted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"subdivision\"\r\n                                                    value={homeAddress.subdivision} placeholder=\"Subdivision (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                    type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Subdivision (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                {\r\n                                                    submitted || deleting || deleted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"barangay\"\r\n                                                    value={homeAddress.barangay} placeholder=\"Barangay\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                    type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Barangay\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted || deleting || deleted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"municipality\"\r\n                                                    value={homeAddress.municipality} placeholder=\"Municipality\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                    type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Municipality\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted || deleting || deleted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"province\"\r\n                                                    value={homeAddress.province} placeholder=\"Province (Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                    type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Province (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate}  noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            {\r\n                                                submitted || deleting || deleted ?\r\n                                                <input className=\"form-control\" type=\"tel\" maxLength=\"10\"\r\n                                                name=\"mobileNumber\" value={record.mobileNumber} onChange={this.onChangeRecord}\r\n                                                noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                                type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected || submitted || deleting || deleted ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    {\r\n                                                        submitted || deleting || deleted ?\r\n                                                        <input className=\"w-xs-100 form-control\" type=\"text\"\r\n                                                        name=\"emailAddress\" value={record.emailAddress} noValidate disabled /> :\r\n                                                        <input className={\"w-xs-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    }\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        {\r\n                                                            submitted || deleting || deleted ?\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email} noValidate disabled>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select> :\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email}\r\n                                                            onChange={this.onChangeRecord} noValidate>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.onRefresh}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted || deleting || deleted ?\r\n                                                <input className=\"zi-10 form-control\" type={passwordState.inputType}\r\n                                                name=\"userPassword\" value={record.userPassword} noValidate disabled /> :\r\n                                                <React.Fragment>\r\n                                                    <input className={\"zi-10 \" + this.inputFieldClasses(errors.userPassword)}\r\n                                                    type={passwordState.inputType} name=\"userPassword\" value={record.userPassword}\r\n                                                    onChange={this.onChangeRecord} noValidate />\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onTogglePassword}>\r\n                                                            {passwordState.buttonText}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                        </div> { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmUserPassword\"\r\n                                            value={confirmUserPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                            type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> :\r\n                                    deleting ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-trash text-primary mr-2\"></i>\r\n                                        <span>Deleting a record...</span>\r\n                                    </div> :\r\n                                    deleted ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully deleted.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            this.props.connected && !this.state.submitted &&\r\n            !this.state.deleting && !this.state.deleted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                {\r\n                    this.props.connected ?\r\n                    <button className=\"btn btn-danger w-auto mr-1\"\r\n                    onClick={this.onReset}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button> :\r\n                    <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                }\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n\r\n        this.props.onSubmitForm();\r\n        this.deletion();\r\n\r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deleteCustomer.php', record)\r\n        .then(this.postDelete)\r\n        .catch(error => {\r\n            console.log(error);\r\n            onRefresh();\r\n            this.failedDelete();\r\n        });\r\n    }\r\n\r\n    deletion = () => {\r\n        const deleteState = false;\r\n        const deleting = true;\r\n        this.setState({ deleteState, deleting });\r\n    }\r\n\r\n    postDelete = () => {\r\n        const deleting = false;\r\n        const deleted = true;\r\n        this.setState({ deleting, deleted }, () => {\r\n            setTimeout(() => {\r\n                document.getElementById(\"btnClose-\" + this.props.customer.id).click();\r\n                this.props.onRefresh();\r\n            }, 5000);\r\n        });\r\n    }\r\n\r\n    failedDelete = () => {\r\n        const deleting = false;\r\n        let failed = true;\r\n        this.setState({ deleting, failed }, () => {\r\n            setTimeout(() => {\r\n                failed = false;\r\n                this.setState({ failed });\r\n            }, 5000)\r\n        });\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\n    spaceFound = value => {\r\n        if(value.match(' ')) return true;\r\n        return false;\r\n    }\r\n}\r\n \r\nexport default ViewCustomerModal;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass InitiateTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            customerId: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        errors:\r\n        {\r\n            transType: ' ',\r\n            petId: ' ',\r\n            customerId: ' ',\r\n            petWeight: ' ',\r\n            remarks: '',\r\n            empId: ' ',\r\n            checkUpErrors:\r\n            {\r\n                findings: ' ',\r\n                treatment: ' ',\r\n                addInfo: ''\r\n            },\r\n            groomErrors:\r\n            {\r\n                activity: ' '\r\n            }\r\n        },\r\n        pet:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        employee:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        const { customer } = this.props;\r\n\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n\r\n        record.customerId = customer.id;\r\n        errors.customerId = '';\r\n\r\n        const currentDate = this.getCurrentDate();\r\n        record.transDate = currentDate;\r\n        record.checkUp.admissionDate = currentDate;\r\n        record.checkUp.releasedDate = currentDate;\r\n\r\n        this.setState({ record, errors });\r\n    }\r\n\r\n    getCurrentDate = () => {\r\n        const dateObj = new Date(); \r\n        const currentMonth = dateObj.getMonth()+1 < 10 ? \"0\"+(dateObj.getMonth()+1) : dateObj.getMonth()+1\r\n        const currentDay = dateObj.getDate() < 10 ? \"0\"+dateObj.getDate() : dateObj.getDate() \r\n        const currentDate = dateObj.getFullYear() + \"-\" + currentMonth + \"-\" + currentDay;\r\n        return currentDate;\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n        \r\n        if(name === \"remarks\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n\r\n        if(name === 'transType') {\r\n            const checkUp = {...this.state.record.checkUp};\r\n            const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n\r\n            checkUp.findings = '';\r\n            checkUp.treatment = '';\r\n            const currentDate = this.getCurrentDate();\r\n            checkUp.admissionDate = currentDate;\r\n            checkUp.releasedDate = currentDate;\r\n            checkUp.addInfo = ''\r\n\r\n            checkUpErrors.findings = ' ';\r\n            checkUpErrors.treatment = ' ';\r\n            checkUpErrors.addInfo = ''\r\n\r\n            const groom = {...this.state.record.groom};\r\n            const groomErrors = {...this.state.errors.groomErrors};\r\n\r\n            groom.activity = '';\r\n            \r\n            groomErrors.activity = ' ';\r\n\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp,\r\n                    groom\r\n                },\r\n                errors: {\r\n                    ...currentState.errors,\r\n                    checkUpErrors,\r\n                    groomErrors\r\n                }\r\n            }))\r\n        }\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'transType':\r\n                errors.transType=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'empId':\r\n                errors.empId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'customerId':\r\n                errors.customerId=  value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petId':\r\n                errors.petId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petWeight':\r\n                errors.petWeight=   value.length === 0 ? \" \" :\r\n                                    !isNumeric(value) ? \"Please input a valid value\" :\r\n                                    value.length > 6 ? \"Must be at maximum of 6 numbers\" : \"\"\r\n                break;\r\n\r\n            case 'remarks':\r\n            errors.remarks= value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n            break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"admissionDate\" && name !== \"releasedDate\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckCheckUpErrors(e))\r\n    }\r\n\r\n    onCheckCheckUpErrors = e => {\r\n        const { name, value } = e.target;\r\n        const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'findings':\r\n                checkUpErrors.findings= properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 128 ?\r\n                                        \"Must be at between 2 and 128 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            case 'treatment':\r\n                checkUpErrors.treatment=    properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 128 ?\r\n                                            \"Must be at between 2 and 128 characters\" :\r\n                                            properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'addInfo':\r\n                checkUpErrors.addInfo=  value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                checkUpErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"activity\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckGroomErrors(e))\r\n    }\r\n\r\n    onCheckGroomErrors = e => {\r\n        const { name, value } = e.target;\r\n        const groomErrors = {...this.state.errors.groomErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'activity':\r\n                groomErrors.activity=   properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 32 ?\r\n                                        \"Must be at between 2 and 32 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                groomErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const record = {...this.state.record};\r\n\r\n            record.remarks = this.removeLastSpace(record.remarks);\r\n            record.checkUp.findings = this.removeLastSpace(record.checkUp.findings);\r\n            record.checkUp.treatment = this.removeLastSpace(record.checkUp.treatment);\r\n            record.checkUp.addInfo = this.removeLastSpace(record.checkUp.addInfo);\r\n            record.groom.activity = this.removeLastSpace(record.groom.activity);\r\n\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertTransaction.php', record)\r\n            .then(() => {\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        this.onReset();\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        const { record } = this.state;\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        if(record.transType === 'C') {\r\n            Object.values(errors.checkUpErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n        else if(record.transType === 'G') {\r\n            Object.values(errors.groomErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {        \r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n        const errors = {...this.state.errors};\r\n        const checkUpErrors = {...this.state.errors.checkUp};\r\n        const groomErrors = {...this.state.errors.groom};\r\n        \r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        const currentDate = this.getCurrentDate();\r\n\r\n        const id = this.generateCharacters(6);\r\n        groom.activity = '';\r\n        checkUp.findings = '';\r\n        checkUp.treatment = '';\r\n        checkUp.admissionDate = currentDate;\r\n        checkUp.releasedDate = currentDate;\r\n        checkUp.addInfo = '';\r\n\r\n        record.id = id;\r\n        record.transType = '';\r\n        record.transDate = currentDate;\r\n        record.petId = ''\r\n        record.petWeight = '';\r\n        record.remarks = '';\r\n        record.empId = '';\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        groomErrors.activity = ' ';\r\n        checkUpErrors.findings = ' ';\r\n        checkUpErrors.treatment = ' ';\r\n        checkUpErrors.addInfo = '';\r\n\r\n        errors.transType = ' ';\r\n        errors.petId = ' '\r\n        errors.customerId = ' ';\r\n        errors.remarks = '';\r\n        errors.empId = ' ';\r\n        errors.checkUpErrors = checkUpErrors;\r\n        errors.groomErrors = groomErrors;\r\n\r\n        this.setState({ record, errors, submitError, added, failed});\r\n    }\r\n\r\n    onTogglePetSearch = e => {\r\n        e.preventDefault();\r\n        const pet = {...this.state.pet};\r\n        pet.search = !pet.search;\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onClearPetSearch = e => {\r\n        e.preventDefault();\r\n        const pet = {...this.state.pet};\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onChangePetSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            pet: {\r\n                ...currentState.pet,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onToggleEmployeeSearch = e => {\r\n        e.preventDefault();\r\n        const employee = {...this.state.employee};\r\n        employee.search = !employee.search;\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onClearEmployeeSearch = e => {\r\n        e.preventDefault();\r\n        const employee = {...this.state.employee};\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onChangeEmployeeSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.empId = '';\r\n        errors.empId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            employee: {\r\n                ...currentState.employee,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, pet, employee, submitted, added, failed } = this.state;\r\n        const { customer } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"addTransactionModal-\"+customer.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"addTransactionModalTitle-\"+customer.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"addTransactionModalTitle-\"+customer.id}>\r\n                                    {\"Add Transaction for \" + customer.id + \" | \"\r\n                                    + customer.lastName + \", \" + customer.firstName + \" \" + customer.middleName}\r\n                                </h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Date\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"transDate\"\r\n                                            value={record.transDate} noValidate disabled /> :\r\n                                            <input className=\"form-control border border-success\"\r\n                                            type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"transType\"\r\n                                            value={record.transType} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.transType)}\r\n                                            name=\"transType\" value={record.transType} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.transType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee ID<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.employeeConnected || submitted ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"zi-10 form-control\" name=\"empId\"\r\n                                                        value={record.empId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.employees.length > 0 ?\r\n                                                                this.props.employees.filter(row =>\r\n                                                                    (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                    .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                    employee.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.empId)}\r\n                                                            name=\"empId\" value={record.empId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.employees.length > 0 ?\r\n                                                                    this.props.employees.filter(row =>\r\n                                                                        (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                        .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                        employee.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleEmployeeSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    employee.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={employee.searchValue} onChange={this.onChangeEmployeeSearch}\r\n                                                        placeholder=\"Search by Employee Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearEmployeeSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.empId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.employeeConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryEmployeesData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Customer ID<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className=\"form-control\" name=\"customerId\"\r\n                                        value={record.customerId} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet ID<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.petConnected || submitted ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"zi-10 form-control\" name=\"petId\"\r\n                                                        value={record.petId} noValidate disabled>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer ID is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <select className={\"zi-10 \" + this.inputFieldClasses(errors.petId)}\r\n                                                        name=\"petId\" value={record.petId} onChange={this.onChangeRecord}\r\n                                                        noValidate>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer ID is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select>\r\n                                                    }\r\n                                                    {\r\n                                                        (this.props.pets.filter(row =>\r\n                                                            (row.petName.match(pet.searchValue) && row.ownerId === record.customerId) ||\r\n                                                            (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                        ).length > 0 || pet.searchValue.length > 0) && !submitted ?\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onTogglePetSearch}>\r\n                                                                Search\r\n                                                            </button>\r\n                                                        </div> : null\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    pet.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={pet.searchValue} onChange={this.onChangePetSearch}\r\n                                                        placeholder=\"Search by Pet Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearPetSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.petId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.customerConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryPetsData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Weight<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"text\" name=\"petWeight\"\r\n                                                value={record.petWeight} noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.petWeight)}\r\n                                                type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>{ this.renderRecordErrors(errors.petWeight) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Remarks\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"remarks\"\r\n                                            value={record.remarks} rows=\"2\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.remarks)}\r\n                                            type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                            onChange={this.onChangeRecord} rows=\"2\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.remarks) }\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted && this.props.petConnected &&\r\n                                        this.props.employeeConnected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { submitted } = this.state;\r\n        const { checkUp } = this.state.record;\r\n        const { checkUpErrors } = this.state.errors;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Findings<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"findings\"\r\n                            value={checkUp.findings} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(checkUpErrors.findings)}\r\n                            type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.findings) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Treatment<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"treatment\"\r\n                            value={checkUp.treatment} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(checkUpErrors.treatment)}\r\n                            type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.treatment) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Admission Date<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"date\" name=\"admissionDate\"\r\n                            value={checkUp.admissionDate} noValidate disabled /> :\r\n                            <input className=\"form-control border border-success\"\r\n                            type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Released Date<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"date\" name=\"releasedDate\"\r\n                            value={checkUp.releasedDate} noValidate disabled /> :\r\n                            <input className=\"form-control border border-success\"\r\n                            type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Additional Information\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <textarea className=\"form-control\" type=\"text\" name=\"addInfo\"\r\n                            value={checkUp.addInfo} rows=\"2\" noValidate /> :\r\n                            <textarea className={this.inputFieldClasses(checkUpErrors.addInfo)}\r\n                            type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                            onChange={this.onChangeCheckUp} rows=\"2\" noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.addInfo) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { submitted } = this.state;\r\n        const { groom } = this.state.record;\r\n        const { groomErrors } = this.state.errors;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Activity<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"activity\"\r\n                            value={groom.activity} noValidate /> :\r\n                            <input className={this.inputFieldClasses(groomErrors.activity)}\r\n                            type=\"text\" name=\"activity\" value={groom.activity}\r\n                            onChange={this.onChangeGroom} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(groomErrors.activity) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default InitiateTransactionModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination.js';\r\nimport AddCustomerModal from './AddCustomerModal.js';\r\nimport ViewCustomerModal from './ViewCustomerModal.js';\r\nimport InitiateTransactionModal from './InitiateTransactionModal.js'\r\n\r\nclass CustomersTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (customers) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = customers.length <= recordStartIndex + recordsPerPage ?\r\n        customers.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={customers[i].id} className=\"table-row\">\r\n                    <td>{customers[i].lastName + \", \" + customers[i].firstName + \" \" + customers[i].middleName}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{customers[i].emailAddress+customers[i].email}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{customers[i].mobileNumber}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">{customers[i].noOfPets}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewCustomerModal-\" + customers[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"d-none d-sm-inline ml-1\">View</span>\r\n                        </button>\r\n                        <button className=\"btn btn-outline-primary btn-sm\"\r\n                        data-toggle=\"modal\" data-target={\"#addTransactionModal-\" + customers[i].id}>\r\n                            <i className=\"fa fa-pencil-alt\"></i>\r\n                            <span className=\"d-none d-sm-inline ml-1\">Transact</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { customers, onRefresh, onSearch, searchValue, onClear, connected, connectionFailed, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { pets, retryPetsData, petConnected, petConnectionFailed } = this.props;\r\n        const { employees, retryEmployeesData, employeeConnected, employeeConnectionFailed } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addCustomerModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue} ></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th className=\"min-w-170px\">Name</th>\r\n                            <th className=\"d-none d-md-table-cell\">Email Address</th>\r\n                            <th className=\"d-none d-lg-table-cell w-155px\">Mobile Number</th>\r\n                            <th className=\"d-none d-sm-table-cell w-30px\">Pets</th>\r\n                            <th className=\"w-190px min-w-95px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            customers.length > 0 && connected ?\r\n                            this.renderItems(customers) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    customers.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={customers.length} /> : null\r\n                }\r\n                <AddCustomerModal onRefresh={onRefresh} customers={customers}\r\n                connected={connected} connectionFailed={connectionFailed} onSubmitForm={onSubmitForm} />\r\n                { customers.map(customer => \r\n                    <React.Fragment key={customer.id}>\r\n                        <ViewCustomerModal customer={customer} onRefresh={onRefresh} customers={customers}\r\n                        connected={connected} connectionFailed={connectionFailed} onSubmitForm={onSubmitForm} />\r\n                        <InitiateTransactionModal customer={customer}\r\n                        pets={pets} retryPetsData={retryPetsData}\r\n                        petConnected={petConnected} petConnectionFailed={petConnectionFailed}\r\n                        employees={employees} retryEmployeesData={retryEmployeesData}\r\n                        employeeConnected={employeeConnected} employeeConnectionFailed={employeeConnectionFailed} />\r\n                    </React.Fragment>\r\n                ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default CustomersTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport CustomersTable from './CustomersTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManageCustomers extends Component {\r\n    state = {\r\n        customers: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\",\r\n        pets: [],\r\n        petConnected: false,\r\n        petConnectionFailed: false,\r\n        employees: [],\r\n        employeeConnected: false,\r\n        employeeConnectionFailed: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n        this.getPetsData();\r\n        this.getEmployeesData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={1} activeId={3} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5\">\r\n                            <h3>Manage Customers</h3>\r\n                            <CustomersTable customers={this.state.customers}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} connectionFailed={this.state.connectionFailed} onSubmitForm={this.onSubmitForm}\r\n                            pets={this.state.pets} retryPetsData={this.retryPetsData}\r\n                            petConnected={this.state.petConnected} petConnectionFailed={this.state.petConnectionFailed}\r\n                            employees={this.state.employees} retryEmployeesData={this.retryEmployeesData}\r\n                            employeeConnected={this.state.employeeConnected} employeeConnectionFailed={this.state.employeeConnectionFailed} />\r\n                            <div className=\"text-center mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.customers.length === 0 ?\r\n                                    <h1>No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-danger\">\r\n                                        <h1 className=\"mb-1\">Database Connection Failed</h1>\r\n                                        <h3 className=\"mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"mb-1\">Loading Data</h1>\r\n                                        <h3>Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const connected = true;\r\n            this.setState({ customers, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchCustomer.php?search='+searchValue)\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const connected = true;\r\n            this.setState({ customers, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    retryPetsData = () => {\r\n        this.getPetsData();\r\n        const petConnected = false;\r\n        const petConnectionFailed = false;\r\n        this.setState({ petConnected, petConnectionFailed })\r\n    }\r\n\r\n    getPetsData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php')\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const petConnected = true\r\n            this.setState({ pets, petConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const petConnectionFailed = true;\r\n            this.setState({ petConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryEmployeesData = () => {\r\n        this.getEmployeesData();\r\n        const employeeConnected = false;\r\n        const employeeConnectionFailed = false;\r\n        this.setState({ employeeConnected, employeeConnectionFailed })\r\n    }\r\n\r\n    getEmployeesData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const employeeConnected = true\r\n            this.setState({ employees, employeeConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const employeeConnectionFailed = true;\r\n            this.setState({ employeeConnectionFailed });\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManageCustomers;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: ' ',\r\n            birthdate: ' ',\r\n            ownerId: ' ',\r\n            petClass: ' ',\r\n            pcciRegNo: ''\r\n        },\r\n        petClasses:\r\n        [ 'Alligator', 'Alpaca', 'Ant', 'Bear', 'Bird', 'Bull', 'Cat', 'Chicken', 'Crab', 'Crocodile', 'Deer', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Fox', 'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Gorilla', 'Grasshopper', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Jaguar', 'Lion', 'Lizard', 'Mantis', 'Monkey', 'Mouse', 'Octopus', 'Orangutan', 'Orstrich', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Raccoon', 'Rat', 'Reindeer', 'Salamander', 'Sheep', 'Snake', 'Spider', 'Squirrel', 'Tiger', 'Tortoise', 'Turtle', 'Wolf', 'Whale', 'Zebra' ],\r\n        search: false,\r\n        searchValue: '',\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        if(name === \"searchValue\") {\r\n            record.ownerId = '';\r\n            errors.ownerId = ' ';\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertPet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        this.onGenerateId();\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.petName = '';\r\n        record.birthdate = '';\r\n        record.ownerId = '';\r\n        record.petClass = '';\r\n        record.pcciRegNo = '';\r\n\r\n        errors.petName = 'Pet Name is required';\r\n        errors.birthdate = 'Birthdate is required';\r\n        errors.ownerId = 'Owner ID is required'\r\n        errors.petClass = 'Pet Class is required';\r\n        errors.pcciRegNo = '';\r\n\r\n        const searchValue = '';\r\n\r\n        this.setState({ record, errors, searchValue, submitError, added, failed });\r\n    }\r\n\r\n    onToggleSearch = e => {\r\n        e.preventDefault();\r\n        const search = !this.state.search;\r\n        const searchValue = '';\r\n        this.setState({ search, searchValue });\r\n    }\r\n\r\n    onClearSearch = e => {\r\n        e.preventDefault();\r\n        const searchValue = '';\r\n        this.setState({ searchValue });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, search, searchValue, submitted, added, failed } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addPetModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"addPetModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addPetModalTitle\">Add Pet</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">ID</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>\r\n                                                        Generate\r\n                                                    </button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                            value={record.petName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.petName)}\r\n                                            type=\"text\" name=\"petName\" value={record.petName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner ID<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected || submitted ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"ownerId\"\r\n                                                        value={record.ownerId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.records.length > 0 ?\r\n                                                                this.props.records.filter(row =>\r\n                                                                    (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                    .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                    searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.ownerId)}\r\n                                                            name=\"ownerId\" value={record.ownerId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.records.length > 0 ?\r\n                                                                    this.props.records.filter(row =>\r\n                                                                        (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                        .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                        searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={searchValue} onChange={this.onChangeState}\r\n                                                        placeholder=\"Search by Owner Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.ownerId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"petClass\"\r\n                                            value={record.petClass} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.petClass)}\r\n                                            name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                            value={record.pcciRegNo} maxLength=\"6\" placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                            type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                            onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted && this.props.connected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const connected = true;\r\n            this.setState({ records, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddPetModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            pcciRegNo: ''\r\n        },\r\n        petClasses:\r\n        [ 'Alligator', 'Alpaca', 'Ant', 'Bear', 'Bird', 'Bull', 'Cat', 'Chicken', 'Crab', 'Crocodile', 'Deer', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Fox', 'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Gorilla', 'Grasshopper', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Jaguar', 'Lion', 'Lizard', 'Mantis', 'Monkey', 'Mouse', 'Octopus', 'Orangutan', 'Orstrich', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Raccoon', 'Rat', 'Reindeer', 'Salamander', 'Sheep', 'Snake', 'Spider', 'Squirrel', 'Tiger', 'Tortoise', 'Turtle', 'Wolf', 'Whale', 'Zebra' ],\r\n        search: false,\r\n        searchValue: '',\r\n        deleteState: false,\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false,\r\n        deleting: false,\r\n        deleted: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { pet } = this.props;\r\n        const record = {...this.state.record};\r\n        \r\n        record.id = pet.id;\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.ownerId = pet.ownerId;\r\n        record.petClass = pet.petClass;\r\n        record.lastVisit = pet.lastVisit;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        if(name === \"searchValue\") {\r\n            record.ownerId = '';\r\n            errors.ownerId = ' ';\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updatePet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const deleteState = false;\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { pet } = this.props;\r\n\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.ownerId = pet.ownerId;\r\n        record.petClass = pet.petClass;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        errors.petName = '';\r\n        errors.birthdate = '';\r\n        errors.ownerId = '';\r\n        errors.petClass = '';\r\n        errors.pcciRegNo = '';\r\n\r\n        const searchValue = '';\r\n\r\n        this.setState({ record, errors, searchValue, deleteState, submitError, updated, failed });\r\n    }\r\n\r\n    onToggleSearch = e => {\r\n        e.preventDefault();\r\n        const search = !this.state.search;\r\n        this.setState({ search });\r\n    }\r\n\r\n    onClearSearch = e => {\r\n        e.preventDefault();\r\n        const searchValue = '';\r\n        this.setState({ searchValue });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, search, searchValue, deleteState, submitted, updated, failed, deleting, deleted } = this.state;\r\n        const { pet } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewPetModal-\" + pet.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewPetModalTitle-\" + pet.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewPetModalTitle-\" + pet.id}>Pet Info</h5>\r\n                                {\r\n                                    (!submitted && this.props.connected) || deleted ?\r\n                                    <button id={\"btnClose-\" + pet.id} className=\"btn btn-light text-danger p-1\"\r\n                                    data-dismiss=\"modal\" onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> :\r\n                                    deleting ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-trash text-primary mr-2\"></i>\r\n                                        <span>Deleting a record...</span>\r\n                                    </div> :\r\n                                    deleted ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully deleted.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">ID</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            placeholder=\"Please click 'Generate'\"\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                            value={record.petName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.petName)}\r\n                                            type=\"text\" name=\"petName\" value={record.petName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner ID<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.customerConnected || submitted ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted || deleting || deleted ?\r\n                                                        <select className=\"form-control\" name=\"ownerId\"\r\n                                                        value={record.ownerId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.records.length > 0 ?\r\n                                                                this.props.records.filter(row =>\r\n                                                                    (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                    .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                    searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.ownerId)}\r\n                                                            name=\"ownerId\" value={record.ownerId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.records.length > 0 ?\r\n                                                                    this.props.records.filter(row =>\r\n                                                                        (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                        .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                        searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    search && !submitted && !deleting && !deleted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={searchValue} onChange={this.onChangeState}\r\n                                                        placeholder=\"Search by Owner Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.ownerId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.customerConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later.\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <select className=\"form-control\" name=\"petClass\"\r\n                                            value={record.petClass} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.petClass)}\r\n                                            name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                            value={record.pcciRegNo} maxLength=\"6\" placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                            type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                            onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            !this.state.submitted && this.props.customerConnected &&\r\n            !this.state.deleting && !this.state.deleted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                {\r\n                    this.props.connected ?\r\n                    <button className=\"btn btn-danger w-auto mr-1\"\r\n                    onClick={this.onReset}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button> :\r\n                    <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                }\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n\r\n        this.props.onSubmitForm();\r\n        this.deletion();\r\n        \r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deletePet.php', record)\r\n        .then(this.postDelete)\r\n        .catch(error => {\r\n            console.log(error);\r\n            onRefresh();\r\n            this.failedDelete();\r\n        });\r\n    }\r\n\r\n    deletion = () => {\r\n        const deleteState = false;\r\n        const deleting = true;\r\n        this.setState({ deleteState, deleting });\r\n    }\r\n\r\n    postDelete = () => {\r\n        const deleting = false;\r\n        const deleted = true;\r\n        this.setState({ deleting, deleted }, () => {\r\n            setTimeout(() => {\r\n                document.getElementById(\"btnClose-\" + this.props.pet.id).click();\r\n                this.props.onRefresh();\r\n            }, 5000);\r\n        });\r\n    }\r\n\r\n    failedDelete = () => {\r\n        const deleting = false;\r\n        let failed = true;\r\n        this.setState({ deleting, failed }, () => {\r\n            setTimeout(() => {\r\n                failed = false;\r\n                this.setState({ failed });\r\n            }, 5000)\r\n        });\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewPetModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination.js';\r\nimport AddPetModal from './AddPetModal.js';\r\nimport ViewPetModal from './ViewPetModal.js';\r\n\r\nclass PetsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (pets) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = pets.length <= recordStartIndex + recordsPerPage ?\r\n        pets.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={pets[i].id} className=\"table-row\">\r\n                    <td>{pets[i].ownerLastName + \", \" + pets[i].ownerFirstName + \" \" + pets[i].ownerMiddleName}</td>\r\n                    <td>{pets[i].petName}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{this.formatDate(pets[i].birthdate)}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{pets[i].petClass}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">\r\n                        {\r\n                            pets[i].lastVisit === null ?\r\n                            \"Not visiting yet\" :\r\n                            this.formatDate(pets[i].lastVisit)\r\n                        }\r\n                    </td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewPetModal-\" + pets[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"d-none d-sm-inline ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { pets, onRefresh, onSearch, searchValue, onClear, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                        data-toggle=\"modal\" data-target=\"#addPetModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Owner Name</th>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Birthdate</th>\r\n                            <th className=\"d-none d-md-table-cell\">Pet Class</th>\r\n                            <th className=\"d-none d-sm-table-cell\">Last Visit</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            pets.length > 0 && connected ?\r\n                            this.renderItems(pets) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    pets.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={pets.length} /> : null\r\n                }\r\n                <AddPetModal onRefresh={onRefresh} onSubmitForm={onSubmitForm} records={this.props.customers} retryCustomersData={this.props.retryCustomersData}\r\n                connected={this.props.customerConnected} connectionFailed={this.props.customerConnectionFailed} />\r\n                { pets.map(pet => <ViewPetModal key={pet.id} pet={pet} onRefresh={onRefresh} connected={connected}\r\n                onSubmitForm={onSubmitForm} records={this.props.customers} retryCustomersData={this.props.retryCustomersData}\r\n                customerConnected={this.props.customerConnected} customerConnectionFailed={this.props.customerConnectionFailed} /> ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default PetsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport PetsTable from './PetsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManagePets extends Component {\r\n    state = {\r\n        pets: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\",\r\n        customers: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false\r\n    }\r\n\r\n    componentDidMount() {        \r\n        this.getData();\r\n        this.getCustomersData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar  sourceId={1} activeId={4} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Pets</h3>\r\n                            <PetsTable pets={this.state.pets}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} onSubmitForm={this.onSubmitForm}\r\n                            customers={this.state.customers} retryCustomersData={this.retryCustomersData}\r\n                            customerConnected={this.state.customerConnected} customerConnectionFailed={this.state.customerConnectionFailed} />\r\n                            <div className=\"text-center mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.pets.length === 0 ?\r\n                                    <h1>No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-danger\">\r\n                                        <h1 className=\"mb-1\">Database Connection Failed</h1>\r\n                                        <h3 className=\"mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"mb-1\">Loading Data</h1>\r\n                                        <h3>Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php')\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchPet.php?search='+searchValue)\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const customerConnected = true;\r\n            this.setState({ customers, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed });\r\n        });\r\n    }\r\n}\r\n \r\nexport default ManagePets;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddEmployeeModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            empType: '',\r\n            empPassword: ''\r\n        },\r\n        confirmEmpPassword: '',\r\n        errors:\r\n        {\r\n            empLastName: ' ',\r\n            empFirstName: ' ',\r\n            empMiddleName: '',\r\n            empType: ' ',\r\n            empPassword: ' ',\r\n            confirmEmpPassword: ' ',\r\n        },\r\n        empTypes: ['Admin', 'Groomer', 'Veterinarian' ],\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"empLastName\") {\r\n            value = this.toProperCase(value);\r\n        }\r\n\r\n        if(name === \"empFirstName\" || name === \"empMiddleName\") {\r\n            value = this.toAbsProperCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmEmpPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'empLastName':\r\n                errors.empLastName= properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empFirstName':\r\n                errors.empFirstName=    properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 24 ?\r\n                                        \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empMiddleName':\r\n                errors.empMiddleName=   value.length > 24 ?\r\n                                        \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empType':\r\n                errors.empType= properLength === 0 ?\r\n                                \" \" : \"\"\r\n                break;\r\n\r\n            case 'empPassword':\r\n                errors.empPassword=         properLength === 0 ? \" \" :\r\n                                            properLength < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmEmpPassword=  value === confirmEmpPassword ? \r\n                                            confirmEmpPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmEmpPassword':\r\n                errors.confirmEmpPassword=  properLength === 0 ? \" \" :\r\n                                            value === record.empPassword ?\r\n                                            properLength < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.empLastName = this.removeLastSpace(record.empLastName);\r\n            record.empFirstName = this.removeLastSpace(record.empFirstName);\r\n            record.empMiddleName = this.removeLastSpace(record.empMiddleName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertEmployee.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(value.length > 0) {\r\n                    errorItems.push (\r\n                        <div key={errorItems.length}\r\n                            className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                            <span>{value}</span>\r\n                        </div>\r\n                    )\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const confirmEmpPassword = '';\r\n        const submitError = false;\r\n        const submitted = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.empLastName = '';\r\n        record.empFirstName = '';\r\n        record.empMiddleName = ''\r\n        record.empType = '';\r\n        record.empPassword = '';\r\n\r\n        errors.empLastName = ' ';\r\n        errors.empFirstName = ' ';\r\n        errors.empMiddleName = ''\r\n        errors.empType = ' ';\r\n        errors.empPassword = ' ';\r\n        errors.confirmEmpPassword = ' ';\r\n\r\n        this.setState({ record, confirmEmpPassword, errors, submitError, submitted, added, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmEmpPassword, empTypes, submitted, added, failed } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addEmployeeModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"addEmployeeModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addEmployeeModalTitle\">Add Employee</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">ID</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>Generate</button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empLastName\"\r\n                                            value={record.empLastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empLastName)}\r\n                                            type=\"text\" name=\"empLastName\" value={record.empLastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empLastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empFirstName\"\r\n                                            value={record.empFirstName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empFirstName)}\r\n                                            type=\"text\" name=\"empFirstName\" value={record.empFirstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empFirstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empMiddleName\"\r\n                                            value={record.empMiddleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empMiddleName)}\r\n                                            type=\"text\" name=\"empMiddleName\" value={record.empMiddleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empMiddleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"empType\"\r\n                                            value={record.empType} onChange={this.onChangeRecord} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    empTypes.length > 0 ?\r\n                                                    empTypes.filter( value =>\r\n                                                        (value !== \"Admin\" && this.props.empType === \"Admin\") ||\r\n                                                        this.props.empType === \"Master Admin\"\r\n                                                    ).map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.empType)}\r\n                                            name=\"empType\" value={record.empType} onChange={this.onChangeRecord} noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    empTypes.length > 0 ?\r\n                                                    empTypes.filter( value =>\r\n                                                        (value !== \"Admin\" && this.props.empType === \"Admin\") ||\r\n                                                        this.props.empType === \"Master Admin\"\r\n                                                    ).map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\"></div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"empPassword\"\r\n                                            value={record.empPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empPassword)}\r\n                                            type=\"password\" name=\"empPassword\" value={record.empPassword}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmEmpPassword\"\r\n                                            value={confirmEmpPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmEmpPassword)}\r\n                                            type=\"password\" name=\"confirmEmpPassword\" value={confirmEmpPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmEmpPassword) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddEmployeeModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewEmployeeModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            empType: '',\r\n            empPassword: ''\r\n        },\r\n        confirmEmpPassword: '',\r\n        errors:\r\n        {\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            empType: '',\r\n            empPassword: '',\r\n            confirmEmpPassword: ' ',\r\n        },\r\n        empTypes: ['Admin', 'Groomer', 'Veterinarian' ],\r\n        passwordState:\r\n        {\r\n            inputType: 'password',\r\n            buttonText: 'Show'\r\n        },\r\n        deleteState: false,\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false,\r\n        deleting: false,\r\n        deleted: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { employee } = this.props;\r\n        const record = {...this.state.record};\r\n\r\n        record.id = employee.id;        \r\n        record.empLastName = employee.empLastName;\r\n        record.empFirstName = employee.empFirstName;\r\n        record.empMiddleName = employee.empMiddleName;\r\n        record.empType = employee.empType;\r\n        record.empPassword = employee.empPassword;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"empLastName\") {\r\n            value = this.toProperCase(value);\r\n        }\r\n\r\n        if(name === \"empFirstName\" || name === \"empMiddleName\") {\r\n            value = this.toAbsProperCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmEmpPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'empLastName':\r\n                errors.empLastName= properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empFirstName':\r\n                errors.empFirstName=    properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 24 ?\r\n                                        \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empMiddleName':\r\n                errors.empMiddleName=   value.length > 24 ?\r\n                                        \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empType':\r\n                errors.empType= properLength === 0 ?\r\n                                \" \" : \"\"\r\n                break;\r\n\r\n            case 'empPassword':\r\n                errors.empPassword=         properLength === 0 ? \" \" :\r\n                                            properLength < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmEmpPassword=  value === confirmEmpPassword ? \r\n                                            confirmEmpPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmEmpPassword':\r\n                errors.confirmEmpPassword=  properLength === 0 ? \" \" :\r\n                                            value === record.empPassword ?\r\n                                            properLength < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.empLastName = this.removeLastSpace(record.empLastName);\r\n            record.empFirstName = this.removeLastSpace(record.empFirstName);\r\n            record.empMiddleName = this.removeLastSpace(record.empMiddleName);\r\n\r\n            if(this.state.passwordState.inputType === \"text\") {\r\n                this.onTogglePassword()\r\n            }\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateEmployee.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const confirmEmpPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmEmpPassword = ' '\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ errors, confirmEmpPassword, submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(value.length > 0) {\r\n                    errorItems.push (\r\n                        <div key={errorItems.length}\r\n                            className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                            <span>{value}</span>\r\n                        </div>\r\n                    )\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const { employee } = this.props;\r\n\r\n        const confirmEmpPassword = '';\r\n        const deleteState = false;\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { passwordState } = this.state;\r\n\r\n        passwordState.buttonText = \"Show\";\r\n        passwordState.inputType = \"password\";\r\n        \r\n        record.empLastName = employee.empLastName;\r\n        record.empFirstName = employee.empFirstName;\r\n        record.empMiddleName = employee.empMiddleName;\r\n        record.empType = employee.empType;\r\n        record.empPassword = employee.empPassword;\r\n\r\n        errors.empLastName = '';\r\n        errors.empFirstName = '';\r\n        errors.empMiddleName = ''\r\n        errors.empType = '';\r\n        errors.empPassword = '';\r\n        errors.confirmEmpPassword = ' ';\r\n\r\n        this.setState({ record, confirmEmpPassword, errors, passwordState, deleteState, submitError, updated, failed });\r\n    }\r\n\r\n    onTogglePassword = () => {\r\n        const passwordState = {...this.state.passwordState};\r\n        if(passwordState.inputType === 'password') {\r\n            passwordState.inputType = 'text';\r\n            passwordState.buttonText = 'Hide';\r\n        }\r\n        else {\r\n            passwordState.inputType = 'password';\r\n            passwordState.buttonText = 'Show';\r\n        }\r\n        this.setState({ passwordState });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmEmpPassword, empTypes, passwordState, deleteState, submitted, updated, failed, deleting, deleted } = this.state;\r\n        const { employee, empType } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewEmployeeModal-\" + employee.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewEmployeeModalTitle-\" + employee.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewEmployeeModalTitle-\" + employee.id}>Employee Info</h5>\r\n                                {\r\n                                    (!submitted && this.props.connected) || deleted ?\r\n                                    <button id={\"btnClose-\" + employee.id} className=\"btn btn-light text-danger p-1\"\r\n                                    data-dismiss=\"modal\" onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\">\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> :\r\n                                    deleting ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-trash text-primary mr-2\"></i>\r\n                                        <span>Deleting a record...</span>\r\n                                    </div> :\r\n                                    deleted ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully deleted.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">ID</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empLastName\"\r\n                                            value={record.empLastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empLastName)}\r\n                                            type=\"text\" name=\"empLastName\" value={record.empLastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empLastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empFirstName\"\r\n                                            value={record.empFirstName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empFirstName)}\r\n                                            type=\"text\" name=\"empFirstName\" value={record.empFirstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empFirstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empMiddleName\"\r\n                                            value={record.empMiddleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empMiddleName)}\r\n                                            type=\"text\" name=\"empMiddleName\" value={record.empMiddleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empMiddleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            record.empType === empType ?\r\n                                            <input className=\"form-control\" name=\"empType\" value={record.empType}\r\n                                            onChange={this.onChangeRecord} noValidate disabled /> :\r\n                                            submitted || deleting || deleted ?\r\n                                            <select className=\"form-control\" name=\"empType\"\r\n                                            value={record.empType} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    empTypes.length > 0 ?\r\n                                                    empTypes.filter(value =>\r\n                                                        (value !== \"Admin\" && empType === \"Admin\") || empType === \"Master Admin\"\r\n                                                    ).map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.empType)}\r\n                                            name=\"empType\" value={record.empType} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    empTypes.length > 0 ?\r\n                                                    empTypes.filter(value =>\r\n                                                        (value !== \"Admin\" && empType === \"Admin\") || empType === \"Master Admin\"\r\n                                                    ).map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\"></div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted || deleting || deleted ?\r\n                                                <input className=\"form-control\" type={passwordState.inputType} name=\"empPassword\"\r\n                                                value={record.empPassword} noValidate disabled /> :\r\n                                                <React.Fragment>\r\n                                                    <input className={\"zi-10 \" + this.inputFieldClasses(errors.empPassword)}\r\n                                                        type={passwordState.inputType} name=\"empPassword\" value={record.empPassword}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onTogglePassword}>\r\n                                                            {passwordState.buttonText}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </React.Fragment>\r\n\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.empPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmEmpPassword\"\r\n                                            value={confirmEmpPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmEmpPassword)}\r\n                                            type=\"password\" name=\"confirmEmpPassword\" value={confirmEmpPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmEmpPassword) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n    \r\n    defaultButtons = () => {\r\n        return(\r\n            !this.state.submitted && !this.state.deleting && !this.state.deleted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                {\r\n                    this.props.connected ?\r\n                    <button className=\"btn btn-danger w-auto mr-1\"\r\n                    onClick={this.onReset}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button> :\r\n                    <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                }\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n        \r\n        this.props.onSubmitForm();\r\n        this.deletion();\r\n\r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deleteEmployee.php', record)\r\n        .then(this.postDelete)\r\n        .catch(error => {\r\n            console.log(error);\r\n            onRefresh();\r\n            this.failedDelete();\r\n        });\r\n    }\r\n\r\n    deletion = () => {\r\n        const deleteState = false;\r\n        const deleting = true;\r\n        this.setState({ deleteState, deleting });\r\n    }\r\n\r\n    postDelete = () => {\r\n        const deleting = false;\r\n        const deleted = true;\r\n        this.setState({ deleting, deleted }, () => {\r\n            setTimeout(() => {\r\n                document.getElementById(\"btnClose-\" + this.props.employee.id).click();\r\n                this.props.onRefresh();\r\n            }, 5000);\r\n        });\r\n    }\r\n\r\n    failedDelete = () => {\r\n        const deleting = false;\r\n        let failed = true;\r\n        this.setState({ deleting, failed }, () => {\r\n            setTimeout(() => {\r\n                failed = false;\r\n                this.setState({ failed });\r\n            }, 5000)\r\n        });\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewEmployeeModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination';\r\nimport AddEmployeeModal from './AddEmployeeModal';\r\nimport ViewEmployeeModal from './ViewEmployeeModal';\r\n\r\nclass EmployeesTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (employees) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        const { empType, id } = this.props;\r\n        let items = [];\r\n        const recordStopIndex = employees.length <= recordStartIndex + recordsPerPage ?\r\n        employees.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={employees[i].id} className=\"table-row\">\r\n                    <td>{employees[i].empLastName + \", \" + employees[i].empFirstName + \" \" + employees[i].empMiddleName}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">{employees[i].empType}</td>\r\n                    <td>\r\n                        {\r\n                            empType === 'Admin' && (employees[i].empType === 'Master Admin' ||\r\n                            (employees[i].empType === 'Admin' && employees[i].id !== id)) ?\r\n                            <button className=\"btn btn-outline-secondary btn-sm mr-1\" disabled>\r\n                                <i className=\"fa fa-eye\"></i>\r\n                                <span className=\"ml-1\">View</span>\r\n                            </button> :\r\n                            <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                            data-toggle=\"modal\" data-target={\"#viewEmployeeModal-\" + employees[i].id}>\r\n                                <i className=\"fa fa-eye\"></i>\r\n                                <span className=\"ml-1\">View</span>\r\n                            </button>\r\n                        }\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n    \r\n    render() {\r\n        const { employees, onRefresh, onSearch, searchValue, onClear, empType, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addEmployeeModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue} ></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Employee Name</th>\r\n                            <th className=\"d-none d-sm-table-cell\">Employee Type</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            employees.length > 0 && connected ?\r\n                            this.renderItems(employees) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    employees.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={employees.length} /> : null\r\n                }\r\n                <AddEmployeeModal onRefresh={onRefresh} empType={empType} onSubmitForm={onSubmitForm} />\r\n                { employees.map(employee => <ViewEmployeeModal key={employee.id} employee={employee}\r\n                onRefresh={onRefresh} empType={empType} connected={connected} onSubmitForm={onSubmitForm} /> ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default EmployeesTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport EmployeesTable from './EmployeesTable.js';\r\nimport Footer from '../../Footer.js';\r\n\r\nclass ManageEmployees extends Component {\r\n    state = {\r\n        employees: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onBackToLogin = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    renderForbidden = () => {\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row min-h-full justify-content-center align-items-center\">\r\n                    <div className=\"col-10 col-md-8 col-lg-6 form-light\">\r\n                        <div className=\"alert alert-warning text-warning text-center my-3 mx-1 py-4\">\r\n                            <div className=\"d-flex justify-content-center align-items-center\">\r\n                                <i className=\"fa fa-exclamation fa-lg\"></i>\r\n                                <span className=\"ml-2\">\r\n                                    <h2 className=\"font-weight-normal\">Forbidden Access</h2>\r\n                                </span>\r\n                            </div>\r\n                            <h5 className=\"font-weight-light\">\r\n                                Please login the Master account first.\r\n                            </h5>\r\n                        </div>\r\n                        <div className=\"text-center mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                onClick={this.onBackToLogin}>\r\n                                Back to Login\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        const { state } = history.location;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={1} activeId={5} history={this.props.history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Employees</h3>\r\n                            <EmployeesTable employees={this.state.employees}\r\n                            empType={state.empType} id={state.id}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"text-center mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.employees.length === 0 ?\r\n                                    <h1>No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-danger\">\r\n                                        <h1 className=\"mb-1\">Database Connection Failed</h1>\r\n                                        <h3 className=\"mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"mb-1\">Loading Data</h1>\r\n                                        <h3>Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : this.renderForbidden() }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const connected = true;\r\n            this.setState({ employees, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchEmployee.php?search='+searchValue)\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const connected = true;\r\n            this.setState({ employees, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManageEmployees;","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport React from 'react';\n\nimport './App.css';\n\nimport Index from './components/Index/Index.js';\n\nimport Customer from './components/Customer/Customer.js';\nimport ViewTransactions from './components/Customer/Transactions/ViewTransactions.js';\nimport ViewAdmission from './components/Customer/Admission/ViewAdmission.js';\nimport CustomerManagePets from './components/Customer/Pets/ManagePets.js';\n\nimport Admin from './components/Admin/Admin.js';\nimport ManageTransactions from './components/Admin/Transactions/ManageTransactions.js';\nimport ManageAdmission from './components/Admin/Admission/ManageAdmission.js';\nimport ManageCustomers from './components/Admin/Customers/ManageCustomers';\nimport ManagePets from './components/Admin/Pets/ManagePets';\nimport ManageEmployees from './components/Admin/Employees/ManageEmployees.js';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/wiggly-tails\" component={Index} />\n\n        <Route exact path=\"/wiggly-tails/customer\" component={Customer} />\n        <Route path=\"/wiggly-tails/customer/view-transactions\" component={ViewTransactions} />\n        <Route path=\"/wiggly-tails/customer/view-admission\" component={ViewAdmission} />\n        <Route path=\"/wiggly-tails/customer/manage-pets\" component={CustomerManagePets} />\n\n        <Route exact path=\"/wiggly-tails/admin\" component={Admin} />\n        <Route path=\"/wiggly-tails/admin/manage-transactions\" component={ManageTransactions} />\n        <Route path=\"/wiggly-tails/admin/manage-admission\" component={ManageAdmission} />\n        <Route path=\"/wiggly-tails/admin/manage-customers\" component={ManageCustomers} />\n        <Route path=\"/wiggly-tails/admin/manage-pets\" component={ManagePets} />\n        <Route path=\"/wiggly-tails/admin/manage-employees\" component={ManageEmployees} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.js';\nimport 'bootstrap-table/dist/bootstrap-table.css';\nimport 'bootstrap-table/dist/bootstrap-table.js'\nimport 'jquery/dist/jquery.js';\nimport 'jquery/dist/jquery.slim.js';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport '@popperjs/core/dist/cjs/popper.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}