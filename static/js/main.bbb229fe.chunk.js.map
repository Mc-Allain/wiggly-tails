{"version":3,"sources":["img/wiggly-tails-icon.png","components/Index/Navbar.js","img/no-image.png","img/grooming.jpg","components/Index/IndexCarousel.js","components/Index/Forms/CustomerLoginForm.js","components/Index/Forms/EmployeeLoginForm.js","components/Index/Forms/RegistrationModal.js","components/Footer.js","components/Index/Index.js","components/Customer/CustomerNavbar.js","components/Customer/UpdateAccountInfoModal.js","components/Customer/Forbidden.js","components/Customer/Customer.js","components/Customer/Transactions/ViewTransactionModal.js","components/TablePagination.js","components/Customer/Transactions/TransactionsTable.js","components/Customer/Transactions/ViewTransactions.js","components/Customer/Admission/ViewAdmissionModal.js","components/Customer/Admission/AdmissionTable.js","components/Customer/Admission/ViewAdmission.js","components/Customer/Pets/AddPetModal.js","components/Customer/Pets/ViewPetModal.js","components/Customer/Pets/PetsTable.js","components/Customer/Pets/ManagePets.js","components/Customer/AboutUs.js","components/Admin/Employees/ManageEmployeesModal.js","components/Admin/AdminNavbar.js","components/Admin/Forbidden.js","components/Admin/Admin.js","components/Admin/Transactions/AddTransactionModal.js","components/Admin/Transactions/ViewTransactionModal.js","components/Admin/Transactions/TransactionsTable.js","components/Admin/Transactions/ManageTransactions.js","components/Admin/Admission/AddAdmissionModal.js","components/Admin/Admission/ViewAdmissionModal.js","components/Admin/Admission/AdmissionTable.js","components/Admin/Admission/ManageAdmission.js","components/Admin/Customers/AddCustomerModal.js","components/Admin/Customers/ViewCustomerModal.js","components/Admin/Customers/InitiateTransactionModal.js","components/Admin/Customers/CustomersTable.js","components/Admin/Customers/ManageCustomers.js","components/Admin/Pets/AddPetModal.js","components/Admin/Pets/ViewPetModal.js","components/Admin/Pets/PetsTable.js","components/Admin/Pets/ManagePets.js","components/Admin/Employees/AddEmployeeModal.js","components/Admin/Employees/ViewEmployeeModal.js","components/Admin/Employees/EmployeesTable.js","components/Admin/Employees/ManageEmployees.js","App.js","index.js"],"names":["Navbar","state","navs","id","text","link","items","linkItemClasses","props","activeId","sourceId","classes","dropdownItemClasses","switchActiveId","this","Fragment","className","href","src","wiggy_tails_icon","alt","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","map","nav","length","aria-labelledby","item","onClick","Component","IndexCarousel","data-ride","data-slide-to","noImage","grooming","role","data-slide","aria-hidden","CustomerLoginForm","record","emailAddress","email","userPassword","errors","submitError","loginError","onChangeRecord","e","target","name","value","removeSpaces","setState","currentState","onCheckRecordErrors","onSubmit","preventDefault","records","validForm","result","filter","row","toLowerCase","history","replace","verified","valid","Object","values","forEach","renderRecordErrors","errorMsg","renderLoginError","onReset","inputFieldClasses","i","charAt","connected","noValidate","onChange","connectionFailed","getData","EmployeeLoginForm","empLastName","empPassword","toUpperCase","toAbsProperCase","propervalue","isCapital","maxLength","RegistrationModal","lastName","firstName","middleName","homeAddress","lotBlock","street","subdivision","barangay","municipality","province","birthdate","mobileNumber","pet","petName","petClass","lastVisit","pcciRegNo","confirmUserPassword","homeAddressErrors","petErrors","petClasses","submitted","registered","failed","onGenerateId","generateCharacters","onChangeState","toProperCase","properLength","isNumeric","isValidEmail","emailAddressExists","customers","RegExp","test","onChangeHomeAddress","onCheckHomeAddressErrors","onChangePet","onCheckPetErrors","console","log","removeLastSpace","mbNo","push","substring","join","onRegister","submission","axios","post","then","postSubmit","catch","error","failedSubmit","setTimeout","renderErrors","errorItems","isObject","data","renderHomeAddressErrors","characters","charactersLength","Math","floor","random","removeMultipleSpaces","tabIndex","data-backdrop","disabled","data-dismiss","placeholder","Footer","EmployeeLogin","customerConnected","customerConnectionFailed","employees","employeeConnected","employeeConnectionFailed","componentDidMount","getCustomersData","getEmployeesData","retryCustomersData","retryEmployeesData","get","res","CustomerNavbar","onClickLink","location","onClickBrand","onClickSignOut","UpdateAccountInfoModal","passwordState","inputType","buttonText","updated","customer","onRefresh","onTogglePassword","onSubmitForm","split","defaultButtons","deleteState","deleteButtons","Forbidden","onBackToLogin","Customer","searchData","renderContent","formatHomeAddress","formatDate","searchValue","dateValue","day","Date","getDate","month","getMonth","getFullYear","ViewTransactionModal","transType","transDate","petId","customerId","customerLastName","customerFirstName","customerMiddleName","customerName","petWeight","remarks","empId","empFirstName","empMiddleName","checkUp","findings","treatment","admissionDate","releasedDate","addInfo","groom","activity","checkUpConnected","checkUpConnectionFailed","groomConnected","groomConnectionFailed","transaction","getCheckUpData","getGroomData","onChangeCheckUp","onChangeGroom","onViewAdmission","transId","checkUpForm","rows","retryCheckUpData","groomForm","retryGroomData","TablePagination","onClickPage","page","recordStartIndex","recordsPerPage","activePage","setPage","onClickPagePrev","onClickPageNext","noOfPages","renderPagination","totalRecords","pages","ceil","indexPage","stopPage","getPageClasses","getPrevPageClasses","renderBackPage","renderContinuePage","getNextPageClasses","pageLowerLimit","pageNo","pageUpperLimit","TransactionsTable","renderItems","transactions","recordStopIndex","formatTransType","onSearch","onClear","ViewTransactions","ViewAdmissionModal","title","content","admission","AdmissionTable","colSpan","ViewAdmission","admissionId","AddPetModal","ownerId","added","ViewPetModal","deleting","deleted","onToggleDelete","onDelete","deletion","postDelete","failedDelete","document","getElementById","click","PetsTable","pets","ManagePets","AboutUs","onVisitFBPage","window","open","allowfullscreen","tabindex","ManageEmployeesModal","adminId","adminPassword","empType","renderModal","AdminNavbar","Admin","AddTransactionModal","checkUpErrors","groomErrors","search","employee","currentDate","getCurrentDate","dateObj","currentMonth","currentDay","toSentenceCase","onTogglePetSearch","onCheckCheckUpErrors","onCheckGroomErrors","onToggleCustomerSearch","onClearCustomerSearch","onChangeCustomerSearch","onClearPetSearch","onChangePetSearch","onToggleEmployeeSearch","onClearEmployeeSearch","onChangeEmployeeSearch","match","petConnected","petConnectionFailed","retryPetsData","ManageTransactions","getPetsData","AddAdmissionModal","ManageAdmission","AddCustomerModal","ViewCustomerModal","InitiateTransactionModal","CustomersTable","noOfPets","ManageCustomers","onToggleSearch","onClearSearch","ownerLastName","ownerFirstName","ownerMiddleName","AddEmployeeModal","confirmEmpPassword","empTypes","ViewEmployeeModal","EmployeesTable","ManageEmployees","renderForbidden","App","exact","path","component","Index","CustomerManagePets","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.bbb229fe.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","import React, { Component } from 'react';\r\nimport wiggy_tails_icon from '../../img/wiggly-tails-icon.png';\r\n\r\nclass Navbar extends Component {\r\n    state = {\r\n        navs:\r\n        [\r\n            {\r\n                id: 1,\r\n                text: \"Login\",\r\n                link: null,\r\n                items: \r\n                [\r\n                    {\r\n                        id: 2,\r\n                        text: \"Customer\",\r\n                        link: null\r\n                    },\r\n                    {\r\n                        id: 3,\r\n                        text: \"Employee\",\r\n                        link: null\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                id: 10,\r\n                text: \"Register\",\r\n                link: null,\r\n                items: []\r\n            }\r\n        ]\r\n    }\r\n\r\n    render() { \r\n        const { switchActiveId } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <nav className=\"navbar navbar-expand-sm navbar-dark bg-dark fixed-top\">\r\n                    <a href=\"/wiggly-tails\" className=\"navbar-brand py-0\">\r\n                        <img src={wiggy_tails_icon} alt=\"\" className=\"mr-2\" />Veterinary Clinic\r\n                    </a>\r\n\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                    data-target=\"#main-navbar\" aria-controls=\"main-navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"main-navbar\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {\r\n                                this.state.navs.map(nav =>\r\n                                    nav.items.length > 0 ?\r\n                                    <li key={nav.id} className=\"nav-item dropdown mr-1\">\r\n                                        <a className={\"dropdown-toggle \" + this.linkItemClasses(nav.id)} id={\"dropdown\" + nav.id}\r\n                                        href=\"/\" data-toggle=\"dropdown\">{nav.text}</a>\r\n                                        <div className=\"dropdown-menu\" aria-labelledby={\"dropdown\" + nav.id}>\r\n                                            {\r\n                                                nav.items.map(item =>\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    href={item.link} onClick={() => switchActiveId(item.id)}>{item.text}</a>\r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </li> :\r\n                                    <li key={nav.id} className=\"nav-item mr-1\">\r\n                                        {\r\n                                            nav.id === 10 ?\r\n                                            <a className={this.linkItemClasses(nav.id)}\r\n                                            data-toggle=\"modal\" data-target=\"#registrationModal\">\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            <a href={nav.link} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a>\r\n                                        }\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    linkItemClasses = id => {\r\n        const { activeId, sourceId } = this.props;\r\n\r\n        let classes = \"nav-link \";\r\n        classes+= id === activeId ? \"active\" :\r\n        id === sourceId ? \"active\" : \r\n        id === 10 ?  \"text-warning\" : \"inactive\"\r\n        return classes;\r\n    }\r\n\r\n    dropdownItemClasses = id => {\r\n        const { activeId } = this.props;\r\n\r\n        let classes = \"dropdown-item text-dark \"\r\n        classes+= id === activeId ? \"active-dropdown\" : \"inactive-dropdown\"\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default Navbar;","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/grooming.a2a278f6.jpg\";","import React, { Component } from 'react';\r\n\r\nimport noImage from '../../img/no-image.png';\r\n// import consultation from '../../img/consultation.jpg';\r\n// import treatmentVaccination from '../../img/treatment-vaccination.jpg';\r\n// import confinement from '../../img/confinement.jpg';\r\nimport grooming from '../../img/grooming.jpg';\r\n\r\nclass IndexCarousel extends Component {\r\n    state = {  }\r\n    render() { \r\n        return (\r\n            <React.Fragment>\r\n                <div id=\"index-carousel\" className=\"carousel slide\" data-ride='carousel'>\r\n                    <ul className=\"carousel-indicators\">\r\n                        <li data-target=\"#index-carousel\" data-slide-to='0' className=\"active\"></li>\r\n                        <li data-target=\"#index-carousel\" data-slide-to='1'></li>\r\n                        <li data-target=\"#index-carousel\" data-slide-to='2'></li>\r\n                        <li data-target=\"#index-carousel\" data-slide-to='3'></li>\r\n                    </ul>\r\n                    \r\n                    <div className=\"carousel-inner\">\r\n                        <div className=\"carousel-item bg-dark active\">\r\n                            <img className=\"d-block w-100\" src={noImage} alt=\"consultation\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-45 px-3\">\r\n                                <h5>Consultation</h5>\r\n                                <p>You will find our veterinarians focusing on preventive measures to help how to maintain\r\n                                    your pet's in great health.</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img className=\"d-block w-100\" src={noImage} alt=\"treatment_vaccination\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-45 px-3\">\r\n                                <h5>Treatment and Vaccination</h5>\r\n                                <p>Our preventive care plans include vaccinations,\r\n                                    parasite prevention plans, and wellness screening.</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img className=\"d-block w-100\" src={noImage} alt=\"confinement\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-45 px-3\">\r\n                                <h5>Confinement</h5>\r\n                                <p>We can accommodate pets that needed to be confined for treatment while\r\n                                    recovering from a disease, injury, or elective surgery.</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img className=\"d-block w-100\" src={grooming} alt=\"grooming\" />\r\n                            <div className=\"carousel-caption d-none d-md-block bg-dark-45 px-3\">\r\n                                <h5>Grooming</h5>\r\n                                <p>By being regularly groomed, they'll be feeling, smelling,\r\n                                    and looking their best, and of course, the cuddles from their owners\r\n                                    after the grooming session is a win-win.</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <a className=\"carousel-control-prev\" href=\"#index-carousel\" role=\"button\" data-slide=\"prev\">\r\n                        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Previous</span>\r\n                    </a>\r\n                    <a className=\"carousel-control-next\" href=\"#index-carousel\" role=\"button\" data-slide=\"next\">\r\n                        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Next</span>\r\n                    </a>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default IndexCarousel;","import React, { Component } from 'react';\r\n\r\nclass CustomerLoginForm extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        errors:\r\n        {\r\n            emailAddress: 'Please input your Email Address',\r\n            userPassword: 'Please input your Password'\r\n        },\r\n        submitError: false,\r\n        loginError: false\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"emailAddress\") {\r\n            value = this.removeSpaces(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'emailAddress':\r\n                errors.emailAddress=  value.length === 0 ? \"Please input your Email Address\" : \"\"\r\n                break;\r\n            \r\n            case 'userPassword':\r\n                errors.userPassword= value.length === 0 ? \"Please input your Password\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const { records } = this.props;\r\n        const errors  = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n\r\n        if(this.validForm({ errors })) {\r\n            let submitError = false;\r\n            let loginError = false;\r\n\r\n            this.setState({ submitError, loginError });\r\n\r\n            const result = records.filter(row => \r\n                (row.emailAddress + row.email).toLowerCase() === (record.emailAddress + record.email).toLowerCase() &&\r\n                row.userPassword === record.userPassword\r\n            )\r\n\r\n            if(result.length > 0) {\r\n                const { history } = this.props;\r\n                history.replace('/wiggly-tails/customer', {verified: true, id: result[0].id});\r\n            }\r\n            else {\r\n                submitError = true;\r\n                loginError = true;\r\n                record.userPassword = '';\r\n                errors.userPassword = 'Please input your Password';\r\n            }\r\n\r\n            this.setState({ record, errors, submitError, loginError });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0) {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderLoginError = () => {\r\n        if(this.state.loginError) {\r\n            return(\r\n                <div className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                    <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                    <span className=\"lh-0 my-1\">Incorrect Email Address or Password</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    onReset = e => {\r\n        e.preventDefault();\r\n        const record = {...this.state.record};\r\n        record.emailAddress = '';\r\n        record.email = '@yahoo.com';\r\n        record.userPassword = '';\r\n\r\n        const errors = {...this.state.errors};\r\n        errors.emailAddress = 'Please input your Email Address';\r\n        errors.userPassword = 'Please input your Password';\r\n\r\n        const submitError = false;\r\n        const loginError = false;\r\n\r\n        this.setState({ record, errors, submitError, loginError });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors } = this.state;\r\n        return (\r\n            this.props.connected ?\r\n            <form className=\"form-light p-5 mt-4\" noValidate\r\n            onSubmit={this.onSubmit} onReset={this.onReset}>\r\n                <h2 className=\"font-weight-normal text-center\">Customer Login</h2>\r\n                <h5 className=\"font-weight-light text-center mb-4\">\r\n                    Please input your credentials.\r\n                </h5> { this.renderLoginError() }\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Email Address</label>\r\n                    <div className=\"input-group d-block d-sm-flex px-0\">\r\n                        <input className={\"w-xs-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                        <div className=\"input-group-append justify-content-end\">\r\n                            <span className=\"input-group-text\">@</span>\r\n                            <select className=\"input-group-text form-control\"\r\n                            name=\"email\" value={record.email}\r\n                            onChange={this.onChangeRecord} noValidate>\r\n                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                <option value=\"@outlook.com\">outlook.com</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    { this.renderRecordErrors(errors.emailAddress) }\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Password</label>\r\n                    <input className={this.inputFieldClasses(errors.userPassword)}\r\n                        type=\"password\" name=\"userPassword\" value={record.userPassword}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    { this.renderRecordErrors(errors.userPassword) }\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-between align-items-center mt-4\">\r\n                    <button type=\"submit\" className=\"btn btn-primary w-49\">\r\n                        <i className=\"fa fa-sign-in-alt\"></i>\r\n                        <span className=\"ml-1\">Login</span>\r\n                    </button>\r\n                    <button type=\"reset\" className=\"btn btn-danger w-49\">\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                </div>\r\n            </form> :\r\n            this.props.connectionFailed ?\r\n            <div className=\"text-center\">\r\n                <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                onClick={this.props.getData}>Retry</button>\r\n            </div> :\r\n            <React.Fragment>\r\n                <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 && this.state.submitError ? \"border border-danger\" : \"\"\r\n        return classes;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default CustomerLoginForm;","import React, { Component } from 'react';\r\n\r\nclass EmployeeLoginForm extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            empLastName: '',\r\n            empPassword: ''\r\n        },\r\n        errors:\r\n        {\r\n            id: 'Please input your Id',\r\n            empLastName: 'Please input your Last Name',\r\n            empPassword: 'Please input your Password'\r\n        },\r\n        submitError: false,\r\n        loginError: false\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if (name === \"id\") {\r\n            value = value.toUpperCase();\r\n        }\r\n\r\n        if (name === \"empLastName\") {\r\n            value = this.toAbsProperCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = { ...this.state.errors };\r\n\r\n        switch (name) {\r\n            case 'id':\r\n                errors.id = value.length === 0 ? \"Please input your Id\" :\r\n                    value.length !== 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empLastName':\r\n                errors.empLastName = value.length === 0 ? \"Please input your Last Name\" :\r\n                    value.length < 2 || value.length > 24 ?\r\n                        \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empPassword':\r\n                errors.empPassword = value.length === 0 ? \"Please input your Password\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const { records } = this.props;\r\n        const errors = { ...this.state.errors };\r\n        const record = { ...this.state.record };\r\n\r\n        if (this.validForm({ errors })) {\r\n            let submitError = false;\r\n            let loginError = false;\r\n\r\n            const result = records.filter(row =>\r\n                row.id === record.id &&\r\n                row.empLastName === record.empLastName &&\r\n                row.empPassword === record.empPassword\r\n            )\r\n\r\n            if (result.length > 0) {\r\n                const { history } = this.props;\r\n                history.replace('/wiggly-tails/admin', { verified: true });\r\n            }\r\n            else {\r\n                submitError = true;\r\n                loginError = true;\r\n                record.empPassword = '';\r\n                errors.empPassword = 'Please input your Password';\r\n            }\r\n\r\n            this.setState({ record, errors, submitError, loginError });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n\r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if (this.state.submitError) {\r\n            if (errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return (\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    renderLoginError = () => {\r\n        if (this.state.loginError) {\r\n            return (\r\n                <div className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                    <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                    <span className=\"lh-0 my-1\">Incorrect Id, Last Name or Password</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    onReset = e => {\r\n        e.preventDefault();\r\n        const record = { ...this.state.record };\r\n        record.id = '';\r\n        record.empLastName = '';\r\n        record.empPassword = '';\r\n\r\n        const errors = { ...this.state.errors };\r\n        errors.id = 'Please input your Id';\r\n        errors.empLastName = 'Please input your Last Name';\r\n        errors.empPassword = 'Please input your Password';\r\n\r\n        const submitError = false;\r\n        const loginError = false;\r\n\r\n        this.setState({ record, errors, submitError, loginError });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors } = this.state;\r\n        return (\r\n            this.props.connected ?\r\n            <form className=\"form-light p-5 mt-4\" noValidate\r\n                onSubmit={this.onSubmit} onReset={this.onReset}>\r\n                <h2 className=\"font-weight-normal text-center\">Employee Login</h2>\r\n                <h5 className=\"font-weight-light text-center mb-4\">\r\n                    Please input your credentials.\r\n                </h5> { this.renderLoginError()}\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Id</label>\r\n                    <input className={this.inputFieldClasses(errors.id)}\r\n                        type=\"text\" name=\"id\" value={record.id} maxLength=\"6\"\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    {this.renderRecordErrors(errors.id)}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Last Name</label>\r\n                    <input className={this.inputFieldClasses(errors.empLastName)}\r\n                        type=\"text\" name=\"empLastName\" value={record.empLastName}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    {this.renderRecordErrors(errors.empLastName)}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"m-0 ml-2\">Password</label>\r\n                    <input className={this.inputFieldClasses(errors.empPassword)}\r\n                        type=\"password\" name=\"empPassword\" value={record.empPassword}\r\n                        onChange={this.onChangeRecord} noValidate />\r\n                    {this.renderRecordErrors(errors.empPassword)}\r\n                </div>\r\n\r\n                <div className=\"d-flex justify-content-between align-items-center mt-4\">\r\n                    <button type=\"submit\" className=\"btn btn-primary w-49\">\r\n                        <i className=\"fa fa-sign-in-alt\"></i>\r\n                        <span className=\"ml-1\">Login</span>\r\n                    </button>\r\n                    <button type=\"reset\" className=\"btn btn-danger w-49\">\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                </div>\r\n            </form> :\r\n            this.props.connectionFailed ?\r\n            <div className=\"text-center\">\r\n                <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                onClick={this.props.getData}>Retry</button>\r\n            </div> :\r\n            <React.Fragment>\r\n                <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes += errorMsg.length > 0 && this.state.submitError ? \"border border-danger\" : \"\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for (var i = 0; i < value.length; i++) {\r\n            if (value.charAt(i) === \" \") {\r\n                if (i !== 0 && value.charAt(i - 1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if (i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }\r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n\r\nexport default EmployeeLoginForm;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass RegistrationModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: '',\r\n            pet:\r\n            {\r\n                petName: '',\r\n                birthdate: '',\r\n                petClass: '',\r\n                lastVisit: '',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: ' ',\r\n            firstName: ' ',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: ' ',\r\n                subdivision: '',\r\n                barangay: ' ',\r\n                municipality: ' ',\r\n                province: ''\r\n            },\r\n            birthdate: ' ',\r\n            mobileNumber: ' ',\r\n            emailAddress: ' ',\r\n            userPassword: ' ',\r\n            confirmUserPassword: ' ',\r\n            petErrors:\r\n            {\r\n                petName: ' ',\r\n                birthdate: ' ',\r\n                petClass: ' ',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        petClasses:\r\n        [ 'Alligator', 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Crab', 'Crocodile', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Fox', 'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Gorilla', 'Grasshopper', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Jaguar', 'Lion', 'Lizard', 'Mantis', 'Monkey', 'Mouse', 'Octopus', 'Orangutan', 'Orstrich', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake', 'Spider', 'Squirrel', 'Tiger', 'Tortoise', 'Turtle', 'Wolf', 'Whale', 'Zebra' ],\r\n        submitError: false,\r\n        submitted: false,\r\n        registered: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    record.emailAddress.length === 0 ? \" \" :\r\n                                    record.emailAddress.length < 8 || record.emailAddress.length > 24 ?\r\n                                    \"Must be at between 8 and 24 characters\" :\r\n                                    !this.isValidEmail(record.emailAddress) ?\r\n                                    \"Please input a valid value\" :\r\n                                    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record } = this.state;\r\n        const { customers } = this.props;\r\n\r\n        const result = customers.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() ===\r\n            (record.emailAddress + record.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n\r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  value.length > 24 ?\r\n                                                \"Subdivision must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangePet = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                pet: {\r\n                    ...currentState.record.pet,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckPetErrors(e))\r\n    }\r\n\r\n    onCheckPetErrors = e => {\r\n        const { name, value } = e.target;\r\n        const petErrors = {...this.state.errors.petErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                petErrors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                petErrors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                petErrors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                petErrors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                petErrors\r\n            }\r\n        }), () => console.log(this.state))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { getData } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n            record.pet.petName = this.removeLastSpace(record.pet.petName);\r\n\r\n            // record.homeAddress.street += \" St.\";\r\n            // record.homeAddress.barangay = \"Brgy. \" + record.homeAddress.barangay;\r\n            // record.homeAddress.municipality += \" City\";\r\n\r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            this.props.onRegister();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertCustomerPet.php', record)\r\n            .then(() => {\r\n                getData();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                getData();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let registered = true;\r\n        this.setState({ submitted, registered });\r\n        setTimeout(() => {\r\n            registered = false;\r\n            this.setState({ registered });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0  && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n        const pet = {...this.state.record.pet};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const petErrors = {...this.state.errors.petErrors};\r\n\r\n        const confirmUserPassword = '';\r\n        const submitError = false;\r\n        const registered = false;\r\n        const failed = false;\r\n\r\n        homeAddress.lotBlock = '';\r\n        homeAddress.street = '';\r\n        homeAddress.subdivision = '';\r\n        homeAddress.barangay = '';\r\n        homeAddress.municipality = '';\r\n        homeAddress.province = '';\r\n        \r\n        pet.petName = '';\r\n        pet.birthdate = '';\r\n        pet.petClass = '';\r\n        pet.pcciRegNo = '';\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.lastName = '';\r\n        record.firstName = '';\r\n        record.middleName = ''\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = '';\r\n        record.mobileNumber = '';\r\n        record.emailAddress = '';\r\n        record.email = '@yahoo.com';\r\n        record.userPassword = '';\r\n        record.pet = pet;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = ' ';\r\n        homeAddressErrors.subdivision = '';\r\n        homeAddressErrors.barangay = ' ';\r\n        homeAddressErrors.municipality = ' ';\r\n        homeAddressErrors.province = '';\r\n\r\n        petErrors.petName = ' ';\r\n        petErrors.birthdate = ' ';\r\n        petErrors.petClass = ' ';\r\n\r\n        errors.lastName = ' ';\r\n        errors.firstName = ' ';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ' ';\r\n        errors.mobileNumber = ' ';\r\n        errors.emailAddress = ' ';\r\n        errors.userPassword = ' ';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, submitError, registered, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, petClasses, submitted, registered, failed } = this.state;\r\n        const { homeAddress, pet } = record;\r\n        const { homeAddressErrors, petErrors } = errors;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"registrationModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"registrationModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"registrationModalTitle\">Register</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Registering an account...</span>\r\n                                    </div> :\r\n                                    registered ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Account was successfully registered.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>Generate</button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"lastName\"\r\n                                            value={record.lastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.lastName)}\r\n                                            type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"firstName\"\r\n                                            value={record.firstName} onChange={this.onChangeRecord} noValidate disabled /> : \r\n                                            <input className={this.inputFieldClasses(errors.firstName)}\r\n                                            type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"middleName\"\r\n                                            value={record.middleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.middleName)}\r\n                                            type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"lotBlock\"\r\n                                                    value={homeAddress.lotBlock} placeholder=\"Lot/Block (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                    type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"street\"\r\n                                                    value={homeAddress.street} placeholder=\"Street\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                    type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Street\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"subdivision\"\r\n                                                    value={homeAddress.subdivision} placeholder=\"Subdivision (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                    type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Subdivision (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"barangay\"\r\n                                                    value={homeAddress.barangay} placeholder=\"Barangay\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                    type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Barangay\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"municipality\"\r\n                                                    value={homeAddress.municipality} placeholder=\"Municipality\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                    type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Municipality\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"province\"\r\n                                                    value={homeAddress.province} placeholder=\"Province (Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                    type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Province (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate}  noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"tel\" maxLength=\"10\"\r\n                                                name=\"mobileNumber\" value={record.mobileNumber} onChange={this.onChangeRecord}\r\n                                                noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                                type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <input className=\"w-xs-100 form-control\" type=\"text\"\r\n                                                        name=\"emailAddress\" value={record.emailAddress} noValidate disabled /> :\r\n                                                        <input className={\"w-xs-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    }\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        {\r\n                                                            submitted ?\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email} noValidate disabled>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select> :\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email}\r\n                                                            onChange={this.onChangeRecord} noValidate>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.getData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"userPassword\"\r\n                                            value={record.userPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.userPassword)}\r\n                                            type=\"password\" name=\"userPassword\" value={record.userPassword}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmUserPassword\"\r\n                                            value={confirmUserPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                            type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                                        <div className=\"row mt-3\">\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Name <span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                                    value={pet.petName} noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.petName)}\r\n                                                    type=\"text\" name=\"petName\" value={pet.petName}\r\n                                                    onChange={this.onChangePet} noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.petName) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                                    value={pet.birthdate} noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.birthdate)}\r\n                                                    type=\"date\" name=\"birthdate\" value={pet.birthdate}\r\n                                                    onChange={this.onChangePet} noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.birthdate) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <select className=\"form-control\" name=\"petClass\"\r\n                                                    value={pet.petClass} noValidate disabled >\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            petClasses.length > 0 ?\r\n                                                            petClasses.map(value =>\r\n                                                                <option key={value} value={value}>{value}</option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select> :\r\n                                                    <select className={this.inputFieldClasses(petErrors.petClass)}\r\n                                                    name=\"petClass\" value={pet.petClass} onChange={this.onChangePet}\r\n                                                    noValidate>\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            petClasses.length > 0 ?\r\n                                                            petClasses.map(value =>\r\n                                                                <option key={value} value={value}>{value}</option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.petClass) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                                    value={pet.pcciRegNo} maxLength=\"6\" placeholder=\"(Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.pcciRegNo)}\r\n                                                    type=\"text\" name=\"pcciRegNo\" value={pet.pcciRegNo}\r\n                                                    onChange={this.onChangePet} maxLength=\"6\"\r\n                                                    placeholder=\"(Optional)\" noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.pcciRegNo) }\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Registering an account...</span>\r\n                                    </div> :\r\n                                    registered ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Account was successfully registered.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        this.props.connected && !submitted ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n \r\nexport default RegistrationModal;","import React, { Component } from 'react';\r\n\r\nclass Footer extends Component {\r\n    state = {  }\r\n    render() { \r\n        return (\r\n            <div className=\"bg-dark text-light w-100 fixed-bottom\">\r\n                <p className=\"m-0 p-0 text-right small my-1 mr-3\">Copyright &copy; 2021</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Footer;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport Navbar from './Navbar.js';\r\nimport IndexCarousel from './IndexCarousel.js';\r\nimport CustomerLoginForm from './Forms/CustomerLoginForm.js';\r\nimport EmployeeLoginForm from './Forms/EmployeeLoginForm.js';\r\nimport RegistrationModal from './Forms/RegistrationModal.js';\r\nimport Footer from '../Footer.js';\r\n\r\nclass EmployeeLogin extends Component {\r\n    state = {\r\n        activeId: 2,\r\n        customers: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false,\r\n        employees: [],\r\n        employeeConnected: false,\r\n        employeeConnectionFailed: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.getCustomersData();\r\n        this.getEmployeesData();\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        this.onRegister();\r\n    }\r\n\r\n    retryEmployeesData = () => {\r\n        this.getEmployeesData();\r\n        const employeeConnected = false;\r\n        const employeeConnectionFailed = false;\r\n        this.setState({ employeeConnected, employeeConnectionFailed })\r\n    }\r\n\r\n    onRegister = () => {\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    switchActiveId = id => {\r\n        const activeId = id;\r\n        this.setState({ activeId });\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <React.Fragment>\r\n                <Navbar activeId={this.state.activeId} sourceId={1} switchActiveId={this.switchActiveId}/>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"h-full row bg-warning justify-content-center text-dark\">\r\n                        <div className=\"col-lg-7 d-lg-inline d-none align-self-center\">\r\n                            <IndexCarousel />\r\n                        </div>\r\n                        <div className=\"col-lg-5 bg-light\">\r\n                            <div className=\"row h-full justify-content-center align-items-center\">\r\n                                <div className=\"col-sm-10 col-md-8 col-lg-12\">\r\n                                    {\r\n                                        this.state.activeId === 2 ?\r\n                                        <CustomerLoginForm history={this.props.history}\r\n                                        records={ this.state.customers }\r\n                                        connected={this.state.customerConnected}\r\n                                        connectionFailed={this.state.customerConnectionFailed}\r\n                                        getData={this.retryCustomersData} /> :\r\n                                        <EmployeeLoginForm history={this.props.history} \r\n                                        records={ this.state.employees }\r\n                                        connected={this.state.employeeConnected}\r\n                                        connectionFailed={this.state.employeeConnectionFailed}\r\n                                        getData={this.retryEmployeesData} />\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <RegistrationModal\r\n                customers={this.state.customers} onRegister={this.onRegister} getData={this.retryCustomersData}\r\n                connected={this.state.customerConnected} connectionFailed={this.state.customerConnectionFailed} />\r\n                <Footer />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const customerConnected = true;\r\n            this.setState({ customers, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed })\r\n        });\r\n    }\r\n\r\n    getEmployeesData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n            .then(res => {\r\n                const employees = res.data;\r\n                const employeeConnected = true;\r\n                this.setState({ employees, employeeConnected });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                const employeeConnectionFailed = true;\r\n                this.setState({ employeeConnectionFailed })\r\n            });\r\n    }\r\n}\r\n \r\nexport default EmployeeLogin;","import React, { Component } from 'react';\r\nimport wiggy_tails_icon from '../../img/wiggly-tails-icon.png';\r\n\r\nclass CustomerNavbar extends Component {\r\n    state = {\r\n        navs:\r\n        [\r\n            {\r\n                id: 0,\r\n                text: \"Account\",\r\n                link: \"/wiggly-tails/customer\",\r\n                items: []\r\n            },\r\n            {\r\n                id: 1,\r\n                text: \"Transactions\",\r\n                link: \"/wiggly-tails/customer/view-transactions\",\r\n                items: [],\r\n            },\r\n            {\r\n                id: 2,\r\n                text: \"Pets\",\r\n                link: \"/wiggly-tails/customer/manage-pets\",\r\n                items: [],\r\n            },\r\n            {\r\n                id: 3,\r\n                text: \"About us\",\r\n                link: \"/wiggly-tails/customer/about-us\",\r\n                items: [],\r\n            },\r\n            {\r\n                id: 10,\r\n                text: \"Sign out\",\r\n                link: \"/wiggly-tails\",\r\n                items: []\r\n            }\r\n        ]\r\n    }\r\n\r\n    onClickLink = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link, {verified: true, id: history.location.state.id});\r\n    }\r\n\r\n    onClickBrand = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails/customer\";\r\n        history.replace(link, {verified: true, id: history.location.state.id});\r\n    }\r\n\r\n    onClickSignOut = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link);\r\n    }\r\n\r\n\r\n    render() { \r\n        return (\r\n            <React.Fragment>\r\n                <nav className=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\r\n                    <a onClick={this.onClickBrand} className=\"navbar-brand py-0\">\r\n                        <img src={wiggy_tails_icon} alt=\"\" className=\"mr-2\" />Veterinary Clinic\r\n                    </a>\r\n\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                    data-target=\"#customer-navbar\" aria-controls=\"customer-navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"customer-navbar\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {\r\n                                this.state.navs.map(nav =>\r\n                                    nav.items.length > 0 ?\r\n                                    <li key={nav.id} className=\"nav-item dropdown mr-1\">\r\n                                        <a className={\"dropdown-toggle \" + this.linkItemClasses(nav.id)} id={\"dropdown\" + nav.id}\r\n                                        href={nav.link} data-toggle=\"dropdown\">{nav.text}</a>\r\n                                        <div className=\"dropdown-menu\" aria-labelledby={\"dropdown\" + nav.id}>\r\n                                            {\r\n                                                nav.items.map(item =>\r\n                                                    item.id === 7 ?\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    data-toggle=\"modal\" data-target=\"#manageEmployeesModal\">\r\n                                                        {item.text}</a> :\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    onClick={() => this.onClickLink(item)}>{item.text}</a>\r\n                                                    \r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </li> :\r\n                                    <li key={nav.id} className=\"nav-item mr-1\">\r\n                                        {\r\n                                            nav.id === 10 ?\r\n                                            <a onClick={() => this.onClickSignOut(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            <a onClick={() => this.onClickLink(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a>\r\n                                        }\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    linkItemClasses = id => {\r\n        const { activeId, sourceId } = this.props;\r\n\r\n        let classes = \"nav-link \";\r\n        classes+= id === activeId ? \"active\" :\r\n        id === sourceId ? \"active\" : \r\n        id === 10  ? \"text-danger\" : \"inactive\"\r\n        return classes;\r\n    }\r\n\r\n    dropdownItemClasses = id => {\r\n        const { activeId } = this.props;\r\n\r\n        let classes = \"dropdown-item \"\r\n        classes+= id === 7 ? \"text-danger \" : \"text-dark \"\r\n        classes+= id === activeId ? \"active-dropdown\" : \"inactive-dropdown\"\r\n\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default CustomerNavbar;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass UpdateAccountInfoModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            userPassword: '',\r\n            confirmUserPassword: ' ',\r\n        },\r\n        passwordState:\r\n        {\r\n            inputType: 'password',\r\n            buttonText: 'Show'\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { customer } = this.props;\r\n        const record = {...this.state.record};\r\n        record.id = customer.id;\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName;\r\n        record.homeAddress.lotBlock = customer.lotBlock;\r\n        record.homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        record.homeAddress.subdivision = customer.subdivision;\r\n        record.homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        record.homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        record.homeAddress.province = customer.province;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    record.emailAddress.length === 0 ? \" \" :\r\n                                    record.emailAddress.length < 8 || record.emailAddress.length > 24 ?\r\n                                    \"Must be at between 8 and 24 characters\" :\r\n                                    !this.isValidEmail(record.emailAddress) ?\r\n                                    \"Please input a valid value\" :\r\n                                    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record } = this.state;\r\n        const { customer, records } = this.props;\r\n\r\n        const result = records.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() ===\r\n            (record.emailAddress + record.email).toLowerCase() &&\r\n            (row.emailAddress + row.email).toLowerCase() !==\r\n            (customer.emailAddress + customer.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n    \r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  value.length > 24 ?\r\n                                                \"Subdivision must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n            \r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            if(this.state.passwordState.inputType === \"text\") {\r\n                this.onTogglePassword()\r\n            }\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateCustomer.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.props.retryCustomersData();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const confirmUserPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmUserPassword = ' '\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ errors, confirmUserPassword, submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0 && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const { customer } = this.props;\r\n\r\n        const confirmUserPassword = '';\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { passwordState } = this.state;\r\n\r\n        passwordState.buttonText = \"Show\";\r\n        passwordState.inputType = \"password\";\r\n\r\n        homeAddress.lotBlock = customer.lotBlock;\r\n        homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        homeAddress.subdivision = customer.subdivision;\r\n        homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        homeAddress.province = customer.province;\r\n\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = '';\r\n        homeAddressErrors.subdivision = '';\r\n        homeAddressErrors.barangay = '';\r\n        homeAddressErrors.municipality = '';\r\n        homeAddressErrors.province = '';\r\n\r\n        errors.lastName = '';\r\n        errors.firstName = '';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ''\r\n        errors.mobileNumber = '';\r\n        errors.emailAddress = '';\r\n        errors.userPassword = '';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, passwordState, submitError, updated, failed });\r\n    }\r\n\r\n    onTogglePassword = () => {\r\n        const passwordState = {...this.state.passwordState};\r\n        if(passwordState.inputType === 'password') {\r\n            passwordState.inputType = 'text';\r\n            passwordState.buttonText = 'Hide';\r\n        }\r\n        else {\r\n            passwordState.inputType = 'password';\r\n            passwordState.buttonText = 'Show';\r\n        }\r\n        this.setState({ passwordState });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, passwordState, deleteState, submitted, updated, failed } = this.state;\r\n        const { homeAddress } = this.state.record;\r\n        const { homeAddressErrors } = errors;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"updateAccountInfoModal\" tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby=\"updateAccountInfoModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"updateAccountInfoModalTitle\">Account Info</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating an Account Info...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Account Info was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"lastName\"\r\n                                            value={record.lastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.lastName)}\r\n                                            type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"firstName\"\r\n                                            value={record.firstName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.firstName)}\r\n                                            type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"middleName\"\r\n                                            value={record.middleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.middleName)}\r\n                                            type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"lotBlock\"\r\n                                                    value={homeAddress.lotBlock} placeholder=\"Lot/Block (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                    type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"street\"\r\n                                                    value={homeAddress.street} placeholder=\"Street\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                    type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Street\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"subdivision\"\r\n                                                    value={homeAddress.subdivision} placeholder=\"Subdivision (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                    type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Subdivision (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"barangay\"\r\n                                                    value={homeAddress.barangay} placeholder=\"Barangay\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                    type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Barangay\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"municipality\"\r\n                                                    value={homeAddress.municipality} placeholder=\"Municipality\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                    type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Municipality\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"province\"\r\n                                                    value={homeAddress.province} placeholder=\"Province (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                    type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Province (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"tel\" maxLength=\"10\" name=\"mobileNumber\"\r\n                                                value={record.mobileNumber} noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                                type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <input className=\"w-xs-100 form-control\" type=\"text\" name=\"emailAddress\"\r\n                                                        value={record.emailAddress} noValidate disabled /> :\r\n                                                        <input className={\"w-xs-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    }\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        {\r\n                                                            submitted ?\r\n                                                            <select className=\"input-group-text form-control\" name=\"email\"\r\n                                                            value={record.email} noValidate disabled>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select> :\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email}\r\n                                                            onChange={this.onChangeRecord} noValidate>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"zi-10 form-control\" type={passwordState.inputType} name=\"userPassword\"\r\n                                                value={record.userPassword} noValidate disabled /> :\r\n                                                <React.Fragment>\r\n                                                    <input className={\"zi-10 \" + this.inputFieldClasses(errors.userPassword)}\r\n                                                    type={passwordState.inputType} name=\"userPassword\" value={record.userPassword}\r\n                                                    onChange={this.onChangeRecord} noValidate />\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onTogglePassword}>\r\n                                                            {passwordState.buttonText}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </React.Fragment>\r\n\r\n                                            }\r\n                                        </div> { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmUserPassword\"\r\n                                            value={confirmUserPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                            type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating an Account Info...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Account Info was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            this.props.connected && !this.state.submitted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onReset}>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n            </React.Fragment> : null\r\n        )\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n \r\nexport default UpdateAccountInfoModal;","import React, { Component } from 'react';\r\n\r\nclass Forbidden extends Component {\r\n    state = {  }\r\n\r\n    onBackToLogin = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row min-h-full justify-content-center align-items-center\">\r\n                    <div className=\"col-10 col-md-8 col-lg-6 form-light\">\r\n                        <div className=\"alert alert-warning text-warning text-center my-3 mx-1 py-4\">\r\n                            <div className=\"d-flex justify-content-center align-items-center\">\r\n                                <i className=\"fa fa-exclamation fa-lg\"></i>\r\n                                <span className=\"ml-2\">\r\n                                    <h2 className=\"font-weight-normal\">Forbidden Access</h2>\r\n                                </span>\r\n                            </div>\r\n                            <h5 className=\"font-weight-light\">\r\n                                Please login your Customer account first.\r\n                            </h5>\r\n                        </div>\r\n                        <div className=\"text-center mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                onClick={this.onBackToLogin}>\r\n                                Back to Login\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Forbidden;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from './CustomerNavbar.js';\r\nimport UpdateAccountInfoModal from './UpdateAccountInfoModal.js';\r\nimport Footer from '../Footer.js';\r\nimport Forbidden from './Forbidden.js';\r\n\r\nclass Customer extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            lotBlock: '',\r\n            street: '',\r\n            subdivision: '',\r\n            barangay: '',\r\n            municipality: '',\r\n            province: '',\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        connected: false,\r\n        connectionFailed: false,\r\n        records: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        const { history } = this.props;\r\n        const { id } = history.location.state;\r\n        this.searchData(id);\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onClickLink = link => {\r\n        const { history } = this.props;\r\n        history.replace(link, {verified: true, id: history.location.state.id});\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { record } = this.state;\r\n        try {\r\n            this.onRefresh();\r\n            this.getCustomersData();\r\n        }\r\n        catch(error) { record.id = ''; }\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        const { record, connected, connectionFailed } = this.state;\r\n        return(\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={0} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row min-h-full justify-content-center align-items-center pt-5 pt-md-3 pt-xl-0\">\r\n                        <div className=\"col-11 col-sm-10 col-md-8 col-lg-6 form-light my-5\">\r\n                            <div className=\"row mx-2 mt-4\">\r\n                                {\r\n                                    connected ?\r\n                                    <React.Fragment>\r\n                                        <div className=\"col-4 col-sm-3 d-flex justify-content-center align-items-center p-0\">\r\n                                            <div className=\"square-100px bg-warning\r\n                                            d-flex justify-content-center align-items-center\">\r\n                                                <h4 className=\"m-0\">{record.id}</h4>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-8 col-sm-9 py-3 pr-1\">\r\n                                            <h2 className=\"mb-0\">{record.lastName}</h2>\r\n                                            <h5 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {record.firstName + \" \" + record.middleName}</h5>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 py-3 pl-md-5 pr-1\">\r\n                                            <h5 className=\"font-weight-normal mb-1\">Home Address</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                { this.formatHomeAddress(record) }\r\n                                            </h6>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 py-3 pl-md-5 pr-1\">\r\n                                            <h5 className=\"font-weight-normal mb-1\">Birthdate</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {this.formatDate(record.birthdate)}\r\n                                            </h6>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 col-md-5 col-lg-6 col-xl-5 py-3 pl-md-5 pr-1\">\r\n                                            <h5 className=\"font-weight-normal mb-1\">Mobile Number</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {record.mobileNumber}\r\n                                            </h6>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-12 col-md-7 col-lg-6 col-xl-7 py-3 pr-1\">\r\n                                            <h5 className=\"font-weight-normal mb-1\">Email Address</h5>\r\n                                            <h6 className=\"pl-3 pb-2 bottom-border-light font-weight-light\">\r\n                                                {record.emailAddress  + \"\" + record.email}\r\n                                            </h6>\r\n                                        </div>\r\n                                    </React.Fragment> :\r\n                                    connectionFailed ?\r\n                                    <div className=\"col-12 text-center mt-3\">\r\n                                        <h3 className=\"text-danger mb-0\">Database Connection Failed</h3>\r\n                                        <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h5>\r\n                                        <button type=\"button\" className=\"btn btn-primary\" onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <div className=\"col-12 text-center mt-3\">\r\n                                        <h3 className=\"mb-0\">Loading Data</h3>\r\n                                        <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                                    </div>\r\n                                }\r\n\r\n                                <div className=\"d-flex justify-content-end w-100 my-3\">\r\n                                    <button className=\"btn btn-warning w-auto mr-1\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/customer/view-transactions\")}>\r\n                                            <i className=\"fa fa-exchange-alt\"></i>\r\n                                            <span className=\"d-none d-sm-inline ml-1\">Transactions</span>\r\n                                        </button>\r\n                                    <button className=\"btn btn-secondary w-auto mr-1\"\r\n                                    onClick={() => this.onClickLink(\"/wiggly-tails/customer/manage-pets\")}>\r\n                                        <i className=\"fa fa-cat\"></i>\r\n                                        <span className=\"d-none d-sm-inline ml-1\">Pets</span>\r\n                                    </button>\r\n                                    {\r\n                                        connected ?\r\n                                        <button className=\"btn btn-primary w-auto mr-1\"\r\n                                        data-toggle=\"modal\" data-target=\"#updateAccountInfoModal\">\r\n                                            <i className=\"fa fa-user-edit fa-sm\"></i>\r\n                                            <span className=\"ml-1\">Update Info</span>\r\n                                        </button> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    record.id.length > 0 ?\r\n                    <UpdateAccountInfoModal\r\n                    customer={record}\r\n                    onRefresh={this.onRefresh}\r\n                    records={this.state.records}\r\n                    connected={this.state.customerConnected}\r\n                    connectionFailed={this.state.customerConnectionFailed}\r\n                    onSubmitForm={this.onSubmitForm}\r\n                    retryCustomersData={this.retryCustomersData} /> : null\r\n                }\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAccountInfo.php?search='+searchValue)\r\n        .then(res => {\r\n            let record = res.data;\r\n            const connected = true;\r\n            record = record[0];\r\n            this.setState({ record, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const customerConnected = true;\r\n            this.setState({ records, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed });\r\n        });\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n\r\n    formatHomeAddress = record => {\r\n        let homeAddress = '';\r\n        homeAddress += record.lotBlock.length > 0 ? record.lotBlock + \" \" : \"\"\r\n        homeAddress += record.street.length > 0 ? record.street + \", \" : \"\"\r\n        homeAddress += record.subdivision.length > 0 ? record.subdivision + \", \" : \"\"\r\n        homeAddress += record.barangay.length > 0 ? record.barangay + \", \" : \"\"\r\n        homeAddress += record.municipality.length > 0 ? record.municipality : \"\"\r\n        homeAddress += record.province.length > 0 ? \", \" + record.province : \"\"\r\n        return homeAddress;\r\n    }\r\n}\r\n\r\nexport default Customer;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            petName: '',\r\n            customerId: '',\r\n            customerLastName: '',\r\n            customerFirstName: '',\r\n            customerMiddleName: '',\r\n            customerName: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        checkUpConnected: false,\r\n        checkUpConnectionFailed: false,\r\n        groomConnected: false,\r\n        groomConnectionFailed: false,\r\n        connected: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { transaction } = this.props;\r\n        if(transaction.transType === 'C') {\r\n            this.getCheckUpData(transaction.id);\r\n        }\r\n        else if(transaction.transType === 'G') {\r\n            this.getGroomData(transaction.id);\r\n        }\r\n\r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n\r\n        record.id = transaction.id;\r\n        record.transType = transaction.transType;\r\n        record.transDate = transaction.transDate;\r\n        record.petId = transaction.petId;\r\n        record.petName = transaction.petName;\r\n        record.customerId = transaction.customerId;\r\n        record.customerLastName = transaction.lastName;\r\n        record.customerFirstName = transaction.firstName;\r\n        record.customerMiddleName = transaction.middleName;\r\n        record.customerName = transaction.lastName + \", \" + transaction.firstName + \" \" + transaction.middleName;\r\n        record.petWeight = transaction.petWeight;\r\n        record.remarks = transaction.remarks;\r\n        record.empId = transaction.empId;\r\n        record.empLastName = transaction.empLastName;\r\n        record.empFirstName = transaction.empFirstName;\r\n        record.empMiddleName = transaction.empMiddleName;\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record } = this.state;\r\n        const { transaction } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewTransactionModal-\" + transaction.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewTransactionModalTitle-\" + transaction.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewTransactionModalTitle-\" + transaction.id}>\r\n                                    View Transaction\r\n                                </h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Transaction Date</label>\r\n                                        <input className=\"form-control\"\r\n                                        type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                        noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Transaction Type</label>\r\n                                        <input className=\"zi-10 form-control\"\r\n                                            name=\"transType\"\r\n                                            value={ record.transType === 'C' ? \"Check-up\" : \"Groom\" }\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Served by</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"zi-10 form-control\"\r\n                                            name=\"empId\" value={record.empId + \" | \" +\r\n                                            record.empLastName + \", \" + record.empFirstName + \" \" +\r\n                                            record.empMiddleName}\r\n                                            noValidate disabled />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Customer Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"zi-10 form-control\"\r\n                                                name=\"customerId\" value={record.customerId + \" | \" +\r\n                                                record.customerLastName + \", \" + record.customerFirstName + \" \" +\r\n                                                record.customerMiddleName}\r\n                                                noValidate disabled />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Pet Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"zi-10 form-control\"\r\n                                                    name=\"petId\" value={record.petId + \" | \" + record.petName}\r\n                                                    noValidate disabled />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Pet Weight</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control\"\r\n                                            type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                            noValidate disabled />\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">Remarks</label>\r\n                                        <textarea className=\"form-control\"\r\n                                        type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                        onChange={this.onChangeRecord} rows=\"2\" noValidate disabled />\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        <button className=\"btn btn-success w-auto mr-1\" data-dismiss=\"modal\"\r\n                                        onClick={() => this.onViewAdmission(\"/wiggly-tails/customer/view-admission\")}>\r\n                                            <i className=\"fa fa-hand-holding-medical fa-sm\"></i>\r\n                                            <span className=\"ml-1\">Admissions</span>\r\n                                        </button> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    onViewAdmission = link => {\r\n        const { record } = this.state;\r\n        const { history } = this.props;\r\n        history.push(link, {\r\n            ...history.location.state,\r\n            transId: record.id,\r\n            petName: record.petName,\r\n            transDate: record.transDate\r\n        });\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { checkUp } = this.state.record;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.checkUpConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Findings</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Treatment</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Admission Date</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">Released Date</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate} \r\n                                noValidate disabled />\r\n                            </div>\r\n\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">Additional Information</label>\r\n                                <textarea className=\"form-control\"\r\n                                type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                                rows=\"2\" noValidate disabled />\r\n                            </div>\r\n                        </React.Fragment> :\r\n                        this.state.checkUpConnectionFailed ?\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal text-danger mb-0\">Database Connection Failed</h3>\r\n                            <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later...</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryCheckUpData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal mb-0\">Loading Data</h3>\r\n                            <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { groom } = this.state.record;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.groomConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">Activity</label>\r\n                                <input className=\"form-control\"\r\n                                type=\"text\" name=\"activity\" value={groom.activity} noValidate disabled/>\r\n                            </div>\r\n                        </React.Fragment> :\r\n                        this.state.groomConnectionFailed ?\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal text-danger mb-0\">Database Connection Failed</h3>\r\n                            <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later...</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryGroomData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal mb-0\">Loading Data</h3>\r\n                            <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    retryCheckUpData = () => {\r\n        this.getCheckUpData(this.state.record.id);\r\n        const checkUpConnected = false;\r\n        const checkUpConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ checkUpConnected, checkUpConnectionFailed, connected })\r\n    }\r\n\r\n    getCheckUpData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionCheckUp.php?id='+id)\r\n        .then(res => {\r\n            let checkUp = res.data;\r\n            const checkUpConnected = true;\r\n            const connected = true;\r\n            checkUp = checkUp[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp\r\n                }, checkUpConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const checkUpConnectionFailed = true;\r\n            this.setState({ checkUpConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryGroomData = () => {\r\n        this.getGroomData(this.state.record.id);\r\n        const groomConnected = false;\r\n        const groomConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ groomConnected, groomConnectionFailed, connected })\r\n    }\r\n\r\n    getGroomData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionGroom.php?id='+id)\r\n        .then(res => {\r\n            let groom = res.data;\r\n            const groomConnected = true;\r\n            const connected = true;\r\n            groom = groom[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    groom\r\n                }, groomConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const groomConnectionFailed = true;\r\n            this.setState({ groomConnectionFailed });\r\n        });\r\n    }\r\n}\r\n \r\nexport default ViewTransactionModal;","import React, { Component } from 'react';\r\n\r\nclass TablePagination extends Component {\r\n    onClickPage = page => {\r\n        const recordStartIndex = this.props.recordsPerPage * (page-1);\r\n        const activePage = page;\r\n        this.props.setPage(recordStartIndex, activePage);\r\n    }\r\n\r\n    onClickPagePrev = () => {\r\n        let page = this.props.activePage;\r\n        if(page !== 1) page--;\r\n        this.onClickPage(page);\r\n    }\r\n\r\n    onClickPageNext = noOfPages => {\r\n        let page = this.props.activePage;\r\n        if(page !== noOfPages) page++;\r\n        this.onClickPage(page);\r\n    }\r\n\r\n    renderPagination = (totalRecords) => {\r\n        let pages = [];   \r\n        const noOfPages = Math.ceil(totalRecords / this.props.recordsPerPage);\r\n        const indexPage = this.props.activePage > 2 ? \r\n        this.props.activePage + 1 >= noOfPages ? \r\n        noOfPages > 5 ? noOfPages - 4 : 1 : this.props.activePage - 2 : 1\r\n        const stopPage = noOfPages <= indexPage + 4 ? noOfPages : indexPage + 4\r\n\r\n        for(var i = indexPage; i <= stopPage; i++){\r\n            const page = i;\r\n            pages.push(\r\n                <button key={page} className={this.getPageClasses(page)}\r\n                onClick={() => this.onClickPage(page)}>{page}</button>\r\n            )\r\n        }\r\n\r\n        return(\r\n            <div className=\"btn-toolbar justify-content-end\" role=\"toolbar\">\r\n                <div className=\"btn-group\" role=\"group\">\r\n                    <button className={this.getPrevPageClasses()}\r\n                    onClick={() => this.onClickPagePrev()}>\r\n                        <i className=\"fa fa-long-arrow-alt-left\"></i>\r\n                        <span className=\"d-none d-sm-inline ml-1\">Prev</span>\r\n                    </button>\r\n                    { this.renderBackPage(indexPage, 1) }\r\n                    { [pages] }\r\n                    { this.renderContinuePage(stopPage, noOfPages) }\r\n                    <button className={this.getNextPageClasses(noOfPages)}\r\n                    onClick={() => this.onClickPageNext(noOfPages)}>\r\n                        <i className=\"fa fa-long-arrow-alt-right\"></i>\r\n                        <span className=\"d-none d-sm-inline ml-1\">Next</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderBackPage = (indexPage, pageLowerLimit) => {\r\n        if(indexPage > pageLowerLimit) {\r\n            const pageNo = indexPage - 1;\r\n            return (\r\n                <button key={pageNo} className={this.getPageClasses(pageNo)}\r\n                onClick={() => this.onClickPage(pageNo)}>...</button>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderContinuePage = (stopPage, pageUpperLimit) => {\r\n        if(stopPage < pageUpperLimit) {\r\n            const pageNo = stopPage + 1;\r\n            return (\r\n                <button key={pageNo} className={this.getPageClasses(pageNo)}\r\n                onClick={() => this.onClickPage(pageNo)}>...</button>\r\n            );\r\n        }\r\n    }\r\n\r\n    getPageClasses = page => {\r\n        let classes = \"btn pagination-nav \";\r\n        classes+= page === this.props.activePage ? \"btn-outline-primary-active\" : \"btn-outline-primary\"\r\n        return classes;\r\n    }\r\n\r\n    getPrevPageClasses = () => {\r\n        let classes = \"btn \";\r\n        classes+= this.props.activePage === 1 ? \"pagination-disabled\" : \"btn-outline-primary pagination-nav\"\r\n        return classes;\r\n    }\r\n\r\n    getNextPageClasses = noOfPages => {\r\n        let classes = \"btn \";\r\n        classes+= this.props.activePage === noOfPages ? \"pagination-disabled\" : \"btn-outline-primary pagination-nav\"\r\n        return classes;\r\n    }\r\n\r\n    render() { \r\n        const { totalRecords } = this.props;\r\n        return (this.renderPagination(totalRecords));\r\n    }\r\n}\r\n \r\nexport default TablePagination;","import React, { Component } from 'react';\r\n\r\nimport ViewTransactionModal from './ViewTransactionModal.js';\r\nimport TablePagination from '../../TablePagination';\r\n\r\n\r\nclass TransactionsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (transactions) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = transactions.length <= recordStartIndex + recordsPerPage ?\r\n        transactions.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={transactions[i].id} className=\"table-row\">\r\n                    <td>{this.formatDate(transactions[i].transDate)}</td>\r\n                    <td>{transactions[i].petName}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].petWeight}</td>\r\n                    <td className=\"d-none d-md-table-cell\">\r\n                        {transactions[i].empLastName + \", \" + transactions[i].empFirstName + \" \" + transactions[i].empMiddleName}\r\n                    </td>\r\n                    <td className=\"d-none d-sm-table-cell\">{this.formatTransType(transactions[i].transType)}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewTransactionModal-\" + transactions[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { transactions, onRefresh, onSearch, searchValue, onClear, history, connected } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-warning mr-2 ml-auto\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Transaction Date</th>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"w-110px d-none d-lg-table-cell\">Pet Weight</th>\r\n                            <th className=\"d-none d-md-table-cell\">Served by</th>\r\n                            <th className=\"w-110px d-none d-sm-table-cell\">Trans. Type</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            transactions.length > 0 && connected ?\r\n                            this.renderItems(transactions) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    transactions.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={transactions.length} /> : null\r\n                }\r\n                {\r\n                    transactions.map(transaction => <ViewTransactionModal key={transaction.id}\r\n                    transaction={transaction} onRefresh={onRefresh} history={history} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {\r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n\r\n    formatTransType = transType => {\r\n        return transType === 'C' ? \"Check-up\" : \"Groom\"\r\n    }\r\n}\r\n \r\nexport default TransactionsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from '../CustomerNavbar.js';\r\nimport TransactionsTable from './TransactionsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ViewTransactions extends Component {\r\n    state = {\r\n        transactions: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={1} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>View Transactions</h3>\r\n                            <TransactionsTable transactions={this.state.transactions}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch} history={history}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.transactions.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAccountTransactions.php?id='+\r\n        history.location.state.id)\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            const connected = true;\r\n            this.setState({ transactions, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchAccountTransaction.php?id='+\r\n        history.location.state.id+\"&search=\"+searchValue)\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            this.setState({ transactions });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n\r\nexport default ViewTransactions;","import React, { Component } from 'react';\r\n\r\nclass ViewAdmissionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transId: '',\r\n            title: '',\r\n            content: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { admission } = this.props;\r\n        const record = {...this.state.record};\r\n\r\n        record.id = admission.id;\r\n        record.transId = admission.transId;\r\n        record.title = admission.title;\r\n        record.content = admission.content;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    render() {\r\n        const { record } = this.state;\r\n        const { admission } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewAdmissionModal-\" + admission.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewAdmissionModalTitle-\" + admission.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewAdmissionModalTitle-\" + admission.id}>\r\n                                    View Admission\r\n                                </h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"title\" value={record.title}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <textarea className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"content\" value={record.content} rows=\"7\"\r\n                                            noValidate disabled />\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default ViewAdmissionModal;","import React, { Component } from 'react';\r\n\r\nimport ViewAdmissionModal from './ViewAdmissionModal.js';\r\nimport TablePagination from '../../TablePagination';\r\n\r\nclass AdmissionTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (admission) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = admission.length <= recordStartIndex + recordsPerPage ?\r\n        admission.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={admission[i].id} className=\"table-row\">\r\n                    <td>{admission[i].title}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{admission[i].content}</td>\r\n                    <td className=\"d-table-cell d-md-none\">\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewAdmissionModal-\" + admission[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { admission, onRefresh, onSearch, searchValue, onClear, history, connected } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { state } = history.location;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-warning mr-2 ml-auto\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th colSpan=\"3\">\r\n                                <div className=\"row align-items-center\">\r\n                                    <div className=\"col-12 col-md-6 text-center mb-2 pb-2\r\n                                    m-md-0 p-md-0 bottom-border-dark border-md-0\">\r\n                                        {\"Pet Name: \" + state.petName}\r\n                                    </div>\r\n                                    <div className=\"col-12 col-md-6 text-center\">\r\n                                        {\"Transaction Date: \" + state.transDate}\r\n                                    </div>\r\n                                </div>\r\n                            </th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>Title</th>\r\n                            <th className=\"d-none d-md-table-cell\">Content</th>\r\n                            <th className=\"d-table-cell d-md-none w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            admission.length > 0 && connected ?\r\n                            this.renderItems(admission) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    admission.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={admission.length} /> : null\r\n                }\r\n                {\r\n                    admission.map(admission => <ViewAdmissionModal key={admission.id}\r\n                    admission={admission} onRefresh={onRefresh} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default AdmissionTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from '../CustomerNavbar.js';\r\nimport AdmissionTable from './AdmissionTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ViewAdmission extends Component {\r\n    state = {\r\n        admission: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={1} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>View Admission</h3>\r\n                            <AdmissionTable admission={this.state.admission} history={history}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.admission.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionAdmission.php?id='+\r\n        history.location.state.transId)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchTransactionAdmission.php?id='+\r\n        history.location.state.admissionId+\"&search=\"+searchValue)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default ViewAdmission;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: ' ',\r\n            birthdate: ' ',\r\n            petClass: ' ',\r\n            pcciRegNo: ''\r\n        },\r\n        petClasses:\r\n        [ 'Alligator', 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Crab', 'Crocodile', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Fox', 'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Gorilla', 'Grasshopper', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Jaguar', 'Lion', 'Lizard', 'Mantis', 'Monkey', 'Mouse', 'Octopus', 'Orangutan', 'Orstrich', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake', 'Spider', 'Squirrel', 'Tiger', 'Tortoise', 'Turtle', 'Wolf', 'Whale', 'Zebra' ],\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        record.ownerId = this.props.ownerId;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n        \r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length > 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertPet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        this.onGenerateId();\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.petName = '';\r\n        record.birthdate = '';\r\n        record.petClass = '';\r\n        record.pcciRegNo = '';\r\n\r\n        errors.petName = 'Pet Name is required';\r\n        errors.birthdate = 'Birthdate is required';\r\n        errors.petClass = 'Pet Class is required';\r\n        errors.pcciRegNo = '';\r\n\r\n        this.setState({ record, errors, submitError, added, failed});\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, submitted, added, failed  } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addPetModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"addPetModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addPetModalTitle\">Add Pet</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }                                \r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            placeholder=\"Please click 'Generate'\"\r\n                                            noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>\r\n                                                        Generate\r\n                                                    </button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                            value={record.petName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.petName)}\r\n                                            type=\"text\" name=\"petName\" value={record.petName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"ownerId\" value={record.ownerId}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"petClass\"\r\n                                            value={record.petClass} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.petClass)}\r\n                                            name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                            value={record.pcciRegNo} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                            type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                            onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddPetModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: '',\r\n            birthdate: '',\r\n            petClass: '',\r\n            pcciRegNo: ''\r\n        },\r\n        petClasses:\r\n        [ 'Alligator', 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Crab', 'Crocodile', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Fox', 'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Gorilla', 'Grasshopper', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Jaguar', 'Lion', 'Lizard', 'Mantis', 'Monkey', 'Mouse', 'Octopus', 'Orangutan', 'Orstrich', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake', 'Spider', 'Squirrel', 'Tiger', 'Tortoise', 'Turtle', 'Wolf', 'Whale', 'Zebra' ],\r\n        deleteState: false,\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false,\r\n        deleting: false,\r\n        deleted: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { pet } = this.props;\r\n        const record = {...this.state.record};\r\n        \r\n        record.id = pet.id;\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.ownerId = pet.ownerId;\r\n        record.petClass = pet.petClass;\r\n        record.lastVisit = pet.lastVisit;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length > 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updatePet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        const deleteState = false;\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { pet } = this.props;\r\n\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.petClass = pet.petClass;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        errors.petName = '';\r\n        errors.birthdate = '';\r\n        errors.petClass = '';\r\n        errors.pcciRegNo = '';\r\n\r\n        this.setState({ record, errors, deleteState, submitError, updated, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, deleteState, submitted, updated, failed, deleting, deleted } = this.state;\r\n        const { pet } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewPetModal\"+ pet.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewPetModalTitle\" + pet.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewPetModalTitle\" + pet.id}>View Pet</h5>\r\n                                {\r\n                                    (!submitted && this.props.connected) || deleted ?\r\n                                    <button id={\"btnClose-\" + pet.id} className=\"btn btn-light text-danger p-1\"\r\n                                    data-dismiss=\"modal\" onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> :\r\n                                    deleting ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-trash text-primary mr-2\"></i>\r\n                                        <span>Deleting a record...</span>\r\n                                    </div> :\r\n                                    deleted ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully deleted.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                            value={record.petName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.petName)}\r\n                                            type=\"text\" name=\"petName\" value={record.petName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"ownerId\" value={record.ownerId}\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <select className=\"form-control\" name=\"petClass\"\r\n                                            value={record.petClass} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.petClass)}\r\n                                            name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                            value={record.pcciRegNo} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                            type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                            onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            !this.state.submitted && !this.state.deleting && !this.state.deleted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                {\r\n                    this.props.connected ?\r\n                    <button className=\"btn btn-danger w-auto mr-1\"\r\n                    onClick={this.onReset}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button> :\r\n                    <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                }\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n\r\n        this.props.onSubmitForm();\r\n        this.deletion();\r\n\r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deletePet.php', record)\r\n        .then(this.postDelete)\r\n        .catch(error => {\r\n            console.log(error);\r\n            onRefresh();\r\n            this.failedDelete();\r\n        });\r\n    }\r\n\r\n    deletion = () => {\r\n        const deleteState = false;\r\n        const deleting = true;\r\n        this.setState({ deleteState, deleting });\r\n    }\r\n\r\n    postDelete = () => {\r\n        const deleting = false;\r\n        const deleted = true;\r\n        this.setState({ deleting, deleted }, () => {\r\n            setTimeout(() => {\r\n                document.getElementById(\"btnClose-\" + this.props.pet.id).click();\r\n                this.props.onRefresh();\r\n            }, 5000);\r\n        });\r\n    }\r\n\r\n    failedDelete = () => {\r\n        const deleting = false;\r\n        let failed = true;\r\n        this.setState({ deleting, failed }, () => {\r\n            setTimeout(() => {\r\n                failed = false;\r\n                this.setState({ failed });\r\n            }, 5000)\r\n        });\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewPetModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination.js';\r\nimport AddPetModal from './AddPetModal.js';\r\nimport ViewPetModal from './ViewPetModal.js';\r\n\r\nclass PetsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (pets) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = pets.length <= recordStartIndex + recordsPerPage ?\r\n        pets.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={pets[i].id} className=\"table-row\">\r\n                    <td>{pets[i].petName}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{this.formatDate(pets[i].birthdate)}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{pets[i].petClass}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">\r\n                        {\r\n                            pets[i].lastVisit === null ?\r\n                            \"Not visiting yet\" :\r\n                            this.formatDate(pets[i].lastVisit)\r\n                        }\r\n                    </td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewPetModal\" + pets[i].id}>\r\n                            <i className=\"fa fa-eye\"></i><span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { pets, ownerId, onRefresh, onSearch, searchValue, onClear, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                        data-toggle=\"modal\" data-target=\"#addPetModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"d-none d-md-table-cell\">Birthdate</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Pet Class</th>\r\n                            <th className=\"d-none d-sm-table-cell\">Last Visit</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            pets.length > 0 && connected ?\r\n                            this.renderItems(pets) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    pets.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={pets.length} /> : null\r\n                }\r\n                <AddPetModal onRefresh={onRefresh} ownerId={ownerId} onSubmitForm={onSubmitForm} />\r\n                { pets.map(pet => <ViewPetModal key={pet.id} pet={pet} onRefresh={onRefresh}\r\n                connected={connected} onSubmitForm={onSubmitForm} /> ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default PetsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from '../CustomerNavbar.js';\r\nimport PetsTable from './PetsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManagePets extends Component {\r\n    state = {\r\n        pets: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {        \r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={2} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Pets</h3>\r\n                            <PetsTable pets={this.state.pets} ownerId={history.location.state.id}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.pets.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAccountPets.php?id='+\r\n        history.location.state.id)\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchAccountPet.php?id='+\r\n        history.location.state.id+'&search='+searchValue)\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManagePets;","import React, { Component } from 'react';\r\n\r\nimport CustomerNavbar from './CustomerNavbar.js';\r\nimport Footer from '../Footer.js';\r\nimport Forbidden from './Forbidden.js';\r\n\r\nclass AboutUs extends Component {\r\n    state = { }\r\n\r\n    onClickLink = link => {\r\n        const { history } = this.props;\r\n        history.push(link, {verified: true});\r\n    }\r\n\r\n    onVisitFBPage = () => {\r\n        window.open(\"https://www.facebook.com/wigglytailsvetclinic/\");\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return(\r\n            <React.Fragment>\r\n                <CustomerNavbar activeId={3} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row min-h-full justify-content-center align-items-center pt-5 pt-md-3 mt-md-3\">\r\n                        <div className=\"col-11 col-sm-10 col-md-8 col-lg-6 form-light my-5 my-md-5\">\r\n                            <div className=\"row mx-2 mt-4\">\r\n                                <div className=\"col-12 pr-1\">\r\n                                    <h2 className=\"mb-3\">About us</h2>\r\n                                    <h5 className=\"px-2 text-center font-weight-light\">\r\n                                        Roma Ador Dionisio-Pajarillo's (DVM)\r\n                                        <br />Veterinary Clinic - Wiggly Tails\r\n                                    </h5>\r\n                                    <h6 className=\"px-3 font-weight-light\">\r\n                                        Lorem ipsum dolor sit amet consectetur adipisicing elit.\r\n                                        Quo qui quaerat maxime, dolores nemo soluta reiciendis deleniti\r\n                                        possimus illum temporibus, odio maiores velit inventore architecto!\r\n                                        Aut est maxime quam doloribus!\r\n                                    </h6>\r\n                                    <h6 className=\"px-3 text-center pb-3 bottom-border-light font-weight-light\">\r\n                                        <b>Open from Monday to Saturday at 9:00am to 5:00pm</b>\r\n                                    </h6>\r\n                                </div>\r\n\r\n                                <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                    <h5 className=\"font-weight-normal mb-3\">Offers</h5>\r\n                                    <h6 className=\"pl-3 bottom-border-light font-weight-light\">\r\n                                        <ul className=\"row\">\r\n                                            <li className=\"col-sm-4 px-0\">Consultation</li>\r\n                                            <li className=\"col-sm-4 px-0\">Treatment</li>\r\n                                            <li className=\"col-sm-4 px-0\">Vaccination</li>\r\n                                            <li className=\"col-sm-4 px-0\">Confinement</li>\r\n                                            <li className=\"col-sm-4 px-0\">Grooming</li>\r\n                                        </ul>\r\n                                    </h6>\r\n                                </div>\r\n\r\n                                <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                    <h5 className=\"font-weight-normal mb-3\">Clinic Address</h5>\r\n                                    <h6 className=\"pl-3 font-weight-light\">\r\n                                        Santa Rosa - Tarlac Road, Brgy. Sta Cruz, Zaragoza, Nueva Ecija\r\n                                    </h6>\r\n                                    <div className=\"row justify-content-center align-items-center bottom-border-light mt-3 pb-3\">\r\n                                        <iframe src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3845.67146241087!2d120.8062437152265!3d15.44827345988108!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3396d98621cad99f%3A0x8fe641df89530131!2sWiggly%20Tails%20Veterinary%20Clinic%20and%20Pet%20Supplies!5e0!3m2!1sen!2sph!4v1610805951302!5m2!1sen!2sph\"\r\n                                        allowfullscreen=\"\" aria-hidden=\"false\" tabindex=\"0\" title=\"clinic-address\"\r\n                                        className=\"col-12 border-0 h-400px\" />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                    <h5 className=\"font-weight-normal mb-3\">Contact Information</h5>\r\n                                    <h6 className=\"pl-3 bottom-border-light font-weight-light\">\r\n                                        <ul className=\"list-unstyled list-lh-2\">\r\n                                            <li><b>Mobile Number: </b>+63923-119-0591</li>\r\n                                            <li><b>Gmail: </b>wigglytailsvetclinic@gmail.com</li>\r\n                                            <li><b>Facebook: </b>@wigglytailsvetclinic\r\n                                                <button className=\"btn btn-primary btn-sm p-0 px-1 ml-1\"\r\n                                                onClick={this.onVisitFBPage}>Visit</button>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </h6>\r\n                                </div>\r\n\r\n                                <div className=\"col-12 pb-3 pl-md-3 pr-1\">\r\n                                    <h5 className=\"font-weight-normal mb-3\">Developers</h5>\r\n                                    <h6 className=\"pl-3 font-weight-light\">\r\n                                        <ul className=\"list-unstyled list-lh-1\">\r\n                                            <li><b>Main Developer: </b>Casindad, Mc Allain Sanchez (BSIT Student)</li>\r\n                                            <li><b>Database Source: </b>Dr. Roma's Veterinary Clinic (Owner)</li>\r\n                                            <li><b>Interviewer: </b>Dela Torre, Emmanuel (BSIT Student)</li>\r\n                                            <li className=\"d-block d-md-flex\">\r\n                                                <b className=\"mr-2\">Others: </b>\r\n                                                <ul className=\"list-unstyled list-lh-1\">\r\n                                                    <li>Enriquez, Ryan (BSIT Student)</li>\r\n                                                    <li>Flores, Jaizen Ann Noble (BSIT Student)</li>\r\n                                                    <li>Ruiz, Jehiele Jeff (BSIT Student)</li>\r\n                                                </ul>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </h6>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AboutUs;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ManageEmployeesModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            adminId: '',\r\n            adminPassword: ''\r\n        },\r\n        errors:\r\n        {\r\n            adminId: 'Please input your Admin Id',\r\n            adminPassword: 'Please input your Admin Password'\r\n        },\r\n        records: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        submitError: false,\r\n        loginError: false\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"adminId\") {\r\n            value = value.toUpperCase();\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'adminId':\r\n                errors.adminId=    value.length === 0 ? \"Please input your Admin Id\" :\r\n                                    value.length !== 6 ? \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            case 'adminPassword':\r\n                errors.adminPassword=  value.length === 0 ? \"Please input your Admin Password\" : \r\n                                        value.length > 24 ? \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n        const records = [...this.state.records];\r\n        const record = {...this.state.record};\r\n\r\n        if(this.validForm({ errors })) {\r\n            let submitError = false;\r\n            let loginError = false;\r\n\r\n            const result = records.filter(row => \r\n                row.id === record.adminId &&\r\n                row.empPassword === record.adminPassword\r\n            )\r\n\r\n            if(result.length > 0) {\r\n                document.getElementById(\"btnClose\").click();\r\n                \r\n                const { history } = this.props;\r\n                history.replace('/wiggly-tails/admin/manage-employees',\r\n                {verified: true, id: result[0].id, empType: result[0].empType});\r\n            }\r\n            else {\r\n                submitError = true;\r\n                loginError = true;\r\n                record.adminPassword = '';\r\n                errors.adminPassword = 'Please input your Admin Password';\r\n            }\r\n\r\n            this.setState({ record, errors, submitError, loginError });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const submitError = false;\r\n        const loginError = false;\r\n\r\n        record.adminId = '';\r\n        record.adminPassword = '';\r\n\r\n        errors.adminId = 'Please input your Admin Id';\r\n        errors.adminPassword = 'Please input your Admin Password';\r\n\r\n        this.setState({ record, errors, submitError, loginError});\r\n    }\r\n\r\n    renderLoginError = () => {\r\n        if(this.state.loginError) {\r\n            return(\r\n                <div className=\"alert alert-danger d-flex align-items-center mb-2 py-0\">\r\n                    <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                    <span className=\"lh-0 my-1\">Incorrect Admin Id or Admin Password</span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    renderModal = () => {\r\n        const { record, errors } = this.state;\r\n        return(\r\n            <div className=\"modal fade\" id=\"manageEmployeesModal\"\r\n                tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                aria-labelledby=\"manageEmployeesModalTitle\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h5 className=\"modal-title\" id=\"manageEmployeesModalTitle\">Manage Employees</h5>\r\n                            <button id=\"btnClose\" className=\"btn btn-light text-danger p-1\"\r\n                            data-dismiss=\"modal\" onClick={this.onReset}>\r\n                                <i className=\"fa fa-window-close fa-lg\"></i>\r\n                            </button>\r\n                        </div>\r\n                        \r\n                        <div className=\"modal-body\">\r\n                            { this.renderLoginError() }\r\n                            {\r\n                                this.state.connected ?\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Admin Id</label>\r\n                                        <input className=\"form-control\" type=\"text\"\r\n                                        name=\"adminId\" value={record.adminId} maxLength=\"6\"\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.adminId) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">Admin Password</label>\r\n                                        <input className=\"form-control\" type=\"password\"\r\n                                        name=\"adminPassword\" value={record.adminPassword}\r\n                                        onChange={this.onChangeRecord} noValidate />\r\n                                        { this.renderRecordErrors(errors.adminPassword) }\r\n                                    </div>\r\n                                </form> :\r\n                                this.state.connectionFailed ?\r\n                                <div className=\"text-center\">\r\n                                    <h3 className=\"text-danger mb-0\">Database Connection Failed</h3>\r\n                                    <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h5>\r\n                                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.onRefresh}>Retry</button>\r\n                                </div> :\r\n                                <React.Fragment>\r\n                                    <h3 className=\"text-center mb-0\">Loading Records</h3>\r\n                                    <h5 className=\"font-weight-normal text-center\">Please wait...</h5>\r\n                                </React.Fragment>\r\n                                \r\n                            }\r\n                        </div>\r\n\r\n                        <div className=\"modal-footer\">\r\n                            <div className=\"d-flex justify-content-end w-100\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    <React.Fragment>\r\n                                        <button className=\"btn btn-primary w-auto mr-1\"\r\n                                        onClick={this.onSubmit}>\r\n                                            <i className=\"fa fa-sign-in-alt\"></i>\r\n                                            <span className=\"ml-1\">Submit</span>\r\n                                        </button>\r\n                                        <button className=\"btn btn-danger w-auto\"\r\n                                        onClick={this.onReset}>\r\n                                            <i className=\"fa fa-eraser\"></i>\r\n                                            <span className=\"ml-1\">Reset</span>\r\n                                        </button>\r\n                                    </React.Fragment> :\r\n                                    <React.Fragment>\r\n                                        <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                            <i className=\"fa fa-sign-in-alt\"></i>\r\n                                            <span className=\"ml-1\">Submit</span>\r\n                                        </button>\r\n                                        <button className=\"btn btn-danger w-auto\" disabled>\r\n                                            <i className=\"fa fa-eraser\"></i>\r\n                                            <span className=\"ml-1\">Reset</span>\r\n                                        </button>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                {  this.renderModal() }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.getData();\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewAdmins.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const connected = true;\r\n            this.setState({ records, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n \r\nexport default ManageEmployeesModal;","import React, { Component } from 'react';\r\n\r\nimport wiggy_tails_icon from '../../img/wiggly-tails-icon.png';\r\nimport ManageEmployeesModal from './Employees/ManageEmployeesModal.js';\r\n\r\nclass AdminNavbar extends Component {\r\n    state = {\r\n        navs:\r\n        [\r\n            {\r\n                id: 0,\r\n                text: \"Home\",\r\n                link: \"/wiggly-tails/admin\",\r\n                items: []\r\n            },\r\n            {\r\n                id: 3,\r\n                text: \"Manage\",\r\n                link: null,\r\n                items:\r\n                [\r\n                    {\r\n                        id: 4,\r\n                        text: \"Transactions\",\r\n                        link: \"/wiggly-tails/admin/manage-transactions\"\r\n                    },\r\n                    {\r\n                        id: 5,\r\n                        text: \"Customers\",\r\n                        link: \"/wiggly-tails/admin/manage-customers\"\r\n                    },\r\n                    {\r\n                        id: 6,\r\n                        text: \"Pets\",\r\n                        link: \"/wiggly-tails/admin/manage-pets\"\r\n                    },\r\n                    {\r\n                        id: 7,\r\n                        text: \"Employees\",\r\n                        link: \"/wiggly-tails/admin/manage-employees\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                id: 10,\r\n                text: \"Sign out\",\r\n                link: \"/wiggly-tails\",\r\n                items: []\r\n            }\r\n        ]\r\n    }\r\n\r\n    onClickLink = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    onClickBrand = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails/admin\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    onClickSignOut = nav => {\r\n        const { history } = this.props;\r\n        const link = nav.link;\r\n        history.replace(link);\r\n    }\r\n\r\n    render() { \r\n        const { activeId, history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <nav className=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\r\n                    <a onClick={this.onClickBrand} className=\"navbar-brand py-0\">\r\n                        <img src={wiggy_tails_icon} alt=\"\" className=\"mr-2\" />Veterinary Clinic\r\n                    </a>\r\n\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                    data-target=\"#admin-navbar\" aria-controls=\"admin-navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"admin-navbar\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {\r\n                                this.state.navs.map(nav =>\r\n                                    nav.items.length > 0 ?\r\n                                    <li key={nav.id} className=\"nav-item dropdown mr-1\">\r\n                                        <a className={\"dropdown-toggle \" + this.linkItemClasses(nav.id)} id={\"dropdown\" + nav.id}\r\n                                        href={nav.link} data-toggle=\"dropdown\">{nav.text}</a>\r\n                                        <div className=\"dropdown-menu\" aria-labelledby={\"dropdown\" + nav.id}>\r\n                                            {\r\n                                                nav.items.map(item =>\r\n                                                    item.id === 7 && item.id !== activeId ?\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    data-toggle=\"modal\" data-target=\"#manageEmployeesModal\">\r\n                                                        {item.text}</a> :\r\n                                                    <a key={item.id} className={this.dropdownItemClasses(item.id)}\r\n                                                    onClick={() => this.onClickLink(item)}>{item.text}</a>\r\n                                                    \r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </li> :\r\n                                    <li key={nav.id} className=\"nav-item mr-1\">\r\n                                        {\r\n                                            nav.id === 10 ?\r\n                                            <a onClick={() => this.onClickSignOut(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a> :\r\n                                            <a onClick={() => this.onClickLink(nav)} className={this.linkItemClasses(nav.id)}>\r\n                                                {nav.text}\r\n                                            </a>\r\n                                        }\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n\r\n                <ManageEmployeesModal history={history} />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    linkItemClasses = id => {\r\n        const { activeId, sourceId } = this.props;\r\n\r\n        let classes = \"nav-link \";\r\n        classes+= id === activeId ? \"active\" :\r\n        id === sourceId ? \"active\" : \r\n        id === 10  ? \"text-danger\" : \"inactive\"\r\n        return classes;\r\n    }\r\n\r\n    dropdownItemClasses = id => {\r\n        const { activeId } = this.props;\r\n\r\n        let classes = \"dropdown-item \"\r\n        classes+= id === 7 ? \"text-danger \" : \"text-dark \"\r\n        classes+= id === activeId ? \"active-dropdown\" : \"inactive-dropdown\"\r\n\r\n        return classes;\r\n    }\r\n}\r\n \r\nexport default AdminNavbar;","import React, { Component } from 'react';\r\n\r\nclass Forbidden extends Component {\r\n    state = {  }\r\n\r\n    onBackToLogin = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row min-h-full justify-content-center align-items-center\">\r\n                    <div className=\"col-10 col-md-8 col-lg-6 form-light\">\r\n                        <div className=\"alert alert-warning text-warning text-center my-3 mx-1 py-4\">\r\n                            <div className=\"d-flex justify-content-center align-items-center\">\r\n                                <i className=\"fa fa-exclamation fa-lg\"></i>\r\n                                <span className=\"ml-2\">\r\n                                    <h2 className=\"font-weight-normal\">Forbidden Access</h2>\r\n                                </span>\r\n                            </div>\r\n                            <h5 className=\"font-weight-light\">\r\n                                Please login your Employee account first.\r\n                            </h5>\r\n                        </div>\r\n                        <div className=\"text-center mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                onClick={this.onBackToLogin}>\r\n                                Back to Login\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Forbidden;","import React, { Component } from 'react';\r\n\r\nimport AdminNavbar from './AdminNavbar.js';\r\nimport ManageEmployeesModal from './Employees/ManageEmployeesModal.js';\r\nimport Footer from '../Footer.js';\r\nimport Forbidden from './Forbidden.js';\r\n\r\nimport noImage from '../../img/no-image.png';\r\n\r\nclass Admin extends Component {\r\n    state = { }\r\n\r\n    onClickLink = link => {\r\n        const { history } = this.props;\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return(\r\n            <React.Fragment>\r\n                <AdminNavbar activeId={0} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row min-h-full align-items-center mx-1 py-5\">\r\n                        <div className=\"col\">\r\n                            <div className=\"row mt-5 mb-3\">\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"font-weight-normal mt-3\">\r\n                                            Transactions</h3>\r\n                                        <img src={noImage} alt=\"transactions\"\r\n                                        className=\"card-img d-none d-md-inline my-4\" />\r\n                                        \r\n                                        <div className=\"p-3 mt-2 admin-card-content-height h-md-130px h-sm-150px h-lg-200px h-xl-160px\">\r\n                                            <h5>Manage transaction records here</h5>\r\n                                            <p>This is where all services offered to a customer are recorded.</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-warning border w-75 mt-3\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/admin/manage-transactions\")}>\r\n                                            <i className=\"fa fa-exchange-alt\"></i>\r\n                                            <span className=\"ml-1\">Manage</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"font-weight-normal mt-3\">\r\n                                            Customers</h3>\r\n                                        <img src={noImage} alt=\"customers\"\r\n                                        className=\"card-img d-none d-md-inline my-4\" />\r\n                                        \r\n                                        <div className=\"p-3 mt-2 admin-card-content-height h-md-130px h-sm-150px h-lg-200px h-xl-160px\">\r\n                                            <h5>Manage customer records here</h5>\r\n                                            <p>This is where all customer informations are recorded.</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-primary border w-75 mt-3\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/admin/manage-customers\")}>\r\n                                            <i className=\"fa fa-users\"></i>\r\n                                            <span className=\"ml-1\">Manage</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"font-weight-normal mt-3\">\r\n                                            Pets</h3>\r\n                                        <img src={noImage} alt=\"pets\"\r\n                                        className=\"card-img d-none d-md-inline my-4\" />\r\n\r\n                                        <div className=\"p-3 mt-2 admin-card-content-height h-md-130px h-sm-150px h-lg-200px h-xl-160px\">\r\n                                            <h5>Manage pet records here</h5>\r\n                                            <p>This is where all customer's pet informations are recorded.</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-secondary border w-75 mt-3\"\r\n                                        onClick={() => this.onClickLink(\"/wiggly-tails/admin/manage-pets\")}>\r\n                                            <i className=\"fa fa-cat\"></i>\r\n                                            <span className=\"ml-1\">Manage</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-lg-3 col-sm-6 text-center p-2\">\r\n                                    <div className=\"custom-card-light max-h-90 min-h-24 p-3\">\r\n                                        <h3 className=\"font-weight-normal mt-3\">\r\n                                            Employees</h3>\r\n                                        <img src={noImage} alt=\"employees\"\r\n                                        className=\"card-img d-none d-md-inline my-4\" />\r\n\r\n                                        <div className=\"p-3 mt-2 admin-card-content-height h-md-130px h-sm-150px h-lg-200px h-xl-160px\">\r\n                                            <h5>Manage employee records here</h5>\r\n                                            <p>This is where all employee informations are recorded.</p>\r\n                                        </div>\r\n\r\n                                        <button className=\"btn btn-danger border w-75 mt-3\"\r\n                                        data-toggle=\"modal\" data-target=\"#manageEmployeesModal\">\r\n                                            <i className=\"fa fa-user-md\"></i>\r\n                                            <span className=\"ml-1\">Manage</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <ManageEmployeesModal history={history} />\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Admin;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            customerId: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        errors:\r\n        {\r\n            transType: ' ',\r\n            petId: ' ',\r\n            customerId: ' ',\r\n            petWeight: ' ',\r\n            remarks: '',\r\n            empId: ' ',\r\n            checkUpErrors:\r\n            {\r\n                findings: ' ',\r\n                treatment: ' ',\r\n                addInfo: ''\r\n            },\r\n            groomErrors:\r\n            {\r\n                activity: ' '\r\n            }\r\n        },\r\n        customer:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        pet:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        employee:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n\r\n        const currentDate = this.getCurrentDate();\r\n        record.transDate = currentDate;\r\n        record.checkUp.admissionDate = currentDate;\r\n        record.checkUp.releasedDate = currentDate;\r\n        \r\n        this.setState({ record });\r\n    }\r\n\r\n    getCurrentDate = () => {\r\n        const dateObj = new Date(); \r\n        const currentMonth = dateObj.getMonth()+1 < 10 ? \"0\"+(dateObj.getMonth()+1) : dateObj.getMonth()+1\r\n        const currentDay = dateObj.getDate() < 10 ? \"0\"+dateObj.getDate() : dateObj.getDate() \r\n        const currentDate = dateObj.getFullYear() + \"-\" + currentMonth + \"-\" + currentDay;\r\n        return currentDate;\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"remarks\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n\r\n        if(name === 'transType') {\r\n            const checkUp = {...this.state.record.checkUp};\r\n            const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n\r\n            checkUp.findings = '';\r\n            checkUp.treatment = '';\r\n            const currentDate = this.getCurrentDate();\r\n            checkUp.admissionDate = currentDate;\r\n            checkUp.releasedDate = currentDate;\r\n            checkUp.addInfo = ''\r\n\r\n            checkUpErrors.findings = ' ';\r\n            checkUpErrors.treatment = ' ';\r\n            checkUpErrors.addInfo = ''\r\n\r\n            const groom = {...this.state.record.groom};\r\n            const groomErrors = {...this.state.errors.groomErrors};\r\n\r\n            groom.activity = '';\r\n            \r\n            groomErrors.activity = ' ';\r\n\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp,\r\n                    groom\r\n                },\r\n                errors: {\r\n                    ...currentState.errors,\r\n                    checkUpErrors,\r\n                    groomErrors\r\n                }\r\n            }))\r\n        }\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'transType':\r\n                errors.transType=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'empId':\r\n                errors.empId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'customerId':\r\n                errors.customerId=  value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petId':\r\n                errors.petId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petWeight':\r\n                errors.petWeight=   value.length === 0 ? \" \" :\r\n                                    !isNumeric(value) ? \"Please input a valid value\" :\r\n                                    value.length > 6 ? \"Must be at maximum of 6 numbers\" : \"\"\r\n                break;\r\n\r\n            case 'remarks':\r\n            errors.remarks= value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n            break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors }, () => {\r\n            if(name === 'customerId') {\r\n                const record = {...this.state.record};\r\n                record.petId = '';\r\n                errors.petId = ' ';\r\n                this.setState({ record, errors });\r\n                const pet = {...this.state.pet};\r\n                if(pet.search) this.onTogglePetSearch()\r\n            }\r\n        });\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"admissionDate\" && name !== \"releasedDate\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckCheckUpErrors(e))\r\n    }\r\n\r\n    onCheckCheckUpErrors = e => {\r\n        const { name, value } = e.target;\r\n        const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'findings':\r\n                checkUpErrors.findings= properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 128 ?\r\n                                        \"Must be at between 2 and 128 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            case 'treatment':\r\n                checkUpErrors.treatment=    properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 128 ?\r\n                                            \"Must be at between 2 and 128 characters\" :\r\n                                            properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'addInfo':\r\n                checkUpErrors.addInfo=  value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                checkUpErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"activity\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckGroomErrors(e))\r\n    }\r\n\r\n    onCheckGroomErrors = e => {\r\n        const { name, value } = e.target;\r\n        const groomErrors = {...this.state.errors.groomErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'activity':\r\n                groomErrors.activity=   properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 32 ?\r\n                                        \"Must be at between 2 and 32 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                groomErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.remarks = this.removeLastSpace(record.remarks);\r\n            record.checkUp.findings = this.removeLastSpace(record.checkUp.findings);\r\n            record.checkUp.treatment = this.removeLastSpace(record.checkUp.treatment);\r\n            record.checkUp.addInfo = this.removeLastSpace(record.checkUp.addInfo);\r\n            record.groom.activity = this.removeLastSpace(record.groom.activity);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission()\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertTransaction.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        const { record } = this.state;\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        if(record.transType === 'C') {\r\n            Object.values(errors.checkUpErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n        else if(record.transType === 'G') {\r\n            Object.values(errors.groomErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {        \r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n        const errors = {...this.state.errors};\r\n        const checkUpErrors = {...this.state.errors.checkUp};\r\n        const groomErrors = {...this.state.errors.groom};\r\n\r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        const currentDate = this.getCurrentDate();\r\n\r\n        const id = this.generateCharacters(6);\r\n        groom.activity = '';\r\n        checkUp.findings = '';\r\n        checkUp.treatment = '';\r\n        checkUp.admissionDate = currentDate;\r\n        checkUp.releasedDate = currentDate;\r\n        checkUp.addInfo = '';\r\n\r\n        record.id = id;\r\n        record.transType = '';\r\n        record.transDate = currentDate;\r\n        record.petId = ''\r\n        record.customerId = '';\r\n        record.petWeight = '';\r\n        record.remarks = '';\r\n        record.empId = '';\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        groomErrors.activity = ' ';\r\n        checkUpErrors.findings = ' ';\r\n        checkUpErrors.treatment = ' ';\r\n        checkUpErrors.addInfo = '';\r\n\r\n        errors.transType = ' ';\r\n        errors.petId = ' '\r\n        errors.customerId = ' ';\r\n        errors.remarks = '';\r\n        errors.empId = ' ';\r\n        errors.checkUpErrors = checkUpErrors;\r\n        errors.groomErrors = groomErrors;\r\n\r\n        this.setState({ record, errors, submitError, added, failed });\r\n    }\r\n\r\n    onToggleCustomerSearch = () => {\r\n        const customer = {...this.state.customer};\r\n        customer.search = !customer.search;\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onClearCustomerSearch = () => {\r\n        const customer = {...this.state.customer};\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onChangeCustomerSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.customerId = '';\r\n        errors.customerId = ' ';\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            customer: {\r\n                ...currentState.customer,\r\n                [name] : value\r\n            }\r\n        }), () => {\r\n            const pet = {...this.state.pet};\r\n            if(pet.search) this.onTogglePetSearch()\r\n        })\r\n    }\r\n\r\n    onTogglePetSearch = () => {\r\n        const pet = {...this.state.pet};\r\n        pet.search = !pet.search;\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onClearPetSearch = () => {\r\n        const pet = {...this.state.pet};\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onChangePetSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            pet: {\r\n                ...currentState.pet,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onToggleEmployeeSearch = () => {\r\n        const employee = {...this.state.employee};\r\n        employee.search = !employee.search;\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onClearEmployeeSearch = () => {\r\n        const employee = {...this.state.employee};\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onChangeEmployeeSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.empId = '';\r\n        errors.empId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            employee: {\r\n                ...currentState.employee,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, customer, pet, employee, submitted, added, failed } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addTransactionModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"addTransactionModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addTransactionModalTitle\">Add Transaction</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Date\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"transDate\"\r\n                                            value={record.transDate} noValidate disabled /> :\r\n                                            <input className=\"form-control border border-success\"\r\n                                            type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"transType\"\r\n                                            value={record.transType} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.transType)}\r\n                                            name=\"transType\" value={record.transType} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.transType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Served by<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.employeeConnected ?\r\n                                                <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"empId\"\r\n                                                        value={record.empId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.employees.length > 0 ?\r\n                                                                this.props.employees.filter(row =>\r\n                                                                    (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                    .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                    employee.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.empId)}\r\n                                                            name=\"empId\" value={record.empId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.employees.length > 0 ?\r\n                                                                    this.props.employees.filter(row =>\r\n                                                                        (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                        .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                        employee.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleEmployeeSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    employee.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={employee.searchValue} onChange={this.onChangeEmployeeSearch}\r\n                                                        placeholder=\"Search by Employee Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearEmployeeSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.empId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.employeeConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryEmployeesData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Customer Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.customerConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"customerId\"\r\n                                                        value={record.customerId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.customers.length > 0 ?\r\n                                                                this.props.customers.filter(row =>\r\n                                                                    (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                    .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                    customer.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.customerId)}\r\n                                                            name=\"customerId\" value={record.customerId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.customers.length > 0 ?\r\n                                                                    this.props.customers.filter(row =>\r\n                                                                        (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                        .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                        customer.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleCustomerSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    customer.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={customer.searchValue} onChange={this.onChangeCustomerSearch}\r\n                                                        placeholder=\"Search by Customer Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearCustomerSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.customerId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.customerConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.petConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"petId\"\r\n                                                        value={record.petId} noValidate disabled>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer Id is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <select className={\"zi-10 \" + this.inputFieldClasses(errors.petId)}\r\n                                                        name=\"petId\" value={record.petId} onChange={this.onChangeRecord}\r\n                                                        noValidate>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer Id is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select>\r\n                                                    }\r\n                                                    {\r\n                                                        (this.props.pets.filter(row =>\r\n                                                            (row.petName.match(pet.searchValue) && row.ownerId === record.customerId) ||\r\n                                                            (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                        ).length > 0 || pet.searchValue.length > 0) && !submitted ?\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onTogglePetSearch}>\r\n                                                                Search\r\n                                                            </button>\r\n                                                        </div> : null\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    pet.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={pet.searchValue} onChange={this.onChangePetSearch}\r\n                                                        placeholder=\"Search by Pet Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearPetSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.petId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.petConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.retryPetsData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Weight<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"text\" name=\"petWeight\"\r\n                                                value={record.petWeight} noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.petWeight)}\r\n                                                type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>{ this.renderRecordErrors(errors.petWeight) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Remarks\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"remarks\"\r\n                                            value={record.remarks} rows=\"2\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.remarks)}\r\n                                            type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                            onChange={this.onChangeRecord} rows=\"2\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.remarks) }\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted && this.props.customerConnected &&\r\n                                        this.props.petConnected && this.props.employeeConnected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { submitted } = this.state;\r\n        const { checkUp } = this.state.record;\r\n        const { checkUpErrors } = this.state.errors;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Findings<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"findings\"\r\n                            value={checkUp.findings} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(checkUpErrors.findings)}\r\n                            type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.findings) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Treatment<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"treatment\"\r\n                            value={checkUp.treatment} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(checkUpErrors.treatment)}\r\n                            type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.treatment) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Admission Date<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"date\" name=\"admissionDate\"\r\n                            value={checkUp.admissionDate} noValidate disabled /> :\r\n                            <input className=\"form-control border border-success\"\r\n                            type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Released Date<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"date\" name=\"releasedDate\"\r\n                            value={checkUp.releasedDate} noValidate disabled /> :\r\n                            <input className=\"form-control border border-success\"\r\n                            type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Additional Information\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <textarea className=\"form-control\" type=\"text\" name=\"addInfo\"\r\n                            value={checkUp.addInfo} rows=\"2\" noValidate disabled /> : \r\n                            <textarea className={this.inputFieldClasses(checkUpErrors.addInfo)}\r\n                            type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                            onChange={this.onChangeCheckUp} rows=\"2\" noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.addInfo) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { submitted } = this.state;\r\n        const { groom } = this.state.record;\r\n        const { groomErrors } = this.state.errors;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Activity<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"activity\"\r\n                            value={groom.activity} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(groomErrors.activity)}\r\n                            type=\"text\" name=\"activity\" value={groom.activity}\r\n                            onChange={this.onChangeGroom} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(groomErrors.activity) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default AddTransactionModal;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            petName: '',\r\n            customerId: '',\r\n            customerName: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        errors:\r\n        {\r\n            transType: '',\r\n            petId: '',\r\n            customerId: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUpErrors:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                addInfo: ''\r\n            },\r\n            groomErrors:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        checkUpConnected: false,\r\n        checkUpConnectionFailed: false,\r\n        groomConnected: false,\r\n        groomConnectionFailed: false,\r\n        connected: false,\r\n        customer:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        pet:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        employee:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { transaction } = this.props;\r\n        if(transaction.transType === 'C') {\r\n            this.getCheckUpData(transaction.id);\r\n        }\r\n        else if(transaction.transType === 'G') {\r\n            this.getGroomData(transaction.id);\r\n        }\r\n\r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n\r\n        record.id = transaction.id;\r\n        record.transType = transaction.transType;\r\n        record.transDate = transaction.transDate;\r\n        record.petId = transaction.petId;\r\n        record.petName = transaction.petName;\r\n        record.customerId = transaction.customerId;\r\n        record.customerName = transaction.lastName + \", \" + transaction.firstName + \" \" + transaction.middleName;\r\n        record.petWeight = transaction.petWeight;\r\n        record.remarks = transaction.remarks;\r\n        record.empId = transaction.empId;\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    getCurrentDate = () => {\r\n        const dateObj = new Date(); \r\n        const currentMonth = dateObj.getMonth()+1 < 10 ? \"0\"+(dateObj.getMonth()+1) : dateObj.getMonth()+1\r\n        const currentDay = dateObj.getDate() < 10 ? \"0\"+dateObj.getDate() : dateObj.getDate() \r\n        const currentDate = dateObj.getFullYear() + \"-\" + currentMonth + \"-\" + currentDay;\r\n        return currentDate;\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"remarks\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n\r\n        if(name === 'transType') {\r\n            const checkUp = {...this.state.record.checkUp};\r\n            const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n\r\n            checkUp.findings = '';\r\n            checkUp.treatment = '';\r\n            const currentDate = this.getCurrentDate();\r\n            checkUp.admissionDate = currentDate;\r\n            checkUp.releasedDate = currentDate;\r\n            checkUp.addInfo = '';\r\n\r\n            checkUpErrors.findings = ' ';\r\n            checkUpErrors.treatment = ' ';\r\n            checkUpErrors.addInfo = ''\r\n\r\n            const groom = {...this.state.record.groom};\r\n            const groomErrors = {...this.state.errors.groomErrors};\r\n\r\n            groom.activity = '';\r\n            \r\n            groomErrors.activity = ' ';\r\n\r\n            const checkUpConnected = true;\r\n            const groomConnected = true;\r\n            const connected = true;\r\n\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp,\r\n                    groom\r\n                },\r\n                errors: {\r\n                    ...currentState.errors,\r\n                    checkUpErrors,\r\n                    groomErrors\r\n                }, checkUpConnected, groomConnected, connected\r\n            }))\r\n        }\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'transType':\r\n                errors.transType=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'empId':\r\n                errors.empId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'customerId':\r\n                errors.customerId=  value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petId':\r\n                errors.petId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petWeight':\r\n                errors.petWeight=   value.length === 0 ? \" \" :\r\n                                    !isNumeric(value) ? \"Please input a valid value\" :\r\n                                    value.length > 6 ? \"Must be at maximum of 6 numbers\" : \"\"\r\n                break;\r\n\r\n            case 'remarks':\r\n            errors.remarks= value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n            break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors }, () => {\r\n            if(name === 'customerId') {\r\n                const record = {...this.state.record};\r\n                record.petId = '';\r\n                errors.petId = ' ';\r\n                this.setState({ record, errors });\r\n                const pet = {...this.state.pet};\r\n                if(pet.search) this.onTogglePetSearch()\r\n            }\r\n        });\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"admissionDate\" && name !== \"releasedDate\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckCheckUpErrors(e))\r\n    }\r\n\r\n    onCheckCheckUpErrors = e => {\r\n        const { name, value } = e.target;\r\n        const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'findings':\r\n                checkUpErrors.findings= properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 128 ?\r\n                                        \"Must be at between 2 and 128 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            case 'treatment':\r\n                checkUpErrors.treatment=    properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 128 ?\r\n                                            \"Must be at between 2 and 128 characters\" :\r\n                                            properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'addInfo':\r\n                checkUpErrors.addInfo=  value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                checkUpErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"activity\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckGroomErrors(e))\r\n    }\r\n\r\n    onCheckGroomErrors = e => {\r\n        const { name, value } = e.target;\r\n        const groomErrors = {...this.state.errors.groomErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'activity':\r\n                groomErrors.activity=   properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 32 ?\r\n                                        \"Must be at between 2 and 32 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                groomErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.remarks = this.removeLastSpace(record.remarks);\r\n            record.checkUp.findings = this.removeLastSpace(record.checkUp.findings);\r\n            record.checkUp.treatment = this.removeLastSpace(record.checkUp.treatment);\r\n            record.checkUp.addInfo = this.removeLastSpace(record.checkUp.addInfo);\r\n            record.groom.activity = this.removeLastSpace(record.groom.activity);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateTransaction.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        const { record } = this.state;\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        if(record.transType === 'C') {\r\n            Object.values(errors.checkUpErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n        else if(record.transType === 'G') {\r\n            Object.values(errors.groomErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {  \r\n        const { transaction } = this.props;\r\n        const checkUpConnected = false;\r\n        const groomConnected = false;\r\n        const connected = false;\r\n\r\n        this.setState({ checkUpConnected, groomConnected, connected })\r\n\r\n        if(transaction.transType === 'C') {\r\n            this.getCheckUpData(transaction.id);\r\n        }\r\n        else if(transaction.transType === 'G') {\r\n            this.getGroomData(transaction.id);\r\n        }      \r\n\r\n        const record = {...this.state.record};\r\n        let checkUp = {...this.state.record.checkUp};\r\n        let groom = {...this.state.record.groom};\r\n        const errors = {...this.state.errors};\r\n        const checkUpErrors = {...this.state.errors.checkUp};\r\n        const groomErrors = {...this.state.errors.groom};\r\n\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        record.id = transaction.id;\r\n        record.transType = transaction.transType;\r\n        record.transDate = transaction.transDate;\r\n        record.petId = transaction.petId;\r\n        record.customerId = transaction.customerId;\r\n        record.petWeight = transaction.petWeight;\r\n        record.remarks = transaction.remarks;\r\n        record.empId = transaction.empId;\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        groomErrors.activity = '';\r\n        checkUpErrors.findings = '';\r\n        checkUpErrors.treatment = '';\r\n        checkUpErrors.addInfo = '';\r\n\r\n        errors.transType = '';\r\n        errors.petId = ''\r\n        errors.customerId = '';\r\n        errors.remarks = '';\r\n        errors.empId = '';\r\n\r\n        errors.checkUpErrors = checkUpErrors;\r\n        errors.groomErrors = groomErrors;\r\n\r\n        this.setState({ record, errors, submitError, updated, failed });\r\n    }\r\n\r\n    onToggleCustomerSearch = () => {\r\n        const customer = {...this.state.customer};\r\n        customer.search = !customer.search;\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onClearCustomerSearch = () => {\r\n        const customer = {...this.state.customer};\r\n        customer.searchValue = ''\r\n        this.setState({ customer });\r\n    }\r\n\r\n    onChangeCustomerSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.customerId = '';\r\n        errors.customerId = ' ';\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            customer: {\r\n                ...currentState.customer,\r\n                [name] : value\r\n            }\r\n        }), () => {\r\n            const pet = {...this.state.pet};\r\n            if(pet.search) this.onTogglePetSearch()\r\n        })\r\n    }\r\n\r\n    onTogglePetSearch = () => {\r\n        const pet = {...this.state.pet};\r\n        pet.search = !pet.search;\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onClearPetSearch = () => {\r\n        const pet = {...this.state.pet};\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onChangePetSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            pet: {\r\n                ...currentState.pet,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onToggleEmployeeSearch = () => {\r\n        const employee = {...this.state.employee};\r\n        employee.search = !employee.search;\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onClearEmployeeSearch = () => {\r\n        const employee = {...this.state.employee};\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onChangeEmployeeSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.empId = '';\r\n        errors.empId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            employee: {\r\n                ...currentState.employee,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, customer, employee, pet, connected, submitted, updated, failed } = this.state;\r\n        const { transaction } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewTransactionModal-\" + transaction.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewTransactionModalTitle-\" + transaction.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewTransactionModalTitle-\" + transaction.id}>\r\n                                    View Transaction\r\n                                </h5>\r\n                                {\r\n                                    !submitted && this.props.connected ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Date\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"transDate\"\r\n                                            value={record.transDate} noValidate disabled /> :\r\n                                            <input className=\"form-control border border-success\"\r\n                                            type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"transType\"\r\n                                            value={record.transType} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.transType)}\r\n                                            name=\"transType\" value={record.transType} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.transType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Served by<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.employeeConnected ?\r\n                                                <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"empId\"\r\n                                                        value={record.empId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.employees.length > 0 ?\r\n                                                                this.props.employees.filter(row =>\r\n                                                                    (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                    .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                    employee.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.empId)}\r\n                                                            name=\"empId\" value={record.empId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.employees.length > 0 ?\r\n                                                                    this.props.employees.filter(row =>\r\n                                                                        (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                        .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                        employee.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleEmployeeSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                    </div>\r\n                                                {\r\n                                                    employee.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={employee.searchValue} onChange={this.onChangeEmployeeSearch}\r\n                                                        placeholder=\"Search by Employee Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearEmployeeSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.empId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.employeeConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryEmployeesData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Customer Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.customerConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"customerId\"\r\n                                                        value={record.customerId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.customers.length > 0 ?\r\n                                                                this.props.customers.filter(row =>\r\n                                                                    (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                    .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                    customer.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.customerId)}\r\n                                                            name=\"customerId\" value={record.customerId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.customers.length > 0 ?\r\n                                                                    this.props.customers.filter(row =>\r\n                                                                        (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                        .toLowerCase().match(customer.searchValue.toLowerCase()) ||\r\n                                                                        customer.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleCustomerSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    customer.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={customer.searchValue} onChange={this.onChangeCustomerSearch}\r\n                                                        placeholder=\"Search by Customer Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearCustomerSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.customerId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.customerConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.petConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"petId\"\r\n                                                        value={record.petId} noValidate disabled>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer Id is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <select className={\"zi-10 \" + this.inputFieldClasses(errors.petId)}\r\n                                                        name=\"petId\" value={record.petId} onChange={this.onChangeRecord}\r\n                                                        noValidate>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer Id is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select>\r\n                                                    }\r\n                                                    {\r\n                                                        (this.props.pets.filter(row =>\r\n                                                            (row.petName.match(pet.searchValue) && row.ownerId === record.customerId) ||\r\n                                                            (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                        ).length > 0 || pet.searchValue.length > 0) && !submitted ?\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onTogglePetSearch}>\r\n                                                                Search\r\n                                                            </button>\r\n                                                        </div> : null\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    pet.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={pet.searchValue} onChange={this.onChangePetSearch}\r\n                                                        placeholder=\"Search by Pet Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearPetSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.petId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.petConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryPetsData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Weight<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"text\" name=\"petWeight\"\r\n                                                value={record.petWeight} noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.petWeight)}\r\n                                                type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>{ this.renderRecordErrors(errors.petWeight) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Remarks\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"remarks\"\r\n                                            value={record.remarks} rows=\"2\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.remarks)}\r\n                                            type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                            onChange={this.onChangeRecord} rows=\"2\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.remarks) }\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted && connected && this.props.customerConnected &&\r\n                                        this.props.petConnected && this.props.employeeConnected ?\r\n                                        <React.Fragment>\r\n                                            {\r\n                                                record.transType === 'C' ?\r\n                                                <button className=\"btn btn-success w-auto mr-1\" data-dismiss=\"modal\"\r\n                                                onClick={() => this.onViewAdmission(\"/wiggly-tails/admin/manage-admission\")}>\r\n                                                    <i className=\"fa fa-hand-holding-medical fa-sm\"></i>\r\n                                                    <span className=\"ml-1\">Admissions</span>\r\n                                                </button> : null\r\n                                            }\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"d-none d-sm-inline ml-1\">Update</span>\r\n                                            </button>\r\n                                            {\r\n                                                this.props.connected ?\r\n                                                <button className=\"btn btn-danger w-auto mr-1\"\r\n                                                onClick={this.onReset}>\r\n                                                    <i className=\"fa fa-eraser\"></i>\r\n                                                    <span className=\"d-none d-sm-inline ml-1\">Reset</span>\r\n                                                </button> :\r\n                                                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                                                    <i className=\"fa fa-eraser\"></i>\r\n                                                    <span className=\"d-none d-sm-inline ml-1\">Reset</span>\r\n                                                </button>\r\n                                            }\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            {\r\n                                                record.transType === 'C' ?\r\n                                                <button className=\"btn btn-success w-auto mr-1\" data-dismiss=\"modal\"\r\n                                                onClick={() => this.onViewAdmission(\"/wiggly-tails/admin/manage-admission\")}>\r\n                                                    <i className=\"fa fa-hand-holding-medical fa-sm\"></i>\r\n                                                    <span className=\"ml-1\">Admissions</span>\r\n                                                </button> : null\r\n                                            }\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"d-none d-sm-inline ml-1\">Update</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"d-none d-sm-inline ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    onViewAdmission = link => {\r\n        const { record } = this.state;\r\n        const { history } = this.props;\r\n        history.push(link, {\r\n            ...history.location.state,\r\n            transId: record.id,\r\n            customerName: record.customerName,\r\n            petName: record.petName,\r\n            transDate: record.transDate\r\n        });\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { submitted } = this.state;\r\n        const { checkUp } = this.state.record;\r\n        const { checkUpErrors } = this.state.errors;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.checkUpConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Findings<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"text\" name=\"findings\"\r\n                                    value={checkUp.findings} noValidate disabled /> :\r\n                                    <input className={this.inputFieldClasses(checkUpErrors.findings)}\r\n                                    type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                                    onChange={this.onChangeCheckUp} noValidate />\r\n                                }\r\n                                { this.renderRecordErrors(checkUpErrors.findings) }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Treatment<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"text\" name=\"treatment\"\r\n                                    value={checkUp.treatment} noValidate disabled /> :\r\n                                    <input className={this.inputFieldClasses(checkUpErrors.treatment)}\r\n                                    type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                                    onChange={this.onChangeCheckUp} noValidate />\r\n                                }\r\n                                { this.renderRecordErrors(checkUpErrors.treatment) }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Admission Date<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"date\" name=\"admissionDate\"\r\n                                    value={checkUp.admissionDate} noValidate disabled /> :\r\n                                    <input className=\"form-control border border-success\"\r\n                                    type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                                    onChange={this.onChangeCheckUp} noValidate />\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col-lg-6\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Released Date<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"date\" name=\"releasedDate\"\r\n                                    value={checkUp.releasedDate} noValidate disabled /> :\r\n                                    <input className=\"form-control border border-success\"\r\n                                    type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate}\r\n                                    onChange={this.onChangeCheckUp} noValidate />\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Additional Information\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <textarea className=\"form-control\" type=\"text\" name=\"addInfo\"\r\n                                    value={checkUp.addInfo} rows=\"2\" noValidate disabled /> :\r\n                                    <textarea className={this.inputFieldClasses(checkUpErrors.addInfo)}\r\n                                    type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                                    onChange={this.onChangeCheckUp} rows=\"2\" noValidate />\r\n                                }\r\n                                { this.renderRecordErrors(checkUpErrors.addInfo) }\r\n                            </div>\r\n                        </React.Fragment> : \r\n                        this.state.checkUpConnectionFailed ?\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal text-danger mb-0\">Database Connection Failed</h3>\r\n                            <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later...</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryCheckUpData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal mb-0\">Loading Data</h3>\r\n                            <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { submitted } = this.state;\r\n        const { groom } = this.state.record;\r\n        const { groomErrors } = this.state.errors;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    {\r\n                        this.state.groomConnected ?\r\n                        <React.Fragment>\r\n                            <div className=\"form-group col\">\r\n                                <label className=\"m-0 ml-2\">\r\n                                    Activity<span className=\"text-danger ml-1\">*</span>\r\n                                </label>\r\n                                {\r\n                                    submitted ?\r\n                                    <input className=\"form-control\" type=\"text\" name=\"activity\"\r\n                                    value={groom.activity} noValidate disabled /> :\r\n                                    <input className={this.inputFieldClasses(groomErrors.activity)}\r\n                                    type=\"text\" name=\"activity\" value={groom.activity}\r\n                                    onChange={this.onChangeGroom} noValidate />\r\n                                }\r\n                                { this.renderRecordErrors(groomErrors.activity) }\r\n                            </div>\r\n                        </React.Fragment> :\r\n                        this.state.groomConnectionFailed ?\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal text-danger mb-0\">Database Connection Failed</h3>\r\n                            <h5 className=\"font-weight-normal text-danger mb-3\">Please try again later...</h5>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.retryGroomData}>Retry</button>\r\n                        </div> :\r\n                        <div className=\"col-12 text-center\">\r\n                            <h3 className=\"font-weight-normal mb-0\">Loading Data</h3>\r\n                            <h5 className=\"font-weight-normal\">Please wait...</h5>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    retryCheckUpData = () => {\r\n        this.getCheckUpData(this.state.record.id);\r\n        const checkUpConnected = false;\r\n        const checkUpConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ checkUpConnected, checkUpConnectionFailed, connected })\r\n    }\r\n\r\n    getCheckUpData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionCheckUp.php?id='+id)\r\n        .then(res => {\r\n            let checkUp = res.data;\r\n            const checkUpConnected = true;\r\n            const connected = true;\r\n            checkUp = checkUp[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp\r\n                }, checkUpConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const checkUpConnectionFailed = true;\r\n            this.setState({ checkUpConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryGroomData = () => {\r\n        this.getGroomData(this.state.record.id);\r\n        const groomConnected = false;\r\n        const groomConnectionFailed = false;\r\n        const connected = false;\r\n        this.setState({ groomConnected, groomConnectionFailed, connected })\r\n    }\r\n\r\n    getGroomData = id => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionGroom.php?id='+id)\r\n        .then(res => {\r\n            let groom = res.data;\r\n            const groomConnected = true;\r\n            const connected = true;\r\n            groom = groom[0];\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    groom\r\n                }, groomConnected, connected\r\n            }))\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const groomConnectionFailed = true;\r\n            this.setState({ groomConnectionFailed });\r\n        });\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default ViewTransactionModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination';\r\nimport AddTransactionModal from './AddTransactionModal.js';\r\nimport ViewTransactionModal from './ViewTransactionModal.js';\r\n\r\nclass TransactionsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (transactions) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = transactions.length <= recordStartIndex + recordsPerPage ?\r\n        transactions.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={transactions[i].id} className=\"table-row\">\r\n                    <td>{this.formatDate(transactions[i].transDate)}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].lastName + \", \" + transactions[i].firstName + \" \" + transactions[i].middleName}</td>\r\n                    <td>{transactions[i].petName}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{transactions[i].petWeight}</td>\r\n                    <td className=\"d-none d-md-table-cell\">\r\n                        {transactions[i].empLastName + \", \" + transactions[i].empFirstName + \" \" + transactions[i].empMiddleName}\r\n                    </td>\r\n                    <td className=\"d-none d-sm-table-cell\">{this.formatTransType(transactions[i].transType)}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewTransactionModal-\" + transactions[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { transactions, onRefresh, onSearch, searchValue, onClear, history, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { customers, retryCustomersData, customerConnected, customerConnectionFailed } = this.props;\r\n        const { pets, retryPetsData, petConnected, petConnectionFailed } = this.props;\r\n        const { employees, retryEmployeesData, employeeConnected, employeeConnectionFailed } = this.props;\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addTransactionModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue} ></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Transaction Date</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Customer Name</th>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"w-110px d-none d-lg-table-cell\">Pet Weight</th>\r\n                            <th className=\"d-none d-md-table-cell\">Served by</th>\r\n                            <th className=\"w-110px d-none d-sm-table-cell\">Trans. Type</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            transactions.length > 0 && connected ?\r\n                            this.renderItems(transactions) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    transactions.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={transactions.length} /> : null\r\n                }\r\n                <AddTransactionModal onRefresh={onRefresh} customerId='' onSubmitForm={onSubmitForm}\r\n                customers={customers} retryCustomersData={retryCustomersData}\r\n                customerConnected={customerConnected} customerConnectionFailed={customerConnectionFailed}\r\n                pets={pets} retryPetsData={retryPetsData}\r\n                petConnected={petConnected} petConnectionFailed={petConnectionFailed}\r\n                employees={employees} retryEmployeesData={retryEmployeesData}\r\n                employeeConnected={employeeConnected} employeeConnectionFailed={employeeConnectionFailed} />\r\n                {\r\n                    transactions.map(transaction => <ViewTransactionModal key={transaction.id}\r\n                    transaction={transaction} onRefresh={onRefresh} history={history}\r\n                    connected={connected} onSubmitForm={onSubmitForm}\r\n                    customers={customers} retryCustomersData={retryCustomersData}\r\n                    customerConnected={customerConnected} customerConnectionFailed={customerConnectionFailed}\r\n                    pets={pets} retryPetsData={retryPetsData}\r\n                    petConnected={petConnected} petConnectionFailed={petConnectionFailed}\r\n                    employees={employees} retryEmployeesData={retryEmployeesData}\r\n                    employeeConnected={employeeConnected} employeeConnectionFailed={employeeConnectionFailed} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {\r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n\r\n    formatTransType = transType => {\r\n        return transType === 'C' ? \"Check-up\" : \"Groom\"\r\n    }\r\n}\r\n \r\nexport default TransactionsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport TransactionsTable from './TransactionsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManageTransactions extends Component {\r\n    state = {\r\n        transactions: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\",\r\n        customers: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false,\r\n        pets: [],\r\n        petConnected: false,\r\n        petConnectionFailed: false,\r\n        employees: [],\r\n        employeeConnected: false,\r\n        employeeConnectionFailed: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n        this.getCustomersData();\r\n        this.getPetsData();\r\n        this.getEmployeesData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={3} activeId={4} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Transactions</h3>\r\n                            <TransactionsTable transactions={this.state.transactions}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch} history={history}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} onSubmitForm={this.onSubmitForm}\r\n                            customers={this.state.customers} retryCustomersData={this.retryCustomersData}\r\n                            customerConnected={this.state.customerConnected} customerConnectionFailed={this.state.customerConnectionFailed}\r\n                            pets={this.state.pets} retryPetsData={this.retryPetsData}\r\n                            petConnected={this.state.petConnected} petConnectionFailed={this.state.petConnectionFailed}\r\n                            employees={this.state.employees} retryEmployeesData={this.retryEmployeesData}\r\n                            employeeConnected={this.state.employeeConnected} employeeConnectionFailed={this.state.employeeConnectionFailed} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.transactions.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactions.php')\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            const connected = true;\r\n            this.setState({ transactions, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchTransaction.php?search='+searchValue)\r\n        .then(res => {\r\n            const transactions = res.data;\r\n            const connected = true;\r\n            this.setState({ transactions, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const customerConnected = true\r\n            this.setState({ customers, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryPetsData = () => {\r\n        this.getPetsData();\r\n        const petConnected = false;\r\n        const petConnectionFailed = false;\r\n        this.setState({ petConnected, petConnectionFailed })\r\n    }\r\n\r\n    getPetsData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php')\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const petConnected = true\r\n            this.setState({ pets, petConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const petConnectionFailed = true;\r\n            this.setState({ petConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryEmployeesData = () => {\r\n        this.getEmployeesData();\r\n        const employeeConnected = false;\r\n        const employeeConnectionFailed = false;\r\n        this.setState({ employeeConnected, employeeConnectionFailed })\r\n    }\r\n\r\n    getEmployeesData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const employeeConnected = true\r\n            this.setState({ employees, employeeConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const employeeConnectionFailed = true;\r\n            this.setState({ employeeConnectionFailed });\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManageTransactions;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewAdmissionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transId: '',\r\n            title: '',\r\n            content: ''\r\n        },\r\n        errors:\r\n        {\r\n            title: ' ',\r\n            content: ' '\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false,\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const { history } = this.props;\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        record.transId = history.location.state.transId;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"title\" ?\r\n        this.toAbsProperCase(value) :\r\n        this.toSentenceCase(value)\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'title':\r\n                errors.title=   properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 24 ?\r\n                                \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'content':\r\n                errors.content= properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 128 ?\r\n                                \"Must be at between 2 and 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.title = this.removeLastSpace(record.title);\r\n            record.content = this.removeLastSpace(record.content);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertAdmission.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const { history } = this.props;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.transId = history.location.state.transId;\r\n        record.title = '';\r\n        record.content = '';\r\n\r\n        errors.title = ' ';\r\n        errors.content = ' ';\r\n\r\n        this.setState({ record, errors, submitError, added, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, submitted, added, failed } = this.state;\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addAdmissionModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"addAdmissionModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addAdmissionModalTitle\">\r\n                                    Add Admission\r\n                                </h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Title\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"title\"\r\n                                            value={record.title} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.title)}\r\n                                            type=\"text\" name=\"title\" value={record.title}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.title) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Content<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"content\"\r\n                                            value={record.content} rows=\"7\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.content)}\r\n                                            type=\"text\" name=\"content\" value={record.content} rows=\"7\"\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.content) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto mr-1\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default ViewAdmissionModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewAdmissionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transId: '',\r\n            title: '',\r\n            content: ''\r\n        },\r\n        errors:\r\n        {\r\n            title: '',\r\n            content: ''\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false,\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const { admission } = this.props;\r\n        const record = {...this.state.record};\r\n\r\n        record.id = admission.id;\r\n        record.transId = admission.transId;\r\n        record.title = admission.title;\r\n        record.content = admission.content;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"title\" ?\r\n        this.toAbsProperCase(value) :\r\n        this.toSentenceCase(value)\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'title':\r\n                errors.title=   properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 24 ?\r\n                                \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'content':\r\n                errors.content= properLength === 0 ? \" \" :\r\n                                properLength < 2 || value.length > 128 ?\r\n                                \"Must be at between 2 and 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.title = this.removeLastSpace(record.title);\r\n            record.content = this.removeLastSpace(record.content);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateAdmission.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const confirmUserPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmUserPassword = ' '\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ errors, confirmUserPassword, submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const { admission } = this.props;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        record.id = admission.id;\r\n        record.transId = admission.transId;\r\n        record.title = admission.title;\r\n        record.content = admission.content;\r\n\r\n        errors.title = '';\r\n        errors.content = '';\r\n\r\n        this.setState({ record, errors, submitError, updated, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, submitted, updated, failed } = this.state;\r\n        const { admission } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewAdmissionModal-\" + admission.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewAdmissionModalTitle-\" + admission.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewAdmissionModalTitle-\" + admission.id}>\r\n                                    View Admission\r\n                                </h5>\r\n                                {\r\n                                    !submitted && this.props.connected ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Title\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"title\"\r\n                                            value={record.title} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.title)}\r\n                                            type=\"text\" name=\"title\" value={record.title}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.title) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Content<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"content\"\r\n                                            value={record.content} rows=\"7\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.content)}\r\n                                            type=\"text\" name=\"content\" value={record.content} rows=\"7\"\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.content) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted  ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"ml-1\">Update</span>\r\n                                            </button>\r\n                                            {\r\n                                                this.props.connected ?\r\n                                                <button className=\"btn btn-danger w-auto mr-1\"\r\n                                                onClick={this.onReset}>\r\n                                                    <i className=\"fa fa-eraser\"></i>\r\n                                                    <span className=\"ml-1\">Reset</span>\r\n                                                </button> :\r\n                                                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                                                    <i className=\"fa fa-eraser\"></i>\r\n                                                    <span className=\"ml-1\">Reset</span>\r\n                                                </button>\r\n                                            }\r\n                                        </React.Fragment> :\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-pen fa-sm\"></i>\r\n                                                <span className=\"ml-1\">Update</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default ViewAdmissionModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination';\r\nimport AddAdmissionModal from './AddAdmissionModal.js';\r\nimport ViewAdmissionModal from './ViewAdmissionModal.js';\r\n\r\nclass AdmissionTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (admission) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = admission.length <= recordStartIndex + recordsPerPage ?\r\n        admission.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={admission[i].id} className=\"table-row\">\r\n                    <td>{admission[i].title}</td>\r\n                    <td>{admission[i].content}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewAdmissionModal-\" + admission[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { admission, onRefresh, onSearch, searchValue, onClear, history, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { state } = history.location;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addAdmissionModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2 ml-auto\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th colSpan=\"3\">\r\n                                <div className=\"row align-items-center\">\r\n                                    <div className=\"col-12 col-md-4 text-center mb-2 pb-2\r\n                                    m-md-0 p-md-0 bottom-border-dark border-md-0\">\r\n                                        {\"Customer Name: \" + state.customerName}\r\n                                    </div>\r\n                                    <div className=\"col-12 col-md-4 text-center mb-2 pb-2\r\n                                    m-md-0 p-md-0 bottom-border-dark border-md-0\">\r\n                                        {\"Pet Name: \" + state.petName}\r\n                                    </div>\r\n                                    <div className=\"col-12 col-md-4 text-center\">\r\n                                        {\"Transaction Date: \" + state.transDate}\r\n                                    </div>\r\n                                </div>\r\n                            </th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>Title</th>\r\n                            <th>Content</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            admission.length > 0 && connected ?\r\n                            this.renderItems(admission) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    admission.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={admission.length} /> : null\r\n                }\r\n                <AddAdmissionModal history={history} onRefresh={onRefresh} onSubmitForm={onSubmitForm} />\r\n                {\r\n                    admission.map(admission => <ViewAdmissionModal key={admission.id} admission={admission}\r\n                    onRefresh={onRefresh} connected={connected} onSubmitForm={onSubmitForm} /> )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default AdmissionTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from '../AdminNavbar.js';\r\nimport AdmissionTable from './AdmissionTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManageAdmission extends Component {\r\n    state = {\r\n        admission: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={3} activeId={4} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Admission</h3>\r\n                            <AdmissionTable admission={this.state.admission} history={history}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch} \r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} connectionFailed={this.state.connectionFailed}\r\n                            onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.admission.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewTransactionAdmission.php?id='+\r\n        history.location.state.transId)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        const { history } = this.props;\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchTransactionAdmission.php?id='+\r\n        history.location.state.admissionId+\"&search=\"+searchValue)\r\n        .then(res => {\r\n            const admission = res.data;\r\n            const connected = true;\r\n            this.setState({ admission, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default ManageAdmission;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddCustomerModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: '',\r\n            pet:\r\n            {\r\n                petName: '',\r\n                birthdate: '',\r\n                petClass: '',\r\n                lastVisit: '',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: ' ',\r\n            firstName: ' ',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: ' ',\r\n                subdivision: '',\r\n                barangay: ' ',\r\n                municipality: ' ',\r\n                province: ''\r\n            },\r\n            birthdate: ' ',\r\n            mobileNumber: ' ',\r\n            emailAddress: ' ',\r\n            userPassword: ' ',\r\n            confirmUserPassword: ' ',\r\n            petErrors:\r\n            {\r\n                petName: ' ',\r\n                birthdate: ' ',\r\n                petClass: ' ',\r\n                pcciRegNo: ''\r\n            }\r\n        },\r\n        petClasses:\r\n        [ 'Alligator', 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Crab', 'Crocodile', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Fox', 'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Gorilla', 'Grasshopper', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Jaguar', 'Lion', 'Lizard', 'Mantis', 'Monkey', 'Mouse', 'Octopus', 'Orangutan', 'Orstrich', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake', 'Spider', 'Squirrel', 'Tiger', 'Tortoise', 'Turtle', 'Wolf', 'Whale', 'Zebra' ],\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    record.emailAddress.length === 0 ? \" \" :\r\n                                    record.emailAddress.length < 8 || record.emailAddress.length > 24 ?\r\n                                    \"Must be at between 8 and 24 characters\" :\r\n                                    !this.isValidEmail(record.emailAddress) ?\r\n                                    \"Please input a valid value\" :\r\n                                    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record } = this.state;\r\n        const { customers } = this.props;\r\n\r\n        const result = customers.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() ===\r\n            (record.emailAddress + record.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n\r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  value.length > 24 ?\r\n                                                \"Subdivision must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangePet = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                pet: {\r\n                    ...currentState.record.pet,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckPetErrors(e))\r\n    }\r\n\r\n    onCheckPetErrors = e => {\r\n        const { name, value } = e.target;\r\n        const petErrors = {...this.state.errors.petErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                petErrors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                petErrors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                petErrors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                petErrors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                petErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n            record.pet.petName = this.removeLastSpace(record.pet.petName);\r\n\r\n            // record.homeAddress.street += \" St.\";\r\n            // record.homeAddress.barangay = \"Brgy. \" + record.homeAddress.barangay;\r\n            // record.homeAddress.municipality += \" City\";\r\n\r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertCustomerPet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0  && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n        const pet = {...this.state.record.pet};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n        const petErrors = {...this.state.errors.petErrors};\r\n\r\n        const confirmUserPassword = '';\r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        homeAddress.lotBlock = '';\r\n        homeAddress.street = '';\r\n        homeAddress.subdivision = '';\r\n        homeAddress.barangay = '';\r\n        homeAddress.municipality = '';\r\n        homeAddress.province = '';\r\n        \r\n        pet.petName = '';\r\n        pet.birthdate = '';\r\n        pet.petClass = '';\r\n        pet.pcciRegNo = '';\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.lastName = '';\r\n        record.firstName = '';\r\n        record.middleName = ''\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = '';\r\n        record.mobileNumber = '';\r\n        record.emailAddress = '';\r\n        record.email = '@yahoo.com';\r\n        record.userPassword = '';\r\n        record.pet = pet;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = ' ';\r\n        homeAddressErrors.subdivision = '';\r\n        homeAddressErrors.barangay = ' ';\r\n        homeAddressErrors.municipality = ' ';\r\n        homeAddressErrors.province = '';\r\n\r\n        petErrors.petName = ' ';\r\n        petErrors.birthdate = ' ';\r\n        petErrors.petClass = ' ';\r\n\r\n        errors.lastName = ' ';\r\n        errors.firstName = ' ';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ' ';\r\n        errors.mobileNumber = ' ';\r\n        errors.emailAddress = ' ';\r\n        errors.userPassword = ' ';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, submitError, added, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, petClasses, submitted, added, failed } = this.state;\r\n        const { homeAddress, pet } = record;\r\n        const { homeAddressErrors, petErrors } = errors;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addCustomerModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"addCustomerModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addCustomerModalTitle\">Add Customer</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>Generate</button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"lastName\"\r\n                                            value={record.lastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.lastName)}\r\n                                            type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"firstName\"\r\n                                            value={record.firstName} onChange={this.onChangeRecord} noValidate disabled /> : \r\n                                            <input className={this.inputFieldClasses(errors.firstName)}\r\n                                            type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"middleName\"\r\n                                            value={record.middleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.middleName)}\r\n                                            type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"lotBlock\"\r\n                                                    value={homeAddress.lotBlock} placeholder=\"Lot/Block (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                    type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"street\"\r\n                                                    value={homeAddress.street} placeholder=\"Street\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                    type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Street\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"subdivision\"\r\n                                                    value={homeAddress.subdivision} placeholder=\"Subdivision (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                    type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Subdivision (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"barangay\"\r\n                                                    value={homeAddress.barangay} placeholder=\"Barangay\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                    type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Barangay\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"municipality\"\r\n                                                    value={homeAddress.municipality} placeholder=\"Municipality\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                    type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Municipality\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"province\"\r\n                                                    value={homeAddress.province} placeholder=\"Province (Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                    type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Province (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate}  noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"tel\" maxLength=\"10\"\r\n                                                name=\"mobileNumber\" value={record.mobileNumber} onChange={this.onChangeRecord}\r\n                                                noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                                type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <input className=\"w-xs-100 form-control\" type=\"text\"\r\n                                                        name=\"emailAddress\" value={record.emailAddress} noValidate disabled /> :\r\n                                                        <input className={\"w-xs-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    }\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        {\r\n                                                            submitted ?\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email} noValidate disabled>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select> :\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email}\r\n                                                            onChange={this.onChangeRecord} noValidate>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.onRefresh}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"userPassword\"\r\n                                            value={record.userPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.userPassword)}\r\n                                            type=\"password\" name=\"userPassword\" value={record.userPassword}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmUserPassword\"\r\n                                            value={confirmUserPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                            type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                                        <div className=\"row mt-3\">\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Name <span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                                    value={pet.petName} noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.petName)}\r\n                                                    type=\"text\" name=\"petName\" value={pet.petName}\r\n                                                    onChange={this.onChangePet} noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.petName) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                                    value={pet.birthdate} noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.birthdate)}\r\n                                                    type=\"date\" name=\"birthdate\" value={pet.birthdate}\r\n                                                    onChange={this.onChangePet} noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.birthdate) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">\r\n                                                    Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                                </label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <select className=\"form-control\" name=\"petClass\"\r\n                                                    value={pet.petClass} noValidate disabled >\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            petClasses.length > 0 ?\r\n                                                            petClasses.map(value =>\r\n                                                                <option key={value} value={value}>{value}</option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select> :\r\n                                                    <select className={this.inputFieldClasses(petErrors.petClass)}\r\n                                                    name=\"petClass\" value={pet.petClass} onChange={this.onChangePet}\r\n                                                    noValidate>\r\n                                                        <option value=''>Choose one</option>\r\n                                                        {\r\n                                                            petClasses.length > 0 ?\r\n                                                            petClasses.map(value =>\r\n                                                                <option key={value} value={value}>{value}</option>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    </select>\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.petClass) }\r\n                                            </div>\r\n\r\n                                            <div className=\"form-group col-lg-6\">\r\n                                                <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                                {\r\n                                                    submitted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                                    value={pet.pcciRegNo} maxLength=\"6\" placeholder=\"(Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(petErrors.pcciRegNo)}\r\n                                                    type=\"text\" name=\"pcciRegNo\" value={pet.pcciRegNo}\r\n                                                    onChange={this.onChangePet} maxLength=\"6\"\r\n                                                    placeholder=\"(Optional)\" noValidate />\r\n                                                }\r\n                                                { this.renderRecordErrors(petErrors.pcciRegNo) }\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        this.props.connected && !submitted ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddCustomerModal;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewCustomerModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddress:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            email: '@yahoo.com',\r\n            userPassword: ''\r\n        },\r\n        confirmUserPassword: '',\r\n        errors:\r\n        {\r\n            lastName: '',\r\n            firstName: '',\r\n            middleName: '',\r\n            homeAddressErrors:\r\n            {\r\n                lotBlock: '',\r\n                street: '',\r\n                subdivision: '',\r\n                barangay: '',\r\n                municipality: '',\r\n                province: ''\r\n            },\r\n            birthdate: '',\r\n            mobileNumber: '',\r\n            emailAddress: '',\r\n            userPassword: '',\r\n            confirmUserPassword: ' ',\r\n        },\r\n        passwordState:\r\n        {\r\n            inputType: 'password',\r\n            buttonText: 'Show'\r\n        },\r\n        deleteState: false,\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false,\r\n        deleting: false,\r\n        deleted: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { customer } = this.props;\r\n        const record = {...this.state.record};\r\n        record.id = customer.id;\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName;\r\n        record.homeAddress.lotBlock = customer.lotBlock;\r\n        record.homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        record.homeAddress.subdivision = customer.subdivision;\r\n        record.homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        record.homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        record.homeAddress.province = customer.province;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"mobileNumber\" && name !== \"emailAddress\" && name !== \"userPassword\") {\r\n            value = name === \"lastName\" ?\r\n            this.toProperCase(value) :\r\n            this.toAbsProperCase(value);\r\n        }\r\n\r\n        if(name === \"emailAddress\") value = this.removeSpaces(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmUserPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lastName':\r\n                errors.lastName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'firstName':\r\n                errors.firstName=   properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'middleName':\r\n                errors.middleName=  properLength > 24 ?\r\n                                    \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'birthdate':\r\n                errors.birthdate=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'mobileNumber':\r\n                errors.mobileNumber=    value.length === 0 ? \" \" :\r\n                                        !isNumeric(value) ? \"Please input a valid value\" :\r\n                                        value.length < 10 ? \"Must be at exact 10 numbers\" : \"\"\r\n                                        \r\n                break;\r\n\r\n            case 'emailAddress':\r\n                errors.emailAddress=    value.length === 0 ? \" \" :\r\n                                        value.length < 8 || value.length > 24 ?\r\n                                        \"Must be at between 8 and 24 characters\" :\r\n                                        !this.isValidEmail(value) ?\r\n                                        \"Please input a valid value\" :\r\n                                        this.emailAddressExists() ?\r\n                                        \"Already in use\" : \"\"\r\n                break;\r\n            \r\n            case 'email':\r\n            errors.emailAddress=    record.emailAddress.length === 0 ? \" \" :\r\n                                    record.emailAddress.length < 8 || record.emailAddress.length > 24 ?\r\n                                    \"Must be at between 8 and 24 characters\" :\r\n                                    !this.isValidEmail(record.emailAddress) ?\r\n                                    \"Please input a valid value\" :\r\n                                    this.emailAddressExists() ?\r\n                                    \"Already in use\" : \"\"\r\n                break;\r\n\r\n            case 'userPassword':\r\n                errors.userPassword=        value.length === 0 ? \" \" :\r\n                                            value.length < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmUserPassword= value === confirmUserPassword ? \r\n                                            confirmUserPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmUserPassword':\r\n                errors.confirmUserPassword= value.length === 0 ? \" \" :\r\n                                            value === record.userPassword ?\r\n                                            value.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    emailAddressExists = () => {\r\n        const { record } = this.state;\r\n        const { customer, customers } = this.props;\r\n\r\n        const result = customers.filter(row =>\r\n            (row.emailAddress + row.email).toLowerCase() ===\r\n            (record.emailAddress + record.email).toLowerCase() &&\r\n            (row.emailAddress + row.email).toLowerCase() !==\r\n            (customer.emailAddress + customer.email).toLowerCase()\r\n        )\r\n\r\n        if(result.length > 0) return true;\r\n        return false;\r\n    }\r\n    \r\n    isValidEmail = value => {\r\n        const emailPattern = new RegExp(/^[a-zA-Z0-9!#$%^&*.?_-]+$/);\r\n        return emailPattern.test(value);\r\n    }\r\n\r\n    onChangeHomeAddress = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = this.toProperCase(value);\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                homeAddress: {\r\n                    ...currentState.record.homeAddress,\r\n                    [name]: value\r\n                }\r\n            }\r\n        }), () => this.onCheckHomeAddressErrors(e))\r\n    }\r\n\r\n    onCheckHomeAddressErrors = e => {\r\n        const { name, value } = e.target;\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'lotBlock':\r\n                homeAddressErrors.lotBlock= value.length > 12 ?\r\n                                            \"Lot/Block must be at maximum of 12 characters\" : \"\"\r\n                break;\r\n\r\n            case 'street':\r\n                homeAddressErrors.street=   properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 24 ?\r\n                                            \"Street must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'subdivision':\r\n                homeAddressErrors.subdivision=  value.length > 24 ?\r\n                                                \"Subdivision must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'barangay':\r\n                homeAddressErrors.barangay= properLength === 0 ? \" \" :\r\n                                            properLength < 2  || value.length > 24 ?\r\n                                            \"Barangay must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'municipality':\r\n                homeAddressErrors.municipality= properLength === 0 ? \" \" :\r\n                                                properLength < 2 || value.length > 24 ?\r\n                                                \"Municipality must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n            \r\n            case 'province':\r\n                homeAddressErrors.province= value.length > 24 ?\r\n                                            \"Province must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                homeAddressErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.lastName = this.removeLastSpace(record.lastName);\r\n            record.firstName = this.removeLastSpace(record.firstName);\r\n            record.middleName = this.removeLastSpace(record.middleName);\r\n            record.homeAddress.lotBlock = this.removeLastSpace(record.homeAddress.lotBlock);\r\n            record.homeAddress.street = this.removeLastSpace(record.homeAddress.street);\r\n            record.homeAddress.subdivision = this.removeLastSpace(record.homeAddress.subdivision);\r\n            record.homeAddress.barangay = this.removeLastSpace(record.homeAddress.barangay);\r\n            record.homeAddress.municipality = this.removeLastSpace(record.homeAddress.municipality);\r\n            record.homeAddress.province = this.removeLastSpace(record.homeAddress.province);\r\n            \r\n            let mbNo = [];\r\n            mbNo.push(\"+63\" + record.mobileNumber.substring(0, 3));\r\n            mbNo.push(record.mobileNumber.substring(3, 6));\r\n            mbNo.push(record.mobileNumber.substring(6, 10));\r\n            record.mobileNumber = mbNo.join('-');\r\n\r\n            if(this.state.passwordState.inputType === \"text\") {\r\n                this.onTogglePassword()\r\n            }\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateCustomer.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const confirmUserPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmUserPassword = ' '\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ errors, confirmUserPassword, submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        Object.values(errors.homeAddressErrors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(!this.isObject(value)) {\r\n                    if(value.length > 0) {\r\n                        errorItems.push (\r\n                            <div key={errorItems.length}\r\n                                className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                <span>{value}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n                    Object.values(value).forEach(value => {\r\n                        if(!this.isObject(value)) {\r\n                            if(value.length > 0) {\r\n                                errorItems.push (\r\n                                    <div key={errorItems.length}\r\n                                        className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>{value}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    isObject = data => {\r\n        return(data instanceof Object);\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    renderHomeAddressErrors = homeAddressErrors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(homeAddressErrors).forEach(value => {\r\n                if(value.length > 0 && value !== ' ') {\r\n                    errorItems.push(\r\n                        <small className=\"text-danger ml-3\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                            {value}\r\n                        </small>\r\n                    )\r\n                }\r\n            })\r\n            return ([errorItems]);\r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const homeAddress = {...this.state.record.homeAddress};\r\n\r\n        const errors = {...this.state.errors};\r\n        const homeAddressErrors = {...this.state.errors.homeAddressErrors};\r\n\r\n        const { customer } = this.props;\r\n\r\n        const confirmUserPassword = '';\r\n        const deleteState = false;\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { passwordState } = this.state;\r\n\r\n        passwordState.buttonText = \"Show\";\r\n        passwordState.inputType = \"password\";\r\n\r\n        homeAddress.lotBlock = customer.lotBlock;\r\n        homeAddress.street = customer.street.substring(0, customer.street.length - 4);\r\n        homeAddress.subdivision = customer.subdivision;\r\n        homeAddress.barangay = customer.barangay.substring(6, customer.barangay.length);\r\n        homeAddress.municipality =   customer.municipality\r\n                                            .substring(0, customer.municipality.length - 5);\r\n        homeAddress.province = customer.province;\r\n\r\n        record.lastName = customer.lastName;\r\n        record.firstName = customer.firstName;\r\n        record.middleName = customer.middleName\r\n        record.homeAddress = homeAddress;\r\n        record.birthdate = customer.birthdate;\r\n        let mobileNumber = customer.mobileNumber.split('-');\r\n        mobileNumber = mobileNumber.join('');\r\n        mobileNumber = mobileNumber.substring(3, mobileNumber.length);\r\n        record.mobileNumber = mobileNumber;\r\n        record.emailAddress = customer.emailAddress;\r\n        record.email = customer.email;\r\n        record.userPassword = customer.userPassword;\r\n\r\n        homeAddressErrors.lotBlock = '';\r\n        homeAddressErrors.street = '';\r\n        homeAddressErrors.subdivision = '';\r\n        homeAddressErrors.barangay = '';\r\n        homeAddressErrors.municipality = '';\r\n        homeAddressErrors.province = '';\r\n\r\n        errors.lastName = '';\r\n        errors.firstName = '';\r\n        errors.middleName = ''\r\n        errors.homeAddressErrors = homeAddressErrors;\r\n        errors.birthdate = ''\r\n        errors.mobileNumber = '';\r\n        errors.emailAddress = '';\r\n        errors.userPassword = '';\r\n        errors.confirmUserPassword = ' ';\r\n\r\n        this.setState({ record, confirmUserPassword, errors, passwordState, deleteState, submitError, updated, failed });\r\n    }\r\n\r\n    onTogglePassword = () => {\r\n        const passwordState = {...this.state.passwordState};\r\n        if(passwordState.inputType === 'password') {\r\n            passwordState.inputType = 'text';\r\n            passwordState.buttonText = 'Hide';\r\n        }\r\n        else {\r\n            passwordState.inputType = 'password';\r\n            passwordState.buttonText = 'Show';\r\n        }\r\n        this.setState({ passwordState });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmUserPassword, passwordState, deleteState, submitted, updated, failed, deleting, deleted } = this.state;\r\n        const { homeAddress } = this.state.record;\r\n        const { homeAddressErrors } = errors;\r\n        const { customer } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewCustomerModal-\" + customer.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewCustomerrModalTitle-\" + customer.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewCustomerModalTitle-\" + customer.id}>View Customer</h5>\r\n                                {\r\n                                    (!submitted && this.props.connected) || deleted ?\r\n                                    <button id={\"btnClose-\" + customer.id}\r\n                                    className=\"btn btn-light text-danger p-1\"\r\n                                    data-dismiss=\"modal\" onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> :\r\n                                    deleting ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-trash text-primary mr-2\"></i>\r\n                                        <span>Deleting a record...</span>\r\n                                    </div> :\r\n                                    deleted ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully deleted.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"lastName\"\r\n                                            value={record.lastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.lastName)}\r\n                                            type=\"text\" name=\"lastName\" value={record.lastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.lastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"firstName\"\r\n                                            value={record.firstName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.firstName)}\r\n                                            type=\"text\" name=\"firstName\" value={record.firstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.firstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"middleName\"\r\n                                            value={record.middleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.middleName)}\r\n                                            type=\"text\" name=\"middleName\" value={record.middleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.middleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-12\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Home Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"row mx-0\">\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted || deleting || deleted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"lotBlock\"\r\n                                                    value={homeAddress.lotBlock} placeholder=\"Lot/Block (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.lotBlock)}\r\n                                                    type=\"text\" name=\"lotBlock\" value={homeAddress.lotBlock}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Lot/Block (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-3 col-md-6 input-group px-0\">\r\n                                            {\r\n                                                    submitted || deleting || deleted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"street\"\r\n                                                    value={homeAddress.street} placeholder=\"Street\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.street)}\r\n                                                    type=\"text\" name=\"street\" value={homeAddress.street}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Street\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">St.</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-6 input-group px-0\">\r\n                                                {\r\n                                                    submitted || deleting || deleted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"subdivision\"\r\n                                                    value={homeAddress.subdivision} placeholder=\"Subdivision (Optional)\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.subdivision)}\r\n                                                    type=\"text\" name=\"subdivision\" value={homeAddress.subdivision}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Subdivision (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                <div className=\"input-group-prepend\">\r\n                                                    <span className=\"input-group-text\">Brgy.</span>\r\n                                                </div>\r\n                                                {\r\n                                                    submitted || deleting || deleted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"barangay\"\r\n                                                    value={homeAddress.barangay} placeholder=\"Barangay\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.barangay)}\r\n                                                    type=\"text\" name=\"barangay\" value={homeAddress.barangay}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Barangay\" noValidate />\r\n                                                }\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted || deleting || deleted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"municipality\"\r\n                                                    value={homeAddress.municipality} placeholder=\"Municipality\" noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.municipality)}\r\n                                                    type=\"text\" name=\"municipality\" value={homeAddress.municipality}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Municipality\" noValidate />\r\n                                                }\r\n                                                <div className=\"input-group-append\">\r\n                                                    <span className=\"input-group-text\">City</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-lg-4 input-group px-0\">\r\n                                                {\r\n                                                    submitted || deleting || deleted ?\r\n                                                    <input className=\"form-control\" type=\"text\" name=\"province\"\r\n                                                    value={homeAddress.province} placeholder=\"Province (Optional)\"\r\n                                                    noValidate disabled /> :\r\n                                                    <input className={this.inputFieldClasses(homeAddressErrors.province)}\r\n                                                    type=\"text\" name=\"province\" value={homeAddress.province}\r\n                                                    onChange={this.onChangeHomeAddress}\r\n                                                    placeholder=\"Province (Optional)\" noValidate />\r\n                                                }\r\n                                            </div>\r\n                                        </div> { this.renderHomeAddressErrors(homeAddressErrors) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate}  noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-3\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Mobile Number<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group px-0\">\r\n                                            <span className=\"input-group-text\">+63</span>\r\n                                            {\r\n                                                submitted || deleting || deleted ?\r\n                                                <input className=\"form-control\" type=\"tel\" maxLength=\"10\"\r\n                                                name=\"mobileNumber\" value={record.mobileNumber} onChange={this.onChangeRecord}\r\n                                                noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.mobileNumber)}\r\n                                                type=\"tel\" maxLength=\"10\" name=\"mobileNumber\" value={record.mobileNumber}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.mobileNumber) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Email Address<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                    {\r\n                                                        submitted || deleting || deleted ?\r\n                                                        <input className=\"w-xs-100 form-control\" type=\"text\"\r\n                                                        name=\"emailAddress\" value={record.emailAddress} noValidate disabled /> :\r\n                                                        <input className={\"w-xs-100 \" + this.inputFieldClasses(errors.emailAddress)}\r\n                                                        type=\"text\" name=\"emailAddress\"  value={record.emailAddress}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    }\r\n                                                    <div className=\"input-group-append justify-content-end\">\r\n                                                        <span className=\"input-group-text\">@</span>\r\n                                                        {\r\n                                                            submitted || deleting || deleted ?\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email} noValidate disabled>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select> :\r\n                                                            <select className=\"input-group-text form-control\"\r\n                                                            name=\"email\" value={record.email}\r\n                                                            onChange={this.onChangeRecord} noValidate>\r\n                                                                <option value=\"@yahoo.com\">yahoo.com</option>\r\n                                                                <option value=\"@gmail.com\">gmail.com</option>\r\n                                                                <option value=\"@outlook.com\">outlook.com</option>\r\n                                                            </select>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                { this.renderRecordErrors(errors.emailAddress) }\r\n                                                <div>\r\n                                                    <small className=\"text-success ml-2\">\r\n                                                        <i className=\"fa fa-info-circle mr-1\"></i>\r\n                                                        <span>Valid Symbols:&nbsp;</span>\r\n                                                        <span>{\"!#$%^&*.?_-\"}</span>\r\n                                                    </small>\r\n                                                </div>\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.onRefresh}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted || deleting || deleted ?\r\n                                                <input className=\"zi-10 form-control\" type={passwordState.inputType}\r\n                                                name=\"userPassword\" value={record.userPassword} noValidate disabled /> :\r\n                                                <React.Fragment>\r\n                                                    <input className={\"zi-10 \" + this.inputFieldClasses(errors.userPassword)}\r\n                                                    type={passwordState.inputType} name=\"userPassword\" value={record.userPassword}\r\n                                                    onChange={this.onChangeRecord} noValidate />\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onTogglePassword}>\r\n                                                            {passwordState.buttonText}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </React.Fragment>\r\n                                            }\r\n                                        </div> { this.renderRecordErrors(errors.userPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmUserPassword\"\r\n                                            value={confirmUserPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmUserPassword)}\r\n                                            type=\"password\" name=\"confirmUserPassword\" value={confirmUserPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmUserPassword) }\r\n                                    </div>\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> :\r\n                                    deleting ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-trash text-primary mr-2\"></i>\r\n                                        <span>Deleting a record...</span>\r\n                                    </div> :\r\n                                    deleted ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully deleted.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            this.props.connected && !this.state.submitted &&\r\n            !this.state.deleting && !this.state.deleted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                {\r\n                    this.props.connected ?\r\n                    <button className=\"btn btn-danger w-auto mr-1\"\r\n                    onClick={this.onReset}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button> :\r\n                    <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                }\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n\r\n        this.props.onSubmitForm();\r\n        this.deletion();\r\n\r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deleteCustomer.php', record)\r\n        .then(this.postDelete)\r\n        .catch(error => {\r\n            console.log(error);\r\n            onRefresh();\r\n            this.failedDelete();\r\n        });\r\n    }\r\n\r\n    deletion = () => {\r\n        const deleteState = false;\r\n        const deleting = true;\r\n        this.setState({ deleteState, deleting });\r\n    }\r\n\r\n    postDelete = () => {\r\n        const deleting = false;\r\n        const deleted = true;\r\n        this.setState({ deleting, deleted }, () => {\r\n            setTimeout(() => {\r\n                document.getElementById(\"btnClose-\" + this.props.customer.id).click();\r\n                this.props.onRefresh();\r\n            }, 5000);\r\n        });\r\n    }\r\n\r\n    failedDelete = () => {\r\n        const deleting = false;\r\n        let failed = true;\r\n        this.setState({ deleting, failed }, () => {\r\n            setTimeout(() => {\r\n                failed = false;\r\n                this.setState({ failed });\r\n            }, 5000)\r\n        });\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeMultipleSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    result += value.charAt(i);\r\n                }\r\n            }\r\n            else {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewCustomerModal;","import axios from 'axios';\r\nimport { isNumeric } from 'jquery';\r\nimport React, { Component } from 'react';\r\n\r\nclass InitiateTransactionModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            transType: '',\r\n            transDate: '',\r\n            petId: '',\r\n            customerId: '',\r\n            petWeight: '',\r\n            remarks: '',\r\n            empId: '',\r\n            checkUp:\r\n            {\r\n                findings: '',\r\n                treatment: '',\r\n                admissionDate: '',\r\n                releasedDate: '',\r\n                addInfo: ''\r\n            },\r\n            groom:\r\n            {\r\n                activity: ''\r\n            }\r\n        },\r\n        errors:\r\n        {\r\n            transType: ' ',\r\n            petId: ' ',\r\n            customerId: ' ',\r\n            petWeight: ' ',\r\n            remarks: '',\r\n            empId: ' ',\r\n            checkUpErrors:\r\n            {\r\n                findings: ' ',\r\n                treatment: ' ',\r\n                addInfo: ''\r\n            },\r\n            groomErrors:\r\n            {\r\n                activity: ' '\r\n            }\r\n        },\r\n        pet:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        employee:\r\n        {\r\n            search: false,\r\n            searchValue: '',\r\n        },\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        const { customer } = this.props;\r\n\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n\r\n        record.customerId = customer.id;\r\n        errors.customerId = '';\r\n\r\n        const currentDate = this.getCurrentDate();\r\n        record.transDate = currentDate;\r\n        record.checkUp.admissionDate = currentDate;\r\n        record.checkUp.releasedDate = currentDate;\r\n\r\n        this.setState({ record, errors });\r\n    }\r\n\r\n    getCurrentDate = () => {\r\n        const dateObj = new Date(); \r\n        const currentMonth = dateObj.getMonth()+1 < 10 ? \"0\"+(dateObj.getMonth()+1) : dateObj.getMonth()+1\r\n        const currentDay = dateObj.getDate() < 10 ? \"0\"+dateObj.getDate() : dateObj.getDate() \r\n        const currentDate = dateObj.getFullYear() + \"-\" + currentMonth + \"-\" + currentDay;\r\n        return currentDate;\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n        \r\n        if(name === \"remarks\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n\r\n        if(name === 'transType') {\r\n            const checkUp = {...this.state.record.checkUp};\r\n            const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n\r\n            checkUp.findings = '';\r\n            checkUp.treatment = '';\r\n            const currentDate = this.getCurrentDate();\r\n            checkUp.admissionDate = currentDate;\r\n            checkUp.releasedDate = currentDate;\r\n            checkUp.addInfo = ''\r\n\r\n            checkUpErrors.findings = ' ';\r\n            checkUpErrors.treatment = ' ';\r\n            checkUpErrors.addInfo = ''\r\n\r\n            const groom = {...this.state.record.groom};\r\n            const groomErrors = {...this.state.errors.groomErrors};\r\n\r\n            groom.activity = '';\r\n            \r\n            groomErrors.activity = '';\r\n\r\n            this.setState(currentState => ({\r\n                ...currentState,\r\n                record: {\r\n                    ...currentState.record,\r\n                    checkUp,\r\n                    groom\r\n                },\r\n                errors: {\r\n                    ...currentState.errors,\r\n                    checkUpErrors,\r\n                    groomErrors\r\n                }\r\n            }))\r\n        }\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n\r\n        switch(name){\r\n            case 'transType':\r\n                errors.transType=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'empId':\r\n                errors.empId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'customerId':\r\n                errors.customerId=  value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petId':\r\n                errors.petId=   value.length === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'petWeight':\r\n                errors.petWeight=   value.length === 0 ? \" \" :\r\n                                    !isNumeric(value) ? \"Please input a valid value\" :\r\n                                    value.length > 6 ? \"Must be at maximum of 6 numbers\" : \"\"\r\n                break;\r\n\r\n            case 'remarks':\r\n            errors.remarks= value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n            break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onChangeCheckUp = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name !== \"admissionDate\" && name !== \"releasedDate\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                checkUp : {\r\n                    ...currentState.record.checkUp,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckCheckUpErrors(e))\r\n    }\r\n\r\n    onCheckCheckUpErrors = e => {\r\n        const { name, value } = e.target;\r\n        const checkUpErrors = {...this.state.errors.checkUpErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'findings':\r\n                checkUpErrors.findings= properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 128 ?\r\n                                        \"Must be at between 2 and 128 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            case 'treatment':\r\n                checkUpErrors.treatment=    properLength === 0 ? \" \" :\r\n                                            properLength < 2 || value.length > 128 ?\r\n                                            \"Must be at between 2 and 128 characters\" :\r\n                                            properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'addInfo':\r\n                checkUpErrors.addInfo=  value.length > 128 ? \"Must be at maximum of 128 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                checkUpErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onChangeGroom = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"activity\") {\r\n            value = this.toSentenceCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                groom : {\r\n                    ...currentState.record.groom,\r\n                    [name] : value\r\n                }\r\n            }\r\n        }), () => this.onCheckGroomErrors(e))\r\n    }\r\n\r\n    onCheckGroomErrors = e => {\r\n        const { name, value } = e.target;\r\n        const groomErrors = {...this.state.errors.groomErrors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'activity':\r\n                groomErrors.activity=   properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 32 ?\r\n                                        \"Must be at between 2 and 32 characters\" :\r\n                                        properLength === 0 ? \" \" : \"\" \r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            errors: {\r\n                ...currentState.errors,\r\n                groomErrors\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const record = {...this.state.record};\r\n\r\n            record.remarks = this.removeLastSpace(record.remarks);\r\n            record.checkUp.findings = this.removeLastSpace(record.checkUp.findings);\r\n            record.checkUp.treatment = this.removeLastSpace(record.checkUp.treatment);\r\n            record.checkUp.addInfo = this.removeLastSpace(record.checkUp.addInfo);\r\n            record.groom.activity = this.removeLastSpace(record.groom.activity);\r\n\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertTransaction.php', record)\r\n            .then(() => {\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n\r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        this.onReset();\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        const { record } = this.state;\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        if(record.transType === 'C') {\r\n            Object.values(errors.checkUpErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n        else if(record.transType === 'G') {\r\n            Object.values(errors.groomErrors).forEach(value => {\r\n                value.length > 0 && (valid = false);\r\n            });\r\n        }\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {        \r\n        const record = {...this.state.record};\r\n        const checkUp = {...this.state.record.checkUp};\r\n        const groom = {...this.state.record.groom};\r\n        const errors = {...this.state.errors};\r\n        const checkUpErrors = {...this.state.errors.checkUp};\r\n        const groomErrors = {...this.state.errors.groom};\r\n        \r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        const currentDate = this.getCurrentDate();\r\n\r\n        const id = this.generateCharacters(6);\r\n        groom.activity = '';\r\n        checkUp.findings = '';\r\n        checkUp.treatment = '';\r\n        checkUp.admissionDate = currentDate;\r\n        checkUp.releasedDate = currentDate;\r\n        checkUp.addInfo = '';\r\n\r\n        record.id = id;\r\n        record.transType = '';\r\n        record.transDate = currentDate;\r\n        record.petId = ''\r\n        record.petWeight = '';\r\n        record.remarks = '';\r\n        record.empId = '';\r\n        record.checkUp = checkUp;\r\n        record.groom = groom;\r\n\r\n        groomErrors.activity = ' ';\r\n        checkUpErrors.findings = ' ';\r\n        checkUpErrors.treatment = ' ';\r\n        checkUpErrors.addInfo = '';\r\n\r\n        errors.transType = ' ';\r\n        errors.petId = ' '\r\n        errors.customerId = ' ';\r\n        errors.remarks = '';\r\n        errors.empId = ' ';\r\n        errors.checkUpErrors = checkUpErrors;\r\n        errors.groomErrors = groomErrors;\r\n\r\n        this.setState({ record, errors, submitError, added, failed});\r\n    }\r\n\r\n    onTogglePetSearch = e => {\r\n        e.preventDefault();\r\n        const pet = {...this.state.pet};\r\n        pet.search = !pet.search;\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onClearPetSearch = e => {\r\n        e.preventDefault();\r\n        const pet = {...this.state.pet};\r\n        pet.searchValue = ''\r\n        this.setState({ pet });\r\n    }\r\n\r\n    onChangePetSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.petId = '';\r\n        errors.petId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            pet: {\r\n                ...currentState.pet,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onToggleEmployeeSearch = e => {\r\n        e.preventDefault();\r\n        const employee = {...this.state.employee};\r\n        employee.search = !employee.search;\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onClearEmployeeSearch = e => {\r\n        e.preventDefault();\r\n        const employee = {...this.state.employee};\r\n        employee.searchValue = ''\r\n        this.setState({ employee });\r\n    }\r\n\r\n    onChangeEmployeeSearch = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        record.empId = '';\r\n        errors.empId = ' ';\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            employee: {\r\n                ...currentState.employee,\r\n                [name] : value\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, pet, employee, submitted, added, failed } = this.state;\r\n        const { customer } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"addTransactionModal-\"+customer.id} tabIndex=\"-1\" role=\"dialog\"\r\n                    aria-labelledby={\"addTransactionModalTitle-\"+customer.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"addTransactionModalTitle-\"+customer.id}>\r\n                                    {\"Add Transaction for \" + customer.id + \" | \"\r\n                                    + customer.lastName + \", \" + customer.firstName + \" \" + customer.middleName}\r\n                                </h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Date\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"transDate\"\r\n                                            value={record.transDate} noValidate disabled /> :\r\n                                            <input className=\"form-control border border-success\"\r\n                                            type=\"date\" name=\"transDate\" value={record.transDate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Transaction Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"transType\"\r\n                                            value={record.transType} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.transType)}\r\n                                            name=\"transType\" value={record.transType} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                <option value='C'>Check-up</option>\r\n                                                <option value='G'>Groom</option>\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.transType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.employeeConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"zi-10 form-control\" name=\"empId\"\r\n                                                        value={record.empId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.employees.length > 0 ?\r\n                                                                this.props.employees.filter(row =>\r\n                                                                    (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                    .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                    employee.searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.empId)}\r\n                                                            name=\"empId\" value={record.empId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.employees.length > 0 ?\r\n                                                                    this.props.employees.filter(row =>\r\n                                                                        (row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName)\r\n                                                                        .toLowerCase().match(employee.searchValue.toLowerCase()) ||\r\n                                                                        employee.searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.empLastName + \", \" + row.empFirstName + \" \" + row.empMiddleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleEmployeeSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    employee.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={employee.searchValue} onChange={this.onChangeEmployeeSearch}\r\n                                                        placeholder=\"Search by Employee Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearEmployeeSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.empId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.employeeConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryEmployeesData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Customer Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <input className=\"form-control\" name=\"customerId\"\r\n                                        value={record.customerId} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.petConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"zi-10 form-control\" name=\"petId\"\r\n                                                        value={record.petId} noValidate disabled>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer Id is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <select className={\"zi-10 \" + this.inputFieldClasses(errors.petId)}\r\n                                                        name=\"petId\" value={record.petId} onChange={this.onChangeRecord}\r\n                                                        noValidate>\r\n                                                            {\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).length > 0 || pet.searchValue.length > 0 ?\r\n                                                                <option value=''>Choose one</option> :\r\n                                                                record.customerId.length > 0 ?\r\n                                                                <option value=''>No pet found</option> :\r\n                                                                <option value=''>Customer Id is required</option>\r\n                                                            }\r\n                                                            {\r\n                                                                this.props.pets.length > 0 ?\r\n                                                                this.props.pets.filter(row =>\r\n                                                                    (row.petName.toLowerCase().match(pet.searchValue.toLowerCase()) && row.ownerId === record.customerId) ||\r\n                                                                    (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.petName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select>\r\n                                                    }\r\n                                                    {\r\n                                                        (this.props.pets.filter(row =>\r\n                                                            (row.petName.match(pet.searchValue) && row.ownerId === record.customerId) ||\r\n                                                            (pet.searchValue === '' && row.ownerId === record.customerId)\r\n                                                        ).length > 0 || pet.searchValue.length > 0) && !submitted ?\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onTogglePetSearch}>\r\n                                                                Search\r\n                                                            </button>\r\n                                                        </div> : null\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    pet.search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={pet.searchValue} onChange={this.onChangePetSearch}\r\n                                                        placeholder=\"Search by Pet Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearPetSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.petId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.customerConnectionFailed ?\r\n                                            <div className=\"input-group d-block d-sm-flex px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryPetsData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Weight<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted ?\r\n                                                <input className=\"form-control\" type=\"text\" name=\"petWeight\"\r\n                                                value={record.petWeight} noValidate disabled /> :\r\n                                                <input className={this.inputFieldClasses(errors.petWeight)}\r\n                                                type=\"text\" name=\"petWeight\" value={record.petWeight}\r\n                                                onChange={this.onChangeRecord} noValidate />\r\n                                            }\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">Kilogram</span>\r\n                                            </div>\r\n                                        </div>{ this.renderRecordErrors(errors.petWeight) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Remarks\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <textarea className=\"form-control\" type=\"text\" name=\"remarks\"\r\n                                            value={record.remarks} rows=\"2\" noValidate disabled /> :\r\n                                            <textarea className={this.inputFieldClasses(errors.remarks)}\r\n                                            type=\"text\" name=\"remarks\" value={record.remarks}\r\n                                            onChange={this.onChangeRecord} rows=\"2\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.remarks) }\r\n                                    </div>\r\n                                    {\r\n                                        record.transType === 'C' ?\r\n                                        this.checkUpForm() :\r\n                                        record.transType === 'G' ?\r\n                                        this.groomForm() : null\r\n                                    }\r\n                                </form>\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mt-3 mb-1 d-lg-none\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted && this.props.petConnected &&\r\n                                        this.props.employeeConnected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    checkUpForm = () => {\r\n        const { submitted } = this.state;\r\n        const { checkUp } = this.state.record;\r\n        const { checkUpErrors } = this.state.errors;\r\n\r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Findings<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"findings\"\r\n                            value={checkUp.findings} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(checkUpErrors.findings)}\r\n                            type=\"text\" name=\"findings\" value={checkUp.findings}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.findings) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Treatment<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"treatment\"\r\n                            value={checkUp.treatment} noValidate disabled /> :\r\n                            <input className={this.inputFieldClasses(checkUpErrors.treatment)}\r\n                            type=\"text\" name=\"treatment\" value={checkUp.treatment}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.treatment) }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Admission Date<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"date\" name=\"admissionDate\"\r\n                            value={checkUp.admissionDate} noValidate disabled /> :\r\n                            <input className=\"form-control border border-success\"\r\n                            type=\"date\" name=\"admissionDate\" value={checkUp.admissionDate}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-lg-6\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Released Date<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"date\" name=\"releasedDate\"\r\n                            value={checkUp.releasedDate} noValidate disabled /> :\r\n                            <input className=\"form-control border border-success\"\r\n                            type=\"date\" name=\"releasedDate\" value={checkUp.releasedDate}\r\n                            onChange={this.onChangeCheckUp} noValidate />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Additional Information\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <textarea className=\"form-control\" type=\"text\" name=\"addInfo\"\r\n                            value={checkUp.addInfo} rows=\"2\" noValidate /> :\r\n                            <textarea className={this.inputFieldClasses(checkUpErrors.addInfo)}\r\n                            type=\"text\" name=\"addInfo\" value={checkUp.addInfo}\r\n                            onChange={this.onChangeCheckUp} rows=\"2\" noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(checkUpErrors.addInfo) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    groomForm = () => {\r\n        const { submitted } = this.state;\r\n        const { groom } = this.state.record;\r\n        const { groomErrors } = this.state.errors;\r\n        \r\n        return(\r\n            <div className=\"col-12 sub-form bt-1 mt-3\">\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"form-group col\">\r\n                        <label className=\"m-0 ml-2\">\r\n                            Activity<span className=\"text-danger ml-1\">*</span>\r\n                        </label>\r\n                        {\r\n                            submitted ?\r\n                            <input className=\"form-control\" type=\"text\" name=\"activity\"\r\n                            value={groom.activity} noValidate /> :\r\n                            <input className={this.inputFieldClasses(groomErrors.activity)}\r\n                            type=\"text\" name=\"activity\" value={groom.activity}\r\n                            onChange={this.onChangeGroom} noValidate />\r\n                        }\r\n                        { this.renderRecordErrors(groomErrors.activity) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    toSentenceCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                if(i !== 0 && value.charAt(i-1) === \".\") {\r\n                    isCapital = true;\r\n                }\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n}\r\n \r\nexport default InitiateTransactionModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination.js';\r\nimport AddCustomerModal from './AddCustomerModal.js';\r\nimport ViewCustomerModal from './ViewCustomerModal.js';\r\nimport InitiateTransactionModal from './InitiateTransactionModal.js'\r\n\r\nclass CustomersTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (customers) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = customers.length <= recordStartIndex + recordsPerPage ?\r\n        customers.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={customers[i].id} className=\"table-row\">\r\n                    <td>{customers[i].lastName + \", \" + customers[i].firstName + \" \" + customers[i].middleName}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{customers[i].emailAddress+customers[i].email}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{customers[i].mobileNumber}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">{customers[i].noOfPets}</td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewCustomerModal-\" + customers[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"d-none d-sm-inline ml-1\">View</span>\r\n                        </button>\r\n                        <button className=\"btn btn-outline-primary btn-sm\"\r\n                        data-toggle=\"modal\" data-target={\"#addTransactionModal-\" + customers[i].id}>\r\n                            <i className=\"fa fa-pencil-alt\"></i>\r\n                            <span className=\"d-none d-sm-inline ml-1\">Transact</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { customers, onRefresh, onSearch, searchValue, onClear, connected, connectionFailed, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        const { pets, retryPetsData, petConnected, petConnectionFailed } = this.props;\r\n        const { employees, retryEmployeesData, employeeConnected, employeeConnectionFailed } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addCustomerModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue} ></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th className=\"min-w-170px\">Name</th>\r\n                            <th className=\"d-none d-md-table-cell\">Email Address</th>\r\n                            <th className=\"d-none d-lg-table-cell w-155px\">Mobile Number</th>\r\n                            <th className=\"d-none d-sm-table-cell w-30px\">Pets</th>\r\n                            <th className=\"w-190px min-w-95px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            customers.length > 0 && connected ?\r\n                            this.renderItems(customers) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    customers.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={customers.length} /> : null\r\n                }\r\n                <AddCustomerModal onRefresh={onRefresh} customers={customers}\r\n                connected={connected} connectionFailed={connectionFailed} onSubmitForm={onSubmitForm} />\r\n                { customers.map(customer => \r\n                    <React.Fragment key={customer.id}>\r\n                        <ViewCustomerModal customer={customer} onRefresh={onRefresh} customers={customers}\r\n                        connected={connected} connectionFailed={connectionFailed} onSubmitForm={onSubmitForm} />\r\n                        <InitiateTransactionModal customer={customer}\r\n                        pets={pets} retryPetsData={retryPetsData}\r\n                        petConnected={petConnected} petConnectionFailed={petConnectionFailed}\r\n                        employees={employees} retryEmployeesData={retryEmployeesData}\r\n                        employeeConnected={employeeConnected} employeeConnectionFailed={employeeConnectionFailed} />\r\n                    </React.Fragment>\r\n                ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default CustomersTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport CustomersTable from './CustomersTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManageCustomers extends Component {\r\n    state = {\r\n        customers: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\",\r\n        pets: [],\r\n        petConnected: false,\r\n        petConnectionFailed: false,\r\n        employees: [],\r\n        employeeConnected: false,\r\n        employeeConnectionFailed: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n        this.getPetsData();\r\n        this.getEmployeesData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={3} activeId={5} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5\">\r\n                            <h3>Manage Customers</h3>\r\n                            <CustomersTable customers={this.state.customers}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} connectionFailed={this.state.connectionFailed} onSubmitForm={this.onSubmitForm}\r\n                            pets={this.state.pets} retryPetsData={this.retryPetsData}\r\n                            petConnected={this.state.petConnected} petConnectionFailed={this.state.petConnectionFailed}\r\n                            employees={this.state.employees} retryEmployeesData={this.retryEmployeesData}\r\n                            employeeConnected={this.state.employeeConnected} employeeConnectionFailed={this.state.employeeConnectionFailed} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.customers.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const connected = true;\r\n            this.setState({ customers, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchCustomer.php?search='+searchValue)\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const connected = true;\r\n            this.setState({ customers, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n\r\n    retryPetsData = () => {\r\n        this.getPetsData();\r\n        const petConnected = false;\r\n        const petConnectionFailed = false;\r\n        this.setState({ petConnected, petConnectionFailed })\r\n    }\r\n\r\n    getPetsData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php')\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const petConnected = true\r\n            this.setState({ pets, petConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const petConnectionFailed = true;\r\n            this.setState({ petConnectionFailed });\r\n        });\r\n    }\r\n\r\n    retryEmployeesData = () => {\r\n        this.getEmployeesData();\r\n        const employeeConnected = false;\r\n        const employeeConnectionFailed = false;\r\n        this.setState({ employeeConnected, employeeConnectionFailed })\r\n    }\r\n\r\n    getEmployeesData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const employeeConnected = true\r\n            this.setState({ employees, employeeConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const employeeConnectionFailed = true;\r\n            this.setState({ employeeConnectionFailed });\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManageCustomers;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: ' ',\r\n            birthdate: ' ',\r\n            ownerId: ' ',\r\n            petClass: ' ',\r\n            pcciRegNo: ''\r\n        },\r\n        petClasses:\r\n        [ 'Alligator', 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Crab', 'Crocodile', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Fox', 'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Gorilla', 'Grasshopper', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Jaguar', 'Lion', 'Lizard', 'Mantis', 'Monkey', 'Mouse', 'Octopus', 'Orangutan', 'Orstrich', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake', 'Spider', 'Squirrel', 'Tiger', 'Tortoise', 'Turtle', 'Wolf', 'Whale', 'Zebra' ],\r\n        search: false,\r\n        searchValue: '',\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        if(name === \"searchValue\") {\r\n            record.ownerId = '';\r\n            errors.ownerId = ' ';\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertPet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        this.onGenerateId();\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n        \r\n        const submitError = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.petName = '';\r\n        record.birthdate = '';\r\n        record.ownerId = '';\r\n        record.petClass = '';\r\n        record.pcciRegNo = '';\r\n\r\n        errors.petName = 'Pet Name is required';\r\n        errors.birthdate = 'Birthdate is required';\r\n        errors.ownerId = 'Owner Id is required'\r\n        errors.petClass = 'Pet Class is required';\r\n        errors.pcciRegNo = '';\r\n\r\n        const searchValue = '';\r\n\r\n        this.setState({ record, errors, searchValue, submitError, added, failed });\r\n    }\r\n\r\n    onToggleSearch = e => {\r\n        e.preventDefault();\r\n        const search = !this.state.search;\r\n        const searchValue = '';\r\n        this.setState({ search, searchValue });\r\n    }\r\n\r\n    onClearSearch = e => {\r\n        e.preventDefault();\r\n        const searchValue = '';\r\n        this.setState({ searchValue });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, search, searchValue, submitted, added, failed } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addPetModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"addPetModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addPetModalTitle\">Add Pet</h5>\r\n                                {\r\n                                    !submitted ?\r\n                                    <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> : null\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>\r\n                                                        Generate\r\n                                                    </button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                            value={record.petName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.petName)}\r\n                                            type=\"text\" name=\"petName\" value={record.petName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.connected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted ?\r\n                                                        <select className=\"form-control\" name=\"ownerId\"\r\n                                                        value={record.ownerId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.records.length > 0 ?\r\n                                                                this.props.records.filter(row =>\r\n                                                                    (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                    .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                    searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.ownerId)}\r\n                                                            name=\"ownerId\" value={record.ownerId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.records.length > 0 ?\r\n                                                                    this.props.records.filter(row =>\r\n                                                                        (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                        .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                        searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    search && !submitted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={searchValue} onChange={this.onChangeState}\r\n                                                        placeholder=\"Search by Owner Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.ownerId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.connectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"petClass\"\r\n                                            value={record.petClass} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.petClass)}\r\n                                            name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                            value={record.pcciRegNo} maxLength=\"6\" placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                            type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                            onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    {\r\n                                        !submitted && this.props.connected ?\r\n                                        <React.Fragment>\r\n                                            <button className=\"btn btn-primary w-auto mr-1\"\r\n                                            onClick={this.onSubmit}>\r\n                                                <i className=\"fa fa-sign-in-alt\"></i>\r\n                                                <span className=\"ml-1\">Submit</span>\r\n                                            </button>\r\n                                            <button className=\"btn btn-danger w-auto\"\r\n                                            onClick={this.onReset}>\r\n                                                <i className=\"fa fa-eraser\"></i>\r\n                                                <span className=\"ml-1\">Reset</span>\r\n                                            </button>\r\n                                        </React.Fragment> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const records = res.data;\r\n            const connected = true;\r\n            this.setState({ records, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed });\r\n        });\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddPetModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewPetModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            lastVisit: '',\r\n            pcciRegNo: ''\r\n        },\r\n        errors:\r\n        {\r\n            petName: '',\r\n            birthdate: '',\r\n            ownerId: '',\r\n            petClass: '',\r\n            pcciRegNo: ''\r\n        },\r\n        petClasses:\r\n        [ 'Alligator', 'Alpaca', 'Ant', 'Bear', 'Bird', 'Cat', 'Chicken', 'Crab', 'Crocodile', 'Dog', 'Dolphins', 'Duck', 'Elephant', 'Ferret', 'Fish',\r\n        'Fox', 'Frog', 'Gecko', 'Gerbil', 'Giraffe', 'Goat', 'Gorilla', 'Grasshopper', 'Guinea Pig', 'Hamster', 'Hedgehog', 'Hermit Crab', \r\n        'Horse', 'Jaguar', 'Lion', 'Lizard', 'Mantis', 'Monkey', 'Mouse', 'Octopus', 'Orangutan', 'Orstrich', 'Pig', 'Panda', 'Quill',\r\n        'Rabbit', 'Rat', 'Salamander', 'Sheep', 'Snake', 'Spider', 'Squirrel', 'Tiger', 'Tortoise', 'Turtle', 'Wolf', 'Whale', 'Zebra' ],\r\n        search: false,\r\n        searchValue: '',\r\n        deleteState: false,\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false,\r\n        deleting: false,\r\n        deleted: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { pet } = this.props;\r\n        const record = {...this.state.record};\r\n        \r\n        record.id = pet.id;\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.ownerId = pet.ownerId;\r\n        record.petClass = pet.petClass;\r\n        record.lastVisit = pet.lastVisit;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        if(name === \"searchValue\") {\r\n            record.ownerId = '';\r\n            errors.ownerId = ' ';\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record, errors,\r\n            [name]: value\r\n        }))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        value = name === \"petName\" ?\r\n        this.toAbsProperCase(value) :\r\n        name !== \"petClass\" ?\r\n        this.removeSpaces(value).toUpperCase() : value\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'petName':\r\n                errors.petName=    properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'birthdate':\r\n                errors.birthdate=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'ownerId':\r\n                errors.ownerId=  properLength === 0 ? \" \" : \"\"\r\n                break;\r\n            \r\n            case 'petClass':\r\n                errors.petClass=   properLength === 0 ? \" \" : \"\"\r\n                break;\r\n\r\n            case 'pcciRegNo':\r\n                errors.pcciRegNo=    value.length < 6 && value.length !== 0 ?\r\n                                        \"Must be at exact 6 characters\" : \"\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.petName = this.removeLastSpace(record.petName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updatePet.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const deleteState = false;\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { pet } = this.props;\r\n\r\n        record.petName = pet.petName;\r\n        record.birthdate = pet.birthdate;\r\n        record.ownerId = pet.ownerId;\r\n        record.petClass = pet.petClass;\r\n        record.pcciRegNo = pet.pcciRegNo;\r\n\r\n        errors.petName = '';\r\n        errors.birthdate = '';\r\n        errors.ownerId = '';\r\n        errors.petClass = '';\r\n        errors.pcciRegNo = '';\r\n\r\n        const searchValue = '';\r\n\r\n        this.setState({ record, errors, searchValue, deleteState, submitError, updated, failed });\r\n    }\r\n\r\n    onToggleSearch = e => {\r\n        e.preventDefault();\r\n        const search = !this.state.search;\r\n        this.setState({ search });\r\n    }\r\n\r\n    onClearSearch = e => {\r\n        e.preventDefault();\r\n        const searchValue = '';\r\n        this.setState({ searchValue });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, petClasses, search, searchValue, deleteState, submitted, updated, failed, deleting, deleted } = this.state;\r\n        const { pet } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewPetModal-\" + pet.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewPetModalTitle-\" + pet.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewPetModalTitle-\" + pet.id}>View Pet</h5>\r\n                                {\r\n                                    (!submitted && this.props.connected) || deleted ?\r\n                                    <button id={\"btnClose-\" + pet.id} className=\"btn btn-light text-danger p-1\"\r\n                                    data-dismiss=\"modal\" onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> :\r\n                                    deleting ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-trash text-primary mr-2\"></i>\r\n                                        <span>Deleting a record...</span>\r\n                                    </div> :\r\n                                    deleted ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully deleted.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id}\r\n                                            placeholder=\"Please click 'Generate'\"\r\n                                            noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"petName\"\r\n                                            value={record.petName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.petName)}\r\n                                            type=\"text\" name=\"petName\" value={record.petName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Birthdate<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"date\" name=\"birthdate\"\r\n                                            value={record.birthdate} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.birthdate)}\r\n                                            type=\"date\" name=\"birthdate\" value={record.birthdate}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.birthdate) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Owner Id<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            this.props.customerConnected ?\r\n                                            <React.Fragment>\r\n                                                <div className=\"input-group\">\r\n                                                    {\r\n                                                        submitted || deleting || deleted ?\r\n                                                        <select className=\"form-control\" name=\"ownerId\"\r\n                                                        value={record.ownerId} noValidate disabled>\r\n                                                            <option value=''>Choose one</option>\r\n                                                            {\r\n                                                                this.props.records.length > 0 ?\r\n                                                                this.props.records.filter(row =>\r\n                                                                    (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                    .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                    searchValue === ''\r\n                                                                ).map(row =>\r\n                                                                    <option key={row.id} value={row.id}>\r\n                                                                        {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                    </option>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        </select> :\r\n                                                        <React.Fragment>\r\n                                                            <select className={\"zi-10 \" + this.inputFieldClasses(errors.ownerId)}\r\n                                                            name=\"ownerId\" value={record.ownerId} onChange={this.onChangeRecord}\r\n                                                            noValidate>\r\n                                                                <option value=''>Choose one</option>\r\n                                                                {\r\n                                                                    this.props.records.length > 0 ?\r\n                                                                    this.props.records.filter(row =>\r\n                                                                        (row.lastName + \", \" + row.firstName + \" \" + row.middleName)\r\n                                                                        .toLowerCase().match(searchValue.toLowerCase()) ||\r\n                                                                        searchValue === ''\r\n                                                                    ).map(row =>\r\n                                                                        <option key={row.id} value={row.id}>\r\n                                                                            {row.id + \" | \" + row.lastName + \", \" + row.firstName + \" \" + row.middleName}\r\n                                                                        </option>\r\n                                                                    ) : null\r\n                                                                }\r\n                                                            </select>\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                                onClick={this.onToggleSearch}>\r\n                                                                    Search\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </React.Fragment>\r\n\r\n                                                    }\r\n                                                </div>\r\n                                                {\r\n                                                    search && !submitted && !deleting && !deleted ?\r\n                                                    <div className=\"input-group\">\r\n                                                        <input className=\"form-control\"\r\n                                                        type=\"text\" name=\"searchValue\"\r\n                                                        value={searchValue} onChange={this.onChangeState}\r\n                                                        placeholder=\"Search by Owner Name\" noValidate />\r\n                                                        <div className=\"input-group-append\">\r\n                                                            <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                            onClick={this.onClearSearch}>\r\n                                                                Clear\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div> : null\r\n                                                } { this.renderRecordErrors(errors.ownerId) }\r\n                                            </React.Fragment> :\r\n                                            this.props.customerConnectionFailed ?\r\n                                            <div className=\"input-group px-0\">\r\n                                                <input className=\"form-control border border-danger zi-10\"\r\n                                                value=\"Database Connection Failed: Please try again later...\"\r\n                                                noValidate disabled /> \r\n                                                <div className=\"input-group-append justify-content-end\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.props.retryCustomersData}>Retry</button>\r\n                                                </div>\r\n                                            </div> :\r\n                                            <input className=\"form-control\"\r\n                                            value=\"Loading Data: Please wait...\"\r\n                                            noValidate disabled />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Pet Class<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <select className=\"form-control\" name=\"petClass\"\r\n                                            value={record.petClass} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.petClass)}\r\n                                            name=\"petClass\" value={record.petClass} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    petClasses.length > 0 ?\r\n                                                    petClasses.map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.petClass) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">PCCI Reg. No.</label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"pcciRegNo\"\r\n                                            value={record.pcciRegNo} maxLength=\"6\" placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.pcciRegNo)}\r\n                                            type=\"text\" name=\"pcciRegNo\" value={record.pcciRegNo}\r\n                                            onChange={this.onChangeRecord} maxLength=\"6\"\r\n                                            placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.pcciRegNo) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    defaultButtons = () => {\r\n        return(\r\n            !this.state.submitted && this.props.customerConnected &&\r\n            !this.state.deleting && !this.state.deleted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                {\r\n                    this.props.connected ?\r\n                    <button className=\"btn btn-danger w-auto mr-1\"\r\n                    onClick={this.onReset}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button> :\r\n                    <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                }\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n            <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n\r\n        this.props.onSubmitForm();\r\n        this.deletion();\r\n        \r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deletePet.php', record)\r\n        .then(this.postDelete)\r\n        .catch(error => {\r\n            console.log(error);\r\n            onRefresh();\r\n            this.failedDelete();\r\n        });\r\n    }\r\n\r\n    deletion = () => {\r\n        const deleteState = false;\r\n        const deleting = true;\r\n        this.setState({ deleteState, deleting });\r\n    }\r\n\r\n    postDelete = () => {\r\n        const deleting = false;\r\n        const deleted = true;\r\n        this.setState({ deleting, deleted }, () => {\r\n            setTimeout(() => {\r\n                document.getElementById(\"btnClose-\" + this.props.pet.id).click();\r\n                this.props.onRefresh();\r\n            }, 5000);\r\n        });\r\n    }\r\n\r\n    failedDelete = () => {\r\n        const deleting = false;\r\n        let failed = true;\r\n        this.setState({ deleting, failed }, () => {\r\n            setTimeout(() => {\r\n                failed = false;\r\n                this.setState({ failed });\r\n            }, 5000)\r\n        });\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n    \r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewPetModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination.js';\r\nimport AddPetModal from './AddPetModal.js';\r\nimport ViewPetModal from './ViewPetModal.js';\r\n\r\nclass PetsTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (pets) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        let items = [];\r\n        const recordStopIndex = pets.length <= recordStartIndex + recordsPerPage ?\r\n        pets.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={pets[i].id} className=\"table-row\">\r\n                    <td>{pets[i].ownerLastName + \", \" + pets[i].ownerFirstName + \" \" + pets[i].ownerMiddleName}</td>\r\n                    <td>{pets[i].petName}</td>\r\n                    <td className=\"d-none d-lg-table-cell\">{this.formatDate(pets[i].birthdate)}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{pets[i].petClass}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">\r\n                        {\r\n                            pets[i].lastVisit === null ?\r\n                            \"Not visiting yet\" :\r\n                            this.formatDate(pets[i].lastVisit)\r\n                        }\r\n                    </td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                        data-toggle=\"modal\" data-target={\"#viewPetModal-\" + pets[i].id}>\r\n                            <i className=\"fa fa-eye\"></i>\r\n                            <span className=\"d-none d-sm-inline ml-1\">View</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n\r\n    render() {\r\n        const { pets, onRefresh, onSearch, searchValue, onClear, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                        data-toggle=\"modal\" data-target=\"#addPetModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue}></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Owner Name</th>\r\n                            <th>Pet Name</th>\r\n                            <th className=\"d-none d-lg-table-cell\">Birthdate</th>\r\n                            <th className=\"d-none d-md-table-cell\">Pet Class</th>\r\n                            <th className=\"d-none d-sm-table-cell\">Last Visit</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            pets.length > 0 && connected ?\r\n                            this.renderItems(pets) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    pets.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={pets.length} /> : null\r\n                }\r\n                <AddPetModal onRefresh={onRefresh} onSubmitForm={onSubmitForm} records={this.props.customers} retryCustomersData={this.props.retryCustomersData}\r\n                connected={this.props.customerConnected} connectionFailed={this.props.customerConnectionFailed} />\r\n                { pets.map(pet => <ViewPetModal key={pet.id} pet={pet} onRefresh={onRefresh} connected={connected}\r\n                onSubmitForm={onSubmitForm} records={this.props.customers} retryCustomersData={this.props.retryCustomersData}\r\n                customerConnected={this.props.customerConnected} customerConnectionFailed={this.props.customerConnectionFailed} /> ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    formatDate = dateValue => {        \r\n        const MMM = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        dateValue = new Date(dateValue);\r\n        const day = dateValue.getDate();\r\n        const month = MMM[dateValue.getMonth()];\r\n        const year = dateValue.getFullYear();\r\n\r\n        return year + \"-\" + month + \"-\" + day;\r\n    }\r\n}\r\n\r\nexport default PetsTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport PetsTable from './PetsTable.js';\r\nimport Footer from '../../Footer.js';\r\nimport Forbidden from '../Forbidden.js';\r\n\r\nclass ManagePets extends Component {\r\n    state = {\r\n        pets: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\",\r\n        customers: [],\r\n        customerConnected: false,\r\n        customerConnectionFailed: false\r\n    }\r\n\r\n    componentDidMount() {        \r\n        this.getData();\r\n        this.getCustomersData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar  sourceId={3} activeId={6} history={history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Pets</h3>\r\n                            <PetsTable pets={this.state.pets}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} onSubmitForm={this.onSubmitForm}\r\n                            customers={this.state.customers} retryCustomersData={this.retryCustomersData}\r\n                            customerConnected={this.state.customerConnected} customerConnectionFailed={this.state.customerConnectionFailed} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.pets.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : <Forbidden history={history} /> }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewPets.php')\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchPet.php?search='+searchValue)\r\n        .then(res => {\r\n            const pets = res.data;\r\n            const connected = true;\r\n            this.setState({ pets, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    retryCustomersData = () => {\r\n        this.getCustomersData();\r\n        const customerConnected = false;\r\n        const customerConnectionFailed = false;\r\n        this.setState({ customerConnected, customerConnectionFailed })\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewCustomers.php')\r\n        .then(res => {\r\n            const customers = res.data;\r\n            const customerConnected = true;\r\n            this.setState({ customers, customerConnected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const customerConnectionFailed = true;\r\n            this.setState({ customerConnectionFailed });\r\n        });\r\n    }\r\n}\r\n \r\nexport default ManagePets;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass AddEmployeeModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            empType: '',\r\n            empPassword: ''\r\n        },\r\n        confirmEmpPassword: '',\r\n        errors:\r\n        {\r\n            empLastName: ' ',\r\n            empFirstName: ' ',\r\n            empMiddleName: '',\r\n            empType: ' ',\r\n            empPassword: ' ',\r\n            confirmEmpPassword: ' ',\r\n        },\r\n        empTypes: ['Admin', 'Groomer', 'Veterinarian' ],\r\n        submitError: false,\r\n        submitted: false,\r\n        added: false,\r\n        failed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onGenerateId();\r\n    }\r\n\r\n    onGenerateId = () => {\r\n        const record = {...this.state.record};\r\n        const id = this.generateCharacters(6);\r\n        record.id = id;\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"empLastName\") {\r\n            value = this.toProperCase(value);\r\n        }\r\n\r\n        if(name === \"empFirstName\" || name === \"empMiddleName\") {\r\n            value = this.toAbsProperCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmEmpPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'empLastName':\r\n                errors.empLastName= properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empFirstName':\r\n                errors.empFirstName=    properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 24 ?\r\n                                        \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empMiddleName':\r\n                errors.empMiddleName=   value.length > 24 ?\r\n                                        \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empType':\r\n                errors.empType= properLength === 0 ?\r\n                                \" \" : \"\"\r\n                break;\r\n\r\n            case 'empPassword':\r\n                errors.empPassword=         properLength === 0 ? \" \" :\r\n                                            properLength < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmEmpPassword=  value === confirmEmpPassword ? \r\n                                            confirmEmpPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmEmpPassword':\r\n                errors.confirmEmpPassword=  properLength === 0 ? \" \" :\r\n                                            value === record.empPassword ?\r\n                                            properLength < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.empLastName = this.removeLastSpace(record.empLastName);\r\n            record.empFirstName = this.removeLastSpace(record.empFirstName);\r\n            record.empMiddleName = this.removeLastSpace(record.empMiddleName);\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/insertEmployee.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.onReset();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n    \r\n    postSubmit = () => {\r\n        const submitted = false;\r\n        let added = true;\r\n        this.setState({ submitted, added });\r\n        setTimeout(() => {\r\n            added = false;\r\n            this.setState({ added });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(value.length > 0) {\r\n                    errorItems.push (\r\n                        <div key={errorItems.length}\r\n                            className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                            <span>{value}</span>\r\n                        </div>\r\n                    )\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const confirmEmpPassword = '';\r\n        const submitError = false;\r\n        const submitted = false;\r\n        const added = false;\r\n        const failed = false;\r\n\r\n        record.id = this.generateCharacters(6);\r\n        record.empLastName = '';\r\n        record.empFirstName = '';\r\n        record.empMiddleName = ''\r\n        record.empType = '';\r\n        record.empPassword = '';\r\n\r\n        errors.empLastName = ' ';\r\n        errors.empFirstName = ' ';\r\n        errors.empMiddleName = ''\r\n        errors.empType = ' ';\r\n        errors.empPassword = ' ';\r\n        errors.confirmEmpPassword = ' ';\r\n\r\n        this.setState({ record, confirmEmpPassword, errors, submitError, submitted, added, failed });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmEmpPassword, empTypes, submitted, added, failed } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id=\"addEmployeeModal\"\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby=\"addEmployeeModalTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"addEmployeeModalTitle\">Add Employee</h5>\r\n                                <button className=\"btn btn-light text-danger p-1\" data-dismiss=\"modal\"\r\n                                onClick={this.onReset}>\r\n                                    <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Adding a record...</span>\r\n                                    </div> :\r\n                                    added ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully added.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <div className=\"input-group\">\r\n                                            <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                            {\r\n                                                !submitted ?\r\n                                                <div className=\"input-group-append\">\r\n                                                    <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                    onClick={this.onGenerateId}>Generate</button>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empLastName\"\r\n                                            value={record.empLastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empLastName)}\r\n                                            type=\"text\" name=\"empLastName\" value={record.empLastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empLastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empFirstName\"\r\n                                            value={record.empFirstName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empFirstName)}\r\n                                            type=\"text\" name=\"empFirstName\" value={record.empFirstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empFirstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empMiddleName\"\r\n                                            value={record.empMiddleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empMiddleName)}\r\n                                            type=\"text\" name=\"empMiddleName\" value={record.empMiddleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empMiddleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <select className=\"form-control\" name=\"empType\"\r\n                                            value={record.empType} onChange={this.onChangeRecord} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    empTypes.length > 0 ?\r\n                                                    empTypes.filter( value =>\r\n                                                        (value !== \"Admin\" && this.props.empType === \"Admin\") ||\r\n                                                        this.props.empType === \"Master Admin\"\r\n                                                    ).map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.empType)}\r\n                                            name=\"empType\" value={record.empType} onChange={this.onChangeRecord} noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    empTypes.length > 0 ?\r\n                                                    empTypes.filter( value =>\r\n                                                        (value !== \"Admin\" && this.props.empType === \"Admin\") ||\r\n                                                        this.props.empType === \"Master Admin\"\r\n                                                    ).map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\"></div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"empPassword\"\r\n                                            value={record.empPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empPassword)}\r\n                                            type=\"password\" name=\"empPassword\" value={record.empPassword}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmEmpPassword\"\r\n                                            value={confirmEmpPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmEmpPassword)}\r\n                                            type=\"password\" name=\"confirmEmpPassword\" value={confirmEmpPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmEmpPassword) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    <button className=\"btn btn-primary w-auto mr-1\"\r\n                                    onClick={this.onSubmit}>\r\n                                        <i className=\"fa fa-sign-in-alt\"></i>\r\n                                        <span className=\"ml-1\">Submit</span>\r\n                                    </button>\r\n                                    <button className=\"btn btn-danger w-auto\"\r\n                                    onClick={this.onReset}>\r\n                                        <i className=\"fa fa-eraser\"></i>\r\n                                        <span className=\"ml-1\">Reset</span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    generateCharacters = length => {\r\n        var result           = '';\r\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n        var charactersLength = characters.length;\r\n        for ( var i = 0; i < length; i++ ) {\r\n           result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default AddEmployeeModal;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nclass ViewEmployeeModal extends Component {\r\n    state = {\r\n        record:\r\n        {\r\n            id: '',\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            empType: '',\r\n            empPassword: ''\r\n        },\r\n        confirmEmpPassword: '',\r\n        errors:\r\n        {\r\n            empLastName: '',\r\n            empFirstName: '',\r\n            empMiddleName: '',\r\n            empType: '',\r\n            empPassword: '',\r\n            confirmEmpPassword: ' ',\r\n        },\r\n        empTypes: ['Admin', 'Groomer', 'Veterinarian' ],\r\n        passwordState:\r\n        {\r\n            inputType: 'password',\r\n            buttonText: 'Show'\r\n        },\r\n        deleteState: false,\r\n        submitError: false,\r\n        submitted: false,\r\n        updated: false,\r\n        failed: false,\r\n        deleting: false,\r\n        deleted: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { employee } = this.props;\r\n        const record = {...this.state.record};\r\n\r\n        record.id = employee.id;        \r\n        record.empLastName = employee.empLastName;\r\n        record.empFirstName = employee.empFirstName;\r\n        record.empMiddleName = employee.empMiddleName;\r\n        record.empType = employee.empType;\r\n        record.empPassword = employee.empPassword;\r\n\r\n        this.setState({ record });\r\n    }\r\n\r\n    onChangeState = e => {\r\n        const { name, value } = e.target;\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            [name]: value\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onChangeRecord = e => {\r\n        let { name, value } = e.target;\r\n\r\n        if(name === \"empLastName\") {\r\n            value = this.toProperCase(value);\r\n        }\r\n\r\n        if(name === \"empFirstName\" || name === \"empMiddleName\") {\r\n            value = this.toAbsProperCase(value);\r\n        }\r\n\r\n        this.setState(currentState => ({\r\n            ...currentState,\r\n            record: {\r\n                ...currentState.record,\r\n                [name]: value\r\n            }\r\n        }), () => this.onCheckRecordErrors(e))\r\n    }\r\n\r\n    onCheckRecordErrors = e => {\r\n        const { name, value } = e.target;\r\n        const errors = {...this.state.errors};\r\n        const record = {...this.state.record};\r\n        const { confirmEmpPassword } = this.state;\r\n        const properLength = this.removeSpaces(value).length;\r\n\r\n        switch(name){\r\n            case 'empLastName':\r\n                errors.empLastName= properLength === 0 ? \" \" :\r\n                                    properLength < 2 || value.length > 24 ?\r\n                                    \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empFirstName':\r\n                errors.empFirstName=    properLength === 0 ? \" \" :\r\n                                        properLength < 2 || value.length > 24 ?\r\n                                        \"Must be at between 2 and 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empMiddleName':\r\n                errors.empMiddleName=   value.length > 24 ?\r\n                                        \"Must be at maximum of 24 characters\" : \"\"\r\n                break;\r\n\r\n            case 'empType':\r\n                errors.empType= properLength === 0 ?\r\n                                \" \" : \"\"\r\n                break;\r\n\r\n            case 'empPassword':\r\n                errors.empPassword=         properLength === 0 ? \" \" :\r\n                                            properLength < 12 || value.length > 24 ? \r\n                                            \"Password must be at between 12 and 24 characters\" : \"\"\r\n                errors.confirmEmpPassword=  value === confirmEmpPassword ? \r\n                                            confirmEmpPassword.length < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            case 'confirmEmpPassword':\r\n                errors.confirmEmpPassword=  properLength === 0 ? \" \" :\r\n                                            value === record.empPassword ?\r\n                                            properLength < 12 ? \" \" : \"\" : \"Passwords do not match\"\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const errors  = {...this.state.errors};\r\n\r\n        if(this.validForm({ errors })) {\r\n            const { onRefresh } = this.props;\r\n            const record = {...this.state.record};\r\n\r\n            record.empLastName = this.removeLastSpace(record.empLastName);\r\n            record.empFirstName = this.removeLastSpace(record.empFirstName);\r\n            record.empMiddleName = this.removeLastSpace(record.empMiddleName);\r\n\r\n            if(this.state.passwordState.inputType === \"text\") {\r\n                this.onTogglePassword()\r\n            }\r\n\r\n            this.props.onSubmitForm();\r\n            this.submission();\r\n\r\n            axios.post('http://localhost/reactPhpCrud/veterinaryClinic/updateEmployee.php', record)\r\n            .then(() => {\r\n                onRefresh();\r\n                this.postSubmit();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                onRefresh();\r\n                this.failedSubmit();\r\n            });\r\n        }\r\n        else {\r\n            const submitError = true;\r\n            this.setState({ submitError });\r\n        }\r\n    }\r\n    \r\n    submission = () => {\r\n        const submitted = true;\r\n        const submitError = false;\r\n        this.setState({ submitted, submitError });\r\n    }\r\n\r\n    postSubmit = () => {\r\n        const confirmEmpPassword = '';\r\n        const errors = {...this.state.errors};\r\n        errors.confirmEmpPassword = ' '\r\n        const submitted = false;\r\n        let updated = true;\r\n        this.setState({ errors, confirmEmpPassword, submitted, updated });\r\n        setTimeout(() => {\r\n            updated = false;\r\n            this.setState({ updated });\r\n        }, 5000)\r\n    }\r\n\r\n    failedSubmit = () => {\r\n        const submitted = false;\r\n        let failed = true;\r\n        this.setState({ submitted, failed });\r\n        setTimeout(() => {\r\n            failed = false;\r\n            this.setState({ failed });\r\n        }, 5000)\r\n    }\r\n\r\n    validForm = ({ errors }) => {\r\n        let valid = true;\r\n      \r\n        Object.values(errors).forEach(value => {\r\n            value.length > 0 && (valid = false);\r\n        });\r\n      \r\n        return valid;\r\n    }\r\n\r\n    renderErrors = errors => {\r\n        if(this.state.submitError) {\r\n            let errorItems = [];\r\n\r\n            Object.values(errors).forEach(value => {\r\n                if(value.length > 0) {\r\n                    errorItems.push (\r\n                        <div key={errorItems.length}\r\n                            className=\"alert alert-danger d-flex align-items-center my-1 py-0\">\r\n                            <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                            <span>{value}</span>\r\n                        </div>\r\n                    )\r\n                }\r\n            })\r\n\r\n            return errorItems.length > 1 ?\r\n            <div className=\"mb-3 mx-3\">\r\n                {[errorItems]} \r\n            </div>\r\n            : null\r\n        }\r\n    }\r\n\r\n    renderRecordErrors = errorMsg => {\r\n        if(this.state.submitError) {\r\n            if(errorMsg.length > 0 && errorMsg !== ' ') {\r\n                return(\r\n                    <small className=\"text-danger ml-2\">\r\n                        <i className=\"fa fa-exclamation text-danger mr-1\"></i>\r\n                        {errorMsg}\r\n                    </small>\r\n                )\r\n            }   \r\n        }\r\n    }\r\n\r\n    onReset = () => {\r\n        const record = {...this.state.record};\r\n        const errors = {...this.state.errors};\r\n\r\n        const { employee } = this.props;\r\n\r\n        const confirmEmpPassword = '';\r\n        const deleteState = false;\r\n        const submitError = false;\r\n        const updated = false;\r\n        const failed = false;\r\n\r\n        const { passwordState } = this.state;\r\n\r\n        passwordState.buttonText = \"Show\";\r\n        passwordState.inputType = \"password\";\r\n        \r\n        record.empLastName = employee.empLastName;\r\n        record.empFirstName = employee.empFirstName;\r\n        record.empMiddleName = employee.empMiddleName;\r\n        record.empType = employee.empType;\r\n        record.empPassword = employee.empPassword;\r\n\r\n        errors.empLastName = '';\r\n        errors.empFirstName = '';\r\n        errors.empMiddleName = ''\r\n        errors.empType = '';\r\n        errors.empPassword = '';\r\n        errors.confirmEmpPassword = ' ';\r\n\r\n        this.setState({ record, confirmEmpPassword, errors, passwordState, deleteState, submitError, updated, failed });\r\n    }\r\n\r\n    onTogglePassword = () => {\r\n        const passwordState = {...this.state.passwordState};\r\n        if(passwordState.inputType === 'password') {\r\n            passwordState.inputType = 'text';\r\n            passwordState.buttonText = 'Hide';\r\n        }\r\n        else {\r\n            passwordState.inputType = 'password';\r\n            passwordState.buttonText = 'Show';\r\n        }\r\n        this.setState({ passwordState });\r\n    }\r\n\r\n    render() {\r\n        const { record, errors, confirmEmpPassword, empTypes, passwordState, deleteState, submitted, updated, failed, deleting, deleted } = this.state;\r\n        const { employee, empType } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal fade\" id={\"viewEmployeeModal-\" + employee.id}\r\n                    tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"static\"\r\n                    aria-labelledby={\"viewEmployeeModalTitle-\" + employee.id} aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id={\"viewEmployeeModalTitle-\" + employee.id}>View Employee</h5>\r\n                                {\r\n                                    (!submitted && this.props.connected) || deleted ?\r\n                                    <button id={\"btnClose-\" + employee.id} className=\"btn btn-light text-danger p-1\"\r\n                                    data-dismiss=\"modal\" onClick={this.onReset}>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button> :\r\n                                    <button className=\"btn btn-light text-danger p-1\" disabled>\r\n                                        <i className=\"fa fa-window-close fa-lg\"></i>\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {/* { this.renderErrors(errors) } */}\r\n                                {\r\n                                    submitted ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-pen text-primary mr-2\"></i>\r\n                                        <span>Updating a record...</span>\r\n                                    </div> :\r\n                                    updated ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully updated.</span>\r\n                                    </div> :\r\n                                    failed ?\r\n                                    <div className=\"alert alert-danger d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-exclamation text-danger mr-2\"></i>\r\n                                        <span>Database Connection Failed.</span>\r\n                                    </div> :\r\n                                    deleting ?\r\n                                    <div className=\"alert alert-primary d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-trash text-primary mr-2\"></i>\r\n                                        <span>Deleting a record...</span>\r\n                                    </div> :\r\n                                    deleted ? \r\n                                    <div className=\"alert alert-success d-flex align-items-center mb-3\">\r\n                                        <i className=\"fa fa-check text-success mr-2\"></i>\r\n                                        <span>Record was successfully deleted.</span>\r\n                                    </div> : null\r\n                                }\r\n                                <form className=\"row form-light mx-2 p-4\" noValidate>\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Id</label>\r\n                                        <input className=\"form-control zi-10\" type=\"text\"\r\n                                            name=\"id\" value={record.id} noValidate disabled />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Last Name\r\n                                            <span className=\"text-danger ml-1\">\r\n                                                *<span className=\"small ml-1\">Required</span>\r\n                                            </span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empLastName\"\r\n                                            value={record.empLastName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empLastName)}\r\n                                            type=\"text\" name=\"empLastName\" value={record.empLastName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empLastName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            First Name<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empFirstName\"\r\n                                            value={record.empFirstName} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empFirstName)}\r\n                                            type=\"text\" name=\"empFirstName\" value={record.empFirstName}\r\n                                            onChange={this.onChangeRecord} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empFirstName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">Middle Name</label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"text\" name=\"empMiddleName\"\r\n                                            value={record.empMiddleName} placeholder=\"(Optional)\" noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.empMiddleName)}\r\n                                            type=\"text\" name=\"empMiddleName\" value={record.empMiddleName}\r\n                                            onChange={this.onChangeRecord} placeholder=\"(Optional)\" noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empMiddleName) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Employee Type<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            record.empType === empType ?\r\n                                            <input className={this.inputFieldClasses(errors.empType)}\r\n                                            name=\"empType\" value={record.empType} onChange={this.onChangeRecord}\r\n                                            noValidate disabled /> :\r\n                                            submitted || deleting || deleted ?\r\n                                            <select className=\"form-control\" name=\"empType\"\r\n                                            value={record.empType} noValidate disabled>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    empTypes.length > 0 ?\r\n                                                    empTypes.filter(value =>\r\n                                                        (value !== \"Admin\" && empType === \"Admin\") || empType === \"Master Admin\"\r\n                                                    ).map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select> :\r\n                                            <select className={this.inputFieldClasses(errors.empType)}\r\n                                            name=\"empType\" value={record.empType} onChange={this.onChangeRecord}\r\n                                            noValidate>\r\n                                                <option value=''>Choose one</option>\r\n                                                {\r\n                                                    empTypes.length > 0 ?\r\n                                                    empTypes.filter(value =>\r\n                                                        (value !== \"Admin\" && empType === \"Admin\") || empType === \"Master Admin\"\r\n                                                    ).map(value =>\r\n                                                        <option key={value} value={value}>{value}</option>\r\n                                                    ) : null\r\n                                                }\r\n                                            </select>\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.empType) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\"></div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        <div className=\"input-group\">\r\n                                            {\r\n                                                submitted || deleting || deleted ?\r\n                                                <input className=\"form-control\" type={passwordState.inputType} name=\"empPassword\"\r\n                                                value={record.empPassword} noValidate disabled /> :\r\n                                                <React.Fragment>\r\n                                                    <input className={\"zi-10 \" + this.inputFieldClasses(errors.empPassword)}\r\n                                                        type={passwordState.inputType} name=\"empPassword\" value={record.empPassword}\r\n                                                        onChange={this.onChangeRecord} noValidate />\r\n                                                    <div className=\"input-group-append\">\r\n                                                        <button type=\"button\" className=\"btn btn-light input-group-text\"\r\n                                                        onClick={this.onTogglePassword}>\r\n                                                            {passwordState.buttonText}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </React.Fragment>\r\n\r\n                                            }\r\n                                        </div>\r\n                                        { this.renderRecordErrors(errors.empPassword) }\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group col-lg-6\">\r\n                                        <label className=\"m-0 ml-2\">\r\n                                            Confirm Password<span className=\"text-danger ml-1\">*</span>\r\n                                        </label>\r\n                                        {\r\n                                            submitted || deleting || deleted ?\r\n                                            <input className=\"form-control\" type=\"password\" name=\"confirmEmpPassword\"\r\n                                            value={confirmEmpPassword} noValidate disabled /> :\r\n                                            <input className={this.inputFieldClasses(errors.confirmEmpPassword)}\r\n                                            type=\"password\" name=\"confirmEmpPassword\" value={confirmEmpPassword}\r\n                                            onChange={this.onChangeState} noValidate />\r\n                                        }\r\n                                        { this.renderRecordErrors(errors.confirmEmpPassword) }\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n\r\n                            <div className=\"modal-footer\">\r\n                                <div className=\"d-flex justify-content-end w-100\">\r\n                                    { deleteState ?  this.deleteButtons() : this.defaultButtons() }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n    \r\n    defaultButtons = () => {\r\n        return(\r\n            !this.state.submitted && !this.state.deleting && !this.state.deleted ?\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\"\r\n                onClick={this.onSubmit}>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                {\r\n                    this.props.connected ?\r\n                    <button className=\"btn btn-danger w-auto mr-1\"\r\n                    onClick={this.onReset}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button> :\r\n                    <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1\">Reset</span>\r\n                    </button>\r\n                }\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n                <button className=\"btn btn-primary w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-pen fa-sm\"></i>\r\n                    <span className=\"ml-1\">Update</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-eraser\"></i>\r\n                    <span className=\"ml-1\">Reset</span>\r\n                </button>\r\n                <button className=\"btn btn-danger w-auto mr-1\" disabled>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onToggleDelete = () => {\r\n        const deleteState = !this.state.deleteState;\r\n        this.setState({ deleteState });\r\n    }\r\n\r\n    deleteButtons = () => {\r\n        return(\r\n            <React.Fragment>\r\n                <button className=\"btn btn-danger w-auto mr-1\"\r\n                onClick={this.onDelete}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                    <span className=\"ml-1\">Confirm Delete</span>\r\n                </button>\r\n                <button className=\"btn btn-success w-auto mr-1\"\r\n                onClick={this.onToggleDelete}>\r\n                    <i className=\"fa fa-arrow-left\"></i>\r\n                    <span className=\"ml-1\">Cancel Delete</span>\r\n                </button>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    onDelete = () => {\r\n        const { record } = this.state;\r\n        const { onRefresh } = this.props;\r\n        \r\n        this.props.onSubmitForm();\r\n        this.deletion();\r\n\r\n        axios.post('http://localhost/reactPhpCrud/veterinaryClinic/deleteEmployee.php', record)\r\n        .then(this.postDelete)\r\n        .catch(error => {\r\n            console.log(error);\r\n            onRefresh();\r\n            this.failedDelete();\r\n        });\r\n    }\r\n\r\n    deletion = () => {\r\n        const deleteState = false;\r\n        const deleting = true;\r\n        this.setState({ deleteState, deleting });\r\n    }\r\n\r\n    postDelete = () => {\r\n        const deleting = false;\r\n        const deleted = true;\r\n        this.setState({ deleting, deleted }, () => {\r\n            setTimeout(() => {\r\n                document.getElementById(\"btnClose-\" + this.props.employee.id).click();\r\n                this.props.onRefresh();\r\n            }, 5000);\r\n        });\r\n    }\r\n\r\n    failedDelete = () => {\r\n        const deleting = false;\r\n        let failed = true;\r\n        this.setState({ deleting, failed }, () => {\r\n            setTimeout(() => {\r\n                failed = false;\r\n                this.setState({ failed });\r\n            }, 5000)\r\n        });\r\n    }\r\n\r\n    inputFieldClasses = errorMsg => {\r\n        let classes = \"form-control \";\r\n        classes+= errorMsg.length > 0 ? \r\n        this.state.submitError ? \"border border-danger\" : \"\" : \"border border-success\"\r\n        return classes;\r\n    }\r\n\r\n    toProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i);\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    toAbsProperCase = value => {\r\n        let propervalue = \"\"\r\n        let isCapital = false;\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) === \" \") {\r\n                if(i !== 0 && value.charAt(i-1) !== \" \") {\r\n                    propervalue += value.charAt(i);\r\n                }\r\n                isCapital = true;\r\n            }\r\n            else {\r\n                if(i === 0 || isCapital === true) {\r\n                    propervalue += value.charAt(i).toUpperCase();\r\n                    isCapital = false;\r\n                }\r\n                else {\r\n                    propervalue += value.charAt(i).toLowerCase();\r\n                }           \r\n            }\r\n        }\r\n        return propervalue;\r\n    }\r\n\r\n    removeLastSpace = value => {\r\n        let result = value;\r\n        if(value.charAt(value.length-1) === ' ') {\r\n            result = value.substring(0, value.length-1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    removeSpaces = value => {\r\n        let result = \"\";\r\n        for(var i = 0; i < value.length; i++) {\r\n            if(value.charAt(i) !== \" \") {\r\n                result += value.charAt(i);         \r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n \r\nexport default ViewEmployeeModal;","import React, { Component } from 'react';\r\n\r\nimport TablePagination from '../../TablePagination';\r\nimport AddEmployeeModal from './AddEmployeeModal';\r\nimport ViewEmployeeModal from './ViewEmployeeModal';\r\n\r\nclass EmployeesTable extends Component {\r\n    state = {\r\n        recordsPerPage: 10,\r\n        recordStartIndex: 0,\r\n        activePage: 1\r\n    }\r\n\r\n    renderItems = (employees) => {\r\n        const { recordsPerPage, recordStartIndex } = this.state;\r\n        const { empType, id } = this.props;\r\n        let items = [];\r\n        const recordStopIndex = employees.length <= recordStartIndex + recordsPerPage ?\r\n        employees.length : recordStartIndex + recordsPerPage\r\n\r\n        for(var i = this.state.recordStartIndex; i < recordStopIndex; i++){\r\n            items.push(\r\n                <tr key={employees[i].id} className=\"table-row\">\r\n                    <td>{employees[i].empLastName + \", \" + employees[i].empFirstName + \" \" + employees[i].empMiddleName}</td>\r\n                    <td className=\"d-none d-sm-table-cell\">{employees[i].empType}</td>\r\n                    <td>\r\n                        {\r\n                            empType === 'Admin' && (employees[i].empType === 'Master Admin' ||\r\n                            (employees[i].empType === 'Admin' && employees[i].id !== id)) ?\r\n                            <button className=\"btn btn-outline-secondary btn-sm mr-1\" disabled>\r\n                                <i className=\"fa fa-eye\"></i>\r\n                                <span className=\"ml-1\">View</span>\r\n                            </button> :\r\n                            <button className=\"btn btn-outline-primary btn-sm mr-1\"\r\n                            data-toggle=\"modal\" data-target={\"#viewEmployeeModal-\" + employees[i].id}>\r\n                                <i className=\"fa fa-eye\"></i>\r\n                                <span className=\"ml-1\">View</span>\r\n                            </button>\r\n                        }\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n        return([ items ]);\r\n    }\r\n\r\n    setPage = (recordStartIndex, activePage) => {\r\n        this.setState({ recordStartIndex, activePage });\r\n    }\r\n    \r\n    render() {\r\n        const { employees, onRefresh, onSearch, searchValue, onClear, empType, connected, onSubmitForm } = this.props;\r\n        const { recordsPerPage, recordStartIndex, activePage } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"d-flex mb-2\">\r\n                    <button className=\"btn btn-outline-primary mr-auto\"\r\n                    data-toggle=\"modal\" data-target=\"#addEmployeeModal\">\r\n                        <i className=\"fa fa-plus\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">New</span>\r\n                    </button>\r\n                    <button className=\"btn btn-warning mr-2\" onClick={onRefresh}>\r\n                        <i className=\"fa fa-sync\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Refresh</span>\r\n                    </button>\r\n                    <input type=\"text\" className=\"form-control w-25 min-w-175px\"\r\n                    placeholder=\"Search\" onChange={onSearch} value={searchValue} ></input>\r\n                    <button className=\"btn btn-danger ml-2\" onClick={onClear}>\r\n                        <i className=\"fa fa-eraser\"></i>\r\n                        <span className=\"ml-1 d-sm-inline d-none\">Clear</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <table className=\"table table-bordered\">\r\n                    <thead className=\"thead-dark text-light\">\r\n                        <tr>\r\n                            <th>Employee Name</th>\r\n                            <th className=\"d-none d-sm-table-cell\">Employee Type</th>\r\n                            <th className=\"w-100px\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            employees.length > 0 && connected ?\r\n                            this.renderItems(employees) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                {\r\n                    employees.length > 0 && connected ?\r\n                    <TablePagination\r\n                    setPage={this.setPage}\r\n                    recordsPerPage={recordsPerPage}\r\n                    recordStartIndex={recordStartIndex}\r\n                    activePage={activePage}\r\n                    totalRecords={employees.length} /> : null\r\n                }\r\n                <AddEmployeeModal onRefresh={onRefresh} empType={empType} onSubmitForm={onSubmitForm} />\r\n                { employees.map(employee => <ViewEmployeeModal key={employee.id} employee={employee}\r\n                onRefresh={onRefresh} empType={empType} connected={connected} onSubmitForm={onSubmitForm} /> ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n \r\nexport default EmployeesTable;","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\n\r\nimport AdminNavbar from \"../AdminNavbar.js\"\r\nimport EmployeesTable from './EmployeesTable.js';\r\nimport Footer from '../../Footer.js';\r\n\r\nclass ManageEmployees extends Component {\r\n    state = {\r\n        employees: [],\r\n        connected: false,\r\n        connectionFailed: false,\r\n        searchValue: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.getData();\r\n        this.onSubmitForm();\r\n    }\r\n\r\n    onSearch = e => {\r\n        const searchValue = e.target.value;\r\n        searchValue.length > 0 ? this.searchData(searchValue) : this.getData()\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onClear = () => {\r\n        const searchValue = '';\r\n        this.getData();\r\n        const connected = false;\r\n        const connectionFailed = false;\r\n        this.setState({ connected, connectionFailed, searchValue })\r\n    }\r\n\r\n    onBackToLogin = () => {\r\n        const { history } = this.props;\r\n        const link = \"/wiggly-tails\";\r\n        history.replace(link, {verified: true});\r\n    }\r\n\r\n    renderForbidden = () => {\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row min-h-full justify-content-center align-items-center\">\r\n                    <div className=\"col-10 col-md-8 col-lg-6 form-light\">\r\n                        <div className=\"alert alert-warning text-warning text-center my-3 mx-1 py-4\">\r\n                            <div className=\"d-flex justify-content-center align-items-center\">\r\n                                <i className=\"fa fa-exclamation fa-lg\"></i>\r\n                                <span className=\"ml-2\">\r\n                                    <h2 className=\"font-weight-normal\">Forbidden Access</h2>\r\n                                </span>\r\n                            </div>\r\n                            <h5 className=\"font-weight-light\">\r\n                                Please login the Master account first.\r\n                            </h5>\r\n                        </div>\r\n                        <div className=\"text-center mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                onClick={this.onBackToLogin}>\r\n                                Back to Login\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderContent = () => {\r\n        const { history } = this.props;\r\n        const { state } = history.location;\r\n        return (\r\n            <React.Fragment>\r\n                <AdminNavbar sourceId={3} activeId={7} history={this.props.history} />\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"min-h-full row bg-light justify-content-center text-dark pt-4\">\r\n                        <div className=\"col-12 mt-5 table-responsive\">\r\n                            <h3>Manage Employees</h3>\r\n                            <EmployeesTable employees={this.state.employees}\r\n                            empType={state.empType} id={state.id}\r\n                            onRefresh={this.onRefresh} onSearch={this.onSearch}\r\n                            searchValue={this.state.searchValue} onClear={this.onClear}\r\n                            connected={this.state.connected} onSubmitForm={this.onSubmitForm} />\r\n                            <div className=\"mt-5\">\r\n                                {\r\n                                    this.state.connected ?\r\n                                    this.state.employees.length === 0 ?\r\n                                    <h1 className=\"display-5 text-center mb-5\">No Record Found</h1> : null :\r\n                                    this.state.connectionFailed ?\r\n                                    <div className=\"text-center\">\r\n                                        <h1 className=\"display-5 text-danger\">Database Connection Failed</h1>\r\n                                        <h3 className=\"font-weight-normal text-danger mb-3\">Please try again later.</h3>\r\n                                        <button type=\"button\" className=\"btn btn-primary btn-lg\"\r\n                                        onClick={this.onRefresh}>Retry</button>\r\n                                    </div> :\r\n                                    <React.Fragment>\r\n                                        <h1 className=\"display-5 text-center\">Loading Records</h1>\r\n                                        <h3 className=\"font-weight-normal text-center\">Please wait...</h3>\r\n                                    </React.Fragment>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { history } = this.props;\r\n        let verified = false;\r\n        try { verified = history.location.state.verified; }\r\n        catch(error) { verified = false; }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { verified ? this.renderContent() : this.renderForbidden() }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getData = () => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/viewEmployees.php')\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const connected = true;\r\n            this.setState({ employees, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n\r\n    searchData = searchValue => {\r\n        axios.get('http://localhost/reactPhpCrud/veterinaryClinic/searchEmployee.php?search='+searchValue)\r\n        .then(res => {\r\n            const employees = res.data;\r\n            const connected = true;\r\n            this.setState({ employees, connected });\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            const connectionFailed = true;\r\n            this.setState({ connectionFailed })\r\n        });\r\n    }\r\n}\r\n\r\nexport default ManageEmployees;","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport React from 'react';\n\nimport './App.css';\n\nimport Index from './components/Index/Index.js';\n\nimport Customer from './components/Customer/Customer.js';\nimport ViewTransactions from './components/Customer/Transactions/ViewTransactions.js';\nimport ViewAdmission from './components/Customer/Admission/ViewAdmission.js';\nimport CustomerManagePets from './components/Customer/Pets/ManagePets.js';\nimport AboutUs from './components/Customer/AboutUs.js';\n\nimport Admin from './components/Admin/Admin.js';\nimport ManageTransactions from './components/Admin/Transactions/ManageTransactions.js';\nimport ManageAdmission from './components/Admin/Admission/ManageAdmission.js';\nimport ManageCustomers from './components/Admin/Customers/ManageCustomers';\nimport ManagePets from './components/Admin/Pets/ManagePets';\nimport ManageEmployees from './components/Admin/Employees/ManageEmployees.js';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/wiggly-tails\" component={Index} />\n\n        <Route exact path=\"/wiggly-tails/customer\" component={Customer} />\n        <Route path=\"/wiggly-tails/customer/view-transactions\" component={ViewTransactions} />\n        <Route path=\"/wiggly-tails/customer/view-admission\" component={ViewAdmission} />\n        <Route path=\"/wiggly-tails/customer/manage-pets\" component={CustomerManagePets} />\n        <Route path=\"/wiggly-tails/customer/about-us\" component={AboutUs} />\n\n        <Route exact path=\"/wiggly-tails/admin\" component={Admin} />\n        <Route path=\"/wiggly-tails/admin/manage-transactions\" component={ManageTransactions} />\n        <Route path=\"/wiggly-tails/admin/manage-admission\" component={ManageAdmission} />\n        <Route path=\"/wiggly-tails/admin/manage-customers\" component={ManageCustomers} />\n        <Route path=\"/wiggly-tails/admin/manage-pets\" component={ManagePets} />\n        <Route path=\"/wiggly-tails/admin/manage-employees\" component={ManageEmployees} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.js';\nimport 'bootstrap-table/dist/bootstrap-table.css';\nimport 'bootstrap-table/dist/bootstrap-table.js'\nimport 'jquery/dist/jquery.js';\nimport 'jquery/dist/jquery.slim.js';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport '@popperjs/core/dist/cjs/popper.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}